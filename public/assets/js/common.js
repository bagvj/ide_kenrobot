/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */

/*! jquery.cookie v1.4.1 | MIT */

/*! jQuery UI - v1.11.4 - 2016-03-04
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

if(require.config({baseUrl:"/assets/js/lib",shim:{bootstrap:{deps:["./jquery"]},"bootstrap-typeahead":{deps:["./jquery","./bootstrap"]},"jquery.cookie":{deps:["./jquery"]},"jquery-ui":{deps:["./jquery"]},"ace/ext-language_tools":{deps:["./ace"]}}}),define("../common",function(){}),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=rt.type(t);return"function"===i||rt.isWindow(t)?!1:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(rt.isFunction(e))return rt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return rt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(gt.test(e))return rt.filter(e,t,i);e=rt.filter(e,t)}return rt.grep(t,function(t){return Z.call(e,t)>-1!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e={};return rt.each(t.match(xt)||[],function(t,i){e[i]=!0}),e}function s(){Y.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),rt.ready()}function a(){this.expando=rt.expando+a.uid++}function h(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Tt,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Et.test(i)?rt.parseJSON(i):i}catch(o){}Ft.set(t,e,i)}else i=void 0;return i}function l(t,e,i,n){var o,r=1,s=20,a=n?function(){return n.cur()}:function(){return rt.css(t,e,"")},h=a(),l=i&&i[3]||(rt.cssNumber[e]?"":"px"),u=(rt.cssNumber[e]||"px"!==l&&+h)&&Dt.exec(rt.css(t,e));if(u&&u[3]!==l){l=l||u[3],i=i||[],u=+h||1;do r=r||".5",u/=r,rt.style(t,e,u+l);while(r!==(r=a()/h)&&1!==r&&--s)}return i&&(u=+u||+h||0,o=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=o)),o}function u(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],i):i}function c(t,e){for(var i=0,n=t.length;n>i;i++)St.set(t[i],"globalEval",!e||St.get(e[i],"globalEval"))}function f(t,e,i,n,o){for(var r,s,a,h,l,f,d=e.createDocumentFragment(),p=[],g=0,m=t.length;m>g;g++)if(r=t[g],r||0===r)if("object"===rt.type(r))rt.merge(p,r.nodeType?[r]:r);else if(Ot.test(r)){for(s=s||d.appendChild(e.createElement("div")),a=(Nt.exec(r)||["",""])[1].toLowerCase(),h=Rt[a]||Rt._default,s.innerHTML=h[1]+rt.htmlPrefilter(r)+h[2],f=h[0];f--;)s=s.lastChild;rt.merge(p,s.childNodes),s=d.firstChild,s.textContent=""}else p.push(e.createTextNode(r));for(d.textContent="",g=0;r=p[g++];)if(n&&rt.inArray(r,n)>-1)o&&o.push(r);else if(l=rt.contains(r.ownerDocument,r),s=u(d.appendChild(r),"script"),l&&c(s),i)for(f=0;r=s[f++];)$t.test(r.type||"")&&i.push(r);return d}function d(){return!0}function p(){return!1}function g(){try{return Y.activeElement}catch(t){}}function m(t,e,i,n,o,r){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)m(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=p;else if(!o)return this;return 1===r&&(s=o,o=function(t){return rt().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=rt.guid++)),t.each(function(){rt.event.add(this,e,o,n,i)})}function v(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function b(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){var i,n,o,r,s,a,h,l;if(1===e.nodeType){if(St.hasData(t)&&(r=St.access(t),s=St.set(e,r),l=r.events)){delete s.handle,s.events={};for(o in l)for(i=0,n=l[o].length;n>i;i++)rt.event.add(e,o,l[o][i])}Ft.hasData(t)&&(a=Ft.access(t),h=rt.extend({},a),Ft.set(e,h))}}function x(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Bt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function C(t,e,i,n){e=X.apply([],e);var o,r,s,a,h,l,c=0,d=t.length,p=d-1,g=e[0],m=rt.isFunction(g);if(m||d>1&&"string"==typeof g&&!nt.checkClone&&qt.test(g))return t.each(function(o){var r=t.eq(o);m&&(e[0]=g.call(this,o,r.html())),C(r,e,i,n)});if(d&&(o=f(e,t[0].ownerDocument,!1,t,n),r=o.firstChild,1===o.childNodes.length&&(o=r),r||n)){for(s=rt.map(u(o,"script"),y),a=s.length;d>c;c++)h=o,c!==p&&(h=rt.clone(h,!0,!0),a&&rt.merge(s,u(h,"script"))),i.call(t[c],h,c);if(a)for(l=s[s.length-1].ownerDocument,rt.map(s,b),c=0;a>c;c++)h=s[c],$t.test(h.type||"")&&!St.access(h,"globalEval")&&rt.contains(l,h)&&(h.src?rt._evalUrl&&rt._evalUrl(h.src):rt.globalEval(h.textContent.replace(Gt,"")))}return t}function k(t,e,i){for(var n,o=e?rt.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||rt.cleanData(u(n)),n.parentNode&&(i&&rt.contains(n.ownerDocument,n)&&c(u(n,"script")),n.parentNode.removeChild(n));return t}function A(t,e){var i=rt(e.createElement(t)).appendTo(e.body),n=rt.css(i[0],"display");return i.detach(),n}function S(t){var e=Y,i=Ut[t];return i||(i=A(t,e),"none"!==i&&i||(Vt=(Vt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),i=A(t,e),Vt.detach()),Ut[t]=i),i}function F(t,e,i){var n,o,r,s,a=t.style;return i=i||Jt(t),i&&(s=i.getPropertyValue(e)||i[e],""!==s||rt.contains(t.ownerDocument,t)||(s=rt.style(t,e)),!nt.pixelMarginRight()&&Yt.test(s)&&Kt.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function E(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t){if(t in ne)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ie.length;i--;)if(t=ie[i]+e,t in ne)return t}function M(t,e,i){var n=Dt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function D(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>r;r+=2)"margin"===i&&(s+=rt.css(t,i+Pt[r],!0,o)),n?("content"===i&&(s-=rt.css(t,"padding"+Pt[r],!0,o)),"margin"!==i&&(s-=rt.css(t,"border"+Pt[r]+"Width",!0,o))):(s+=rt.css(t,"padding"+Pt[r],!0,o),"padding"!==i&&(s+=rt.css(t,"border"+Pt[r]+"Width",!0,o)));return s}function P(e,i,n){var o=!0,r="width"===i?e.offsetWidth:e.offsetHeight,s=Jt(e),a="border-box"===rt.css(e,"boxSizing",!1,s);if(Y.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(r=Math.round(100*e.getBoundingClientRect()[i])),0>=r||null==r){if(r=F(e,i,s),(0>r||null==r)&&(r=e.style[i]),Yt.test(r))return r;o=a&&(nt.boxSizingReliable()||r===e.style[i]),r=parseFloat(r)||0}return r+D(e,i,n||(a?"border":"content"),o,s)+"px"}function L(t,e){for(var i,n,o,r=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(r[s]=St.get(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Lt(n)&&(r[s]=St.access(n,"olddisplay",S(n.nodeName)))):(o=Lt(n),"none"===i&&o||St.set(n,"olddisplay",o?i:rt.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function B(t,e,i,n,o){return new B.prototype.init(t,e,i,n,o)}function N(){return t.setTimeout(function(){oe=void 0}),oe=rt.now()}function $(t,e){var i,n=0,o={height:t};for(e=e?1:0;4>n;n+=2-e)i=Pt[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function R(t,e,i){for(var n,o=(I.tweeners[e]||[]).concat(I.tweeners["*"]),r=0,s=o.length;s>r;r++)if(n=o[r].call(i,e,t))return n}function O(t,e,i){var n,o,r,s,a,h,l,u,c=this,f={},d=t.style,p=t.nodeType&&Lt(t),g=St.get(t,"fxshow");i.queue||(a=rt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,h=a.empty.fire,a.empty.fire=function(){a.unqueued||h()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,rt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],l=rt.css(t,"display"),u="none"===l?St.get(t,"olddisplay")||S(t.nodeName):l,"inline"===u&&"none"===rt.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],se.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;p=!0}f[n]=g&&g[n]||rt.style(t,n)}else l=void 0;if(rt.isEmptyObject(f))"inline"===("none"===l?S(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(p=g.hidden):g=St.access(t,"fxshow",{}),r&&(g.hidden=!p),p?rt(t).show():c.done(function(){rt(t).hide()}),c.done(function(){var e;St.remove(t,"fxshow");for(e in f)rt.style(t,e,f[e])});for(n in f)s=R(p?g[n]:0,n,c),n in g||(g[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function j(t,e){var i,n,o,r,s;for(i in t)if(n=rt.camelCase(i),o=e[n],r=t[i],rt.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),s=rt.cssHooks[n],s&&"expand"in s){r=s.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function I(t,e,i){var n,o,r=0,s=I.prefilters.length,a=rt.Deferred().always(function(){delete h.elem}),h=function(){if(o)return!1;for(var e=oe||N(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,r=1-n,s=0,h=l.tweens.length;h>s;s++)l.tweens[s].run(r);return a.notifyWith(t,[l,r,i]),1>r&&h?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{},easing:rt.easing._default},i),originalProperties:e,originalOptions:i,startTime:oe||N(),duration:i.duration,tweens:[],createTween:function(e,i){var n=rt.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)l.tweens[i].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),u=l.props;for(j(u,l.opts.specialEasing);s>r;r++)if(n=I.prefilters[r].call(l,t,u,l.opts))return rt.isFunction(n.stop)&&(rt._queueHooks(l.elem,l.opts.queue).stop=rt.proxy(n.stop,n)),n;return rt.map(u,R,l),rt.isFunction(l.opts.start)&&l.opts.start.call(t,l),rt.fx.timer(rt.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function _(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(xt)||[];if(rt.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function H(t,e,i,n){function o(a){var h;return r[a]=!0,rt.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||s||r[l]?s?!(h=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),h}var r={},s=t===Se;return o(e.dataTypes[0])||!r["*"]&&o("*")}function q(t,e){var i,n,o=rt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&rt.extend(!0,t,n),t}function W(t,e,i){for(var n,o,r,s,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){h.unshift(o);break}if(h[0]in i)r=h[0];else{for(o in i){if(!h[0]||t.converters[o+" "+h[0]]){r=o;break}s||(s=o)}r=r||s}return r?(r!==h[0]&&h.unshift(r),i[r]):void 0}function G(t,e,i,n){var o,r,s,a,h,l={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=r,r=u.shift())if("*"===r)r=h;else if("*"!==h&&h!==r){if(s=l[h+" "+r]||l["* "+r],!s)for(o in l)if(a=o.split(" "),a[1]===r&&(s=l[h+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[o]:l[o]!==!0&&(r=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(c){return{state:"parsererror",error:s?c:"No conversion from "+h+" to "+r}}}return{state:"success",data:e}}function V(t,e,i,n){var o;if(rt.isArray(e))rt.each(e,function(e,o){i||Me.test(t)?n(t,o):V(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,n)});else if(i||"object"!==rt.type(e))n(t,e);else for(o in e)V(t+"["+o+"]",e[o],i,n)}function U(t){return rt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var K=[],Y=t.document,J=K.slice,X=K.concat,Q=K.push,Z=K.indexOf,tt={},et=tt.toString,it=tt.hasOwnProperty,nt={},ot="2.2.0",rt=function(t,e){return new rt.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ht=/-([\da-z])/gi,lt=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:ot,constructor:rt,selector:"",length:0,toArray:function(){return J.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:J.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return rt.each(this,t)},map:function(t){return this.pushStack(rt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:K.sort,splice:K.splice},rt.extend=rt.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||rt.isFunction(s)||(s={}),a===h&&(s=this,a--);h>a;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(l&&n&&(rt.isPlainObject(n)||(o=rt.isArray(n)))?(o?(o=!1,r=i&&rt.isArray(i)?i:[]):r=i&&rt.isPlainObject(i)?i:{},s[e]=rt.extend(l,r,n)):void 0!==n&&(s[e]=n));return s},rt.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!rt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){return"object"!==rt.type(t)||t.nodeType||rt.isWindow(t)?!1:t.constructor&&!it.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=rt.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(at,"ms-").replace(ht,lt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,o=0;if(i(t))for(n=t.length;n>o&&e.call(t[o],o,t[o])!==!1;o++);else for(o in t)if(e.call(t[o],o,t[o])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?rt.merge(n,"string"==typeof t?[t]:t):Q.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:Z.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,s=t.length,a=!i;s>r;r++)n=!e(t[r],r),n!==a&&o.push(t[r]);return o},map:function(t,e,n){var o,r,s=0,a=[];if(i(t))for(o=t.length;o>s;s++)r=e(t[s],s,n),null!=r&&a.push(r);else for(s in t)r=e(t[s],s,n),null!=r&&a.push(r);return X.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(i=t[e],e=t,t=i),rt.isFunction(t)?(n=J.call(arguments,2),o=function(){return t.apply(e||this,n.concat(J.call(arguments)))},o.guid=t.guid=t.guid||rt.guid++,o):void 0},now:Date.now,support:nt}),"function"==typeof Symbol&&(rt.fn[Symbol.iterator]=K[Symbol.iterator]),rt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ut=function(t){function e(t,e,i,n){var o,r,s,a,h,l,c,d,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:z)!==L&&P(e),e=e||L,N)){if(11!==g&&(l=vt.exec(t)))if(o=l[1]){if(9===g){if(!(s=e.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(p&&(s=p.getElementById(o))&&j(e,s)&&s.id===o)return i.push(s),i}else{if(l[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((o=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(o)),i}if(x.qsa&&!G[t+" "]&&(!$||!$.test(t))){if(1!==g)p=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=I),c=S(t),r=c.length,h=ft.test(a)?"#"+a:"[id='"+a+"']";r--;)c[r]=h+" "+f(c[r]);d=c.join(","),p=yt.test(t)&&u(e.parentNode)||e}if(d)try{return Q.apply(i,p.querySelectorAll(d)),i}catch(m){}finally{a===I&&e.removeAttribute("id")}}}return E(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>C.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[I]=!0,t}function o(t){var e=L.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)C.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function h(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=H++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,h,l,u=[_,r];if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[I]||(e[I]={}),h=l[e.uniqueID]||(l[e.uniqueID]={}),(a=h[n])&&a[0]===_&&a[1]===r)return u[2]=a[2];if(h[n]=u,u[2]=t(e,i,s))return!0}}}function p(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n);return n}function m(t,e,i,n,o){for(var r,s=[],a=0,h=t.length,l=null!=e;h>a;a++)(r=t[a])&&(!i||i(r,n,o))&&(s.push(r),l&&e.push(a));return s}function v(t,e,i,o,r,s){return o&&!o[I]&&(o=v(o)),r&&!r[I]&&(r=v(r,s)),n(function(n,s,a,h){var l,u,c,f=[],d=[],p=s.length,v=n||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:m(v,f,t,a,h),b=i?r||(n?t:p||o)?[]:s:y;if(i&&i(y,b,a,h),o)for(l=m(b,d),o(l,[],a,h),u=l.length;u--;)(c=l[u])&&(b[d[u]]=!(y[d[u]]=c));if(n){if(r||t){if(r){for(l=[],u=b.length;u--;)(c=b[u])&&l.push(y[u]=c);r(null,b=[],l,h)}for(u=b.length;u--;)(c=b[u])&&(l=r?tt(n,c):f[u])>-1&&(n[l]=!(s[l]=c))}}else b=m(b===s?b.splice(p,b.length):b),r?r(null,s,b,h):Q.apply(s,b)})}function y(t){for(var e,i,n,o=t.length,r=C.relative[t[0].type],s=r||C.relative[" "],a=r?1:0,h=d(function(t){return t===e},s,!0),l=d(function(t){return tt(e,t)>-1},s,!0),u=[function(t,i,n){var o=!r&&(n||i!==T)||((e=i).nodeType?h(t,i,n):l(t,i,n));return e=null,o}];o>a;a++)if(i=C.relative[t[a].type])u=[d(p(u),i)];else{if(i=C.filter[t[a].type].apply(null,t[a].matches),i[I]){for(n=++a;o>n&&!C.relative[t[n].type];n++);return v(a>1&&p(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,n>a&&y(t.slice(a,n)),o>n&&y(t=t.slice(n)),o>n&&f(t))}u.push(i)}return p(u)}function b(t,i){var o=i.length>0,r=t.length>0,s=function(n,s,a,h,l){var u,c,f,d=0,p="0",g=n&&[],v=[],y=T,b=n||r&&C.find.TAG("*",l),w=_+=null==y?1:Math.random()||.1,x=b.length;for(l&&(T=s===L||s||l);p!==x&&null!=(u=b[p]);p++){if(r&&u){for(c=0,s||u.ownerDocument===L||(P(u),a=!N);f=t[c++];)if(f(u,s||L,a)){h.push(u);break}l&&(_=w)}o&&((u=!f&&u)&&d--,n&&g.push(u))}if(d+=p,o&&p!==d){for(c=0;f=i[c++];)f(g,v,s,a);if(n){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=J.call(h));v=m(v)}Q.apply(h,v),l&&!n&&v.length>0&&d+i.length>1&&e.uniqueSort(h)}return l&&(_=w,T=y),g};return o?n(s):s}var w,x,C,k,A,S,F,E,T,M,D,P,L,B,N,$,R,O,j,I="sizzle"+1*new Date,z=t.document,_=0,H=0,q=i(),W=i(),G=i(),V=function(t,e){return t===e&&(D=!0),0},U=1<<31,K={}.hasOwnProperty,Y=[],J=Y.pop,X=Y.push,Q=Y.push,Z=Y.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ht=new RegExp("^"+it+"*,"+it+"*"),lt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ct=new RegExp(rt),ft=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ct=function(){P()};try{Q.apply(Y=Z.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(kt){Q={apply:Y.length?function(t,e){X.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},A=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},P=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:z;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,B=L.documentElement,N=!A(L),(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Ct,!1):i.attachEvent&&i.attachEvent("onunload",Ct)),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(L.getElementsByClassName),x.getById=o(function(t){return B.appendChild(t).id=I,!L.getElementsByName||!L.getElementsByName(I).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}},C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},C.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&N?e.getElementsByClassName(t):void 0},R=[],$=[],(x.qsa=mt.test(L.querySelectorAll))&&(o(function(t){B.appendChild(t).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||$.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+I+"-]").length||$.push("~="),t.querySelectorAll(":checked").length||$.push(":checked"),t.querySelectorAll("a#"+I+"+*").length||$.push(".#.+[+~]")}),o(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&$.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||$.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),$.push(",.*:")})),(x.matchesSelector=mt.test(O=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&o(function(t){x.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),R.push("!=",rt)}),$=$.length&&new RegExp($.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(B.compareDocumentPosition),j=e||mt.test(B.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return D=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===L||t.ownerDocument===z&&j(z,t)?-1:e===L||e.ownerDocument===z&&j(z,e)?1:M?tt(M,t)-tt(M,e):0:4&i?-1:1)}:function(t,e){if(t===e)return D=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,a=[t],h=[e];if(!o||!r)return t===L?-1:e===L?1:o?-1:r?1:M?tt(M,t)-tt(M,e):0;if(o===r)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;a[n]===h[n];)n++;return n?s(a[n],h[n]):a[n]===z?-1:h[n]===z?1:0},L):L},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==L&&P(t),i=i.replace(ut,"='$1']"),x.matchesSelector&&N&&!G[i+" "]&&(!R||!R.test(i))&&(!$||!$.test(i)))try{var n=O.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&P(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&P(t);var i=C.attrHandle[e.toLowerCase()],n=i&&K.call(C.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:x.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(D=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(V),D){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return M=null,t},k=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=k(e);return i},C=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ct.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(st," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,h){var l,u,c,f,d,p,g=r!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a,b=!1;if(m){if(r){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(f=m,c=f[I]||(f[I]={}),u=c[f.uniqueID]||(c[f.uniqueID]={}),l=u[t]||[],d=l[0]===_&&l[1],b=d&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){u[t]=[_,d,b];break}}else if(y&&(f=e,c=f[I]||(f[I]={}),u=c[f.uniqueID]||(c[f.uniqueID]={}),l=u[t]||[],d=l[0]===_&&l[1],b=d),b===!1)for(;(f=++d&&f&&f[g]||(b=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(c=f[I]||(f[I]={}),u=c[f.uniqueID]||(c[f.uniqueID]={}),u[t]=[_,b]),f!==e)););return b-=o,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(t,i){var o,r=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[I]?r(i):r.length>1?(o=[t,t,"",i],C.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)n=tt(t,o[s]),t[n]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=F(t.replace(at,"$1"));return o[I]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:n(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var i;do if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===B},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase());
},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=h(w);return c.prototype=C.filters=C.pseudos,C.setFilters=new c,S=e.tokenize=function(t,i){var n,o,r,s,a,h,l,u=W[t+" "];if(u)return i?0:u.slice(0);for(a=t,h=[],l=C.preFilter;a;){(!n||(o=ht.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),h.push(r=[])),n=!1,(o=lt.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(at," ")}),a=a.slice(n.length));for(s in C.filter)!(o=dt[s].exec(a))||l[s]&&!(o=l[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):W(t,h).slice(0)},F=e.compile=function(t,e){var i,n=[],o=[],r=G[t+" "];if(!r){for(e||(e=S(t)),i=e.length;i--;)r=y(e[i]),r[I]?n.push(r):o.push(r);r=G(t,b(o,n)),r.selector=t}return r},E=e.select=function(t,e,i,n){var o,r,s,a,h,l="function"==typeof t&&t,c=!n&&S(t=l.selector||t);if(i=i||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(s=r[0]).type&&x.getById&&9===e.nodeType&&N&&C.relative[r[1].type]){if(e=(C.find.ID(s.matches[0].replace(wt,xt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=dt.needsContext.test(t)?0:r.length;o--&&(s=r[o],!C.relative[a=s.type]);)if((h=C.find[a])&&(n=h(s.matches[0].replace(wt,xt),yt.test(r[0].type)&&u(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&f(r),!t)return Q.apply(i,n),i;break}}return(l||F(t,c))(n,e,!N,i,!e||yt.test(t)&&u(e.parentNode)||e),i},x.sortStable=I.split("").sort(V).join("")===I,x.detectDuplicates=!!D,P(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);rt.find=ut,rt.expr=ut.selectors,rt.expr[":"]=rt.expr.pseudos,rt.uniqueSort=rt.unique=ut.uniqueSort,rt.text=ut.getText,rt.isXMLDoc=ut.isXML,rt.contains=ut.contains;var ct=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&rt(t).is(i))break;n.push(t)}return n},ft=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},dt=rt.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?rt.find.matchesSelector(n,t)?[n]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;i>e;e++)if(rt.contains(o[e],this))return!0}));for(e=0;i>e;e++)rt.find(t,o[e],n);return n=this.pushStack(i>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&dt.test(t)?rt(t):t||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=rt.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||mt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),pt.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return o=Y.getElementById(n[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?void 0!==i.ready?i.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};yt.prototype=rt.fn,mt=rt(Y);var bt=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};rt.fn.extend({has:function(t){var e=rt(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(rt.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=dt.test(t)||"string"!=typeof t?rt(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&rt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?rt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?Z.call(rt(t),this[0]):Z.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.uniqueSort(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ct(t,"parentNode")},parentsUntil:function(t,e,i){return ct(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return ct(t,"nextSibling")},prevAll:function(t){return ct(t,"previousSibling")},nextUntil:function(t,e,i){return ct(t,"nextSibling",i)},prevUntil:function(t,e,i){return ct(t,"previousSibling",i)},siblings:function(t){return ft((t.parentNode||{}).firstChild,t)},children:function(t){return ft(t.firstChild)},contents:function(t){return t.contentDocument||rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(i,n){var o=rt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=rt.filter(n,o)),this.length>1&&(wt[t]||rt.uniqueSort(o),bt.test(t)&&o.reverse()),this.pushStack(o)}});var xt=/\S+/g;rt.Callbacks=function(t){t="string"==typeof t?r(t):rt.extend({},t);var e,i,n,o,s=[],a=[],h=-1,l=function(){for(o=t.once,n=e=!0;a.length;h=-1)for(i=a.shift();++h<s.length;)s[h].apply(i[0],i[1])===!1&&t.stopOnFalse&&(h=s.length,i=!1);t.memory||(i=!1),e=!1,o&&(s=i?[]:"")},u={add:function(){return s&&(i&&!e&&(h=s.length-1,a.push(i)),function n(e){rt.each(e,function(e,i){rt.isFunction(i)?t.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==rt.type(i)&&n(i)})}(arguments),i&&!e&&l()),this},remove:function(){return rt.each(arguments,function(t,e){for(var i;(i=rt.inArray(e,s,i))>-1;)s.splice(i,1),h>=i&&h--}),this},has:function(t){return t?rt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=a=[],i||(s=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(i){rt.each(e,function(e,r){var s=rt.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,n):n}},o={};return n.pipe=n.then,rt.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=J.call(arguments),s=r.length,a=1!==s||t&&rt.isFunction(t.promise)?s:0,h=1===a?t:rt.Deferred(),l=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?J.call(arguments):o,n===e?h.notifyWith(i,n):--a||h.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>o;o++)r[o]&&rt.isFunction(r[o].promise)?r[o].promise().progress(l(o,i,e)).done(l(o,n,r)).fail(h.reject):--a;return a||h.resolveWith(n,r),h.promise()}});var Ct;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){(t===!0?--rt.readyWait:rt.isReady)||(rt.isReady=!0,t!==!0&&--rt.readyWait>0||(Ct.resolveWith(Y,[rt]),rt.fn.triggerHandler&&(rt(Y).triggerHandler("ready"),rt(Y).off("ready"))))}}),rt.ready.promise=function(e){return Ct||(Ct=rt.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(rt.ready):(Y.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),Ct.promise(e)},rt.ready.promise();var kt=function(t,e,i,n,o,r,s){var a=0,h=t.length,l=null==i;if("object"===rt.type(i)){o=!0;for(a in i)kt(t,e,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,rt.isFunction(n)||(s=!0),l&&(s?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(rt(t),i)})),e))for(;h>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:l?e.call(t):h?e(t[0],i):r},At=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!At(t))return{};var e=t[this.expando];return e||(e={},At(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[e]=i;else for(n in e)o[n]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,rt.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,r=t[this.expando];if(void 0!==r){if(void 0===e)this.register(t);else{rt.isArray(e)?n=e.concat(e.map(rt.camelCase)):(o=rt.camelCase(e),e in r?n=[e,o]:(n=o,n=n in r?[n]:n.match(xt)||[])),i=n.length;for(;i--;)delete r[n[i]]}(void 0===e||rt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!rt.isEmptyObject(e)}};var St=new a,Ft=new a,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/[A-Z]/g;rt.extend({hasData:function(t){return Ft.hasData(t)||St.hasData(t)},data:function(t,e,i){return Ft.access(t,e,i)},removeData:function(t,e){Ft.remove(t,e)},_data:function(t,e,i){return St.access(t,e,i)},_removeData:function(t,e){St.remove(t,e)}}),rt.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=Ft.get(r),1===r.nodeType&&!St.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=rt.camelCase(n.slice(5)),h(r,n,o[n])));St.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Ft.set(this,t)}):kt(this,function(e){var i,n;if(r&&void 0===e){if(i=Ft.get(r,t)||Ft.get(r,t.replace(Tt,"-$&").toLowerCase()),void 0!==i)return i;if(n=rt.camelCase(t),i=Ft.get(r,n),void 0!==i)return i;if(i=h(r,n,void 0),void 0!==i)return i}else n=rt.camelCase(t),this.each(function(){var i=Ft.get(this,n);Ft.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&Ft.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ft.remove(this,t)})}}),rt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=St.get(t,e),i&&(!n||rt.isArray(i)?n=St.access(t,e,rt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=rt.queue(t,e),n=i.length,o=i.shift(),r=rt._queueHooks(t,e),s=function(){rt.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return St.get(t,i)||St.access(t,i,{empty:rt.Callbacks("once memory").add(function(){St.remove(t,[e+"queue",i])})})}}),rt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?rt.queue(this[0],t):void 0===e?this:this.each(function(){var i=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=rt.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=St.get(r[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],Lt=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},Bt=/^(?:checkbox|radio)$/i,Nt=/<([\w:-]+)/,$t=/^$|\/(?:java|ecma)script/i,Rt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Rt.optgroup=Rt.option,Rt.tbody=Rt.tfoot=Rt.colgroup=Rt.caption=Rt.thead,Rt.th=Rt.td;var Ot=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),i=Y.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),nt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var jt=/^key/,It=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,zt=/^([^.]*)(?:\.(.+)|)/;rt.event={global:{},add:function(t,e,i,n,o){var r,s,a,h,l,u,c,f,d,p,g,m=St.get(t);if(m)for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=rt.guid++),(h=m.events)||(h=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof rt&&rt.event.triggered!==e.type?rt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(xt)||[""],l=e.length;l--;)a=zt.exec(e[l])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(c=rt.event.special[d]||{},d=(o?c.delegateType:c.bindType)||d,c=rt.event.special[d]||{},u=rt.extend({type:d,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&rt.expr.match.needsContext.test(o),namespace:p.join(".")},r),(f=h[d])||(f=h[d]=[],f.delegateCount=0,c.setup&&c.setup.call(t,n,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),rt.event.global[d]=!0)},remove:function(t,e,i,n,o){var r,s,a,h,l,u,c,f,d,p,g,m=St.hasData(t)&&St.get(t);if(m&&(h=m.events)){for(e=(e||"").match(xt)||[""],l=e.length;l--;)if(a=zt.exec(e[l])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(c=rt.event.special[d]||{},d=(n?c.delegateType:c.bindType)||d,f=h[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=f.length;r--;)u=f[r],!o&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(r,1),u.selector&&f.delegateCount--,c.remove&&c.remove.call(t,u));s&&!f.length&&(c.teardown&&c.teardown.call(t,p,m.handle)!==!1||rt.removeEvent(t,d,m.handle),delete h[d])}else for(d in h)rt.event.remove(t,d+e[l],i,n,!0);rt.isEmptyObject(h)&&St.remove(t,"handle events")}},dispatch:function(t){t=rt.event.fix(t);var e,i,n,o,r,s=[],a=J.call(arguments),h=(St.get(this,"events")||{})[t.type]||[],l=rt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=rt.event.handlers.call(this,t,h),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(r.namespace))&&(t.handleObj=r,t.data=r.data,n=((rt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,s=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&(h.disabled!==!0||"click"!==t.type)){for(n=[],i=0;a>i;i++)r=e[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?rt(o,this).index(h)>-1:rt.find(o,this,null,[h]).length),n[o]&&n.push(r);n.length&&s.push({elem:h,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Y,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[rt.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=It.test(o)?this.mouseHooks:jt.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new rt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&rt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},rt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:p):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={constructor:rt.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return(!o||o!==n&&!rt.contains(n,o))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),rt.fn.extend({on:function(t,e,i,n){return m(this,t,e,i,n)},one:function(t,e,i,n){return m(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,rt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=p),this.each(function(){rt.event.remove(this,t,i,e)})}});var _t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;rt.extend({htmlPrefilter:function(t){return t.replace(_t,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),h=rt.contains(t.ownerDocument,t);if(!(nt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(s=u(a),r=u(t),n=0,o=r.length;o>n;n++)x(r[n],s[n]);if(e)if(i)for(r=r||u(t),s=s||u(a),n=0,o=r.length;o>n;n++)w(r[n],s[n]);else w(t,a);return s=u(a,"script"),s.length>0&&c(s,!h&&u(t,"script")),a},cleanData:function(t){for(var e,i,n,o=rt.event.special,r=0;void 0!==(i=t[r]);r++)if(At(i)){if(e=i[St.expando]){if(e.events)for(n in e.events)o[n]?rt.event.remove(i,n):rt.removeEvent(i,n,e.handle);i[St.expando]=void 0}i[Ft.expando]&&(i[Ft.expando]=void 0)}}}),rt.fn.extend({domManip:C,detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return kt(this,function(t){return void 0===t?rt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return C(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return C(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return C(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return C(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(rt.cleanData(u(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!Rt[(Nt.exec(t)||["",""])[1].toLowerCase()]){t=rt.htmlPrefilter(t);try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(rt.cleanData(u(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return C(this,arguments,function(e){var i=this.parentNode;rt.inArray(this,t)<0&&(rt.cleanData(u(this)),i&&i.replaceChild(e,this))},t)}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var i,n=[],o=rt(t),r=o.length-1,s=0;r>=s;s++)i=s===r?this:this.clone(!0),rt(o[s])[e](i),Q.apply(n,i.get());return this.pushStack(n)}});var Vt,Ut={HTML:"block",BODY:"block"},Kt=/^margin/,Yt=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),Jt=function(e){var i=e.ownerDocument.defaultView;return i.opener||(i=t),i.getComputedStyle(e)},Xt=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=s[r];return o},Qt=Y.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Qt.appendChild(s);var e=t.getComputedStyle(a);i="1%"!==e.top,r="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",o="4px"===e.marginRight,Qt.removeChild(s)}var i,n,o,r,s=Y.createElement("div"),a=Y.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),rt.extend(nt,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),o},reliableMarginLeft:function(){return null==n&&e(),r},reliableMarginRight:function(){var e,i=a.appendChild(Y.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",Qt.appendChild(s),e=!parseFloat(t.getComputedStyle(i).marginRight),Qt.removeChild(s),a.removeChild(i),e}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ie=["Webkit","O","Moz","ms"],ne=Y.createElement("div").style;rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=F(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=rt.camelCase(e),h=t.style;return e=rt.cssProps[a]||(rt.cssProps[a]=T(a)||a),s=rt.cssHooks[e]||rt.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:h[e]:(r=typeof i,"string"===r&&(o=Dt.exec(i))&&o[1]&&(i=l(t,e,o),r="number"),void(null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(rt.cssNumber[a]?"":"px")),nt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(h[e]=i))))}},css:function(t,e,i,n){var o,r,s,a=rt.camelCase(e);return e=rt.cssProps[a]||(rt.cssProps[a]=T(a)||a),s=rt.cssHooks[e]||rt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=F(t,e,n)),"normal"===o&&e in ee&&(o=ee[e]),""===i||i?(r=parseFloat(o),i===!0||isFinite(r)?r||0:o):o}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,i,n){return i?Zt.test(rt.css(t,"display"))&&0===t.offsetWidth?Xt(t,te,function(){return P(t,e,n)}):P(t,e,n):void 0},set:function(t,i,n){var o,r=n&&Jt(t),s=n&&D(t,e,n,"border-box"===rt.css(t,"boxSizing",!1,r),r);return s&&(o=Dt.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=rt.css(t,e)),M(t,i,s)}}}),rt.cssHooks.marginLeft=E(nt.reliableMarginLeft,function(t,e){return e?(parseFloat(F(t,"marginLeft"))||t.getBoundingClientRect().left-Xt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),rt.cssHooks.marginRight=E(nt.reliableMarginRight,function(t,e){return e?Xt(t,{display:"inline-block"},F,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Pt[n]+e]=r[n]||r[n-2]||r[0];return o}},Kt.test(t)||(rt.cssHooks[t+e].set=M)}),rt.fn.extend({css:function(t,e){return kt(this,function(t,e,i){var n,o,r={},s=0;if(rt.isArray(e)){for(n=Jt(t),o=e.length;o>s;s++)r[e[s]]=rt.css(t,e[s],!1,n);return r}return void 0!==i?rt.style(t,e,i):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Lt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=B,B.prototype={constructor:B,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||rt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(rt.cssNumber[i]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,i=B.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[rt.cssProps[t.prop]]&&!rt.cssHooks[t.prop]?t.elem[t.prop]=t.now:rt.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},rt.fx=B.prototype.init,rt.fx.step={};var oe,re,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;rt.Animation=rt.extend(I,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return l(i.elem,t,Dt.exec(e),i),i}]},tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.match(xt);for(var i,n=0,o=t.length;o>n;n++)i=t[n],I.tweeners[i]=I.tweeners[i]||[],I.tweeners[i].unshift(e)},prefilters:[O],prefilter:function(t,e){e?I.prefilters.unshift(t):I.prefilters.push(t)}}),rt.speed=function(t,e,i){var n=t&&"object"==typeof t?rt.extend({},t):{complete:i||!i&&e||rt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!rt.isFunction(e)&&e};return n.duration=rt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in rt.fx.speeds?rt.fx.speeds[n.duration]:rt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){rt.isFunction(n.old)&&n.old.call(this),n.queue&&rt.dequeue(this,n.queue)},n},rt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=rt.isEmptyObject(t),r=rt.speed(e,i,n),s=function(){var e=I(this,rt.extend({},t),r);(o||St.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=rt.timers,s=St.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&ae.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));(e||!i)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=St.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=rt.timers,s=n?n.length:0;for(i.finish=!0,rt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var i=rt.fn[e];rt.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate($(e,!0),t,n,o)}}),rt.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,i,n){return this.animate(e,t,i,n);
}}),rt.timers=[],rt.fx.tick=function(){var t,e=0,i=rt.timers;for(oe=rt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||rt.fx.stop(),oe=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){re||(re=t.setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){t.clearInterval(re),re=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,i){return e=rt.fx?rt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),i=e.appendChild(Y.createElement("option"));t.type="checkbox",nt.checkOn=""!==t.value,nt.optSelected=i.selected,e.disabled=!0,nt.optDisabled=!i.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",nt.radioValue="t"===t.value}();var he,le=rt.expr.attrHandle;rt.fn.extend({attr:function(t,e){return kt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,i){var n,o,r=t.nodeType;return 3!==r&&8!==r&&2!==r?"undefined"==typeof t.getAttribute?rt.prop(t,e,i):(1===r&&rt.isXMLDoc(t)||(e=e.toLowerCase(),o=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void rt.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:(n=rt.find.attr(t,e),null==n?void 0:n)):void 0},attrHooks:{type:{set:function(t,e){if(!nt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(xt);if(r&&1===t.nodeType)for(;i=r[o++];)n=rt.propFix[i]||i,rt.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),he={set:function(t,e,i){return e===!1?rt.removeAttr(t,i):t.setAttribute(i,i),i}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=le[e]||rt.find.attr;le[e]=function(t,e,n){var o,r;return n||(r=le[e],le[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,le[e]=r),o}});var ue=/^(?:input|select|textarea|button)$/i,ce=/^(?:a|area)$/i;rt.fn.extend({prop:function(t,e){return kt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[rt.propFix[t]||t]})}}),rt.extend({prop:function(t,e,i){var n,o,r=t.nodeType;return 3!==r&&8!==r&&2!==r?(1===r&&rt.isXMLDoc(t)||(e=rt.propFix[e]||e,o=rt.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=rt.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),nt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this});var fe=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,i,n,o,r,s,a,h=0;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(xt)||[];i=this[h++];)if(o=z(i),n=1===i.nodeType&&(" "+o+" ").replace(fe," ")){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=rt.trim(n),o!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,o,r,s,a,h=0;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(xt)||[];i=this[h++];)if(o=z(i),n=1===i.nodeType&&(" "+o+" ").replace(fe," ")){for(s=0;r=e[s++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=rt.trim(n),o!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(i){rt(this).toggleClass(t.call(this,i,z(this),e),e)}):this.each(function(){var e,n,o,r;if("string"===i)for(n=0,o=rt(this),r=t.match(xt)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(void 0===t||"boolean"===i)&&(e=z(this),e&&St.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":St.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+z(i)+" ").replace(fe," ").indexOf(e)>-1)return!0;return!1}});var de=/\r/g;rt.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=rt.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,rt(this).val()):t,null==o?o="":"number"==typeof o?o+="":rt.isArray(o)&&(o=rt.map(o,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=rt.valHooks[o.type]||rt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(de,""):null==i?"":i)):void 0}}),rt.extend({valHooks:{option:{get:function(t){return rt.trim(t.value)}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,s=r?null:[],a=r?o+1:n.length,h=0>o?a:r?o:0;a>h;h++)if(i=n[h],(i.selected||h===o)&&(nt.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!rt.nodeName(i.parentNode,"optgroup"))){if(e=rt(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=rt.makeArray(e),s=o.length;s--;)n=o[s],(n.selected=rt.inArray(rt.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>-1:void 0}},nt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var pe=/^(?:focusinfocus|focusoutblur)$/;rt.extend(rt.event,{trigger:function(e,i,n,o){var r,s,a,h,l,u,c,f=[n||Y],d=it.call(e,"type")?e.type:e,p=it.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||Y,3!==n.nodeType&&8!==n.nodeType&&!pe.test(d+rt.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[rt.expando]?e:new rt.Event(d,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:rt.makeArray(i,[e]),c=rt.event.special[d]||{},o||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!o&&!c.noBubble&&!rt.isWindow(n)){for(h=c.delegateType||d,pe.test(h+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||Y)&&f.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=f[r++])&&!e.isPropagationStopped();)e.type=r>1?h:c.bindType||d,u=(St.get(s,"events")||{})[e.type]&&St.get(s,"handle"),u&&u.apply(s,i),u=l&&s[l],u&&u.apply&&At(s)&&(e.result=u.apply(s,i),e.result===!1&&e.preventDefault());return e.type=d,o||e.isDefaultPrevented()||c._default&&c._default.apply(f.pop(),i)!==!1||!At(n)||l&&rt.isFunction(n[d])&&!rt.isWindow(n)&&(a=n[l],a&&(n[l]=null),rt.event.triggered=d,n[d](),rt.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(t,e,i){var n=rt.extend(new rt.Event,i,{type:t,isSimulated:!0});rt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}}),rt.fn.extend({trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?rt.event.trigger(t,e,i,!0):void 0}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),nt.focusin="onfocusin"in t,nt.focusin||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){rt.event.simulate(e,t.target,rt.event.fix(t))};rt.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=St.access(n,e);o||n.addEventListener(t,i,!0),St.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=St.access(n,e)-1;o?St.access(n,e,o):(n.removeEventListener(t,i,!0),St.remove(n,e))}}});var ge=t.location,me=rt.now(),ve=/\?/;rt.parseJSON=function(t){return JSON.parse(t+"")},rt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return(!i||i.getElementsByTagName("parsererror").length)&&rt.error("Invalid XML: "+e),i};var ye=/#.*$/,be=/([?&])_=[^&]*/,we=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ce=/^(?:GET|HEAD)$/,ke=/^\/\//,Ae={},Se={},Fe="*/".concat("*"),Ee=Y.createElement("a");Ee.href=ge.href,rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:xe.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?q(q(t,rt.ajaxSettings),e):q(rt.ajaxSettings,t)},ajaxPrefilter:_(Ae),ajaxTransport:_(Se),ajax:function(e,i){function n(e,i,n,a){var l,c,y,b,x,k=i;2!==w&&(w=2,h&&t.clearTimeout(h),o=void 0,s=a||"",C.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=W(f,C,n)),b=G(f,b,C,l),l?(f.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(rt.lastModified[r]=x),x=C.getResponseHeader("etag"),x&&(rt.etag[r]=x)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=b.state,c=b.data,y=b.error,l=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),C.status=e,C.statusText=(i||k)+"",l?g.resolveWith(d,[c,k,C]):g.rejectWith(d,[C,k,y]),C.statusCode(v),v=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[C,f,l?c:y]),m.fireWith(d,[C,k]),u&&(p.trigger("ajaxComplete",[C,f]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,r,s,a,h,l,u,c,f=rt.ajaxSetup({},i),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?rt(d):rt.event,g=rt.Deferred(),m=rt.Callbacks("once memory"),v=f.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=we.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return w||(t=b[i]=b[i]||t,y[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return o&&o.abort(e),n(0,e),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,f.url=((e||f.url||ge.href)+"").replace(ye,"").replace(ke,ge.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=rt.trim(f.dataType||"*").toLowerCase().match(xt)||[""],null==f.crossDomain){l=Y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ee.protocol+"//"+Ee.host!=l.protocol+"//"+l.host}catch(k){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=rt.param(f.data,f.traditional)),H(Ae,f,i,C),2===w)return C;u=rt.event&&f.global,u&&0===rt.active++&&rt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ce.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(ve.test(r)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=be.test(r)?r.replace(be,"$1_="+me++):r+(ve.test(r)?"&":"?")+"_="+me++)),f.ifModified&&(rt.lastModified[r]&&C.setRequestHeader("If-Modified-Since",rt.lastModified[r]),rt.etag[r]&&C.setRequestHeader("If-None-Match",rt.etag[r])),(f.data&&f.hasContent&&f.contentType!==!1||i.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Fe+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)C.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(d,C,f)===!1||2===w))return C.abort();x="abort";for(c in{success:1,error:1,complete:1})C[c](f[c]);if(o=H(Se,f,i,C)){if(C.readyState=1,u&&p.trigger("ajaxSend",[C,f]),2===w)return C;f.async&&f.timeout>0&&(h=t.setTimeout(function(){C.abort("timeout")},f.timeout));try{w=1,o.send(y,n)}catch(k){if(!(2>w))throw k;n(-1,k)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return rt.get(t,e,i,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,i,n,o){return rt.isFunction(i)&&(o=o||n,n=i,i=void 0),rt.ajax(rt.extend({url:t,type:e,dataType:o,data:i,success:n},rt.isPlainObject(t)&&t))}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){var e;return rt.isFunction(t)?this.each(function(e){rt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=rt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(i){rt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return!rt.expr.filters.visible(t)},rt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Te=/%20/g,Me=/\[\]$/,De=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var i,n=[],o=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){o(this.name,this.value)});else for(i in t)V(i,t[i],e,o);return n.join("&").replace(Te,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Le.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Bt.test(t))}).map(function(t,e){var i=rt(this).val();return null==i?null:rt.isArray(i)?rt.map(i,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:i.replace(De,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Be={0:200,1223:204},Ne=rt.ajaxSettings.xhr();nt.cors=!!Ne&&"withCredentials"in Ne,nt.ajax=Ne=!!Ne,rt.ajaxTransport(function(e){var i,n;return nt.cors||Ne&&!e.crossDomain?{send:function(o,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(s in o)a.setRequestHeader(s,o[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Be[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(h){if(i)throw h}},abort:function(){i&&i()}}:void 0}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=rt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){i&&i()}}}});var $e=[],Re=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||rt.expando+"_"+me++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,s,a=e.jsonp!==!1&&(Re.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Re.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=rt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Re,"$1"+o):e.jsonp!==!1&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||rt.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},n.always(function(){void 0===r?rt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,$e.push(o)),s&&rt.isFunction(r)&&r(s[0]),s=r=void 0}),"script"):void 0}),nt.createHTMLDocument=function(){var t=Y.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),rt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(nt.createHTMLDocument?Y.implementation.createHTMLDocument(""):Y);var n=pt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=f([t],e,o),o&&o.length&&rt(o).remove(),rt.merge([],n.childNodes))};var Oe=rt.fn.load;rt.fn.load=function(t,e,i){if("string"!=typeof t&&Oe)return Oe.apply(this,arguments);var n,o,r,s=this,a=t.indexOf(" ");return a>-1&&(n=rt.trim(t.slice(a)),t=t.slice(0,a)),rt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&rt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?rt("<div>").append(rt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(s,r||[t.responseText,e,t])})}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length},rt.offset={setOffset:function(t,e,i){var n,o,r,s,a,h,l,u=rt.css(t,"position"),c=rt(t),f={};"static"===u&&(t.style.position="relative"),a=c.offset(),r=rt.css(t,"top"),h=rt.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(r+h).indexOf("auto")>-1,l?(n=c.position(),s=n.top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(h)||0),rt.isFunction(e)&&(e=e.call(t,i,rt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+o),"using"in e?e.using.call(t,f):c.css(f)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;return r?(e=r.documentElement,rt.contains(e,n)?(o=n.getBoundingClientRect(),i=U(r),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===rt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(n=t.offset()),n.top+=rt.css(t[0],"borderTopWidth",!0)-t.scrollTop(),n.left+=rt.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-n.top-rt.css(i,"marginTop",!0),left:e.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||Qt})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;rt.fn[t]=function(n){return kt(this,function(t,n,o){var r=U(t);return void 0===o?r?r[e]:t[n]:void(r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):t[n]=o)},t,n,arguments.length)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=E(nt.pixelPosition,function(t,i){return i?(i=F(t,e),Yt.test(i)?rt(t).position()[e]+"px":i):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){rt.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||o===!0?"margin":"border");return kt(this,function(e,i,n){var o;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?rt.css(e,i,s):rt.style(e,i,n,s)},e,r?n:void 0,r,null)}})}),rt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var je=t.jQuery,Ie=t.$;return rt.noConflict=function(e){return t.$===rt&&(t.$=Ie),e&&t.jQuery===rt&&(t.jQuery=je),rt},e||(t.jQuery=t.$=rt),rt}),!function(t){"function"==typeof define&&define.amd?define("jquery.cookie",["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function i(t){return a.raw?t:decodeURIComponent(t)}function n(t){return e(a.json?JSON.stringify(t):String(t))}function o(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(e){}}function r(e,i){var n=a.raw?e:o(e);return t.isFunction(i)?i(n):n}var s=/\+/g,a=t.cookie=function(o,s,h){if(void 0!==s&&!t.isFunction(s)){if(h=t.extend({},a.defaults,h),"number"==typeof h.expires){var l=h.expires,u=h.expires=new Date;u.setTime(+u+864e5*l)}return document.cookie=[e(o),"=",n(s),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join("")}for(var c=o?void 0:{},f=document.cookie?document.cookie.split("; "):[],d=0,p=f.length;p>d;d++){var g=f[d].split("="),m=i(g.shift()),v=g.join("=");if(o&&o===m){c=r(v,s);break}o||void 0===(v=r(v))||(c[m]=v)}return c};a.defaults={},t.removeCookie=function(e,i){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),function(t){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],t):t(jQuery)}(function(t){function e(e,n){var o,r,s,a=e.nodeName.toLowerCase();return"area"===a?(o=e.parentNode,r=o.name,e.href&&r&&"map"===o.nodeName.toLowerCase()?(s=t("img[usemap='#"+r+"']")[0],!!s&&i(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return n&&"static"===e.css("position")?!1:o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&e(i,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,r){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){t(this).css(r,n(this,e)+"px")})},t.fn["outer"+i]=function(e,o){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(r,n(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var o,r=t.ui[e].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(t,e,i,n){var o,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;r.length>o;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,i)}};var n=0,o=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,o,r;for(r=0;null!=(o=i[r]);r++)try{n=t._data(o,"events"),n&&n.remove&&t(o).triggerHandler("remove")}catch(s){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var o,r,s,a,h={},l=e.split(".")[0];return e=e.split(".")[1],o=l+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[l]=t[l]||{},r=t[l][e],s=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}()):void(h[e]=n)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},h,{constructor:s,namespace:l,widgetName:e,widgetFullName:o}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete r._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,r=o.call(arguments,1),s=0,a=r.length;a>s;s++)for(i in r[s])n=r[s][i],r[s].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var s="string"==typeof r,a=o.call(arguments,1),h=this;return s?this.each(function(){var i,o=t.data(this,n);return"instance"===r?(h=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,a),i!==o&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,o,r,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(o=s[e]=t.widget.extend({},this.options[e]),r=0;n.length-1>r;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(e=n.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var o,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),
t.each(n,function(n,s){function a(){return e||r.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?r[s]:s).apply(r,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var h=n.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+r.eventNamespace,u=h[2];u?o.delegate(u,l,a):i.bind(l,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,r,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(o in r)o in i||(i[o]=r[o]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,r){"string"==typeof o&&(o={effect:o});var s,a=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),s=!t.isEmptyObject(o),o.complete=r,o.delay&&n.delay(o.delay),s&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}}),t.widget;var r=!1;t(document).mouseup(function(){r=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),r=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),r=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,r,s=Math.max,a=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,d=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return t("body").append(n),e=r.offsetWidth,n.css("overflow","scroll"),i=r.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,r="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||o?i.width():i.outerWidth(),height:n||o?i.height():i.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return p.apply(this,arguments);o=t.extend({},o);var d,g,m,v,y,b,w=t(o.of),x=t.position.getWithinInfo(o.within),C=t.position.getScrollInfo(x),k=(o.collision||"flip").split(" "),A={};return b=n(w),w[0].preventDefault&&(o.at="left top"),g=b.width,m=b.height,v=b.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(o[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),A[this]=[t?t[0]:0,e?e[0]:0],o[this]=[f.exec(i[0])[0],f.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===o.at[0]?y.left+=g:"center"===o.at[0]&&(y.left+=g/2),"bottom"===o.at[1]?y.top+=m:"center"===o.at[1]&&(y.top+=m/2),d=e(A.at,g,m),y.left+=d[0],y.top+=d[1],this.each(function(){var n,l,u=t(this),c=u.outerWidth(),f=u.outerHeight(),p=i(this,"marginLeft"),b=i(this,"marginTop"),S=c+p+i(this,"marginRight")+C.width,F=f+b+i(this,"marginBottom")+C.height,E=t.extend({},y),T=e(A.my,u.outerWidth(),u.outerHeight());"right"===o.my[0]?E.left-=c:"center"===o.my[0]&&(E.left-=c/2),"bottom"===o.my[1]?E.top-=f:"center"===o.my[1]&&(E.top-=f/2),E.left+=T[0],E.top+=T[1],r||(E.left=h(E.left),E.top=h(E.top)),n={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](E,{targetWidth:g,targetHeight:m,elemWidth:c,elemHeight:f,collisionPosition:n,collisionWidth:S,collisionHeight:F,offset:[d[0]+T[0],d[1]+T[1]],my:o.my,at:o.at,within:x,elem:u})}),o.using&&(l=function(t){var e=v.left-E.left,i=e+g-c,n=v.top-E.top,r=n+m-f,h={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:u,left:E.left,top:E.top,width:c,height:f},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":n>0?"bottom":"middle"};c>g&&g>a(e+i)&&(h.horizontal="center"),f>m&&m>a(n+r)&&(h.vertical="middle"),h.important=s(a(e),a(i))>s(a(n),a(r))?"horizontal":"vertical",o.using.call(this,t,h)}),u.offset(t.extend(E,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,a=t.left-e.collisionPosition.marginLeft,h=o-a,l=a+e.collisionWidth-r-o;e.collisionWidth>r?h>0&&0>=l?(i=t.left+h+e.collisionWidth-r-o,t.left+=h-i):t.left=l>0&&0>=h?o:h>l?o+r-e.collisionWidth:o:h>0?t.left+=h:l>0?t.left-=l:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,a=t.top-e.collisionPosition.marginTop,h=o-a,l=a+e.collisionHeight-r-o;e.collisionHeight>r?h>0&&0>=l?(i=t.top+h+e.collisionHeight-r-o,t.top+=h-i):t.top=l>0&&0>=h?o:h>l?o+r-e.collisionHeight:o:h>0?t.top+=h:l>0?t.top-=l:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,h=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-h,c=l+e.collisionWidth-s-h,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(i=t.left+f+d+p+e.collisionWidth-s-r,(0>i||a(u)>i)&&(t.left+=f+d+p)):c>0&&(n=t.left-e.collisionPosition.marginLeft+f+d+p-h,(n>0||c>a(n))&&(t.left+=f+d+p))},top:function(t,e){var i,n,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,h=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-h,c=l+e.collisionHeight-s-h,f="top"===e.my[1],d=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>u?(n=t.top+d+p+g+e.collisionHeight-s-r,(0>n||a(u)>n)&&(t.top+=d+p+g)):c>0&&(i=t.top-e.collisionPosition.marginTop+d+p+g-h,(i>0||c>a(i))&&(t.top+=d+p+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,s,a=document.getElementsByTagName("body")[0],h=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(h),i=a||document.documentElement,i.insertBefore(e,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",o=t(h).offset().left,r=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(n){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),o=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options,r=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),n=i[0],void(n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,h=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(h=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var o=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i,n){var o=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,i,n){t.each(n.sortables,function(){var o=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",e),n.dropped=r.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var o=t("body"),r=n.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(e,i,n){var o=n.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var o=t(i.helper),r=n.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(e,i,n){var o=n.options;o._opacity&&t(i.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var o=n.options,r=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+s.offsetHeight-e.pageY<o.scrollSensitivity?s.scrollTop=r=s.scrollTop+o.scrollSpeed:e.pageY-n.overflowOffset.top<o.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+s.offsetWidth-e.pageX<o.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+o.scrollSpeed:e.pageX-n.overflowOffset.left<o.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var o=n.options;n.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var o,r,s,a,h,l,u,c,f,d,p=n.options,g=p.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(f=n.snapElements.length-1;f>=0;f--)h=n.snapElements[f].left-n.margins.left,l=h+n.snapElements[f].width,u=n.snapElements[f].top-n.margins.top,c=u+n.snapElements[f].height,h-g>v||m>l+g||u-g>b||y>c+g||!t.contains(n.snapElements[f].item.ownerDocument,n.snapElements[f].item)?(n.snapElements[f].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(o=g>=Math.abs(u-b),r=g>=Math.abs(c-y),s=g>=Math.abs(h-v),a=g>=Math.abs(l-m),o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),d=o||r||s||a,"outer"!==p.snapMode&&(o=g>=Math.abs(u-y),r=g>=Math.abs(c-b),s=g>=Math.abs(h-m),a=g>=Math.abs(l-v),o&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[f].snapping&&(o||r||s||a||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=o||r||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var o,r=n.options,s=t.makeArray(t(r.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(o=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var o=t(i.helper),r=n.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(e,i,n){var o=n.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(o=!0,!1):void 0;
}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,o){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,h=s+e.helperProportions.height,l=i.offset.left,u=i.offset.top,c=l+i.proportions().width,f=u+i.proportions().height;switch(n){case"fit":return r>=l&&c>=a&&s>=u&&f>=h;case"intersect":return r+e.helperProportions.width/2>l&&c>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&f>h-e.helperProportions.height/2;case"pointer":return t(o.pageY,u,i.proportions().height)&&t(o.pageX,l,i.proportions().width);case"touch":return(s>=u&&f>=s||h>=u&&f>=h||u>s&&h>f)&&(r>=l&&c>=r||a>=l&&c>=a||l>r&&a>c);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,o,r=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;r.length>n;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(o=0;a.length>o;o++)if(a[o]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===s&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,r,s=t.ui.intersect(e,this,this.options.tolerance,i),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o}),r.length&&(n=t(r[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0?!0:(e[n]=1,o=e[n]>0,e[n]=0,o)},_create:function(){var e,i,n,o,r,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),r="ui-resizable-"+n,o=t("<div class='ui-resizable-handle "+r+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(e){var i,n,o,r;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,o=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,n,o,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,o=this.originalMousePosition,r=this.axis,s=e.pageX-o.left||0,a=e.pageY-o.top||0,h=this._change[r];return this._updatePrevProperties(),h?(i=h.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,o,r,s,a,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,r=n?0:u.sizeDiff.width,s={width:u.helper.width()-r,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(t.extend(s,{top:h,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),r.maxWidth>i&&(r.maxWidth=i),r.maxHeight>o&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),s&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&l&&(t.left=a-e.minWidth),n&&l&&(t.left=a-e.maxWidth),s&&u&&(t.top=h-e.minHeight),o&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(o[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),s=r&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,h={width:i.size.width-a,height:i.size.height-s},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,u&&l?{top:u,left:l}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,o,r,s,a,h=t(this).resizable("instance"),l=h.options,u=h.element,c=l.containment,f=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;f&&(h.containerElement=t(f),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=h._num(e.css("padding"+n))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=h.containerOffset,o=h.containerSize.height,r=h.containerSize.width,s=h._hasScroll(f,"left")?f.scrollWidth:r,a=h._hasScroll(f)?f.scrollHeight:o,h.parentData={element:f,left:n.left,top:n.top,width:s,height:a}))},resize:function(e){var i,n,o,r,s=t(this).resizable("instance"),a=s.options,h=s.containerOffset,l=s.position,u=s._aspectRatio||e.shiftKey,c={top:0,left:0},f=s.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(c=h),l.left<(s._helper?h.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-h.left:s.position.left-c.left),u&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?h.left:0),l.top<(s._helper?h.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-h.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?h.top:0),o=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),o&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-c.left:s.offset.left-h.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-c.top:s.offset.top-h.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,o=e.containerPosition,r=e.containerElement,s=t(e.helper),a=s.offset(),h=s.outerWidth()-e.sizeDiff.width,l=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var n=t(this).resizable("instance"),o=n.options,r=n.originalSize,s=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};t(o.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},r=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,o=i.size,r=i.originalSize,s=i.originalPosition,a=i.axis,h="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=h[0]||1,u=h[1]||1,c=Math.round((o.width-r.width)/l)*l,f=Math.round((o.height-r.height)/u)*u,d=r.width+c,p=r.height+f,g=n.maxWidth&&d>n.maxWidth,m=n.maxHeight&&p>n.maxHeight,v=n.minWidth&&n.minWidth>d,y=n.minHeight&&n.minHeight>p;n.grid=h,v&&(d+=l),y&&(p+=u),g&&(d-=l),m&&(p-=u),/^(se|s|e)$/.test(a)?(i.size.width=d,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=d,i.size.height=p,i.position.top=s.top-f):/^(sw)$/.test(a)?(i.size.width=d,i.size.height=p,i.position.left=s.left-c):((0>=p-u||0>=d-l)&&(e=i._getPaddingPlusBorderDimensions(this)),p-u>0?(i.size.height=p,i.position.top=s.top-f):(p=u-e.height,i.size.height=p,i.position.top=s.top+r.height-p),d-l>0?(i.size.width=d,i.position.left=s.left-c):(d=l-e.width,i.size.width=d,i.position.left=s.left+r.width-d))}}),t.ui.resizable;var s="ui-effects-",a=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var n=c[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=l(),o=n._rgba=[];return i=i.toLowerCase(),p(h,function(t,r){var s,a=r.re.exec(i),h=a&&r.parse(a),l=r.space||"rgba";return h?(s=n[l](h),n[u[l].cache]=s[u[l].cache],o=n._rgba=s._rgba,!1):e}),o.length?("0,0,0,0"===o.join()&&t.extend(o,r.transparent),n):r[i]}function o(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var r,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=l.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(o,s,a,h){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(s),s=e);var c=this,f=t.type(o),d=this._rgba=[];return s!==e&&(o=[o,s,a,h],f="array"),"string"===f?this.parse(n(o)||r._default):"array"===f?(p(u.rgba.props,function(t,e){d[e.idx]=i(o[e.idx],e)}),this):"object"===f?(o instanceof l?p(u,function(t,e){o[e.cache]&&(c[e.cache]=o[e.cache].slice())}):p(u,function(e,n){var r=n.cache;p(n.props,function(t,e){if(!c[r]&&n.to){if("alpha"===t||null==o[t])return;c[r]=n.to(c._rgba)}c[r][e.idx]=i(o[t],e,!0)}),c[r]&&0>t.inArray(null,c[r].slice(0,3))&&(c[r][3]=1,n.from&&(c._rgba=n.from(c[r])))}),this):e},is:function(t){var i=l(t),n=!0,o=this;return p(u,function(t,r){var s,a=i[r.cache];return a&&(s=o[r.cache]||r.to&&r.to(o._rgba)||[],p(r.props,function(t,i){return null!=a[i.idx]?n=a[i.idx]===s[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return p(u,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=l(t),o=n._space(),r=u[o],s=0===this.alpha()?l("transparent"):this,a=s[r.cache]||r.to(s._rgba),h=a.slice();return n=n[r.cache],p(r.props,function(t,o){var r=o.idx,s=a[r],l=n[r],u=c[o.type]||{};null!==l&&(null===s?h[r]=l:(u.mod&&(l-s>u.mod/2?s+=u.mod:s-l>u.mod/2&&(s-=u.mod)),h[r]=i((l-s)*e+s,o)))}),this[o](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=l(e)._rgba;return l(t.map(i,function(t,e){return(1-n)*o[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(n,o,r),h=Math.min(n,o,r),l=a-h,u=a+h,c=.5*u;return e=h===a?0:n===a?60*(o-r)/l+360:o===a?60*(r-n)/l+120:60*(n-o)/l+240,i=0===l?0:.5>=c?l/u:l/(2-u),[Math.round(e)%360,i,c,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],r=t[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*o(a,s,e+1/3)),Math.round(255*o(a,s,e)),Math.round(255*o(a,s,e-1/3)),r]},p(u,function(n,o){var r=o.props,s=o.cache,h=o.to,u=o.from;l.fn[n]=function(n){if(h&&!this[s]&&(this[s]=h(this._rgba)),n===e)return this[s].slice();var o,a=t.type(n),c="array"===a||"object"===a?n:arguments,f=this[s].slice();return p(r,function(t,e){var n=c["object"===a?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=i(n,e)}),u?(o=l(u(f)),o[s]=f,o):l(f)},p(r,function(e,i){l.fn[e]||(l.fn[e]=function(o){var r,s=t.type(o),h="alpha"===e?this._hsla?"hsla":"rgba":n,l=this[h](),u=l[i.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=t.type(o)),null==o&&i.empty?this:("string"===s&&(r=a.exec(o),r&&(o=u+parseFloat(r[2])*("+"===r[1]?1:-1))),l[i.idx]=o,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,o){var r,s,a="";if("transparent"!==o&&("string"!==t.type(o)||(r=n(o)))){if(o=l(r||o),!f.rgba&&1!==o._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(h){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(a),function(){function e(e){var i,n,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(r[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(r[i]=o[i]);return r}function i(e,i){var n,r,s={};for(n in i)r=i[n],e[n]!==r&&(o[n]||(t.fx.step[n]||!isNaN(parseFloat(r)))&&(s[n]=r));return s}var n=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(a.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(o,r,s,a){var h=t.speed(r,s,a);return this.queue(function(){var r,s=t(this),a=s.attr("class")||"",l=h.children?s.find("*").addBack():s;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),r=function(){t.each(n,function(t,e){o[e]&&s[e+"Class"](o[e])})},r(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),l=l.map(function(){var e=this,i=t.Deferred(),n=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,l.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,o,r){return n?t.effects.animateClass.call(this,{add:i},n,o,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,o,r,s){return"boolean"==typeof n||void 0===n?o?t.effects.animateClass.call(this,n?{add:i}:{remove:i},o,r,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,o,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,o,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,o,r)}})}(),function(){function e(e,i,n,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=n,n=i,i={}),t.isFunction(n)&&(o=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=o||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;e.length>i;i++)null!==e[i]&&t.data(s+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;e.length>n;n++)null!==e[n]&&(i=t.data(s+e[n]),void 0===i&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){
i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,o){return o=o||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(o[i]=r[0]*n+r[1])}),o}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(r)&&r.call(o[0]),t.isFunction(e)&&e()}var o=t(this),r=n.complete,a=n.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),i()):s.call(o[0],n,i)}var n=e.apply(this,arguments),o=n.mode,r=n.queue,s=t.effects.effect[n.effect];return t.fx.off||!s?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r===!1?this.each(i):this.queue(r||"fx",i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects,t.effects.effect.blind=function(e,i){var n,o,r,s=t(this),a=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),c=e.direction||"up",f=a.test(c),d=f?"height":"width",p=f?"top":"left",g=h.test(c),m={},v="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),l):t.effects.save(s,l),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o=n[d](),r=parseFloat(n.css(p))||0,m[d]=v?o:0,g||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),m[p]=v?r:o+r),v&&(n.css(d,0),g||n.css(p,r+o)),n.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,l),t.effects.removeWrapper(s),i()}})},t.effects.effect.bounce=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(s,e.mode||"effect"),l="hide"===h,u="show"===h,c=e.direction||"up",f=e.distance,d=e.times||5,p=2*d+(u||l?1:0),g=e.duration/p,m=e.easing,v="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,b=s.queue(),w=b.length;for((u||l)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),f||(f=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[v]=0,s.css("opacity",0).css(v,y?2*-f:2*f).animate(r,g,m)),l&&(f/=Math.pow(2,d-1)),r={},r[v]=0,n=0;d>n;n++)o={},o[v]=(y?"-=":"+=")+f,s.animate(o,g,m).animate(r,g,m),f=l?2*f:f/2;l&&(o={opacity:0},o[v]=(y?"-=":"+=")+f,s.animate(o,g,m)),s.queue(function(){l&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),s.dequeue()},t.effects.effect.clip=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(s,e.mode||"hide"),l="show"===h,u=e.direction||"vertical",c="vertical"===u,f=c?"height":"width",d=c?"top":"left",p={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o="IMG"===s[0].tagName?n:s,r=o[f](),l&&(o.css(f,0),o.css(d,r/2)),p[f]=l?r:0,p[d]=l?0:r/2,o.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})},t.effects.effect.drop=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(o,e.mode||"hide"),a="show"===s,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",c={opacity:a?1:0};t.effects.save(o,r),o.show(),t.effects.createWrapper(o),n=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(l,"pos"===u?-n:n),c[l]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,o.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})},t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===c*f&&o()}function o(){d.css({visibility:"visible"}),t(b).remove(),g||d.hide(),i()}var r,s,a,h,l,u,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,f=c,d=t(this),p=t.effects.setMode(d,e.mode||"hide"),g="show"===p,m=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/f),y=Math.ceil(d.outerHeight()/c),b=[];for(r=0;c>r;r++)for(h=m.top+r*y,u=r-(c-1)/2,s=0;f>s;s++)a=m.left+s*v,l=s-(f-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-r*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?l*v:0),top:h+(g?u*y:0),opacity:g?0:1}).animate({left:a+(g?0:l*v),top:h+(g?0:u*y),opacity:g?1:0},e.duration||500,e.easing,n)},t.effects.effect.fade=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var n,o,r=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"hide"),h="show"===a,l="hide"===a,u=e.size||15,c=/([0-9]+)%/.exec(u),f=!!e.horizFirst,d=h!==f,p=d?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(r,s),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),o=d?[n.width(),n.height()]:[n.height(),n.width()],c&&(u=parseInt(c[1],10)/100*o[l?0:1]),h&&n.css(f?{height:0,width:u}:{height:u,width:0}),m[p[0]]=h?o[0]:u,v[p[1]]=h?o[1]:0,n.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),i()})},t.effects.effect.highlight=function(e,i){var n=t(this),o=["backgroundImage","backgroundColor","opacity"],r=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===r&&(s.opacity=0),t.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&n.hide(),t.effects.restore(n,o),i()}})},t.effects.effect.size=function(e,i){var n,o,r,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=t.effects.setMode(s,e.mode||"effect"),p=e.restore||"effect"!==d,g=e.scale||"both",m=e.origin||["middle","center"],v=s.css("position"),y=p?a:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===d?(s.from=e.to||b,s.to=e.from||n):(s.from=e.from||("show"===d?b:n),s.to=e.to||("hide"===d?b:n)),r={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===g||"both"===g)&&(r.from.y!==r.to.y&&(y=y.concat(c),s.from=t.effects.setTransition(s,c,r.from.y,s.from),s.to=t.effects.setTransition(s,c,r.to.y,s.to)),r.from.x!==r.to.x&&(y=y.concat(f),s.from=t.effects.setTransition(s,f,r.from.x,s.from),s.to=t.effects.setTransition(s,f,r.to.x,s.to))),("content"===g||"both"===g)&&r.from.y!==r.to.y&&(y=y.concat(u).concat(l),s.from=t.effects.setTransition(s,u,r.from.y,s.from),s.to=t.effects.setTransition(s,u,r.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(o=t.effects.getBaseline(m,n),s.from.top=(n.outerHeight-s.outerHeight())*o.y,s.from.left=(n.outerWidth-s.outerWidth())*o.x,s.to.top=(n.outerHeight-s.to.outerHeight)*o.y,s.to.left=(n.outerWidth-s.to.outerWidth)*o.x),s.css(s.from),("content"===g||"both"===g)&&(c=c.concat(["marginTop","marginBottom"]).concat(u),f=f.concat(["marginLeft","marginRight"]),l=a.concat(c).concat(f),s.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&t.effects.save(i,l),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=t.effects.setTransition(i,c,r.from.y,i.from),i.to=t.effects.setTransition(i,c,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=t.effects.setTransition(i,f,r.from.x,i.from),i.to=t.effects.setTransition(i,f,r.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){p&&t.effects.restore(i,l)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===d&&s.hide(),t.effects.restore(s,y),p||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,i){var n=parseInt(i,10),o=t?s.to.left:s.to.top;return"auto"===i?o+"px":n+o+"px"})})),t.effects.removeWrapper(s),i()}})},t.effects.effect.scale=function(e,i){var n=t(this),o=t.extend(!0,{},e),r=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===r?0:100),a=e.direction||"both",h=e.origin,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==r&&(o.origin=h||["middle","center"],o.restore=!0),o.from=e.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:l),o.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},o.fade&&("show"===r&&(o.from.opacity=0,o.to.opacity=1),"hide"===r&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},t.effects.effect.puff=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"hide"),r="hide"===o,s=parseInt(e.percent,10)||150,a=s/100,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:r?s:100,from:r?h:{height:h.height*a,width:h.width*a,outerHeight:h.outerHeight*a,outerWidth:h.outerWidth*a}}),n.effect(e)},t.effects.effect.pulsate=function(e,i){var n,o=t(this),r=t.effects.setMode(o,e.mode||"show"),s="show"===r,a="hide"===r,h=s||"hide"===r,l=2*(e.times||5)+(h?1:0),u=e.duration/l,c=0,f=o.queue(),d=f.length;for((s||!o.is(":visible"))&&(o.css("opacity",0).show(),c=1),n=1;l>n;n++)o.animate({opacity:c},u,e.easing),c=1-c;o.animate({opacity:c},u,e.easing),o.queue(function(){a&&o.hide(),i()}),d>1&&f.splice.apply(f,[1,0].concat(f.splice(d,l+1))),o.dequeue()},t.effects.effect.shake=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(o,e.mode||"effect"),a=e.direction||"left",h=e.distance||20,l=e.times||3,u=2*l+1,c=Math.round(e.duration/u),f="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,p={},g={},m={},v=o.queue(),y=v.length;for(t.effects.save(o,r),o.show(),t.effects.createWrapper(o),p[f]=(d?"-=":"+=")+h,g[f]=(d?"+=":"-=")+2*h,m[f]=(d?"-=":"+=")+2*h,o.animate(p,c,e.easing),n=1;l>n;n++)o.animate(g,c,e.easing).animate(m,c,e.easing);o.animate(g,c,e.easing).animate(p,c/2,e.easing).queue(function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),o.dequeue()},t.effects.effect.slide=function(e,i){var n,o=t(this),r=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(o,e.mode||"show"),a="show"===s,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,c={};t.effects.save(o,r),o.show(),n=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(l,u?isNaN(n)?"-"+n:-n:n),c[l]=(a?u?"+=":"-=":u?"-=":"+=")+n,o.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})},t.effects.effect.transfer=function(e,i){var n=t(this),o=t(e.to),r="fixed"===o.css("position"),s=t("body"),a=r?s.scrollTop():0,h=r?s.scrollLeft():0,l=o.offset(),u={top:l.top-a,left:l.left-h,height:o.innerHeight(),width:o.innerWidth()},c=n.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-a,left:c.left-h,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){f.remove(),i()})}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){s.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=o.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),r="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),s="string"==typeof e?e:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof e?o.to(e):s?o[s]():r.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,o),s=this.interval,a="next"==e?"left":"right",h=this;if(r.hasClass("active"))return this.sliding=!1;var l=r[0],u=t.Event("slide.bs.carousel",{relatedTarget:l,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=t(this.$indicators.children()[this.getItemIndex(r)]);c&&c.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:l,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(a),r.addClass(a),o.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(f)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(f)),s&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),r=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var s=t.extend({},r.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),e.call(r,s),a&&r.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var h=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][h])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var r=e(o),s=r.data("bs.collapse"),a=s?"toggle":o.data();i.call(r,a)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(r).each(function(){var n=t(this),o=e(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),s=r.hasClass("open");if(i(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),s=o.hasClass("open");if(!s&&27!=i.which||s&&27==i.which)return 27==i.which&&o.find(r).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",h=o.find(".dropdown-menu"+a);if(h.length){var l=h.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<h.length-1&&l++,~l||(l=0),h.eq(l).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),r=o.data("bs.modal"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new i(this,s)),"string"==typeof e?r[e](n):s.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""
})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),r=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var s=o[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",h="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(h+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),s=this.getUID(this.type);this.setContent(),r.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,l=h.test(a);l&&(a=a.replace(h,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),c=r[0].offsetWidth,f=r[0].offsetHeight;if(l){var d=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+f>p.bottom?"top":"top"==a&&u.top-f<p.top?"bottom":"right"==a&&u.right+c>p.width?"left":"left"==a&&u.left-c<p.left?"right":a,r.removeClass(d).addClass(a)}var g=this.getCalculatedOffset(a,u,c,f);this.applyPlacement(g,a);var m=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var h=n[0].offsetWidth,l=n[0].offsetHeight;"top"==i&&l!=r&&(e.top=e.top+r-l);var u=this.getViewportAdjustedDelta(i,e,h,l);u.left?e.left+=u.left:e.top+=u.top;var c=/top|bottom/.test(i),f=c?2*u.left-o+h:2*u.top-r+l,d=c?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(f,n[0][d],c)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:e.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,a,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,h=e.top+r-s.scroll+n;a<s.top?o.top=s.top-a:h>s.top+s.height&&(o.top=s.top+s.height-h)}else{var l=e.left-r,u=e.left+r+i;l<s.left?o.left=s.left-l:u>s.right&&(o.left=s.left+s.width-u)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),r="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,r)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var s=n.find("> .active"),a=o&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),r="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=r.top?!1:"bottom":t-n>=o+s?!1:"bottom";var a=null==this.affixed,h=a?o:r.top,l=a?s:e;return null!=i&&i>=o?"top":null!=n&&h+l>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var a=this.getState(s,e,o,r);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var h="affix"+(a?"-"+a:""),l=t.Event(h+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),define("bootstrap",["./jquery"],function(){}),!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("bootstrap-typeahead",["jquery"],function(t){return e(t)}):e(t.jQuery)}(this,function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"==typeof this.options.autoSelect?this.options.autoSelect:!0,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=t(this.options.menu),this.$appendTo=this.options.appendTo?t(this.options.appendTo):null,this.shown=!1,this.listen(),this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus?this.options.showHintOnFocus:!1,this.afterSelect=this.options.afterSelect,this.addItem=!1};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").data("value");if(this.$element.data("active",t),this.autoSelect||t){var e=this.updater(t);e||(e=""),this.$element.val(this.displayText(e)||e).change(),this.afterSelect(e)}return this.hide()},updater:function(t){return t},setSource:function(t){this.source=t},show:function(){var e,i=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});e="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;var n;return n=this.shown?this.$menu:this.$appendTo?this.$menu.appendTo(this.$appendTo):this.$menu.insertAfter(this.$element),n.css({top:i.top+i.height+e,left:i.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){if("undefined"!=typeof e&&null!==e?this.query=e:this.query=this.$element.val()||"",this.query.length<this.options.minLength)return this.shown?this.hide():this;var i=t.proxy(function(){t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(i,this.delay)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length||this.options.addItem?(e.length>0?this.$element.data("active",e[0]):this.$element.data("active",null),this.options.addItem&&e.push(this.options.addItem),"all"==this.options.items?this.render(e).show():this.render(e.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(t){var e=this.displayText(t);return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],o=[];e=t.shift();){var r=this.displayText(e);r.toLowerCase().indexOf(this.query.toLowerCase())?~r.indexOf(this.query)?n.push(e):o.push(e):i.push(e)}return i.concat(n,o)},highlighter:function(e){var i,n,o,r,s,a=t("<div></div>"),h=this.query,l=e.toLowerCase().indexOf(h.toLowerCase());if(i=h.length,0===i)return a.text(e).html();for(;l>-1;)n=e.substr(0,l),o=e.substr(l,i),r=e.substr(l+i),s=t("<strong></strong>").text(o),a.append(document.createTextNode(n)).append(s),e=r,l=e.toLowerCase().indexOf(h.toLowerCase());return a.append(document.createTextNode(e)).html()},render:function(e){var i=this,n=this,o=!1;return e=t(e).map(function(e,r){var s=n.displayText(r);return e=t(i.options.item).data("value",r),e.find("a").html(i.highlighter(s)),s==n.$element.val()&&(e.addClass("active"),n.$element.data("active",r),o=!0),e[0]}),this.autoSelect&&!o&&(e.first().addClass("active"),this.$element.data("active",e.first().data("value"))),this.$menu.html(e),this},displayText:function(t){return"undefined"!=typeof t&&"undefined"!=typeof t.name&&t.name||t},next:function(e){var i=this.$menu.find(".active").removeClass("active"),n=i.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),i=e.prev();i.length||(i=this.$menu.find("li").last()),i.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown)switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.shiftKey)return;t.preventDefault(),this.prev();break;case 40:if(t.shiftKey)return;t.preventDefault(),this.next()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.shown||40!=e.keyCode?this.move(e):this.lookup()},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.preventDefault()},focus:function(t){this.focused||(this.focused=!0,this.options.showHintOnFocus&&this.lookup(""))},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){var n=arguments;return"string"==typeof i&&"getActive"==i?this.data("active"):this.each(function(){var o=t(this),r=o.data("typeahead"),s="object"==typeof i&&i;r||o.data("typeahead",r=new e(this,s)),"string"==typeof i&&(n.length>1?r[i].apply(r,Array.prototype.slice.call(n,1)):r[i]())})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:t.noop,addItem:!1,delay:0},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||i.typeahead(i.data())})}),function(t){function e(t,e,i){Uh.jc(this),this.MB=t,this.Xb=e,this.BH=i}function i(){this.LB=[]}function n(){}function o(t){void 0===t&&(t=42),this.seed=t,this.Lx=48271,this.lu=2147483647,this.zB=this.lu/this.Lx,this.eH=this.lu%this.Lx,this.aH=1/this.lu,this.random()}function r(){}function s(t){this.key=-1,this.value=t}function a(t){this.Ed=t,this.Cj=null,this.reset()}function h(t){this.Ed=t,this.reset()}function l(t){Uh.jc(this),this.Qa=!1,this.q=[],this.W=0,this.eo=this.Dd=null,void 0===t||null===t?this.ha=null:"string"==typeof t?"object"===t||"string"===t||"number"===t||"boolean"===t||"function"===t?this.ha=t:Uh.ka(t,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"==typeof t?this.ha=t===Object?"object":t===String?"string":t===Number?"number":t===Boolean?"boolean":t===Function?"function":t:Uh.ka(t,"null, a primitive type name, or a class type","List constructor: type")}function u(t){this.Yk=t,this.reset()}function c(t){Uh.jc(this),this.Qa=!1,void 0===t||null===t?this.ha=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.ha=t:Uh.ka(t,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"==typeof t?this.ha=t===Object?"object":t===String?"string":t===Number?"number":t:Uh.ka(t,"null, a primitive type name, or a class type","Set constructor: type"),this.dd={},this.cd=0,this.Dd=null,this.W=0,this.Ch=this.gb=null}function f(t){this.ab=t,this.reset()}function d(t){Uh.jc(this),this.Qa=!0,this.ab=t}function p(t){this.ab=t,this.reset()}function g(t,e){this.key=t,this.value=e,this.oo=this.Vb=null}function m(t){this.ab=t,this.reset()}function v(t,e){Uh.jc(this),this.Qa=!1,void 0===t||null===t?this.Bh=null:"string"==typeof t?"object"===t||"string"===t||"number"===t?this.Bh=t:Uh.ka(t,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"==typeof t?this.Bh=t===Object?"object":t===String?"string":t===Number?"number":t:Uh.ka(t,"null, a primitive type name, or a class type","Map constructor: keytype"),void 0===e||null===e?this.Ei=null:"string"==typeof e?"object"===e||"string"===e||"boolean"===e||"number"===e||"function"===e?this.Ei=e:Uh.ka(e,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"==typeof e?this.Ei=e===Object?"object":e===String?"string":e===Number?"number":e===Boolean?"boolean":e===Function?"function":e:Uh.ka(e,"null, a primitive type name, or a class type","Map constructor: valtype"),this.dd={},this.cd=0,this.fo=this.Dd=null,this.W=0,this.Ch=this.gb=null}function y(t,e){null!==t.Bh&&("string"==typeof t.Bh?typeof e===t.Bh&&null!==e||Uh.sc(e,t.Bh):e instanceof t.Bh||Uh.sc(e,t.Bh))}function b(t,e){void 0===t||void 0===e?this.y=this.x=0:!Vh||"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):Uh.m("Invalid arguments to Point constructor"),this.Qa=!1}function w(t,e){if(0===t)return e>0?90:0>e?270:0;if(0===e)return t>0?0:180;if(isNaN(t)||isNaN(e))return 0;var i=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?i=0>e?i+180:180-i:0>e&&(i=360-i),i}function x(t,e){return Vh&&Uh.l(e,D,b,"transformInverted:t"),e.Th(t),t}function C(t,e){void 0===t||void 0===e?this.height=this.width=0:!Vh||"number"==typeof t&&(t>=0||isNaN(t))&&"number"==typeof e&&(e>=0||isNaN(e))?(this.width=t,this.height=e):Uh.m("Invalid arguments to Size constructor"),this.Qa=!1}function k(t,e,i,n){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof b?e instanceof b?(this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y)):e instanceof C?(this.x=t.x,this.y=t.y,this.width=e.width,this.height=e.height):Uh.m("Incorrect arguments supplied"):!Vh||"number"==typeof t&&"number"==typeof e&&"number"==typeof i&&(i>=0||isNaN(i))&&"number"==typeof n&&(n>=0||isNaN(n))?(this.x=t,this.y=e,this.width=i,this.height=n):Uh.m("Invalid arguments to Rect constructor"),this.Qa=!1}function A(t,e,i){t.width=e,t.height=i}function S(t,e,i,n,o){Uh.N(t);var r=t.width;return-r>=i+o?(t.x+=r/2,t.width=0):(t.x-=o,t.width+=i+o),i=t.height,-i>=e+n?(t.y+=i/2,t.height=0):(t.y-=e,t.height+=e+n),t}function F(t,e,i,n,o){Uh.N(t);var r=Math.max(t.x,e),s=Math.max(t.y,i);return e=Math.min(t.x+t.width,e+n),i=Math.min(t.y+t.height,i+o),t.x=r,t.y=s,t.width=Math.max(0,e-r),t.height=Math.max(0,i-s),t}function E(t,e){var i=t.width,n=e.width+10+10,o=t.x,r=e.x-10;return o>n+r||r>i+o?!1:(i=t.height,n=e.height+10+10,o=t.y,r=e.y-10,o>n+r||r>i+o?!1:!0)}function T(t,e,i,n,o){var r=Math.min(t.x,e),s=Math.min(t.y,i);return e=Math.max(t.x+t.width,e+n),i=Math.max(t.y+t.height,i+o),t.x=r,t.y=s,t.width=e-r,t.height=i-s,t}function M(t,e,i,n){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===i?(n=e,this.top=t,this.right=e,this.bottom=t,this.left=n):void 0!==n?(this.top=t,this.right=e,this.bottom=i,this.left=n):Uh.m("Invalid arguments to Margin constructor"),this.Qa=!1}function D(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}function P(t,e,i,n){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n),this.Qa=!1}function L(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function B(t,e){(isNaN(t)||t>1||0>t)&&Uh.ka(t,"0 <= "+e+" <= 1",P,e)}function N(t,e){(isNaN(t)||1/0===t||-(1/0)===t)&&Uh.ka(t,"real number, not NaN or Infinity",P,e)}function $(){this.jf=[1,0,0,1,0,0]}function R(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.bE=[]}function O(t,e,i){this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.gx=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.document=e||document,this.DE=i,this.$w=null,this.path=[],this.Oi=new $,this.stack=[],this.xf=[],this.wG=this.PE=this.ow=0,this.Bw=t,this.uJ="http://www.w3.org/2000/svg",this.width=this.Bw.width,this.height=this.Bw.height,this.Gl=j(this,"svg",{width:this.width+"px",height:this.height+"px",XK:"0 0 "+this.Bw.width+" "+this.Bw.height}),this.Gl.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Gl.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),W(this,1,0,0,1,0,0),t=j(this,"clipPath",{
id:"mainClip"}),t.appendChild(j(this,"rect",{x:0,y:0,width:this.width,height:this.height})),this.Gl.appendChild(t),this.xf[0].setAttributeNS(null,"clip-path","url(#mainClip)")}function j(t,e,i,n){if(t=t.document.createElementNS(t.uJ,e),Uh.Xa(i))for(var o in i)t.setAttributeNS("href"===o?"http://www.w3.org/1999/xlink":"",o,i[o]);return void 0!==n&&(t.textContent=n),t}function I(t,e,i,n,o){1!==t.globalAlpha&&(i.opacity=t.globalAlpha),"fill"==e?(/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),i.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",i["fill-opacity"]=t[4]):i.fill=t.fillStyle instanceof R?z(t,t.fillStyle):t.fillStyle,i.stroke="none"):"stroke"==e&&(i.fill="none",/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),i.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",i["stroke-opacity"]=e[4]):i.stroke=t.strokeStyle instanceof R?z(t,t.strokeStyle):t.strokeStyle,i["stroke-width"]=t.lineWidth,i["stroke-linecap"]=t.lineCap,i["stroke-linejoin"]=t.lineJoin,i["stroke-miterlimit"]=t.miterLimit),n=n.jf,n="matrix("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+")",void 0!==o&&(n+=o),i.transform=n}function z(t,e){var i="GRAD"+t.PE;t.PE++;var n;if("linear"===e.type)n={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:i,gradientUnits:"userSpaceOnUse"},n=j(t,"linearGradient",n);else{if("radial"!==e.type)throw Error("invalid gradient");n={x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:i},n=j(t,"radialGradient",n)}for(var o=e.bE,r=o.length,s=[],a=0;r>a;a++){var h=o[a],l=h.color,h={offset:h.offset,"stop-color":l};/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),h["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",h["stop-opacity"]=l[4]),s.push(h)}for(s.sort(function(t,e){return t.offset>e.offset?1:-1}),a=0;r>a;a++)n.appendChild(j(t,"stop",s[a]));return t.Gl.appendChild(n),"url(#"+i+")"}function _(t,e,i,n){i={x:i[0],y:i[1],width:i[2],height:i[3]},I(t,e,i,n),t.addElement("rect",i)}function H(t,e,i,n){for(var o=[],r=0;r<i.length;r++){var s=Uh.il(i[r]),a=[s.shift()];if("A"==a[0])a.push(s.shift()+","+s.shift(),s.shift(),s.shift()+","+s.shift(),s.shift()+","+s.shift());else for(;s.length;)a.push(s.shift()+","+s.shift());o.push(a.join(" "))}i={d:o.join(" ")},I(t,e,i,n),"clipPath"===e?(e="CLIP"+t.ow,t.ow++,n=j(t,"clipPath",{id:e}),n.appendChild(j(t,"path",i)),t.Gl.appendChild(n),0<t.xf.length&&t.xf[t.xf.length-1].setAttributeNS(null,"clip-path","url(#"+e+")")):t.addElement("path",i)}function q(t,e,i,n,o,r,s){var a=Math.abs(o-r);if(o!=r){var h=e+n*Math.cos(r);r=i+n*Math.sin(r),a>=2*Math.PI?(q(t,e,i,n,o,o+Math.PI,s),q(t,e,i,n,o+Math.PI,o+2*Math.PI,s),t.path.push(["M",h,r])):(e+=n*Math.cos(o),i+=n*Math.sin(o),a=180*a/Math.PI,o=s?0:1,s=a>=180==!!s?0:1,0!==t.path.length?t.path.push(["L",e,i]):t.path.push(["M",e,i]),t.path.push(["A",n,n,a,s,o,h,r]))}}function W(t,e,i,n,o,r,s){var a=new $;a.jf=[e,i,n,o,r,s],e={},I(t,"g",e,a),a=t.addElement("g",e),t.xf.push(a)}function G(t,e){this.ownerDocument=void 0===e?document:e;var i=this.ownerDocument.createElement("canvas");i.tabIndex=0,this.Kd=i,i.getContext&&i.getContext("2d")||Uh.m("Browser does not support HTML Canvas Element"),this.iI=i.getContext("2d"),i.Y=t,Object.seal(this)}function V(t){1<arguments.length&&Uh.m("Geometry constructor can take at most one optional argument, the Geometry type."),Uh.jc(this),this.Qa=!1,void 0===t?t=Ol:Vh&&Uh.za(t,V,V,"constructor:type"),this.ha=t,this.yb=this.nb=this.vc=this.lc=0,this.ij=new l(Q),this.Tu=this.ij.W,this.Du=(new k).freeze(),this.Ya=!0,this.zi=nl,this.Ai=cl,this.Zn=this.$n=NaN,this.ji=ec}function U(t,e){if(t.type!==Nl||e.type!==Ol)return!1;if(1===e.pb.count){var i=e.pb.na(0);if(1===i.Ea.count&&Bl.I(t.ra,i.ra)&&Bl.I(t.sa,i.sa)&&(i=i.Ea.na(0),i.type===Hl&&Bl.I(t.D,i.D)&&Bl.I(t.F,i.F)))return!0}return!1}function K(t,e){for(var i=t.length,n=Uh.M(),o=0;i>o;o++){var r=t[o];n.x=r[0],n.y=r[1],e.fb(n),r[0]=n.x,r[1]=n.y,n.x=r[2],n.y=r[3],e.fb(n),r[2]=n.x,r[3]=n.y,n.x=r[4],n.y=r[5],e.fb(n),r[4]=n.x,r[5]=n.y,n.x=r[6],n.y=r[7],e.fb(n),r[6]=n.x,r[7]=n.y}Uh.B(n)}function Y(t,e,i){switch(t.type){case Nl:case $l:case Rl:i?e.o(t.lc,t.vc,0,0):T(e,t.lc,t.vc,0,0),T(e,t.nb,t.yb,0,0);break;case Ol:var n=t.pb;t=n.q;for(var n=n.length,o=0;n>o;o++){var r=t[o];i&&0===o?e.o(r.ra,r.sa,0,0):T(e,r.ra,r.sa,0,0);for(var s=r.Ea.q,a=s.length,h=r.ra,l=r.sa,u=0;a>u;u++){var c=s[u];switch(c.type){case Hl:case _l:h=c.D,l=c.F,T(e,h,l,0,0);break;case ql:Bl.Lo(h,l,c.Ib,c.Ub,c.ve,c.we,c.D,c.F,.5,e),h=c.D,l=c.F;break;case Wl:Bl.KA(h,l,c.Ib,c.Ub,c.D,c.F,.5,e),h=c.D,l=c.F;break;case Gl:case Vl:for(var c=c.type===Gl?tt(c,r):et(c,r,h,l),f=c.length,d=null,p=0;f>p;p++)d=c[p],Bl.Lo(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,e);null!==d&&(h=d[6],l=d[7]);break;default:Uh.m("Unknown Segment type: "+c.type)}}}break;default:Uh.m("Unknown Geometry type: "+t.type)}}function J(t,e,i,n,o,r,s,a){if(Bl.Pd(o,r,s,a,.05,t,e))return NaN;var h=(t-i)*(r-a);if(0===h)return 0;var l=((t*n-e*i)*(o-s)-(t-i)*(o*a-r*s))/h;if(e=(t*n-e*i)*(r-a)/h,l>=t)return 0;if((r>a?r-a:a-r)>(o>s?o-s:s-o)){if(o=t=0,a>r?(t=r,o=a):(t=a,o=r),t>e||e>o)return 0}else if(s>o?(t=o,o=s):t=s,t>l||l>o)return 0;return h>0?1:-1}function X(t,e,i,n){t=t.pb.q;for(var o=t.length,r=0;o>r;r++)if(t[r].Da(e,i,n))return!0;return!1}function Q(t,e,i,n){Uh.jc(this),this.Qa=!1,void 0===i&&(i=!0),this.Xl=i,void 0===n&&(n=!0),this.ao=n,void 0!==t?(Vh&&Uh.p(t,Q,"sx"),this.lc=t):this.lc=0,void 0!==e?(Vh&&Uh.p(e,Q,"sy"),this.vc=e):this.vc=0,this.so=new l(Z),this.Lv=this.so.W,this.Ya=!0}function Z(t,e,i,n,o,r,s,a){Uh.jc(this),this.Qa=!1,void 0===t?t=Hl:Vh&&Uh.za(t,Z,Z,"constructor:type"),this.ha=t,void 0!==e?(Vh&&Uh.p(e,Z,"ex"),this.nb=e):this.nb=0,void 0!==i?(Vh&&Uh.p(i,Z,"ey"),this.yb=i):this.yb=0,t===Vl?(void 0!==r&&(t=r%360,0>t&&(t+=360),this.fd=t),void 0!==n&&(Vh&&Uh.p(n,Z,"x1"),this.mg=Math.max(n,0)),void 0!==o&&(Vh&&Uh.p(o,Z,"y1"),this.ng=Math.max(o,0)),this.io=!!s,this.zn=!!a):(void 0!==n&&(Vh&&Uh.p(n,Z,"x1"),this.fd=n),void 0!==o&&(Vh&&Uh.p(o,Z,"y1"),this.Be=o),void 0!==r&&(Vh&&Uh.p(r,Z,"x2"),t===Gl&&(r=Math.max(r,0)),this.mg=r),void 0!==s&&"number"==typeof s&&(Vh&&Uh.p(s,Z,"y2"),t===Gl&&(s=Math.max(s,0)),this.ng=s)),this.Ah=!1,this.Ya=!0,this.aj=null}function tt(t,e){if(null!==t.aj&&!1===e.Ya)return t.aj;var i=t.radiusX,n=t.radiusY;void 0===n&&(n=i);var o=t.fd,r=t.Be,s=Bl.oE(0,0,n>i?i:n,t.lh,t.lh+t.Yh,!1);if(i!==n){var a=Uh.mh();a.reset(),n>i?a.scale(1,n/i):a.scale(i/n,1),K(s,a),Uh.df(a)}for(i=s.length,n=0;i>n;n++)a=s[n],a[0]+=o,a[1]+=r,a[2]+=o,a[3]+=r,a[4]+=o,a[5]+=r,a[6]+=o,a[7]+=r;return t.aj=s,t.aj}function et(t,e,i,n){function o(t,e,i,n){return(e*i>t*n?-1:1)*Math.acos(r(t,e,i,n))}function r(t,e,i,n){return(t*i+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(i*i+n*n))}if(null!==t.aj&&!1===e.Ya)return t.aj;e=t.mg;var s=t.ng,a=Math.PI/180*t.fd,h=t.io,l=t.zn,u=t.nb,c=t.yb,f=Math.cos(a),d=Math.sin(a),p=f*(i-u)/2+d*(n-c)/2,a=-d*(i-u)/2+f*(n-c)/2,g=p*p/(e*e)+a*a/(s*s);return g>1&&(e*=Math.sqrt(g),s*=Math.sqrt(g)),g=(h===l?-1:1)*Math.sqrt((e*e*s*s-e*e*a*a-s*s*p*p)/(e*e*a*a+s*s*p*p)),isNaN(g)&&(g=0),h=g*e*a/s,g=g*-s*p/e,isNaN(h)&&(h=0),isNaN(g)&&(g=0),i=(i+u)/2+f*h-d*g,n=(n+c)/2+d*h+f*g,c=o(1,0,(p-h)/e,(a-g)/s),f=(p-h)/e,u=(a-g)/s,p=(-p-h)/e,h=(-a-g)/s,a=o(f,u,p,h),p=r(f,u,p,h),-1>=p?a=Math.PI:p>=1&&(a=0),!l&&a>0&&(a-=2*Math.PI),l&&0>a&&(a+=2*Math.PI),l=e>s?1:e/s,p=e>s?s/e:1,e=Bl.oE(0,0,e>s?e:s,c,c+a,!0),s=Uh.mh(),s.reset(),s.translate(i,n),s.rotate(t.fd,0,0),s.scale(l,p),K(e,s),Uh.df(s),t.aj=e,t.aj}function it(){this.Y=null,this.zz=new b(0,0).freeze(),this.zy=new b(0,0).freeze(),this.Au=this.vv=0,this.jv="",this.Zv=this.Qu=!1,this.Mu=this.Cu=0,this.bj=this.Xu=this.fv=!1,this.Hq=null,this.Yv=0,this.og=this.Wv=null}function nt(){this.Y=null,this.Xb="",this.Dv=this.Rv=null,this.Bu=!1}function ot(){this.nq=Kl,this.mm=this.uv="",this.Kr=this.Lr=this.Rr=this.Sr=this.Qr=this.Y=this.Ud=null}function rt(t){1<arguments.length&&Uh.m("Model constructor can only take one optional argument, the Array of node data."),Uh.jc(this),this.ty=this.Xb="",this.Nk=!1,this.Yy={},this.sf=[],this.zc=new v(null,Object),this.im="key",this.Gu=this.nv=null,this.ky=this.ly=!1,this.Mr="category",this.vh=new v(null,c),this.tj=null,this.yi=!1,this.yz=null,this.la=new St,void 0!==t&&(this.Fg=t)}function st(t,e,n){void 0===n&&(n=!1);var o=Uh.ub(e);if(0>=o)return"[]";var r=new i;r.add("[ "),n&&o>1&&r.add("\n");for(var s=0;o>s;s++){var a=Uh.jb(e,s);void 0!==a&&(s>0&&(r.add(","),n&&r.add("\n")),r.add(t.ju(a)))}return n&&o>1&&r.add("\n"),r.add(" ]"),r.toString()}function at(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e?!0:!1}function ht(t){return isNaN(t)?"NaN":1/0===t?"9e9999":-(1/0)===t?"-9e9999":t}function lt(t,e){var i=e;if(i instanceof b){var n=i;e={"class":"go.Point",x:ht(n.x),y:ht(n.y)}}else if(i instanceof C){var o=i;e={"class":"go.Size",width:ht(o.width),height:ht(o.height)}}else if(i instanceof k)e={"class":"go.Rect",x:ht(i.x),y:ht(i.y),width:ht(i.width),height:ht(i.height)};else if(i instanceof M)e={"class":"go.Margin",top:ht(i.top),right:ht(i.right),bottom:ht(i.bottom),left:ht(i.left)};else if(i instanceof P)o=i,e=o.kd()?{"class":"go.Spot",x:ht(o.x),y:ht(o.y),offsetX:ht(o.offsetX),offsetY:ht(o.offsetY)}:{"class":"go.Spot","enum":o.toString()};else if(i instanceof An){if(e={"class":"go.Brush",type:i.type.name},i.type===Gu?e.color=i.color:(i.type===Vu||i.type===Uu)&&(e.start=i.start,e.end=i.end,i.type===Uu&&(0!==i.Up&&(e.startRadius=ht(i.Up)),isNaN(i.Uo)||(e.endRadius=ht(i.Uo)))),null!==i.Oo){for(var r={},s=i.Oo.k;s.next();)r[s.key]=s.value;e.colorStops=r}}else if(i instanceof V)e={"class":"go.Geometry",type:i.type.name},0!==i.ra&&(e.startX=ht(i.ra)),0!==i.sa&&(e.startY=ht(i.sa)),0!==i.D&&(e.endX=ht(i.D)),0!==i.F&&(e.endY=ht(i.F)),i.G.L(nl)||(e.spot1=i.G),i.H.L(cl)||(e.spot2=i.H),i.type===Ol&&(e.path=jl(i));else if(i instanceof Sn||i instanceof Ue||i instanceof Ge||i instanceof rt||i instanceof Pt||i instanceof Et||i instanceof Ss||i instanceof Es||i instanceof St||i instanceof At)return Uh.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+i.toString()),"{}";r="{",i=!0;for(n in e)if(o=Uh.wb(e,n),!at(n,o))if(i?i=!1:r+=", ",r+='"'+n+'":',"points"===n&&o instanceof l&&o.ha===b){for(s=o,o="[",s=s.k;s.next();){var a=s.value;1<o.length&&(o+=","),o+=t.ju(a.x),o+=",",o+=t.ju(a.y)}o+="]",r+=o}else r+=t.ju(o);return r+"}"}function ut(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-(1/0):parseFloat(t)}function ct(t,e,i,n,o,r,s,a,h){void 0===a&&(a=null),void 0===h&&(h=null);var l=new ot;l.ga=t,l.td=i,l.Bf=e,l.propertyName=n,l.object=o,l.oldValue=r,l.Yf=a,l.newValue=s,l.Wf=h,t.lw(l)}function ft(t,e,i){"string"!=typeof t&&"function"!=typeof t&&Uh.sc(t,"string or function",e,i)}function dt(t){return"number"==typeof t||"string"==typeof t}function pt(t,e,i){if(void 0!==e){var n=t.vh.Aa(e);null===n&&(n=new c(Object),t.vh.add(e,n)),n.add(i)}}function gt(t,e,i){if(void 0!==e){var n=t.vh.Aa(e);n instanceof c&&(void 0===i||null===i?t.vh.remove(e):(n.remove(i),0===n.count&&t.vh.remove(e)))}}function mt(t,e){if(void 0===e)return null;var i=t.vh.Aa(e);return i instanceof c?i:null}function vt(t,e,i){if(t.tw&&Array.isArray(e)){var n=[];for(i=0;i<e.length;i++){var o=vt(t,e[i],t.sw);n.push(o)}return Uh.jc(n),n}if(i&&Uh.Xa(e)){i=(i=e.constructor)?new i:{};for(n in e)"__gohashid"!==n&&(o=Uh.wb(e,n),yt(e,n,o)||(o=vt(t,o,!1)),Uh.Sa(i,n,o));return Uh.jc(i),i}return e}function yt(t,e,i){return i instanceof Sn||i instanceof Ue||i instanceof Ge||i instanceof Ao||i instanceof Le||i instanceof Pt||i instanceof Et||i instanceof Ss||i instanceof it||i instanceof nt?("_"!==e[0]&&Uh.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+e+'" of data object: '+t.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+i.toString()),!0):i instanceof rt||i instanceof St||i instanceof At||i instanceof ot?!0:!1}function bt(t,e){2<arguments.length&&Uh.m("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data."),rt.call(this),this.Dh=[],this.fm=new c(Object),this.Ak=this.Fu=null,this.pj="from",this.sj="to",this.qr=this.pr="",this.mr="category",this.Eh="",this.xv="isGroup",this.zj="group",this.my=!1,void 0!==t&&(this.Fg=t),void 0!==e&&(this.Ui=e)}function wt(t,e){var i=t.nl(e),i=t.bn(i);null===t.wf(i)&&pt(t,i,e),i=t.ql(e),i=t.bn(i),null===t.wf(i)&&pt(t,i,e);var n=t.fk(e);if(Uh.isArray(n))for(var o=Uh.ub(n),r=0;o>r;r++)i=Uh.jb(n,r),null===t.wf(i)&&pt(t,i,e)}function xt(t){1<arguments.length&&Uh.m("TreeModel constructor can only take one optional argument, the Array of node data."),rt.call(this),this.Aj="parent",this.ny=!1,this.Vr="parentLinkCategory",void 0!==t&&(this.Fg=t)}function Ct(t,e,i){Uh.jc(this),this.Qa=!1,void 0===t?t="":Uh.i(t,"string",Ct,"constructor:targetprop"),void 0===e?e=t:Uh.i(e,"string",Ct,"constructor:sourceprop"),void 0===i?i=null:null!==i&&Uh.i(i,"function",Ct,"constructor:conv"),this.qD=-1,this.og=null,this.Xv=t,this.Vv=this.qz=0,this.lD=null,this.wz=!1,this.Ov=e,this.jy=i,this.Xy=Ql,this.$x=null}function kt(t,e,i){t=t.El;var n=null;return n=null===t||""===t?e:"."===t?i:".."===t?i.U:e.pe(t)}function At(){this.iH=new l(ot).freeze(),this.Xb="",this.rC=!1}function St(){this.Zy=new c(rt),this.Xe=!1,this.pH=new l(At).freeze(),this.Ug=-1,this.GC=999,this.ni=!1,this.Lu=null,this.al=0,this.ay=!1,Vh&&(this.ay=!0),this.$g=new l("string").freeze(),this.mo=new l("number"),this.Hy=!0,this.Ty=!1}function Ft(t,e,i){if(t.Cb)return!1;t.Qz&&1>t.Ve&&Uh.trace("Ending transaction without having started a transaction: "+i);var n=1===t.Ve;n&&e&&t.isEnabled&&t.Vc("CommittingTransaction",i,t.Ni);var o=0;if(0<t.Ve&&(t.al--,t.isEnabled)){var r=t.$g.count;r>0&&(""===i&&(i=t.$g.na(0)),t.$g.Na(),t.$g.md(r-1),t.$g.freeze()),r=t.mo.count,r>0&&(o=t.mo.na(r-1),t.mo.md(r-1))}if(r=t.Ni,n){if(e){if(t.Ty=!1,t.isEnabled&&null!==r){for(e=r,e.ip=!0,e.name=i,n=t.history,n.Na(),o=n.count-1;o>t.Ri;o--)r=n.na(o),null!==r&&r.clear(),n.md(o),t.Ty=!0;o=t.zA,0===o&&(o=1),o>0&&n.count>=o&&(r=n.na(0),null!==r&&r.clear(),n.md(0),t.Ug--),n.add(e),t.Ug++,n.freeze(),r=e}t.Vc("CommittedTransaction",i,r)}else{t.ni=!0;try{t.isEnabled&&null!==r&&(r.ip=!0,r.undo())}finally{t.Vc("RolledBackTransaction",i,r),t.ni=!1}null!==r&&r.clear()}return t.Lu=null,!0}if(t.isEnabled&&!e&&null!==r){for(t=o,i=r.eh,e=i.count-1;e>=t;e--)n=i.na(e),null!==n&&n.undo(),i.Na(),i.md(e);i.freeze()}return!1}function Et(){0<arguments.length&&Uh.$c(Et),Uh.jc(this),this.Y=null,this.OB=!0,this.QB=this.RB=this.bC=this.SB=!1,this.Sk=this.Xx=null,this.JD=1.05,this.$B=1,this.Uy=NaN,this.DC=null,this.KD=NaN}function Tt(t,e,i,n,o,r){if(void 0===r&&(r=null),!(t.contains(e)||null!==r&&!r(e)||e instanceof xr))if(t.add(e),e instanceof Cr){if(i&&e instanceof bs)for(var s=e.Qc;s.next();)Tt(t,s.value,i,n,o,r);if(o)for(s=e.ue;s.next();){var a=s.value;if(!t.contains(a)){var h=a.Z,l=a.da;null!==h&&t.contains(h)&&null!==l&&t.contains(l)?Tt(t,a,i,n,o,r):null!==h&&null!==l||Tt(t,a,i,n,o,r)}}if(n>1)for(e=e.IE();e.next();)Tt(t,e.value,i,n-1,o,r)}else if(e instanceof Nr)for(s=e.Bg;s.next();)Tt(t,s.value,i,n,o,r)}function Mt(t,e,i,n,o){if(null===e||o&&!e.canCopy())return null;if(n.contains(e))return n.Aa(e);var r=null,s=e.data;if(null!==s&&null!==i){var a=i.ga;e instanceof Nr?a instanceof bt&&(s=a.mE(s),Uh.Xa(s)&&(a.dw(s),r=i.vg(s))):(s=a.copyNodeData(s),Uh.Xa(s)&&(a.Am(s),r=i.Sh(s)))}else bo(e),r=e.copy(),null!==i&&null!==r&&i.add(r);if(!(r instanceof er))return null;if(r.Za=!1,r.Ag=!1,n.add(e,r),e instanceof Cr){for(a=e.ue;a.next();){if(s=a.value,s.Z===e){var h=n.Aa(s);null!==h&&(h.Z=r)}s.da===e&&(h=n.Aa(s),null!==h&&(h.da=r))}if(e instanceof bs&&r instanceof bs)for(a=r,e=e.Qc;e.next();)s=Mt(t,e.value,i,n,o),s instanceof Nr||null===s||(s.Va=a)}else if(e instanceof Nr)for(a=e.Z,null!==a&&(a=n.Aa(a),null!==a&&(r.Z=a)),a=e.da,null!==a&&(a=n.Aa(a),null!==a&&(r.da=a)),e=e.Bg;e.next();)a=Mt(t,e.value,i,n,o),null!==a&&(a.Nd=r);return r}function Dt(t){var e=Uh.lb();for(t=t.k;t.next();){var i=t.value;i instanceof Nr||e.push(i)}t=new c(er);for(var i=e.length,n=0;i>n;n++){for(var o=e[n],r=!0,s=0;i>s;s++)if(o.Uh(e[s])){r=!1;break}r&&t.add(o)}return Uh.xa(e),t}function Pt(){0<arguments.length&&Uh.$c(Pt),Uh.jc(this),this.Y=null,this.Xb="",this.Xe=!0,this.pC=!1,this.ED=null,this.bw=-1}function Lt(t,e,i){var n=0;e.left?n=1===e.Je?1:2===e.Je?2:1:e.right&&1===e.Je&&(n=3);var o="";if(null!==t){switch(n){case 1:o="ObjectSingleClicked";break;case 2:o="ObjectDoubleClicked";break;case 3:o="ObjectContextClicked"}0!==n&&i.Ba(o,t)}else{switch(n){case 1:o="BackgroundSingleClicked";break;case 2:o="BackgroundDoubleClicked";break;case 3:o="BackgroundContextClicked"}0!==n&&i.Ba(o)}if(null!==t)for(e.Nc=!1;null!==t;){switch(i=null,n){case 1:i=t.click;break;case 2:i=t.Pm?t.Pm:t.click;break;case 3:i=t.ft}if(null!==i&&(i(e,t),e.Nc))break;t=t.U}else{switch(t=null,n){case 1:t=i.click;break;case 2:t=i.Pm?i.Pm:i.click;break;case 3:t=i.ft}null!==t&&t(e)}}function Bt(){0<arguments.length&&Uh.$c(Bt),Pt.call(this),this.name="Dragging",this.PB=this.tC=!0,this.Wq=this.hC=!1,this.xC=!0,this.Jy=new C(NaN,NaN).freeze(),this.Ky=nl,this.Ly=new b(NaN,NaN).freeze(),this.gC=!1,this.eC=this.NB=this.fC=this.VB=this.xi=null,this.Dq=this.vC=!1,this.wo=new b(NaN,NaN),this.Pv=new b,this.Sv=!1,this.Nv=this.sC=!0,this.Mn=100,this.hj=[],this.oH=new c(er).freeze()}function Nt(t,e){if(t.Rh){var i=t.h;null!==i&&i.Sj&&(i.ga instanceof bt&&1===e.count&&e.first()instanceof Nr?(t.Mc=e.first(),t.Mc.canRelinkFrom()&&t.Mc.canRelinkTo()&&t.Mc.bt(),t.xi=i.sb.QA,null===t.xi&&(t.xi=new ue,t.xi.Hc(i))):(t.Mc=null,t.xi=null))}}function $t(t){return new ie(void 0===t?Bl.nk:t.copy())}function Rt(t,e,i,n){if(!e.contains(i)&&(!n||i.canMove()||i.canCopy()))if(i instanceof Cr){if(e.add(i,$t(i.location)),i instanceof bs)for(var o=i.Qc;o.next();)Rt(t,e,o.value,n);for(o=i.ue;o.next();){var r=o.value;if(!e.contains(r)){var s=r.Z,a=r.da;null!==s&&e.contains(s)&&null!==a&&e.contains(a)&&Rt(t,e,r,n)}}if(t.CE)for(i=i.IE();i.next();)Rt(t,e,i.value,n)}else if(i instanceof Nr)for(r=i,e.add(r,$t()),o=r.Bg;o.next();)Rt(t,e,o.value,n);else i instanceof xr||e.add(i,$t(i.location))}function Ot(t){var e=t.h;if(null!==e){var i=e.$a;e.$a=!0,Jt(t,e.P,null),e.$a=i}t.hj.length=0}function jt(){var t=ou;qt(t),Ut(t);var e=t.h;null!==e&&t.wo.J()&&(e.position=t.wo),null!==e&&fn(e)}function It(t,e){if(null!==e){t.Sv=!0;for(var i=e.k;i.next();){var n=i.key;n instanceof Nr&&(n.Vp=!0)}}}function zt(t,e){if(null!==e){for(var i=e.k;i.next();){var n=i.key;n instanceof Nr&&(n.Vp=!1,n.Si&&Gr(n)&&n.$b())}t.Sv=!1}}function _t(t,e){for(var i=1/0,n=1/0,o=-(1/0),r=-(1/0),s=t.k;s.next();){var a=s.value;if(a.Ld()&&a.Ja()){var h=a.location,a=h.x,h=h.y;isNaN(a)||isNaN(h)||(i>a&&(i=a),n>h&&(n=h),a>o&&(o=a),h>r&&(r=h))}}1/0===i?e.o(0,0,0,0):e.o(i,n,o-i,r-n)}function Ht(t,e){if(null===t.mc){var i=t.h;if(!(null===i||e&&(i.hb||i.ff))&&null!==t.Zb){var n=i.la;for(n.isEnabled&&n.iF?null!==n.Ni&&0<n.Ni.eh.count&&(i.la.Mp(),i.ac("Drag")):Ut(t),i.$a=!e,i.sn=!e,t.Wi=i.xc.fa,n=t.kE?t.Zb.Yi():i.selection,n=i.Po(n,i,!0),i=n.k;i.next();)i.value.location=i.key.location;i=Uh.$f(),_t(n,i),Uh.nc(i);for(var i=new v(er),o=t.Zb.k;o.next();){var r=o.key;r.Ld()&&r.canCopy()&&(r=n.Aa(r),null!==r&&(r.vf(),i.add(r,$t(r.location))))}for(n=n.k;n.next();)o=n.value,o instanceof Nr&&o.canCopy()&&i.add(o,$t());t.mc=i,Nt(t,i.Yi()),null!==t.Mc&&(i=t.Mc,n=i.gn,i.wl(t.Wi.x-(n.x+n.width/2),t.Wi.y-(n.y+n.height/2)))}}}function qt(t){var e=t.h;if(null!==e){if(null!==t.mc&&(e.UA(t.mc.Yi(),!1),t.mc=null,null!==t.Zb))for(var i=t.Zb.k;i.next();)i.key instanceof Nr&&(i.value.point=new b(0,0));e.$a=!1,e.sn=!1,t.Wi=e.xc.fa}}function Wt(t){if(null!==t.Mc){if(t.Rh&&null!==t.xi){var e=t.xi;e.h.remove(e.ie),e.h.remove(e.je)}t.Mc=null,t.xi=null}}function Gt(t,e,i){var n=t.h;if(null!==n){var o=t.Wi,r=Uh.M();r.assign(n.P.fa),t.moveParts(e,r.eu(o),i),Uh.B(r)}}function Vt(t,e,i){if(e=e.Va,null!==e){if(t=Vt(t,e,i),null!==t)return t;if(t=i.Aa(e),null!==t)return t}return null}function Ut(t){if(null!==t.Zb){for(var e=t.h,i=t.Zb.k;i.next();){var n=i.key;n.Ld()&&(n.location=i.value.point)}for(i=t.Zb.k;i.next();)if(n=i.key,n instanceof Nr&&n.Vp){var o=i.value.point;t.Zb.add(n,$t()),n.wl(-o.x,-o.y)}e.kf()}}function Kt(t,e){if(null===e)return!0;var i=e.V;return null===i||i instanceof xr||i.layer.Ac||t.Zb&&t.Zb.contains(i)||t.mc&&t.mc.contains(i)?!0:!1}function Yt(t,e,i,n){var o=t.h;if(null!==o){t.Rh&&(null!==t.Mc&&(t.Mc.Z=null,t.Mc.da=null),Zt(t,!1));var r=!1;!1===t.Nv&&(r=o.$a,o.$a=!0);var s=si(o,e,null,function(e){return!Kt(t,e)}),a=o.P;a.he=s;var h=o.$a;o.$a=!0;var l=Jt(t,a,s);if(t.qa||null!==ou){if(null===s){var u=o.HF;null!==u&&(u(a),l=!0)}(t.qa||null!==ou)&&(t.doDragOver(e,s),(t.qa||null!==ou)&&(o.$a=h,l&&o.kf(),!1===t.Nv&&(o.$a=r),(o.De||o.Fe)&&(i||n)&&un(o,a.We)))}}}function Jt(t,e,i){var n=!1,o=t.hj.length,r=o>0?t.hj[0]:null;if(i===r)return!1;e.Nc=!1;for(var s=0;o>s;s++){var a=t.hj[s],h=a.GF;if(null!==h&&(h(e,a,i),n=!0,e.Nc))break}if(t.hj.length=0,!t.qa&&null===ou||null===i)return n;for(e.Nc=!1;null!==i;)t.hj.push(i),i=Xt(i);for(o=t.hj.length,s=0;o>s&&(a=t.hj[s],h=a.FF,null===h||(h(e,a,r),n=!0,!e.Nc));s++);return n}function Xt(t){var e=t.U;return null!==e?e:t instanceof er&&!(t instanceof bs)&&(t=t.Va,null!==t&&t.WE)?t:null}function Qt(t,e,i){var n=t.xi;if(null===n)return null;var o=t.h.Qm(e,n.IA,function(t){return n.findValidLinkablePort(t,i)});t=Uh.M();for(var r=1/0,s=null,o=o.k;o.next();){var a=o.value;if(null!==a.V){var h=a.qb(al,t),h=e.Zj(h);r>h&&(s=a,r=h)}}return Uh.B(t),s}function Zt(t,e){var i=t.Mc;if(null!==i&&!(2>i.oa)){var n=t.h;if(null!==n&&!n.hb&&(n=t.xi,null!==n)){var o=null,r=null;null===i.Z&&(o=Qt(t,i.n(0),!1),null!==o&&(r=o.V));var s=null,a=null;null===i.da&&(s=Qt(t,i.n(i.oa-1),!0),null!==s&&(a=s.V));var h=n.isValidLink(r,o,a,s);e?(i.Gn=i.n(0).copy(),i.Kn=i.n(i.oa-1).copy(),i.Vp=!1,i.Z=r,null!==o&&(i.Rf=o.xd),i.da=a,null!==s&&(i.Og=s.xd)):h?ce(n,r,o,a,s):ce(n,null,null,null,null)}}}function te(t,e){var i=t.h;if(null!==i){t.Rh&&Zt(t,!0),Ot(t);var n=si(i,e,null,function(e){return!Kt(t,e)}),o=i.P;if(o.he=n,null!==n){o.Nc=!1;for(var r=n;null!==r;){var s=r.Gt;if(null!==s&&(s(o,r),o.Nc))break;r=Xt(r)}}else s=i.Gt,null!==s&&s(o);if((t.qa||null!==ou)&&(t.doDropOnto(e,n),t.qa||null!==ou))for(n=i.selection.k;n.next();)o=n.value,o instanceof Cr&&sn(i,o.ea)}}function ee(t,e,i){if(null===t.mc){var n=t.h;if(null!==n&&!n.hb&&!n.ff){n.$a=!i,n.sn=!i,t.Wi=n.P.fa,n=n.Po(e,n,!0),i=Uh.$f(),_t(e,i);var o=i.x+i.width/2,r=i.y+i.height/2;Uh.nc(i);var s=t.Pv;i=new v(er);var a=Uh.M();for(e=e.k;e.next();){var h=e.value;if(h.Ld()&&h.canCopy()){var l=h.location,h=n.Aa(h);a.o(s.x-(o-l.x),s.y-(r-l.y)),h.location=a,h.vf(),i.add(h,$t(a))}}for(Uh.B(a),n=n.k;n.next();)o=n.value,o instanceof Nr&&o.canCopy()&&i.add(o,$t());t.mc=i,Nt(t,i.Yi()),null!==t.Mc&&(i=t.Mc,n=i.gn,i.wl(t.Wi.x-(n.x+n.width/2),t.Wi.y-(n.y+n.height/2)))}}}function ie(t){this.point=t,this.xG=Bl.nk}function ne(t,e,i){this.Cc=t,this.info=e,this.OI=i}function oe(){0<arguments.length&&Uh.$c(oe),Pt.call(this),this.aD=100,this.BC=!1;var t=new Nr,e=new Fo;e.Tf=!0,e.stroke="blue",t.add(e),e=new Fo,e.ln="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.hf="Tool",this.xD=t,t=new Cr,e=new Fo,e.xd="",e.Ab="Rectangle",e.fill=null,e.stroke="magenta",e.ib=2,e.ya=Bl.Px,t.add(e),t.ik=!1,t.hf="Tool",this.vD=t,this.wD=e,t=new Cr,e=new Fo,e.xd="",e.Ab="Rectangle",e.fill=null,e.stroke="magenta",e.ib=2,e.ya=Bl.Px,t.add(e),t.ik=!1,t.hf="Tool",this.yD=t,this.zD=e,this.YC=this.XC=this.TC=this.SC=this.UC=null,this.wC=!0,this.AH=new v(Sn,"boolean"),this.bD=this.Pk=this.rD=null}function re(t,e,i,n){if(e===i)return!0;var o=e.Z;return null!==o&&o.zf&&(n.add(o),re(t,o.Nd,i,n))?!0:(e=e.da,null!==e&&e.zf&&(n.add(e),re(t,e.Nd,i,n))?!0:!1)}function se(t,e,i,n,o){if(e===i)return!0;if(null===e||null===i)return!1;for(var r=e.ue;r.next();){var s=r.value;if(s!==n&&(!o||s.Bc)&&s.da===e&&(s=s.Z,s!==e&&se(t,s,i,n,o)))return!0}return!1}function ae(t,e,i,n,o){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var r=i.ue;r.next();){var s=r.value;if(s!==o&&s.da===i&&(s=s.Z,s!==i&&ae(t,e,s,n,o)))return!0}return!1}function he(t,e,i,n,o){if(i===n)return!0;if(null===i||null===n||e.contains(i))return!1;e.add(i);for(var r=i.ue;r.next();){var s=r.value;if(s!==o){var a=s.Z,s=s.da,a=a===i?s:a;if(a!==i&&he(t,e,a,n,o))return!0}}return!1}function le(){0<arguments.length&&Uh.$c(le),oe.call(this),this.name="Linking",this.Zx={},this.Yx=null,this.ta=su,this.oz=this.nD=null}function ue(){0<arguments.length&&Uh.$c(ue),oe.call(this),this.name="Relinking";var t=new Fo;t.Ab="Diamond",t.ya=Bl.Mx,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Df=0,this.lC=t,t=new Fo,t.Ab="Diamond",t.ya=Bl.Mx,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="pointer",t.Df=-1,this.AD=t,this.cc=null,this.VC=new k}function ce(t,e,i,n,o){null!==e?(t.copyPortProperties(e,i,t.ie,t.Il,!1),t.h.add(t.ie)):t.h.remove(t.ie),null!==n?(t.copyPortProperties(n,o,t.je,t.Jl,!0),t.h.add(t.je)):t.h.remove(t.je)}function fe(){0<arguments.length&&Uh.$c(fe),Pt.call(this),this.name="LinkReshaping";var t=new Fo;t.Ab="Rectangle",t.ya=Bl.aq,t.fill="lightblue",t.stroke="dodgerblue",this.Hk=t,t=new Fo,t.Ab="Diamond",t.ya=Bl.aq,t.fill="lightblue",t.stroke="dodgerblue",this.HC=t,this.cD=3,this.Wx=this.cc=null,this.WC=new b,this.dz=null}function de(t){return t&&t.dD?t.dD:lu}function pe(t,e){Uh.l(t,Sn,fe,"setReshapingBehavior:obj"),Uh.za(e,fe,fe,"setReshapingBehavior:behavior"),t.dD=e}function ge(t,e,i,n,o,r){return r?Math.abs(e.y-i.y)<t.Lg&&Math.abs(i.y-n.y)<t.Lg&&Math.abs(n.y-o.y)<t.Lg:Math.abs(e.x-i.x)<t.Lg&&Math.abs(i.x-n.x)<t.Lg&&Math.abs(n.x-o.x)<t.Lg}function me(){0<arguments.length&&Uh.$c(me),Pt.call(this),this.name="Resizing",this.xj=new C(1,1).freeze(),this.vj=new C(9999,9999).freeze(),this.cj=new C(NaN,NaN).freeze(),this.Wq=!1,this.Jb=null;var t=new Fo;t.Fi=al,t.Ab="Rectangle",t.ya=Bl.aq,t.fill="lightblue",t.stroke="dodgerblue",t.ib=1,t.cursor="pointer",this.Hk=t,this.cc=null,this.Bv=new C,this.cz=new b,this.Gy=new C(0,0),this.Fy=new C(1/0,1/0),this.Ey=new C(1,1),this.OC=!0}function ve(t,e,i){if(null!==e)if(e.alignment.Oc()||""===e.cursor){if(e instanceof io)for(e=e.elements;e.next();)ve(t,e.value,i)}else t:{if(t=e.alignment,t.te()&&(t=al),0>=t.x)i=0>=t.y?i+225:1<=t.y?i+135:i+180;else if(1<=t.x)0>=t.y?i+=315:1<=t.y&&(i+=45);else if(0>=t.y)i+=270;else{if(!(1<=t.y))break t;i+=90}0>i?i+=360:i>=360&&(i-=360),e.cursor=22.5>i?"e-resize":67.5>i?"se-resize":112.5>i?"s-resize":157.5>i?"sw-resize":202.5>i?"w-resize":247.5>i?"nw-resize":292.5>i?"n-resize":337.5>i?"ne-resize":"e-resize"}}function ye(){0<arguments.length&&Uh.$c(ye),Pt.call(this),this.name="Rotating",this.kD=45,this.jD=2,this.Jb=null;var t=new Fo;t.Ab="Ellipse",t.ya=Bl.Mx,t.fill="lightblue",t.stroke="dodgerblue",t.ib=1,t.cursor="pointer",this.Hk=t,this.cc=null,this.Av=0,this.eD=new b}function be(){0<arguments.length&&Uh.$c(be),Pt.call(this),this.name="ClickSelecting"}function we(){0<arguments.length&&Uh.$c(we),Pt.call(this),this.name="Action",this.rn=null}function xe(){0<arguments.length&&Uh.$c(xe),Pt.call(this),this.name="ClickCreating",this.Ak=null,this.uC=!0,this.kC=new b(0,0)}function Ce(t,e,i){this.text=t,this.eE=e,this.visible=i}function ke(){0<arguments.length&&Uh.$c(ke),Pt.call(this),this.name="ContextMenu",this.Dn=this.TB=null,this.LC=new b,this.uy=this.Ln=null,Ae(this)}function Ae(e){if(e.Ln=new xr,e.BD=function(){e.stopTool()},!1===Uh.tE){var i=Uh.createElement("div"),n=Uh.createElement("div");i.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",n.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";var o=Uh.createElement("style");t.document.getElementsByTagName("head")[0].appendChild(o),o.sheet.insertRule(".defaultCXul { list-style: none; }",0),o.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),o.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),i.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),i.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),n.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),t.document.body&&(t.document.body.appendChild(i),t.document.body.appendChild(n)),Uh.dt=i,Uh.ct=n,Uh.tE=!0}}function Se(t,e,i){void 0===i&&(i=null),t.qa=!0,e&&t.standardMouseSelect(),t.standardMouseClick(),t.Dn=null,null===i&&(i=t.findObjectWithContextMenu()),null!==i?(e=i.contextMenu,null!==e?(t.Dn=i instanceof Sn?i:null,t.showContextMenu(e,t.Dn)):t.showDefaultContextMenu()):t.showDefaultContextMenu()}function Fe(){0<arguments.length&&Uh.$c(Fe),Pt.call(this),this.name="DragSelecting",this.Mn=175,this.zC=!1;var t=new er;t.hf="Tool",t.ik=!1;var e=new Fo;e.name="SHAPE",e.Ab="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.Ol=t}function Ee(){0<arguments.length&&Uh.$c(Ee),Pt.call(this),this.name="Panning",this.ez=new b,this.bj=!1;var e=this;this.pD=function(){t.document.removeEventListener("scroll",e.pD,!1),e.stopTool()}}function Te(){0<arguments.length&&Uh.$c(Te),Pt.call(this),this.name="TextEditing",this.tD=null,this.Ny=0,this.WB=this.vz=null,this.oD=vu,this.Zk=null,this.bb=yu,this.Vk=null,this.IC=1,this.hD=!0;var t=Uh.createElement("textarea");t.GB=!0,this.aC=t,t.addEventListener("input",function(){var t=this.textEditingTool,e=t.tD;e.text=this.value,Pn(e,t.Ny,1/0),this.rows=e.jJ},!1),t.addEventListener("keydown",function(t){var e=t.which,i=this.textEditingTool;if(null!==i)if(13===e)i.acceptText(mu);else{if(9===e)return i.acceptText(gu),t.preventDefault(),!1;27===e&&(i.doCancel(),null!==i.h&&i.h.focus())}},!1),t.addEventListener("focus",function(){var t=this.textEditingTool;t.bb===bu?t.bb=wu:t.bb===ku?t.bb=xu:t.bb===xu&&(t.bb=wu),"function"==typeof this.select&&t.wx&&this.select()},!1),t.addEventListener("blur",function(){"function"==typeof this.focus&&this.focus();var t=this.textEditingTool;"function"==typeof this.select&&t.wx&&this.select()},!1)}function Me(t){if(null!==t.Ng&&null!==t.Pf){var e=t.Ng,i=t.Ng.text,n=t.Pf.value,o="",o="function"==typeof n?n():n;if(!t.isValidText(t.Ng,i,o))return t.bb=wu,null!==e.kt&&e.kt(t,i,o),null===t.Vk&&(t.Vk=t.Pf.style.border,t.Pf.style.border="3px solid red"),void("function"==typeof t.Pf.focus&&t.Pf.focus());t.ac(t.name),t.bb=ku,i!==o&&(t.Ng.text=o),t.mf=t.name,e=t.h,null!==e&&e.Ba("TextEdited",t.Ng,i),t.jk(),t.stopTool(),null!==e&&e.focus()}null!==t.Vk&&(t.Pf.style.border=t.Vk,t.Vk=null)}function De(){Pt.call(this),this.name="ToolManager",this.qH=new l(Pt),this.rH=new l(Pt),this.sH=new l(Pt),this.nC=this.oC=1e3,this.dC=new C(2,2).Ma(),this.Ku=this.sy=null,this.MC=Au,this.mC=Fu}function Pe(t,e,i,n){Uh.i(e,"string",De,"replaceStandardTool:name"),Uh.l(n,l,De,"replaceStandardTool:list"),null!==i&&(Uh.l(i,Pt,De,"replaceStandardTool:newtool"),i.h&&i.h!==t.h&&Uh.m("Cannot share tools between Diagrams: "+i.toString()),i.name=e,i.Hc(t.h)),t.findTool(e)?t.replaceTool(e,i):null!==i&&n.add(i)}function Le(){this.lH=Be,this.Ul=this.Vl=this.Y=null,this.IB=this.qd=this.dr=this.nj=!1,this.Xe=!0,this.Ju=this.Iu=this.UB=null,this.py=0,this.By=600,this.uH=new b(0,0),this.KB=this.JB=this.FD=!1,this.no=new v(Sn,We)}function Be(t,e,i,n){return t/=n/2,1>t?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function Ne(t){t.Xe&&requestAnimationFrame(function(){!1===t.qd||t.nj||(t.Y.ym=1,Qe(t.Y),t.qd=!1,t.Y.Ba("AnimationStarting"),Oe(t))})}function $e(t,e,i,o,r){
if(t.qd&&(Vh&&Uh.l(e,Sn,Le,"addPropToAnimation:obj"),!(e instanceof er)||e.mA)){var s=t.no;if(s.contains(e)){e=s.Aa(e),t=e.start;var a=e.end;void 0===t[i]&&(t[i]=Re(o)),a[i]=Re(r)}else t=new n,a=new n,t[i]=Re(o),a[i]=Re(r),s.add(e,new We(t,a))}}function Re(t){return t instanceof b?t.copy():t instanceof C?t.copy():t}function Oe(t){var e;void 0===e&&(e=new n);var i=t.Y;if(null!==i)if(0===t.no.count)t.nj=!1,Xe(i,!1),i.kf();else{t.nj=!0;var o=e.zK||t.lH,r=e.NK||null,s=e.OK||null,a=e.duration||t.By;e=t.uH;for(var h=t.no.k;h.next();){var l=h.value.start.position;l instanceof b&&(l.J()||l.assign(e))}t.UB=o,t.Iu=r,t.Ju=s,t.py=a;var u=t.kH=t.no;je(t),ze(t,i,u,o,0,a,null!==t.Vl&&null!==t.Ul),mi(t.Y),Ie(t),requestAnimationFrame(function(e){var n=e||+new Date,r=n+a;!function s(e){if(!1!==t.nj){e=e||+new Date;var h=e>r?a:e-n;je(t),ze(t,i,u,o,h,a,null!==t.Vl&&null!==t.Ul),t.Iu&&t.Iu(),mi(i),Ie(t),e>r?_e(t):requestAnimationFrame(s)}}(n)})}}function je(t){if(!t.dr){var e=t.Y;t.FD=e.$a,t.JB=e.du,t.KB=e.Sp,e.$a=!0,e.du=!0,e.Sp=!0,t.dr=!0}}function Ie(t){var e=t.Y;e.$a=t.FD,e.du=t.JB,e.Sp=t.KB,t.dr=!1}function ze(t,e,i,n,o,r,s){for(i=i.k;i.next();){var a,h=i.key,l=i.value,u=l.start,l=l.end;for(a in l)void 0!==Mu[a]&&Mu[a](h,u[a],l[a],n,o,r)}s&&(s=t.Vl,t=t.Ul,a=t.y-s.y,t=n(o,s.x,t.x-s.x,r),n=n(o,s.y,a,r),o=e.Tw,e.Tw=!0,e.position=new b(t,n),e.Tw=o)}function _e(t){t.nj=!1,t.Vl=null,t.Ul=null,t.no=new v(Sn,We),je(t);for(var e=t.Y.links;e.next();){var i=e.value;null!==i.ro&&(i.points=i.ro,i.ro=null)}e=t.Y,Xe(e,!1),e.oc(),e.kf(),pi(e),Ie(t),t.Ju&&t.Ju(),t.Ju=null,t.Iu=null,e.Ba("AnimationFinished")}function He(t,e,i){var n=e.ea,o=i.ea,r=null;i instanceof bs&&(r=i.placeholder),null!==r?(i=r.qb(nl),i.x+=r.padding.left,i.y+=r.padding.top,$e(t,e,"position",i,e.position)):$e(t,e,"position",new b(o.x+o.width/2-n.width/2,o.y+o.height/2-n.height/2),e.position),$e(t,e,"opacity",.01,e.opacity)}function qe(t,e,i){t.qd&&(null===t.Vl&&e.J()&&null===t.Ul&&(t.Vl=e.copy()),t.Ul=i.copy())}function We(t,e){this.start=t,this.end=e}function Ge(){0<arguments.length&&Uh.$c(Ge),Uh.jc(this),this.Y=null,this.Hb=new l(er),this.Xb="",this.Kf=1,this.Ry=!1,this.Xk=this.Az=this.xk=this.wk=this.vk=this.uk=this.sk=this.tk=this.rk=this.zk=this.qk=this.yk=this.pk=this.ok=!0,this.Oy=!1,this.Cv=[]}function Ve(t,e,i,n){if(t.visible){e.globalAlpha=t.Kf;var o=t.Cv;o.length=0;var r=i.scale;t=t.Hb.q;for(var s=t.length,a=n.length,h=0;s>h;h++){var l=t[h];if(gr(l)||ko(l)){if(l instanceof Nr){var u=l;if(u.gc&&o.push(u),!1===u.qg)continue}var c,u=ar(l,l.ea);t:{c=u;for(var f=n,d=a,p=2/r,g=4/r,m=0;d>m;m++){var v=f[m];if(0!==v.width&&0!==v.height&&c.eF(v.x-p,v.y-p,v.width+g,v.height+g)){c=!0;break t}}c=!1}c&&(1<u.width*r||1<u.height*r?l.bf(e,i):ur(l,e))}}e.globalAlpha=1}}function Ue(e){function i(){t.document.removeEventListener("DOMContentLoaded",i,!1),Ye(n)}1<arguments.length&&Uh.m("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),Uh.jc(this),zc=[],this.yc=!0,this.bi=new Le,this.bi.Hc(this),this.Gd=17;var n=this;null!==t.document.body?Ye(this):t.document.addEventListener("DOMContentLoaded",i,!1),this.AC=!1,this.dc=new l(Ge),this.Eb=this.Fb=0,this.Fh=this.Nb=this.Sg=this.mb=null,this.aG(),this.Rq=null,this.$F(),this.Oa=new b(NaN,NaN).freeze(),this.ec=1,this.bv=new b(NaN,NaN).freeze(),this.cv=NaN,this.tv=1e-4,this.qv=100,this.Yd=new D,this.cw=new b(NaN,NaN).freeze(),this.Uu=new k(NaN,NaN,NaN,NaN).freeze(),this.lz=new M(0,0,0,0).freeze(),this.mz=Iu,this.hz=this.fz=null,this.Ml=Du,this.Bn=il,this.Lk=Du,this.Xn=il,this.dv=this.av=nl,this.fg=new c(Sn),this.Sd=!0,this.Tq=!1,this.Tl=new v(Nr,k),this.Nn=!0,this.hH=250,this.wn=-1,this.zu=new M(16,16,16,16).freeze(),this.Nu=this.Mf=!1,this.Rn=!0,this.Fk=new it,this.Lc=new it,this.Sb=new it,this.dj=null,this.Uv=-1,this.Tv=!1,this.xy=this.yy=null,nn(this),this.Pr=new c(Cr),this.$k=new c(bs),this.rr=new c(Nr),this.Hb=new c(er),this.hv=!0,this.qC=!1,this.$v=Bu,this.qj=10,this.qy=this.vy=this.xz=null,this.oy="",this.Bq="auto",this.gi=this.Bi=this.ri=this.wv=this.si=this.ti=this.ui=this.fi=this.ki=this.di=null,this.Vn=!0,this.$y=!1,this.$C={},this.Yr=0,this.Lf=[null,null],this.ey=null,this.iv=this.sn=this.wy=this.nz=this.iD=this.yi=!1,this.CC=!0,this.Py=this.Cd=!1,this.Ud=null;var o=this;this.JC=function(t){if(t.ga===o.ga&&o.Pa){o.Pa=!1;try{var e=t.td;""===t.Bf&&e===Kl&&$i(o,t.object,t.propertyName)}finally{o.Pa=!0}}},this.KC=function(t){Ni(o,t)},this.HD=!0,this.Ug=-2,this.hi=new v(Object,er),this.Dk=new v(Object,Nr),this.am=new v(Object,Array),this.Nk=!1,this.pk=this.ok=this.pu=this.Xe=!0,this.ru=this.qu=!1,this.wu=this.uu=this.xk=this.wk=this.vk=this.uk=this.sk=this.tk=this.rk=this.tu=this.zk=this.qk=this.yk=!0,this.Yl=this.yC=!1,this.vu=this.su=this.Zu=this.Yu=!0,this.Jv=this.Iv=16,this.iz=this.Hv=!1,this.kz=this.jz=this.Fj=this.Ej=null,this.$e=new M(5).freeze(),this.Mv=new c(er).freeze(),this.rv=999999999,this.$u=new c(er).freeze(),this.Mk=this.Wl=this.mi=!0,this.Jk=this.Ik=!1,this.Td=null,this.xu=!0,this.rf=!1,this.rd=null,this.RC=1,this.Iy=!1,this.mD=0,this.GD=new k(NaN,NaN,NaN,NaN).freeze(),this.Ou=new k(NaN,NaN,NaN,NaN).freeze(),this.jm=new c(bn),ti(this),this.mv=this.Wu=this.yv=this.YB=this.XB=this.ZB=this.rj=this.Gk=this.vi=null,Ke(this),this.ed=null,this.Vu=!1,this.Cn=null,this.sb=new De,this.sb.initializeStandardTools(),this.Wa=this.ww=this.sb,this.zb=new Et,this.ga=new bt,this.yi=!0,this.Lb=new Ss,this.yi=!1,this.iC=this.Ay=null,this.tf=1,this.ym=null,this.Kk=new gn,void 0!==e&&vn(this,e),this.cm=1,this.dm=0,this.EC=new b,this.DD=500,this.yu=new b,this.zs=null,this.yc=this.Sy=!1}function Ke(t){t.vi=new v("string",er);var e=new Cr,i=new $o;i.bind(new Ct("text","",tu)),e.add(i),t.ZB=e,t.vi.add("",e),e=new Cr,i=new $o,i.stroke="brown",i.bind(new Ct("text","",tu)),e.add(i),t.vi.add("Comment",e),e=new Cr,e.ik=!1,e.Oz=!1,i=new Fo,i.Ab="Ellipse",i.fill="black",i.stroke=null,i.ya=new C(3,3).Ma(),e.add(i),t.vi.add("LinkLabel",e),t.Gk=new v("string",bs),e=new bs,e.vx="GROUPPANEL",e.type=hc,i=new $o,i.font="bold 12pt sans-serif",i.bind(new Ct("text","",tu)),e.add(i),i=new io(uc),i.name="GROUPPANEL";var n=new Fo;n.Ab="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",i.add(n),n=new As,n.padding=new M(5,5,5,5).Ma(),i.add(n),e.add(i),t.XB=e,t.Gk.add("",e),t.rj=new v("string",Nr),e=new Nr,i=new Fo,i.Tf=!0,e.add(i),i=new Fo,i.ln="Standard",i.fill="black",i.stroke=null,i.ib=0,e.add(i),t.YB=e,t.rj.add("",e),e=new Nr,i=new Fo,i.Tf=!0,i.stroke="brown",e.add(i),t.rj.add("Comment",e),e=new xr,e.type=uc,i=new Fo,i.fill=null,i.stroke="dodgerblue",i.ib=3,e.add(i),i=new As,i.margin=new M(1.5,1.5,1.5,1.5).Ma(),e.add(i),t.yv=e,t.Wu=e,e=new xr,e.type=pc,i=new Fo,i.Tf=!0,i.fill=null,i.stroke="dodgerblue",i.ib=3,e.add(i),t.mv=e}function Ye(e){var i=Uh.createElement("p");i.style.width="100%",i.style.height="200px",i.style.boxSizing="content-box";var n=Uh.createElement("div");n.style.position="absolute",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.style.boxSizing="content-box",n.appendChild(i),t.document.body.appendChild(n);var o=i.offsetWidth;n.style.overflow="scroll",i=i.offsetWidth,o===i&&(i=n.clientWidth),t.document.body.removeChild(n),e.Gd=o-i}function Je(e){var i=e.mb;i.addEventListener("touchstart",e.MG,!1),i.addEventListener("touchmove",e.LG,!1),i.addEventListener("touchend",e.KG,!1),i.addEventListener("mousemove",e.Bp,!1),i.addEventListener("mousedown",e.Ap,!1),i.addEventListener("mouseup",e.Dp,!1),i.addEventListener("mousewheel",e.hh,!1),i.addEventListener("DOMMouseScroll",e.hh,!1),i.addEventListener("mouseout",e.Cp,!1),i.addEventListener("keydown",e.gJ,!1),i.addEventListener("keyup",e.hJ,!1),i.addEventListener("selectstart",function(t){return t.preventDefault(),!1},!1),i.addEventListener("contextmenu",function(t){return t.preventDefault(),!1},!1),i.addEventListener("gesturechange",function(t){e.sb.Tm===Eu&&t.preventDefault()},!1),i.addEventListener("pointerdown",e.DJ,!1),i.addEventListener("pointermove",e.FJ,!1),i.addEventListener("pointerleave",e.EJ,!1),t.addEventListener("resize",e.ZG,!1)}function Xe(t,e){t.ym=null,e&&t.RF()}function Qe(t){if(null!==t.mb){var e=t.Nb;if(0!==e.clientWidth&&0!==e.clientHeight){var i=t.Jk?t.Gd:0,n=t.Ik?t.Gd:0,o=t.tf;t.tf=t.computePixelRatio(),t.tf!==o&&(t.Tq=!0,t.Se()),(e.clientWidth!==t.Fb+i||e.clientHeight!==t.Eb+n)&&(t.Wl=!0,t.Sd=!0,e=t.Lb,null!==e&&e.Ct&&e.K(),t.Cd||t.Se())}}}function Ze(t,e,i){void 0===e&&(e=t.Sg),void 0===i&&(i=!0),i&&(e.nu=""),e.qn="",e.pn=""}function ti(t){var e=new Ge;e.name="Background",t.Ts(e),e=new Ge,e.name="",t.Ts(e),e=new Ge,e.name="Foreground",t.Ts(e),e=new Ge,e.name="Adornment",e.Ac=!0,t.Ts(e),e=new Ge,e.name="Tool",e.Ac=!0,e.nA=!0,t.Ts(e),e=new Ge,e.name="Grid",e.Ee=!1,e.Cf=!1,e.Ac=!0,t.GH(e,t.mt("Background"))}function ei(t){t.ed=new io(gc),t.ed.name="GRID";var e=new Fo;e.Ab="LineH",e.stroke="lightgray",e.ib=.5,e.interval=1,t.ed.add(e),e=new Fo,e.Ab="LineH",e.stroke="gray",e.ib=.5,e.interval=5,t.ed.add(e),e=new Fo,e.Ab="LineH",e.stroke="gray",e.ib=1,e.interval=10,t.ed.add(e),e=new Fo,e.Ab="LineV",e.stroke="lightgray",e.ib=.5,e.interval=1,t.ed.add(e),e=new Fo,e.Ab="LineV",e.stroke="gray",e.ib=.5,e.interval=5,t.ed.add(e),e=new Fo,e.Ab="LineV",e.stroke="gray",e.ib=1,e.interval=10,t.ed.add(e),e=new er,e.add(t.ed),e.hf="Grid",e.Vw=!1,e.mA=!1,e.Cf=!1,e.ix="GRID",t.add(e),t.Hb.remove(e),t.ed.visible=!1}function ii(t){if(t.Zz.J()){var e=t.Zz.copy();return e.ew(t.padding),e}for(var i=!0,n=t.dc.q,o=n.length,r=0;o>r;r++){var s=n[r];if(s.visible&&(!s.Ac||s.nA))for(var s=s.Hb.q,a=s.length,h=0;a>h;h++){var l=s[h];l.Vw&&l.Ja()&&(l=l.ea,l.J()&&(i?(i=!1,e=l.copy()):e.$h(l)))}}return i&&(e=new k(0,0,0,0)),e.ew(t.padding),e}function ni(t,e){if((e||t.rf)&&!t.yc&&null!==t.mb&&!t.Pb.fh&&t.Jd.J()){t.yc=!0;var i=t.Ml;e&&t.Lk!==Du&&(i=t.Lk);var n=i!==Du?oi(t,i):t.scale,i=t.tb.copy(),o=t.Fb/n,r=t.Eb/n,s=null,a=t.Pb;a.qd&&(s=t.Oa.copy()),t.position.Na();var h=t.Bn;e&&!h.kd()&&t.Xn.kd()&&(h=t.Xn),ri(t,t.Oa,t.Jd,o,r,h,e),t.position.freeze(),null!==s&&qe(a,s,t.Oa),t.scale=n,t.yc=!1,n=t.tb,n.Ne(i)||t.Nt(i,n)}}function oi(t,e){var i=t.zb.it;if(null===t.mb)return i;t.mi&&Xi(t,t.tg());var n=t.Jd;if(!n.J())return i;var o=n.width,n=n.height,r=t.Fb,s=t.Eb,a=r/o,h=s/n;return e===Pu?(o=Math.min(h,a),o>i&&(o=i),o<t.Dg&&(o=t.Dg),o>t.Cg&&(o=t.Cg),o):e===Lu?(o=h>a?(s-t.Gd)/n:(r-t.Gd)/o,o>i&&(o=i),o<t.Dg&&(o=t.Dg),o>t.Cg&&(o=t.Cg),o):t.scale}function ri(t,e,i,n,o,r,s){var a=e.x,h=e.y;(s||t.bB===Iu)&&(r.kd()&&(n>i.width&&(a=i.x+(r.x*i.width+r.offsetX)-(r.x*n-r.offsetX)),o>i.height&&(h=i.y+(r.y*i.height+r.offsetY)-(r.y*o-r.offsetY))),r=t.aB,s=n-i.width,n<i.width+r.left+r.right?(a=Math.min(a+n/2,i.right+Math.max(s,r.right)-n/2),a=Math.max(a,i.left-Math.max(s,r.left)+n/2),a-=n/2):a>i.left?a=i.left:a<i.right-n&&(a=i.right-n),n=o-i.height,o<i.height+r.top+r.bottom?(h=Math.min(h+o/2,i.bottom+Math.max(n,r.bottom)-o/2),h=Math.max(h,i.top-Math.max(n,r.top)+o/2),h-=o/2):h>i.top?h=i.top:h<i.bottom-o&&(h=i.bottom-o)),e.x=isFinite(a)?a:-t.padding.left,e.y=isFinite(h)?h:-t.padding.top,null!==t.JA&&(t=t.JA(t,e),e.x=t.x,e.y=t.y)}function si(t,e,i,n){for(void 0===i&&(i=null),void 0===n&&(n=null),yi(t),t=t.dc.Zm;t.next();){var o=t.value;if(o.visible&&!o.Ac&&(o=o.qe(e,i,n),null!==o))return o}return null}function ai(t){-1!==t.Uv&&(Uh.clearTimeout(t.Uv),t.Uv=-1)}function hi(t,e){var i=e.copy();t.Uv=Uh.setTimeout(function(){i.button=2,t.P=i,t.Tv=!0,t.doMouseUp()},850)}function li(t,e,i,n,o){n.h=e,o?di(t,i,n):(n.We=e.Sb.We,n.fa=e.Sb.fa),t=0,i.ctrlKey&&(t+=1),i.altKey&&(t+=2),i.shiftKey&&(t+=4),i.metaKey&&(t+=8),n.Zc=t,n.button=i.button,Uh.Xm&&0===i.button&&i.ctrlKey&&(n.button=2),n.ak=!1,n.up=!1,n.Je=1,n.Yj=0,n.Nc=!1,n.bubbles=!1,n.event=i,n.timestamp=Date.now(),n.At=!1,n.Zf=i.target.Y?i.target.Y:null,n.he=null}function ui(t,e,i,n,o){n.h=t,di(t,i,n),n.Zc=0,n.button=0,n.ak=!0,n.up=!1,n.Je=1,n.Yj=0,n.Nc=!1,n.bubbles=!0,n.event=e,n.timestamp=Date.now(),n.At=o,n.Zf=e.target.Y?e.target.Y:null,n.he=null,t.Fk=n.copy(),ou=null}function ci(e,i,n,o,r){var s=null;if(o.h=e,null!==n){var a,s=t.document.elementFromPoint(n.clientX,n.clientY);s&&s.Y?a=s.Y:(n=i.changedTouches[0],a=e),di(e,n,o)}else null!==e.Lc?(o.fa=e.Lc.fa,o.We=e.Lc.We,o.Zf=e.Lc.Zf):null!==e.Fk&&(o.fa=e.Fk.fa,o.We=e.Fk.We,o.Zf=e.Fk.Zf);o.Zc=0,o.button=0,o.ak=!1,o.up=!1,o.Je=1,o.Yj=0,o.Nc=!1,o.bubbles=!1,o.event=i,o.timestamp=Date.now(),o.At=r,o.Zf=a,o.he=null}function fi(t,e,i){return e.bubbles?(Vh&&Vh.VE&&Uh.trace("NOT handled "+i.type+" "+e.toString()),!0):(Vh&&Vh.VE&&Uh.trace("handled "+i.type+" "+t.Wa.name+" "+e.toString()),void 0!==i.stopPropagation&&i.stopPropagation(),(void 0===i.touches||2>i.touches.length)&&i.preventDefault(),i.cancelBubble=!0,!1)}function di(t,e,i){var n=t.mb,o=t.Fb,r=t.Eb,s=0,a=0;null!==n&&(n=n.getBoundingClientRect(),s=e.clientX-o/n.width*n.left,a=e.clientY-r/n.height*n.top),i.We.o(s,a),null!==t.Yd?(e=Uh.ic(s,a),t.Yd.Th(e),i.fa.assign(e),Uh.B(e)):i.fa.o(s,a)}function pi(t){for(t.Cd||yi(t),t.mi&&Xi(t,t.tg()),t=t.jm.k;t.next();)pi(t.value)}function gi(t,e){t.yc||!t.Wl||Ti(t)||(e&&yi(t),ni(t,!1))}function mi(t){if(!t.Cd&&(t.Mf=!1,null!==t.Nb)){t.Cd=!0;var e=t.bi,i=!1,n=!1;e.fh&&(n=!0,i=t.$a,t.$a=!0),e.qd||Qe(t),gi(t,!1),null!==t.ed&&(t.ed.visible&&!t.Vu&&(Pi(t),t.Vu=!0),!t.ed.visible&&t.Vu&&(t.Vu=!1)),yi(t),0!==t.Tl.count&&(ki(t),yi(t));var o=!1;(!t.rf||t.xu)&&(t.rf?tn(t,!t.Nu):(t.ac("Initial Layout"),!1===e.isEnabled&&e.Xi(),tn(t,!1)),o=!0),t.Nu=!1,yi(t),t.nz||e.fh||pi(t),o&&(t.rf||(e=t.dc.q,t.Ef(e,e.length,t),vi(t),Pi(t)),t.Ba("LayoutCompleted")),yi(t),gi(t,!0),o&&!t.rf&&(t.rf=!0,t.$d("Initial Layout"),t.$a||t.la.clear(),Uh.setTimeout(function(){t.gh=!1},1)),t.bf(),n&&(t.$a=i),t.Cd=!1}}function vi(t){if(t.Lk!==Du)t.scale=oi(t,t.Lk);else if(t.Ml!==Du)t.scale=oi(t,t.Ml);else{var e=t.bF;isFinite(e)&&e>0&&(t.scale=e)}if(t.mi&&Xi(t,t.tg()),e=t.aF,e.J())t.position=e;else{e=Uh.M(),e.bu(t.Jd,t.$E);var i=t.tb,i=Uh.lk(0,0,i.width,i.height),n=Uh.M();n.bu(i,t.cF),t.position=new b(e.x-n.x,e.y-n.y),Uh.nc(i),Uh.B(n),Uh.B(e),ni(t,!0)}t.Ba("InitialLayoutCompleted")}function yi(t){if((t.Cd||!t.Pb.fh)&&0!==t.fg.count)for(var e=0;23>e;e++){var i=t.fg.k;if(null===i||0===t.fg.count)break;t.fg=new c(Sn);var n=t,o=t.fg;for(i.reset();i.next();){var r=i.value;!r.Ld()||r instanceof bs||!r.Ja()||(r.tl()?(Pn(r,1/0,1/0),r.Fc()):o.add(r))}for(i.reset();i.next();)r=i.value,r instanceof bs&&r.Ja()&&bi(n,r);for(i.reset();i.next();)r=i.value,r instanceof Nr&&(n=r,n.Ja()&&(n.tl()?(Pn(n,1/0,1/0),n.Fc(),n.Et()):o.add(n)));for(i.reset();i.next();)n=i.value,n instanceof xr&&n.Ja()&&(n.tl()?(Pn(n,1/0,1/0),n.Fc()):o.add(n));Vh&&22===e&&Uh.trace("failure to validate parts")}}function bi(t,e){for(var i=Uh.lb(),n=Uh.lb(),o=e.Qc;o.next();){var r=o.value;r.Ja()&&(r instanceof bs?(Un(r)||Yn(r)||fr(r))&&bi(t,r):r instanceof Nr?r.Z==e||r.da==e?n.push(r):i.push(r):(Pn(r,1/0,1/0),r.Fc()))}for(var o=i.length,s=0;o>s;s++)r=i[s],Pn(r,1/0,1/0),r.Fc();for(Uh.xa(i),Pn(e,1/0,1/0),e.Fc(),o=n.length,s=0;o>s;s++)r=n[s],Pn(r,1/0,1/0),r.Fc();Uh.xa(n)}function wi(t,e,i,n,o){null===t.Nb&&Uh.m("No div specified");var r=t.mb;null===r&&Uh.m("No canvas specified");var s=t.Sg;if(t.Sd){Fi(t);var a=t.tf;Uh.Wm?(r.width=r.width,Ze(t,s)):(s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.Fb*a,t.Eb*a)),s.YE=!1,s.drawImage(t.Ay.Kd,n>0?0:Math.round(-n),o>0?0:Math.round(-o)),o=t.Oa;var r=t.ec,h=Math.round(o.x*r)/r,l=Math.round(o.y*r)/r;for(n=t.Yd,n.reset(),1!==r&&n.scale(r),0===o.x&&0===o.y||n.translate(-h,-l),s.save(),s.beginPath(),o=i.length,r=0;o>r;r++)h=i[r],0!==h.width&&0!==h.height&&s.rect(Math.floor(h.x),Math.floor(h.y),Math.ceil(h.width),Math.ceil(h.height));for(s.clip(),s.setTransform(1,0,0,1,0,0),s.scale(a,a),s.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Vh&&Vh.Pz&&Vh.DI(t,s),i=t.dc.q,o=i.length,t.Ef(i,o,t),Ci(t,s),r=0;o>r;r++)Ve(i[r],s,t,e);s.restore(),Ze(t),t.Kk?t.Kk.Kl(t)&&t.Vx():t.Mq=function(){return new b(0,0)},t.Mk=!1,t.Sd=!1,t.RF()}}function xi(t,e,i,n,o,r,s,a,h,l){null===t.Nb&&Uh.m("No div specified"),null===t.mb&&Uh.m("No canvas specified"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===h&&(h=!1),void 0===l&&(l=!1),Fi(t),Ze(t),Si(t),t.Py=!0;var u=new k(r.x,r.y,n.width/o,n.height/o),f=u.copy();f.ew(i),Pi(t,f),yi(t);var f=t.dc.q,d=f.length;t.Ef(f,d,t,u);var p=t.tf;if(e.setTransform(1,0,0,1,0,0),e.scale(p,p),e.clearRect(0,0,n.width,n.height),null!==a&&""!==a&&(e.fillStyle=a,e.fillRect(0,0,n.width,n.height)),n=Uh.mh(),n.reset(),n.translate(i.left,i.top),n.scale(o),0===r.x&&0===r.y||n.translate(-r.x,-r.y),e.setTransform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Uh.df(n),Ci(t,e),null!==s){var g=new c(Sn);for(i=s.k,i.reset();i.next();)o=i.value,!1===l&&"Grid"===o.layer.name||null===o||g.add(o);i=function(i){var n=h;if(i.visible&&(void 0===n&&(n=!0),n||!i.Ac)){e.globalAlpha=i.Kf,n=i.Cv,n.length=0;var o=t.scale;i=i.Hb.q;for(var r=i.length,s=0;r>s;s++){var a=i[s];if((gr(a)||ko(a))&&g.contains(a)){if(a instanceof Nr){var l=a;if(l.gc&&n.push(l),!1===l.qg)continue}l=a.ea,1<l.width*o||1<l.height*o?a.bf(e,t):ur(a,e)}}e.globalAlpha=1}}}else if(!h&&l){var m=t.ep.V,v=m.layer;i=function(i){i===v?m.bf(e,t):i.bf(e,t,u,h,l)}}else i=function(i){i.bf(e,t,u,h,l)};for(o=0;d>o;o++)i(f[o]);t.Py=!1,t.Kk?t.Kk.Kl(t)&&t.Vx():t.Mq=function(){return new b(0,0)},Ze(t),Si(t),t.Ef(f,d,t),Pi(t)}function Ci(t,e){var i=t.Fh;if(null!==i){if(void 0!==i.imageSmoothingEnabled){var n=!!i.imageSmoothingEnabled;e.YE=n,e.MK=n}i=i.defaultFont,void 0!==i&&null!==i&&(e.font=i,e.nu=i)}}function ki(t){if(0===t.la.Ve){for(var e=t.Tl.k;e.next();){var i=e.key,n=e.value;i.re(),es(i,n)}t.Tl.clear()}}function Ai(t){!1===t.Wl&&(t.Wl=!0)}function Si(t){!1===t.Mk&&(t.Mk=!0)}function Fi(t){!1!==t.Tq&&(t.Tq=!1,Ei(t,t.Fb,t.Eb))}function Ei(t,e,i){var n=t.mb,o=t.tf,r=e*o,o=i*o;(n.width!==r||n.height!==o)&&(n.width=r,n.height=o,n.style.width=e+"px",n.style.height=i+"px",t.Sd=!0,Ze(t))}function Ti(t){var e=t.mb;if(null===e)return!0;var i=t.Nb,n=t.Fb,o=t.Eb,r=t.GD.copy(),s=!1,a=t.Jk?t.Gd:0,h=t.Ik?t.Gd:0,l=i.clientWidth||n+a,i=i.clientHeight||o+h;if((l!==n+a||i!==o+h)&&(t.Jk=!1,t.Ik=!1,h=a=0,t.Fb=l,t.Eb=i,s=t.Tq=!0),t.Wl=!1,t.Pb.fh)return s?(t.Pb.Xi(),t.zI(),!1):!0;var u=t.tb,c=t.Jd,l=c.width,i=c.height,f=u.width,d=u.height,p=c.x,g=u.x,m=c.right,a=u.right+a,v=c.y,y=u.y,c=c.bottom,h=u.bottom+h,w=u="1px",x=t.scale;t.Nw&&t.De&&(u=1,g>p+1&&(u=Math.max((g-p)*x+t.Fb,u)),m>a+1&&(u=Math.max((m-a)*x+t.Fb,u)),l>f+1&&(u=Math.max((l-f)*x+t.Fb,u)),u+="px"),t.Ow&&t.Fe&&(w=1,y>v+1&&(w=Math.max((y-v)*x+t.Eb,w)),c>h+1&&(w=Math.max((c-h)*x+t.Eb,w)),i>d+1&&(w=Math.max((i-d)*x+t.Eb,w)),w+="px");var C="1px"!==u,k="1px"!==w;return((!C||!k)&&C||k)&&(k&&(a-=t.Gd),C&&(h-=t.Gd),t.Nw&&t.De&&(u=1,g>p+1&&(u=Math.max((g-p)*x+t.Fb,u)),m>a+1&&(u=Math.max((m-a)*x+t.Fb,u)),l>f+1&&(u=Math.max((l-f)*x+t.Fb,u)),u+="px"),t.Ow&&t.Fe&&(w=1,y>v+1&&(w=Math.max((y-v)*x+t.Eb,w)),c>h+1&&(w=Math.max((c-h)*x+t.Eb,w)),i>d+1&&(w=Math.max((i-d)*x+t.Eb,w)),w+="px"),C="1px"!==u,k="1px"!==w),t.Hv&&C===t.Ik&&k===t.Jk?(n===t.Fb&&o===t.Eb||t.kf(),!1):(C!==t.Ik&&(t.Eb="1px"===u?t.Eb+t.Gd:Math.max(t.Eb-t.Gd,1),s=!0),t.Ik=C,t.jz.style.width=u,k!==t.Jk&&(t.Fb="1px"===w?t.Fb+t.Gd:Math.max(t.Fb-t.Gd,1),s=!0,t.AC&&(k?(e.style.left=t.Gd+"px",t.position=new b(t.Oa.x+t.Gd/t.scale,t.Oa.y)):(e.style.left="0px",t.position=new b(t.Oa.x-t.Gd/t.scale,t.Oa.y)))),t.Jk=k,t.kz.style.height=w,t.Nw&&t.De&&(l>f+1?t.Ej.scrollLeft=(t.position.x-p)*x:g>p+1?t.Ej.scrollLeft=t.Ej.scrollWidth-t.Ej.clientWidth:m>a+1&&(t.Ej.scrollLeft=t.position.x*x)),t.Ow&&t.Fe&&(i>d+1?t.Fj.scrollTop=(t.position.y-v)*x:y>v+1?t.Fj.scrollTop=t.Fj.scrollHeight-t.Fj.clientHeight:c>h+1&&(t.Fj.scrollTop=t.position.y*x)),s&&(t.Tq=!0),l=t.Fb,i=t.Eb,t.Fj.style.height=i+"px",t.Fj.style.width=l+(t.Jk?t.Gd:0)+"px",t.Ej.style.width=l+"px",t.Ej.style.height=i+(t.Ik?t.Gd:0)+"px",t.iz=!1,n!==l||o!==i||t.Pb.qd?(u=t.tb,t.Nt(r,u,s),!1):!0)}function Mi(t,e,i){if(Uh.l(e,Ge,Ue,"addLayer:layer"),null!==e.h&&e.h!==t&&Uh.m("Cannot share a Layer with another Diagram: "+e+" of "+e.h),null===i?null!==e.h&&Uh.m("Cannot add an existing Layer to this Diagram again: "+e):(Uh.l(i,Ge,Ue,"addLayer:existingLayer"),i.h!==t&&Uh.m("Existing Layer must be in this Diagram: "+i+" not in "+i.h),e===i&&Uh.m("Cannot move a Layer before or after itself: "+e)),e.h!==t){e=e.name,t=t.dc,i=t.count;for(var n=0;i>n;n++)t.na(n).name===e&&Uh.m("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function Di(t,e,i){if(t.yc||t.Cd)t.ec=i;else if(t.yc=!0,null===t.mb)t.ec=i;else{var n=t.tb.copy(),o=t.Fb,r=t.Eb;n.width=t.Fb/e,n.height=t.Eb/e;var s=t.Ll.copy();if(isNaN(s.x))switch(t.qw){case bl:s.x=0;break;case wl:s.x=o-1;break;case al:s.x=o/2;break;case il:case Ll:s.x=o/2}if(isNaN(s.y))switch(t.qw){case yl:s.y=0;break;case xl:s.y=r-1;break;case al:s.y=r/2;break;case il:case Ll:s.y=r/2}null!==t.$A&&(i=t.$A(t,i)),i<t.Dg&&(i=t.Dg),i>t.Cg&&(i=t.Cg),t.position=new b(t.Oa.x+s.x/e-s.x/i,t.Oa.y+s.y/e-s.y/i),t.yc=!1,t.ec=i,t.Nt(n,t.tb),ni(t,!1),t.pa(),Ai(t)}}function Pi(t,e){void 0===e&&(e=null);var i=t.ed;if(null!==i&&i.visible){for(var n=Uh.Hl(),o=1,r=1,s=i.Ga.q,a=s.length,h=0;a>h;h++){var l=s[h],u=l.interval;2>u||(ao(l.Ab)?r=r*u/Bl.ME(r,u):o=o*u/Bl.ME(o,u))}if(s=i.rt,n.o(r*s.width,o*s.height),s=r=h=a=0,null!==e)a=e.width,h=e.height,r=e.x,s=e.y;else{for(o=Uh.$f(),r=t.tb,o.o(r.x,r.y,r.width,r.height),s=t.jm.k;s.next();)r=s.value.tb,r.J()&&T(o,r.x,r.y,r.width,r.height);if(a=o.width,h=o.height,r=o.x,s=o.y,!o.J())return}i.width=a+2*n.width,i.height=h+2*n.height,o=Uh.M(),Bl.nt(r,s,0,0,n.width,n.height,o),o.offset(-n.width,-n.height),Uh.dk(n),i.V.location=o,Uh.B(o)}}function Li(t){if(t=t.selection,0<t.count){for(var e=t.Ue(),i=e.length,n=0;i>n;n++)e[n].Za=!1;t.Na(),t.clear(),t.freeze()}}function Bi(t){var e=t.gh;t.HD!==e&&(t.HD=e,t.Ba("Modified"))}function Ni(t,e){if(e.ga===t.ga){var i=e.td,n=e.propertyName;if(i===Ul&&"S"===n[0])if("StartingFirstTransaction"===n)i=t.sb,i.lf.each(function(e){e.Hc(t)}),i.Uf.each(function(e){e.Hc(t)}),i.Vf.each(function(e){e.Hc(t)}),t.Cd||t.rf||(t.Nu=!0,t.Rn&&(t.Mf=!0),t.bi.zl());else if("StartingUndo"===n||"StartingRedo"===n){var o=t.Pb;o.fh&&!t.$a&&o.Xi(),t.Ba("ChangingSelection")}else"StartedTransaction"===n&&(o=t.Pb,o.fh&&!t.$a&&o.Xi(),t.iv&&o.zl());else if(t.Pa){t.Pa=!1;try{var r=e.Bf;if(""!==r)if(i===Kl){if("linkFromKey"===r){var s=e.object,a=t.vg(s);if(null!==a){var h=e.newValue,l=t.cf(h);a.Z=l}}else if("linkToKey"===r)s=e.object,a=t.vg(s),null!==a&&(h=e.newValue,l=t.cf(h),a.da=l);else if("linkFromPortId"===r){if(s=e.object,a=t.vg(s),null!==a){var u=e.newValue;"string"==typeof u&&(a.Rf=u)}}else if("linkToPortId"===r)s=e.object,a=t.vg(s),null!==a&&(u=e.newValue,"string"==typeof u&&(a.Og=u));else if("nodeGroupKey"===r){var s=e.object,c=t.Sh(s);if(null!==c){var f=e.newValue;if(void 0!==f){var d=t.cf(f);c.Va=d instanceof bs?d:null}else c.Va=null}}else if("linkLabelKeys"===r){if(s=e.object,a=t.vg(s),null!==a){var p=e.oldValue,g=e.newValue;if(Uh.isArray(p))for(var m=Uh.ub(p),v=0;m>v;v++){var y=Uh.jb(p,v),l=t.cf(y);null!==l&&(l.Nd=null)}if(Uh.isArray(g))for(m=Uh.ub(g),v=0;m>v;v++)y=Uh.jb(g,v),l=t.cf(y),null!==l&&(l.Nd=a)}}else if("nodeParentKey"===r){var b=e.object,w=t.cf(e.newValue),x=t.Hw(b);if(null!==x){var C=x.pt();null!==C?null===w?t.remove(C):t.ld?C.Z=w:C.da=w:qi(t,w,x)}}else if("parentLinkCategory"===r){var b=e.object,x=t.Hw(b),k=e.newValue;null!==x&&"string"==typeof k&&(C=x.pt(),null!==C&&(C.Wc=k))}else if("nodeCategory"===r){var s=e.object,A=t.Sh(s),k=e.newValue;null!==A&&"string"==typeof k&&(A.Wc=k)}else if("linkCategory"===r){var s=e.object,S=t.vg(s),k=e.newValue;null!==S&&"string"==typeof k&&(S.Wc=k)}else if("nodeDataArray"===r){var F=e.oldValue;Ui(t,F);var E=e.newValue;Ii(t,E)}else"linkDataArray"===r&&(F=e.oldValue,Ui(t,F),E=e.newValue,Wi(t,E));t.gh=!0}else i===Yl?(E=e.newValue,"nodeDataArray"===r&&Uh.Xa(E)?zi(t,E):"linkDataArray"===r&&Uh.Xa(E)?Gi(t,E):"linkLabelKeys"===r&&dt(E)&&(a=t.vg(e.object),l=t.cf(E),null!==a&&null!==l&&(l.Nd=a)),t.gh=!0):i===Jl?(F=e.oldValue,"nodeDataArray"===r&&Uh.Xa(F)?Ki(t,F):"linkDataArray"===r&&Uh.Xa(F)?Ki(t,F):"linkLabelKeys"===r&&dt(F)&&(l=t.cf(F),null!==l&&(l.Nd=null)),t.gh=!0):i===Ul&&("SourceChanged"===r?$i(t,e.object,e.propertyName):"ModelDisplaced"===r&&t.Al());else if(i===Kl){var T=e.propertyName,s=e.object;s===t.ga?("nodeKeyProperty"===T||"nodeCategoryProperty"===T||"linkFromKeyProperty"===T||"linkToKeyProperty"===T||"linkFromPortIdProperty"===T||"linkToPortIdProperty"===T||"linkLabelKeysProperty"===T||"nodeIsGroupProperty"===T||"nodeGroupKeyProperty"===T||"nodeParentKeyProperty"===T||"linkCategoryProperty"===T)&&(t.la.Cb||t.Al()):$i(t,s,T),t.gh=!0}else i===Yl||i===Jl?(Ri(t,e),t.gh=!0):i===Ul&&(("FinishedUndo"===n||"FinishedRedo"===n)&&(t.la.ni=!0,t.Ba("ChangedSelection"),yi(t),t.la.ni=!1),t.Nu=!0,t.kf(),o=t.bi,o.qd&&0===t.la.Ve&&Ne(o),"CommittedTransaction"===n&&t.la.Ty&&(t.Ug=Math.min(t.Ug,t.la.Ri-1)),Bi(t),t.$y||"CommittedTransaction"!==n&&"FinishedUndo"!==n&&"FinishedRedo"!==n||(t.$y=!0,Uh.setTimeout(function(){t.Wa.standardMouseOver(),t.$y=!1},10)))}finally{t.Pa=!0}}}}function $i(t,e,i){if("string"==typeof i){var n=t.Sh(e);if(null!==n)n.Rb(i),t.ga instanceof xt&&(n=t.vg(e),null!==n&&n.Rb(i));else{for(var n=null,o=t.am.k;o.next();){for(var r=o.value,s=0;s<r.length;s++){var a=r[s];null!==a.gg&&(a=a.gg.Aa(e),null!==a&&(null===n&&(n=Uh.lb()),n.push(a)))}if(null!==n)break}if(null!==n){for(o=0;o<n.length;o++)n[o].Rb(i);Uh.xa(n)}}e===t.ga.zp&&t.eK(i)}}function Ri(t,e){var i=e.td===Yl,n=i?e.Wf:e.Yf,o=i?e.newValue:e.oldValue,r=t.am.Aa(e.object);if(Array.isArray(r))for(var s=0;s<r.length;s++){var a=r[s];if(i)xo(a,o,n);else{var h=n;if(!(0>h)){var l=h;wo(a)&&l++,a.ef(l),Co(a,l,h)}}}}function Oi(t,e){var i=e.oi;if(Uh.isArray(i)){var n=t.am.Aa(i);if(null===n)n=[],n.push(e),t.am.add(i,n);else{for(i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)}}}function ji(t,e){var i=e.oi;if(Uh.isArray(i)){var n=t.am.Aa(i);if(null!==n)for(var o=0;o<n.length;o++)if(n[o]===e){n.splice(o,1),0===n.length&&t.am.remove(i);break}}}function Ii(t,e){if(null!==e){for(var i=t.ga,n=Uh.ub(e),o=0;n>o;o++){var r=Uh.jb(e,o);i.oe(r)?zi(t,r,!1):i instanceof bt&&Gi(t,r)}if(i instanceof bt||i instanceof xt){for(o=0;n>o;o++)r=Uh.jb(e,o),i.oe(r)&&Hi(t,r);if(i instanceof bt)for(i=t.links;i.next();)$r(i.value)}Qi(t,!1)}}function zi(t,e,i){if(void 0!==e&&null!==e&&!t.la.Cb&&!t.hi.contains(e)){void 0===i&&(i=!0);var n=t.cA(e),o=_i(t,e,n);null!==o&&(bo(o),o=o.copy(),null!==o&&(o.ci=n,t.sn&&(o.Ok="Tool"),t.add(o),o.data=e,i&&Hi(t,e)))}}function _i(t,e,i){var n=!1,o=t.ga;return o instanceof bt&&(n=o.rA(e)),n?(e=t.Lw.Aa(i),null===e&&(e=t.Lw.Aa(""),null===e&&(Hu||(Hu=!0,Uh.trace('No Group template found for category "'+i+'"'),Uh.trace("  Using default group template")),e=t.XB))):(e=t.kx.Aa(i),null===e&&(e=t.kx.Aa(""),null===e&&(_u||(_u=!0,Uh.trace('No Node template found for category "'+i+'"'),Uh.trace("  Using default node template")),e=t.ZB))),e}function Hi(t,e){var i=t.ga;if(i instanceof bt||i instanceof xt){var n=i.Bb(e);if(void 0!==n){var o=mt(i,n),r=t.Sh(e);if(null!==o&&null!==r){for(o=o.k;o.next();){var s=o.value;if(i instanceof bt){var a=i;if(a.oe(s)){if(r instanceof bs&&a.Um(s)===n){var h=r,s=t.Sh(s);null!==s&&(s.Va=h)}}else{var l=t.vg(s);if(null!==l&&r instanceof Cr&&(h=r,a.nl(s)===n&&(l.Z=h),a.ql(s)===n&&(l.da=h),s=a.fk(s),Uh.isArray(s)))for(a=0;a<Uh.ub(s);a++)if(Uh.jb(s,a)===n){h.Nd=l;break}}}else i instanceof xt&&(l=i,l.oe(s)&&r instanceof Cr&&(h=r,l.Vm(s)===n&&(s=t.Hw(s),qi(t,h,s))))}gt(i,n)}i instanceof bt?(i=i.Um(e),void 0!==i&&(i=t.cf(i),i instanceof bs&&(r.Va=i))):i instanceof xt&&(i=i.Vm(e),void 0!==i&&r instanceof Cr&&(h=r,r=t.cf(i),qi(t,r,h)))}}}function qi(t,e,i){if(null!==e&&null!==i){var n=t.sb.yA,o=e,r=i;if(t.ld){for(e=r.ue;e.next();)if(e.value.da===r)return}else for(o=i,r=e,e=o.ue;e.next();)if(e.value.Z===o)return;null!==n&&se(n,o,r,null,!0)||(n=t.Kw(i.data),e=Vi(t,n),null!==e&&(bo(e),e=e.copy(),null!==e&&(e.ci=n,e.Z=o,e.da=r,t.add(e),e.data=i.data)))}}function Wi(t,e){if(null!==e){for(var i=Uh.ub(e),n=0;i>n;n++){var o=Uh.jb(e,n);Gi(t,o)}Qi(t,!1)}}function Gi(t,e){if(void 0!==e&&null!==e&&!t.la.Cb&&!t.Dk.contains(e)){var i=t.Kw(e),n=Vi(t,i);if(null!==n&&(bo(n),n=n.copy(),null!==n)){n.ci=i;var i=t.ga,o=i.KI(e);if(""!==o&&(n.Rf=o),o=i.nl(e),void 0!==o&&(o=t.cf(o),o instanceof Cr&&(n.Z=o)),o=i.NI(e),""!==o&&(n.Og=o),o=i.ql(e),void 0!==o&&(o=t.cf(o),o instanceof Cr&&(n.da=o)),i=i.fk(e),Uh.isArray(i))for(var o=Uh.ub(i),r=0;o>r;r++){var s=Uh.jb(i,r),s=t.cf(s);null!==s&&(s.Nd=n)}t.add(n),n.data=e}}}function Vi(t,e){var i=t.hx.Aa(e);return null===i&&(i=t.hx.Aa(""),null===i&&(qu||(qu=!0,Uh.trace('No Link template found for category "'+e+'"'),Uh.trace("  Using default link template")),i=t.YB)),i}function Ui(t,e){for(var i=Uh.ub(e),n=0;i>n;n++){var o=Uh.jb(e,n);Ki(t,o)}}function Ki(t,e){if(void 0!==e&&null!==e){var i=t.Sh(e);if(null!==i){i.Za=!1,i.Ag=!1;var n=i.layer;if(null!==n&&n.h===t){var o=t.ga;if(o instanceof bt&&i instanceof Cr){var r=i,s=o.Bb(r.data);if(void 0!==s){for(var a=r.ue;a.next();)pt(o,s,a.value.data);if(r.zf&&(a=r.Nd,null!==a&&pt(o,s,a.data)),r instanceof bs)for(r=r.Qc;r.next();)a=r.value.data,o.oe(a)&&pt(o,s,a)}}else if(o instanceof xt&&i instanceof Cr){if(r=i,a=t.vg(r.data),null!==a){a.Za=!1,a.Ag=!1;var h=a.layer;if(null!==h){var l=h.ef(-1,a,!1);l>=0&&t.Gc(Jl,"parts",h,a,null,l,null),l=a.np,null!==l&&l(a,h,null)}}for(a=t.ld,r=r.ue;r.next();)h=r.value,h=(a?h.da:h.Z).data,o.oe(h)&&pt(o,s,h)}o=n.ef(-1,i,!1),o>=0&&t.Gc(Jl,"parts",n,i,null,o,null),o=i.np,null!==o&&o(i,n,null)}}}}function Yi(t,e,i){for(var n in i){var o=e[n],r=i[n];if(Uh.isArray(r)){if(!Uh.isArray(o)||o.length>=r.length)return!1;for(var s=0;s<o.length;s++){var a=o[s],h=r[s];if(void 0!==h&&!Ji(t,a,h))return!1}}else if(!Ji(t,o,r))return!1}return!0}function Ji(t,e,i){if("function"==typeof i){if(!i(e))return!1}else if(i instanceof RegExp){if(!e||!i.test(e.toString()))return!1}else if(Uh.Xa(e)&&Uh.Xa(i)){if(!Yi(t,e,i))return!1}else if(e!==i)return!1;return!0}function Xi(t,e){t.mi=!1;var i=t.Ou;i.L(e)||(e=e.ba(),t.Ou=e,ni(t,!1),t.Ba("DocumentBoundsChanged",null,i.copy()),Ai(t))}function Qi(t,e){for(var i=t.$k.k;i.next();)Zi(t,i.value,e);null!==t.Lb&&(e?t.Lb.gf=!1:t.Lb.K())}function Zi(t,e,i){if(null!==e){for(var n=e.lo.k;n.next();)Zi(t,n.value,i);null!==e.Lb&&(i?e.Lb.gf=!1:e.Lb.K())}}function tn(t,e){if(!t.wy){var i=t.Lb,n=t.iv;t.iv=!0;var o=t.Pa;t.Pa=!0;try{t.ac("Layout");for(var r=t.$k.k;r.next();)en(t,r.value,e);i.gf||e&&!i.wA||(i.doLayout(t),yi(t),i.gf=!0)}finally{t.$d("Layout"),t.xu=!i.gf,t.iv=n,t.Pa=o}}}function en(t,e,i){if(null!==e){for(var n=e.lo.k;n.next();)en(t,n.value,i);n=e.Lb,null===n||n.gf||i&&!n.wA||(e.az=!e.location.J(),n.doLayout(e),e.K(Wc),n.gf=!0,bi(t,e))}}function nn(t){function e(t){var e=t.toLowerCase(),o=new l("function");i.add(t,o),i.add(e,o),n.add(t,t),n.add(e,t)}var i=new v("string",l),n=new v("string","string");e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),t.yy=i,t.xy=n}function on(t,e){var i=t.xy.Aa(e);return null!==i?i:t.xy.Aa(e.toLowerCase())}function rn(t,e){var i=t.yy.Aa(e);return null!==i?i:(i=t.yy.Aa(e.toLowerCase()),null!==i?i:(Uh.m("Unknown DiagramEvent name: "+e),null))}function sn(t,e){var i=!1;if(t.tb.Vj(e)&&(i=!0),i=t.Yz(e,function(t){return t.V},function(t){return t instanceof Nr},!0,function(t){return t instanceof Nr},i),0!==i.count)for(i=i.k;i.next();){
var n=i.value;n.Si&&n.$b()}}function an(t,e,i,n){if(null===t.rd&&(t.rd=new ss),t.rd.wt||t.rd.group!==i||t.rd.jB!==n){if(null===i){e=t.mi?ii(t):t.Jd.copy(),e.Sf(100,100),t.rd.initialize(e),e=Uh.$f();for(var o=t.Gg;o.next();){var r=o.value,s=r.layer;null!==s&&s.visible&&!s.Ac&&hn(t,r,n,e)}}else for(i.ea.J()||i.vf(),e=i.ea.copy(),e.Sf(20,20),t.rd.initialize(e),e=Uh.$f(),o=i.Qc;o.next();)r=o.value,r instanceof Cr&&hn(t,r,n,e);Uh.nc(e),t.rd.group=i,t.rd.jB=n,t.rd.wt=!1}else e&&us(t.rd);return t.rd}function hn(t,e,i,n){if(e!==i)if(e.Ja()&&e.canAvoid()){i=e.getAvoidableRect(n),n=t.rd.Hm,e=t.rd.Gm;for(var o=i.x+i.width,r=i.y+i.height,s=i.x;o>s;s+=n){for(var a=i.y;r>a;a+=e)ls(t.rd,s,a);ls(t.rd,s,r)}for(a=i.y;r>a;a+=e)ls(t.rd,o,a);ls(t.rd,o,r)}else if(e instanceof bs)for(e=e.Qc;e.next();)o=e.value,o instanceof Cr&&hn(t,o,i,n)}function ln(t,e){null===t.rd||t.rd.wt||null!==e&&!e.canAvoid()||(t.rd.wt=!0)}function un(t,e){t.yu.assign(e),dn(t,t.yu).Ne(t.position)?fn(t):cn(t)}function cn(t){-1===t.wn&&(t.wn=Uh.setInterval(function(){if(-1!==t.wn){fn(t);var e=t.P.event;if(null!==e){var i=dn(t,t.yu);i.Ne(t.position)||(t.position=i,t.P.fa=t.RG(t.yu),t.Bx(e,null,e.target.Y)||t.doMouseMove(),t.mi=!0,Xi(t,t.tg()),t.Sd=!0,t.kf(),cn(t))}}},t.hH))}function fn(t){-1!==t.wn&&(Uh.clearInterval(t.wn),t.wn=-1)}function dn(t,e){var i=t.position,n=t.TD;if(0>=n.top&&0>=n.left&&0>=n.right&&0>=n.bottom)return i;var o=t.tb,r=t.scale,o=Uh.lk(0,0,o.width*r,o.height*r),s=Uh.ic(0,0);if(e.x>=o.x&&e.x<o.x+n.left){var a=Math.max(t.Pp,1),a=0|a;s.x-=a,e.x<o.x+n.left/2&&(s.x-=a),e.x<o.x+n.left/4&&(s.x-=4*a)}else e.x<=o.x+o.width&&e.x>o.x+o.width-n.right&&(a=Math.max(t.Pp,1),a|=0,s.x+=a,e.x>o.x+o.width-n.right/2&&(s.x+=a),e.x>o.x+o.width-n.right/4&&(s.x+=4*a));return e.y>=o.y&&e.y<o.y+n.top?(a=Math.max(t.Qp,1),a|=0,s.y-=a,e.y<o.y+n.top/2&&(s.y-=a),e.y<o.y+n.top/4&&(s.y-=4*a)):e.y<=o.y+o.height&&e.y>o.y+o.height-n.bottom&&(a=Math.max(t.Qp,1),a|=0,s.y+=a,e.y>o.y+o.height-n.bottom/2&&(s.y+=a),e.y>o.y+o.height-n.bottom/4&&(s.y+=4*a)),s.Ne(Bl.nk)||(i=new b(i.x+s.x/r,i.y+s.y/r)),Uh.nc(o),Uh.B(s),i}function pn(t,e){if(t.Pb.Xi(),t.kf(),null===t.mb)return null;"object"!=typeof e&&Uh.m("properties argument must be an Object.");var i=!1,n=e.size||null,o=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(o="NaN");var r=e.maxSize;void 0===e.maxSize&&(i=!0,r="svg"===e.context?new C(1/0,1/0):new C(2e3,2e3));var s=e.position||null,a=e.parts||null,h=void 0===e.padding?1:e.padding,l=e.background||null,u=e.omitTemporary;void 0===u&&(u=!0);var c=e.document||document,f=e.elementFinished||null,d=e.showTemporary;void 0===d&&(d=!u),u=e.showGrid,void 0===u&&(u=d),null!==n&&isNaN(n.width)&&isNaN(n.height)&&(n=null),"number"==typeof h?h=new M(h):h instanceof M||(h=new M(0)),h.left=Math.max(h.left,0),h.right=Math.max(h.right,0),h.top=Math.max(h.top,0),h.bottom=Math.max(h.bottom,0),t.Nn=!1,Ze(t);var p=new G(null,c),g=p.getContext("2d"),m=p;if(!(n||o||a||s))return p.width=t.Fb+Math.ceil(h.left+h.right),p.height=t.Eb+Math.ceil(h.top+h.bottom),"svg"===e.context&&(g=m=new O(p.Kd,c,f),g instanceof O&&(t.Nn=!0)),xi(t,g,h,new C(p.width,p.height),t.ec,t.Oa,a,l,d,u),t.Nn=!0,m;var v=t.zb.it,y=new b(0,0),w=t.Jd.copy();if(w.$J(t.padding),d)for(var x=!0,x=t.dc.q,A=x.length,S=0;A>S;S++){var F=x[S];if(F.visible&&F.Ac)for(var E=F.Hb.q,F=E.length,T=0;F>T;T++){var D=E[T];D.Vw&&D.Ja()&&(D=D.ea,D.J()&&w.$h(D))}}if(y.x=w.x,y.y=w.y,null!==a){var P,x=!0,E=a.k;for(E.reset();E.next();)A=E.value,A instanceof er&&(D=A,F=D.layer,null!==F&&!F.visible||null!==F&&!d&&F.Ac||!D.Ja()||(D=D.ea,D.J()&&(x?(x=!1,P=D.copy()):P.$h(D))));x&&(P=new k(0,0,0,0)),w.width=P.width,w.height=P.height,y.x=P.x,y.y=P.y}return null!==s&&s.J()&&(y=s,o||(o=v)),x=E=0,null!==h&&(E=h.left+h.right,x=h.top+h.bottom),S=A=0,null!==n&&(A=n.width,S=n.height,isFinite(A)&&(A=Math.max(0,A-E)),isFinite(S)&&(S=Math.max(0,S-x))),P=s=0,null!==n&&null!==o?("NaN"===o&&(o=v),n.J()?(s=A,P=S):isNaN(S)?(s=A,P=w.height*o):(s=w.width*o,P=S)):null!==n?n.J()?(o=Math.min(A/w.width,S/w.height),s=A,P=S):isNaN(S)?(o=A/w.width,s=A,P=w.height*o):(o=S/w.height,s=w.width*o,P=S):null!==o?"NaN"===o&&r.J()?(o=Math.min((r.width-E)/w.width,(r.height-x)/w.height),o>v?(o=v,s=w.width,P=w.height):(s=r.width,P=r.height)):(s=w.width*o,P=w.height*o):(o=v,s=w.width,P=w.height),null!==h?(s+=E,P+=x):h=new M(0),null!==r&&(n=r.width,r=r.height,"svg"!==e.context&&i&&!Wu&&(s>n||P>r)&&(Uh.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(s)+"x"+Math.ceil(P)+" vs 2000x2000) Consider increasing the max size."),Wu=!0),isNaN(n)&&(n=2e3),isNaN(r)&&(r=2e3),isFinite(n)&&(s=Math.min(s,n)),isFinite(r)&&(P=Math.min(P,r))),p.width=Math.ceil(s),p.height=Math.ceil(P),"svg"===e.context&&(g=m=new O(p.Kd,c,f),g instanceof O&&(t.Nn=!0)),xi(t,g,h,new C(Math.ceil(s),Math.ceil(P)),o,y,a,l,d,u),t.Nn=!0,m}function gn(){this.zH="63ad05bbe23a1786468a4c741b6d2",this.zH===this._tk?this.wh=!0:mn(this,!1)}function mn(e,i){var n="p",o=t[Uh.Ha("76a715b2f73f148a")][Uh.Ha("72ba13b5")];if(Uh.Ha("77bb5bb2f32603de")===t[Uh.Ha("76a715b2f73f148a")][Uh.Ha("6aba19a7ec351488")])try{if(e.wh=!t[Uh.Ha("4da118b7ec2108")]([Uh.Ha("5bb806bfea351a904a84515e1b6d38b6")])([Uh.Ha("49bc19a1e6")])([Uh.Ha("59bd04a1e6380fa5539b")])([Uh.Ha("7bb8069ae7")]===Uh.Ha(Uh.gw)),!1===e.wh)return;if(e.wh=!t[Uh.Ha("4da118b7ec2108")]([Uh.Ha("5bb806bfea351a904a84515e1b6d38b6")])([Uh.Ha("49bc19a1e6")])([Uh.Ha("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")])([Uh.Ha("7bb8069ae7")]===Uh.Ha(Uh.gw)),!1===e.wh)return}catch(r){}for(var s=o[Uh.Ha("76ad18b4f73e")],a=o[Uh.Ha("73a612b6fb191d")](Uh.Ha("35e7"))+2;s>a;a++)n+=o[a];o=n[Uh.Ha("73a612b6fb191d")](Uh.Ha(Uh.gw)),0>=o&&Uh.Ha(Uh.gw)!==Uh.Ha("7da71ca0ad381e90")&&(o=n[Uh.Ha("73a612b6fb191d")](Uh.Ha("76a715b2ef3e149757"))),e.wh=!(o>0&&o<n[Uh.Ha("73a612b6fb191d")](Uh.Ha("35"))),e.wh&&(n=t.document[Uh.Ha("79ba13b2f7333e8846865a7d00")]("div"),o=Uh.Ha("02cncncn"),"."===o[0]&&(o=o[Uh.Ha("69bd14a0f724128a44")](1)),n[Uh.Ha("79a417a0f0181a8946")]=o,t.document[Uh.Ha("78a712aa")]?(t.document[Uh.Ha("78a712aa")][Uh.Ha("7bb806b6ed32388c4a875b")](n),o=t[Uh.Ha("7dad0290ec3b0b91578e5b40007031bf")](n)[Uh.Ha("7dad0283f1390b81519f4645156528bf")](Uh.Ha("78a704b7e62456904c9b12701b6532a8")),t.document[Uh.Ha("78a712aa")][Uh.Ha("68ad1bbcf533388c4a875b")](n),o&&-1!==o.indexOf(Uh.Ha(Uh.eI))&&-1!==o.indexOf(Uh.Ha(Uh.fI))&&(e.wh=!1)):(e.wh=null,i&&(e.wh=!1)))}function vn(e,i){void 0!==i&&null!==i||Uh.m("Diagram setup requires an argument DIV."),null!==e.Nb&&Uh.m("Diagram has already completed setup."),"string"==typeof i?e.Nb=t.document.getElementById(i):i instanceof HTMLDivElement?e.Nb=i:Uh.m("No DIV or DIV id supplied: "+i),null===e.Nb&&Uh.m("Invalid DIV id; could not get element with id: "+i),void 0!==e.Nb.Y&&Uh.m("Invalid div id; div already has a Diagram associated with it."),"static"===t.getComputedStyle(e.Nb,null).position&&(e.Nb.style.position="relative"),e.Nb.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",e.Nb.style["-ms-touch-action"]="none",e.Nb.innerHTML="",e.Nb.Y=e;var n=new G(e);n.Kd.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",void 0!==n.style&&(n.style.position="absolute",n.style.top="0px",n.style.left="0px","rtl"===t.getComputedStyle(e.Nb,null).getPropertyValue("direction")&&(e.AC=!0),n.style.zIndex="2",n.style.WK="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none"),e.Fb=e.Nb.clientWidth||1,e.Eb=e.Nb.clientHeight||1,e.mb=n,e.Sg=n.getContext("2d");var o=e.Sg;e.tf=e.computePixelRatio(),Ei(e,e.Fb,e.Eb),e.Vx=o[Uh.Ha("7eba17a4ca3b1a8346")][Uh.Ha("78a118b7")](o,Uh.Kl,4,4),e.Nb.insertBefore(n.Kd,e.Nb.firstChild),n=new G(null),n.width=1,n.height=1,e.Ay=n,e.iC=n.getContext("2d");var n=Uh.createElement("div"),o=Uh.createElement("div"),r=Uh.createElement("div"),s=Uh.createElement("div");n.style.position="absolute",n.style.overflow="auto",n.style.width=e.Fb+"px",n.style.height=e.Eb+"px",n.style.zIndex="1",o.style.position="absolute",o.style.overflow="auto",o.style.width=e.Fb+"px",o.style.height=e.Eb+"px",o.style.zIndex="1",r.style.position="absolute",r.style.width="1px",r.style.height="1px",s.style.position="absolute",s.style.width="1px",s.style.height="1px",e.Nb.appendChild(n),e.Nb.appendChild(o),n.appendChild(r),o.appendChild(s),n.onscroll=e.PC,n.onmousedown=e.QC,n.Y=e,n.fD=!0,o.onscroll=e.PC,o.onmousedown=e.QC,o.Y=e,o.gD=!0,e.Ej=n,e.Fj=o,e.jz=r,e.kz=s,e.RF=Uh.qE(function(){e.ym=null,e.pa()},300,!1),e.ZG=Uh.qE(function(){Qe(e)},250,!1),e.preventDefault=function(t){return t.preventDefault(),!1},e.Bp=function(t){if(e.isEnabled){e.Yl=!0;var i=e.Lc;Uh.Wm&&i.ul?(t.preventDefault(),t.simulated=!0,e.zs=t):(e.Lc=e.Sb,e.Sb=i,li(e,e,t,i,!0),e.Bx(t,null,t.target.Y)||(e.doMouseMove(),e.Wa.isBeyondDragSize()&&(ai(e),e.cm=0)))}},e.Ap=function(i){if(e.isEnabled){e.Yl=!0;var n=e.Lc;if(Uh.Wm&&null!==e.zs)e.zs=i,i.preventDefault();else if(Uh.Wm&&400>i.timeStamp-e.dm)i.preventDefault();else if(e.Lc=e.Sb,e.Sb=n,li(e,e,i,n,!0),n.ak=!0,n.Je=i.detail,e.Fk=n.copy(),!0===n.Hq.simulated)i.preventDefault(),i.simulated=!0;else if(Vh&&Vh.LF&&(t.LF=e.Wo(n.fa)),ou=null,e.doMouseDown(),1===i.button)return i.preventDefault(),!1}},e.Dp=function(t){if(e.isEnabled){e.Yl=!0;var i=e.Lc;if(Uh.Wm){if(400>t.timeStamp-e.dm)return void t.preventDefault();e.dm=t.timeStamp}Uh.Wm&&null!==e.zs?(e.zs=null,t.preventDefault()):(e.Lc=e.Sb,e.Sb=i,li(e,e,t,i,!0),i.up=!0,i.Je=t.detail,(Uh.sA||Uh.tA)&&(t.timeStamp-e.dm<e.DD&&!e.Wa.isBeyondDragSize()?e.cm++:e.cm=1,e.dm=t.timeStamp,i.Je=e.cm),i.bubbles=t.bubbles,t.target.Y&&(i.Zf=t.target.Y),e.yG(t,null,new b,i.Zf)||(e.doMouseUp(),fn(e),fi(e,i,t)))}},e.hh=function(t){if(e.isEnabled){var i=e.Lc;e.Lc=e.Sb,e.Sb=i,li(e,e,t,i,!0),i.bubbles=!0,i.Yj=void 0!==t.wheelDelta?t.wheelDelta:-40*t.detail,e.doMouseWheel(),fi(e,i,t)}},e.Cp=function(){if(e.isEnabled){e.Yl=!1;var t=e.Wa;t.cancelWaitAfter(),t instanceof De&&t.hideToolTip()}},e.MG=function(t){if(e.isEnabled){e.Tv=!1,e.Sy=!0;var i=e.Lc;e.Lc=e.Sb,e.Sb=i,ui(e,t,t.targetTouches[0],i,1<t.touches.length),e.doMouseDown(),2>t.touches.length&&hi(e,i),fi(e,i,t),t.preventDefault()}},e.LG=function(t){if(e.isEnabled){var i=e.Lc;e.Lc=e.Sb,e.Sb=i;var n=null;0<t.changedTouches.length?n=t.changedTouches[0]:0<t.targetTouches.length&&(n=t.targetTouches[0]),ci(e,t,n,i,1<t.touches.length),(e.Wa.isBeyondDragSize()||1<t.touches.length)&&ai(e),e.Bx(n?n:t,null,i.Zf)||(e.doMouseMove(),fi(e,i,t))}},e.KG=function(i){if(e.isEnabled){if(ai(e),e.Tv)return i.preventDefault(),!1;var n=e.Lc;if(e.Lc=e.Sb,e.Sb=n,1<i.touches.length)e.Vn&&(e.Iy=!1);else{var o=null,r=null;if(0<i.changedTouches.length?r=i.changedTouches[0]:0<i.targetTouches.length&&(r=i.targetTouches[0]),n.h=e,n.Je=1,null!==r){var s,a,o=t.document.elementFromPoint(r.clientX,r.clientY);o&&o.Y?(a=r,s=o.Y):(a=i.changedTouches[0],s=e),di(s,a,n),s=r.screenX,a=r.screenY;var h=e.EC;i.timeStamp-e.dm<e.DD&&!(25<Math.abs(h.x-s)||25<Math.abs(h.y-a))?e.cm++:e.cm=1,n.Je=e.cm,e.dm=i.timeStamp,e.EC.o(s,a)}n.Zc=0,n.button=0,n.ak=!1,n.up=!0,n.Yj=0,n.Nc=!1,n.bubbles=!1,n.event=i,n.timestamp=Date.now(),n.Zf=null===o?i.target.Y:o.Y?o.Y:null,n.he=null,e.yG(r?r:i,null,new b,n.Zf)||(e.doMouseUp(),fi(e,n,i),e.Sy=!1)}}},e.DJ=function(t){if("touch"===t.pointerType){var i=e.$C;void 0===i[t.pointerId]&&(e.Yr++,i[t.pointerId]=t),e.Lf[0]=null,e.Lf[1]=null;for(var n in i)if(null===e.Lf[0])e.Lf[0]=i[n];else if(null===e.Lf[1]){e.Lf[1]=i[n];break}e.isEnabled&&(e.Tv=!1,i=e.Lc,e.Lc=e.Sb,e.Sb=i,ui(e,t,t,i,1<e.Yr),e.doMouseDown(),2>e.Yr&&hi(e,i),fi(e,i,t))}},e.FJ=function(t){if("touch"===t.pointerType&&!(2>e.Yr)){var i=e.Lf;i[0].pointerId===t.pointerId&&(i[0]=t),i[1].pointerId===t.pointerId&&(i[1]=t),e.isEnabled&&(i=e.Lc,e.Lc=e.Sb,e.Sb=i,ci(e,t,t,i,!0),ai(e),e.Bx(t,null,i.Zf)||(e.doMouseMove(),fi(e,i,t)))}},e.EJ=function(t){if("touch"===t.pointerType){var i=e.$C;void 0!==i[t.pointerId]&&(e.Yr--,delete i[t.pointerId],i=e.Lf,null!==i[0]&&i[0].pointerId===t.pointerId&&(i[0]=null),null!==i[1]&&i[1].pointerId===t.pointerId&&(i[1]=null))}},Ze(e),Je(e)}function yn(t){1<arguments.length&&Uh.m("Palette constructor can only take one optional argument, the DIV HTML element or its id."),Ue.call(this,t),this.Ws=!0,this.Gi=!1,this.hb=!0,this.qw=ol,this.Lb=new Ns}function bn(t){1<arguments.length&&Uh.m("Overview constructor can only take one optional argument, the DIV HTML element or its id."),Ue.call(this,t),this.bi.isEnabled=!1,this.yc=!0,this.Bj=null,this.nH=this.Ru=!0,this.RJ("drawShadows",!1);var e=new er,i=new Fo;i.stroke="magenta",i.ib=2,i.fill="transparent",i.name="BOXSHAPE",e.ik=!0,e.vx="BOXSHAPE",e.ix="BOXSHAPE",e.XA="BOXSHAPE",e.cursor="move",e.add(i),this.Ol=e,i=new xr,i.type=lc,i.Pe=al;var n=new As;n.Tf=!0,i.add(n),n=new Fo,n.Fi=al,n.Ab="Rectangle",n.ya=new C(64,64),n.cursor="se-resize",n.alignment=cl,i.add(n),e.WA=i,this.Rj=this.Oh=!1,this.Ee=this.Dm=!0,this.sz=Uh.createElement("canvas"),this.yH=this.sz.getContext("2d"),this.sb.vd=new Cn,this.sb.YA=new kn;var o=this;this.click=function(){var t=o.Bj;if(null!==t){var e=t.tb,i=o.P.fa;t.position=new b(i.x-e.width/2,i.y-e.height/2)}},this.OF=function(){xn(o)},this.NF=function(){null!==o.Bj&&(o.oc(),o.pa())},this.Fm=Pu,this.yc=!1}function wn(t){t.yc||t.Cd||!1!==t.Mf||(t.Mf=!0,requestAnimationFrame(function(){if(t.Mf&&!t.Cd&&(t.Mf=!1,null!==t.Nb)){if(t.Cd=!0,yi(t),t.Jd.J()||Xi(t,t.tg()),null===t.Nb&&Uh.m("No div specified"),null===t.mb&&Uh.m("No canvas specified"),t.Sd){var e=t.Bj;if(null!==e&&!e.Pb.fh&&!e.Pb.qd){var e=t.Sg,i=t.sz;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.mb.width,t.mb.height),e.drawImage(i,0,0),i=t.Yd,i.reset(),1!==t.ec&&i.scale(t.scale),0===t.position.x&&0===t.position.y||i.translate(-t.Oa.x,-t.Oa.y),e.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);for(var i=t.dc.q,n=i.length,o=0;n>o;o++)i[o].bf(e,t);t.Mk=!1,t.Sd=!1}}t.Cd=!1}}))}function xn(t){var e=t.Of;if(null!==e){var i=t.Bj;if(null!==i){t.Sd=!0;var i=i.tb,n=e.$t,o=Uh.Hl();o.o(i.width,i.height),n.ya=o,Uh.dk(o),t=2/t.scale,n instanceof Fo&&(n.ib=t),e.location=new b(i.x-t/2,i.y-t/2)}}}function Cn(){Bt.call(this),this.Uk=null}function kn(){me.call(this)}function An(t){1<arguments.length&&Uh.m("Brush constructor can take at most one optional argument, the Brush type."),Uh.jc(this),this.Qa=!1,void 0===t?(this.ha=Gu,this.An="black"):"string"==typeof t?(this.ha=Gu,Vh&&Uh.Mo("Brush constructor",t),this.An=t):(Vh&&Uh.za(t,An,An,"constructor:type"),this.ha=t,this.An="black");var e=this.ha;e===Vu?(this.vo=ol,this.Pn=ul):this.Pn=e===Uu?this.vo=al:this.vo=el,this.Qv=0,this.Su=NaN,this.Rg=this.Ev=this.Qg=null,this.hy=this.iy=0}function Sn(){Uh.jc(this),this.ia=30723,this.Kf=1,this.ah=null,this.Xb="",this.tc=this.Mb=null,this.Oa=new b(NaN,NaN).freeze(),this.pf=new C(NaN,NaN).freeze(),this.xj=Bl.on,this.vj=Bl.BB,this.Yd=new D,this.un=new D,this.Qk=new D,this.ec=this.Pu=1,this.vn=0,this.Kh=Qu,this.ur=Bl.bq,this.Tc=new k(NaN,NaN,NaN,NaN).freeze(),this.bc=new k(NaN,NaN,NaN,NaN).freeze(),this.Kc=new k(0,0,NaN,NaN).freeze(),this.Is=this.Iq=this.S=this.Zr=this.$r=null,this.Js=this.Jq=1/0,this.hq=this.xe=il,this.ns=0,this.Dj=1,this.oq=0,this.fj=1,this.rs=-(1/0),this.qs=0,this.ss=Bl.nk,this.ts=tf,this.vq="",this.Jc=this.R=null,this.xn=-1,this.lm=this.ei=this.Ql=this.uo=null}function Fn(t){t.R=new eo}function En(t,e,i,n,o,r,s){var a=.001,h=r.length;t.moveTo(e,i),n-=e,a=o-i,0===n&&(n=.001),o=a/n;for(var l=Math.sqrt(n*n+a*a),u=0,c=!0,f=0===s?!1:!0;l>=.1;){if(f){for(a=r[u++%h],a-=s;0>a;)a+=r[u++%h],c=!c;f=!1}else a=r[u++%h];a>l&&(a=l);var d=Math.sqrt(a*a/(1+o*o));0>n&&(d=-d),e+=d,i+=o*d,c?t.lineTo(e,i):t.moveTo(e,i),l-=a,c=!c}}function Tn(t,e,i){var n=t.Yo();if(null!==n)for(var o=t.Jc.k;o.next();){var r=o.value,s=null;if(null!==r.El){if(s=kt(r,n,t),null===s)continue;r.Hx(t,s,i,null)}else if(r.Yp){var a=e.h;null!==a&&r.Hx(t,a.ga.zp,i,a)}else{var h=n.data;if(null===h)continue;a=e.h,null!==a&&a.du||r.Hx(t,h,i,a)}null!==s&&(a=n.Fw(r.kk),null!==a&&r.WG(a,s,i))}}function Mn(t,e,i,n,o){var r=t.Tc,s=t.Qk;s.reset(),jn(t,s,e,i,n,o),t.Qk=s,r.x=e,r.y=i,r.width=n,r.height=o,s.zt()||s.QG(r)}function Dn(t,e,i,n){return!1===t.Cf?!1:(n.multiply(t.transform),i?t.zg(e,n):t.Lm(e,n))}function Pn(t,e,i,n,o){if(!1!==Un(t)){var r=t.margin,s=r.right+r.left,r=r.top+r.bottom;e=Math.max(e-s,0),i=Math.max(i-r,0),o=o||0,n=Math.max((n||0)-s,0),o=Math.max(o-r,0);var s=t.angle,r=0,r=t.ya,a=0;t.ib&&(a=t.ib),90===s||270===s?(e=isFinite(r.height)?r.height+a:e,i=isFinite(r.width)?r.width+a:i):(e=isFinite(r.width)?r.width+a:e,i=isFinite(r.height)?r.height+a:i);var r=n||0,a=o||0,h=t instanceof io;switch(zn(t,!0)){case Xu:a=r=0,h&&(i=e=1/0);break;case ec:isFinite(e)&&e>n&&(r=e),isFinite(i)&&i>o&&(a=i);break;case tc:isFinite(e)&&e>n&&(r=e),a=0,h&&(i=1/0);break;case Zu:isFinite(i)&&i>o&&(a=i),r=0,h&&(e=1/0)}var h=t.Qd,l=t.Re;r>h.width&&l.width<h.width&&(r=h.width),a>h.height&&l.height<h.height&&(a=h.height),n=Math.max(r/t.scale,l.width),o=Math.max(a/t.scale,l.height),h.width<n&&(n=Math.min(l.width,n)),h.height<o&&(o=Math.min(l.height,o)),e=Math.min(h.width,e),i=Math.min(h.height,i),e=Math.max(n,e),i=Math.max(o,i),(90===s||270===s)&&(r=e,e=i,i=r,r=n,n=o,o=r),t.Tc.Na(),t.xp(e,i,n,o),t.Tc.freeze(),t.Tc.J()||Uh.m("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.Tc.toString()),Kn(t,!1)}}function Ln(t,e,i,n,o){var r=t.ea;if(r.x=e,r.y=i,r.width=n,r.height=o,!t.ya.J()){r=t.Tc,i=t.margin,e=i.right+i.left;var s=i.top+i.bottom;switch(i=r.width+e,r=r.height+s,n+=e,o+=s,e=zn(t,!0),i===n&&r===o&&(e=Xu),e){case Xu:(i>n||r>o)&&(Kn(t,!0),Pn(t,i>n?n:i,r>o?o:r));break;case ec:Kn(t,!0),Pn(t,n,o,0,0);break;case tc:Kn(t,!0),Pn(t,n,r,0,0);break;case Zu:Kn(t,!0),Pn(t,i,o,0,0)}}}function Bn(t,e,i){var n=t.bc;0===n.width||0===n.height||isNaN(n.x)||isNaN(n.y)||(null!==t.tc&&(Rn(t,e,t.tc,!0,!0),t.tc instanceof An&&t.tc.type===Uu?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),Nn(e,t.tc)):e.fillRect(n.x,n.y,n.width,n.height)),null!==t.Mb&&(Rn(t,e,t.Mb,!0,!1),t.Mb instanceof An&&t.Mb.type===Uu?(e.beginPath(),e.rect(n.x,n.y,n.width,n.height),Nn(e,t.Mb)):e.fillRect(n.x,n.y,n.width,n.height)),t.bk(e,i))}function Nn(t,e){if(e instanceof An&&e.type===Uu&&!(t instanceof O)){var i=e.iy,n=e.hy;n>i?(t.scale(i/n,1),t.translate((n-i)/2,0)):i>n&&(t.scale(1,n/i),t.translate(0,(i-n)/2)),t.ou?t.clip():t.fill(),n>i?(t.translate(-(n-i)/2,0),t.scale(1/(i/n),1)):i>n&&(t.translate(0,-(i-n)/2),t.scale(1,1/(n/i)))}else t.ou?t.clip():t.fill()}function $n(t){t.ou||t.stroke()}function Rn(t,e,i,n,o){if(null!==i){var r=1,s=1;if("string"==typeof i)n?e.pn!==i&&(e.fillStyle=i,e.pn=i):e.qn!==i&&(e.strokeStyle=i,e.qn=i);else if(i.type===Gu)i=i.color,n?e.pn!==i&&(e.fillStyle=i,e.pn=i):e.qn!==i&&(e.strokeStyle=i,e.qn=i);else{var a,s=t.Ka,r=s.width,s=s.height;if(o)var h=t.ea,r=h.width,s=h.height;var l=e instanceof CanvasRenderingContext2D;if(l&&(i.Rg&&i.type===Ku||i.iy===r&&i.hy===s))a=i.Rg;else{var u=h=0,c=0,f=0,d=0,p=0,p=d=0;if(o&&(h=t.ea,r=h.width,s=h.height,d=h.x,p=h.y),h=i.start.x*r+i.start.offsetX,u=i.start.y*s+i.start.offsetY,c=i.end.x*r+i.end.offsetX,f=i.end.y*s+i.end.offsetY,h+=d,c+=d,u+=p,f+=p,i.type===Vu?a=e.createLinearGradient(h,u,c,f):i.type===Uu?(p=isNaN(i.Uo)?Math.max(r,s)/2:i.Uo,isNaN(i.Up)?(d=0,p=Math.max(r,s)/2):d=i.Up,a=e.createRadialGradient(h,u,d,c,f,p)):i.type===Ku?a=e.createPattern(i.pattern,"repeat"):Uh.sc(i.type,"Brush type"),i.type!==Ku&&(t=i.Oo,null!==t))for(t=t.k;t.next();)a.addColorStop(t.key,t.value);l&&(i.Rg=a,i.iy=r,i.hy=s)}n?e.pn!==a&&(e.fillStyle=a,e.pn=a):e.qn!==a&&(e.strokeStyle=a,e.qn=a)}}}function On(t){if(0!==(2048&t.ia)==!0){var e=t.Yd;if(e.reset(),!t.bc.J()||!t.Tc.J())return void Gn(t,!1);e.translate(t.bc.x,t.bc.y),e.translate(-t.Fa.x,-t.Fa.y);var i=t.Ka;jn(t,e,i.x,i.y,i.width,i.height),Gn(t,!1),Vn(t,!0)}0!==(4096&t.ia)==!0&&(e=t.U,null===e?(t.un.set(t.Yd),t.Pu=t.scale,Vn(t,!1)):null!==e.Nf&&(i=t.un,i.reset(),e.bg()?i.multiply(e.un):null!==e.U&&i.multiply(e.U.un),i.multiply(t.Yd),t.Pu=t.scale*e.Pu,Vn(t,!1)))}function jn(t,e,i,n,o,r){if(1!==t.scale&&e.scale(t.scale),0!==t.angle){var s=al;t.Pe&&t.Pe.kd()&&(s=t.Pe);var a=Uh.M();if(t instanceof er&&t.hc!==t)for(i=t.hc,n=i.Ka,a.cu(n.x,n.y,n.width,n.height,s),i.Qk.fb(a),a.offset(-i.Fa.x,-i.Fa.y),s=i.U;null!==s&&s!==t;)s.Qk.fb(a),a.offset(-s.Fa.x,-s.Fa.y),s=s.U;else a.cu(i,n,o,r,s);e.rotate(t.angle,a.x,a.y),Uh.B(a)}}function In(t){if(!1===Yn(t)){if(null!==t.U)t.U.T();else{var e=t.h;null!==e&&(e.fg.add(t),t instanceof Cr&&t.yf(),e.Se())}Jn(t,!0)}}function zn(t,e){var i=t.stretch,n=t.U;return null!==n&&n.ha===cc?_n(t,n.jd(t.qc),n.hd(t.column),e):null!==n&&n.ha===uc&&n.Qf()===t?Hn(t,ec,e):i===Qu?null!==n?n.ha===lc&&n.Qf()===t?Hn(t,ec,e):(i=n.ud,i===Qu?Hn(t,Xu,e):Hn(t,i,e)):Hn(t,Xu,e):Hn(t,i,e)}function _n(t,e,i,n){var o=t.stretch;if(o!==Qu)return Hn(t,o,n);var r=o=null;switch(e.stretch){case Zu:r=!0;break;case ec:r=!0}switch(i.stretch){case tc:o=!0;break;case ec:o=!0}return e=t.U.ud,null===o&&(o=e===tc||e===ec),null===r&&(r=e===Zu||e===ec),!0===o&&!0===r?Hn(t,ec,n):!0===o?Hn(t,tc,n):!0===r?Hn(t,Zu,n):Hn(t,Xu,n)}function Hn(t,e,i){if(i)return e;if(e===Xu)return Xu;if(i=t.ya,i.J())return Xu;if(t=t.angle,!isNaN(i.width))if(90!==t&&270!==t){if(e===tc)return Xu;if(e===ec)return Zu}else{if(e===Zu)return Xu;if(e===ec)return tc}if(!isNaN(i.height))if(90!==t&&270!==t){if(e===Zu)return Xu;if(e===ec)return tc}else{if(e===tc)return Xu;if(e===ec)return Zu}return e}function qn(t,e){t.ia=e?512|t.ia:-513&t.ia}function Wn(t,e){t.ia=e?1024|t.ia:-1025&t.ia}function Gn(t,e){t.ia=e?2048|t.ia:-2049&t.ia}function Vn(t,e){t.ia=e?4096|t.ia:-4097&t.ia}function Un(t){return 0!==(8192&t.ia)}function Kn(t,e){t.ia=e?8192|t.ia:-8193&t.ia}function Yn(t){return 0!==(16384&t.ia)}function Jn(t,e){t.ia=e?16384|t.ia:-16385&t.ia}function Xn(t){var e={value:null};return Qn(t,e),e.value}function Qn(t,e){var i=t.U;return null===i||!Qn(i,e)&&t.visible?(e.value=t,!1):!0}function Zn(t){var e=t.V;e instanceof Cr&&(t=t.h,null===t||t.la.Cb||e.yf())}function to(t,i){if("string"==typeof i)if(t instanceof $o)t.text=i;else if(t instanceof Fo)t.Ab=i;else if(t instanceof Wo)t.source=i;else if(t instanceof io){var o=Kh(io,i);null!==o?t.type=o:Uh.m("Unknown Panel type as an argument to GraphObject.make: "+i)}else t instanceof An?(o=Kh(An,i),null!==o?t.type=o:Uh.m("Unknown Brush type as an argument to GraphObject.make: "+i)):t instanceof V?(o=Kh(V,i),null!==o?t.type=o:Uh.m("Unknown Geometry type as an argument to GraphObject.make: "+i)):t instanceof Z?(o=Kh(Z,i),null!==o?t.type=o:Uh.m("Unknown PathSegment type as an argument to GraphObject.make: "+i)):Uh.m("Unable to use a string as an argument to GraphObject.make: "+i);else if(i instanceof Sn)o=i,t instanceof io||Uh.m("A GraphObject can only be added to a Panel, not to: "+t),t.add(o);else if(i instanceof Ao){var r,s=i,o=t;s.fe&&o.jd?r=o.jd(s.index):!s.fe&&o.hd?r=o.hd(s.index):Uh.m("A RowColumnDefinition can only be added to a Panel, not to: "+t),r.gt(s)}else if(i instanceof e)t instanceof Nr&&i.Ie===Nr?2===(2&i.value)?t.Wt=i:i===ef||i===nf||i===of?t.Le=i:i===rf||i===sf||i===af?t.Eo=i:i!==Qc&&i!==tf&&Uh.m("Unknown Link enum value for a Link property: "+i):t instanceof io&&i.Ie===io?t.type=i:t instanceof $o&&i.Ie===$o?t.sB=i:t instanceof Fo&&(i===Xu||i===ic||i===nc||i===Qu)?t.bA=i:t instanceof Wo&&(i===Xu||i===ic||i===nc)?t.ZE=i:t instanceof Sn&&i.Ie===Nr?(o=t,0===i.name.indexOf("Orient")?o.Zt=i:Uh.m("Unknown Link enum value for GraphObject.segmentOrientation property: "+i)):t instanceof Sn&&i.Ie===Sn?t.stretch=i:t instanceof Ao&&i.Ie===Ao?t.Rp=i:t instanceof Ue&&i.Ie===Ue?t.Fm=i:t instanceof An&&i.Ie===An?t.type=i:t instanceof V&&i.Ie===V?t.type=i:t instanceof Z&&i.Ie===Z?t.type=i:t instanceof Ct&&i.Ie===Ct?t.mode=i:t instanceof ot&&i.Ie===ot?t.td=i:t instanceof Xa&&i.Ie===Xa?0===i.name.indexOf("Alignment")?t.alignment=i:0===i.name.indexOf("Arrangement")?t.Ge=i:0===i.name.indexOf("Compaction")?t.compaction=i:0===i.name.indexOf("Path")?t.path=i:0===i.name.indexOf("Sorting")?t.sorting=i:0===i.name.indexOf("Style")?t.TG=i:Uh.m("Unknown enum value: "+i):t instanceof da&&i.Ie===da?0===i.name.indexOf("Aggressive")?t.OD=i:0===i.name.indexOf("Cycle")?t.pE=i:0===i.name.indexOf("Init")?t.dF=i:0===i.name.indexOf("Layer")?t.rF=i:Uh.m("Unknown enum value: "+i):t instanceof Ns&&i.Ie===Ns?i===Af||i===Sf||i===Cf||i===kf?t.sorting=i:i===wf||i===xf?t.Ge=i:i===bf||i===yf?t.alignment=i:Uh.m("Unknown enum value: "+i):t instanceof $s&&i.Ie===$s?i===Rf||i===Of||i===Nf||i===$f||i===jf?t.sorting=i:i===Lf||i===Bf||i===Df||i===Pf?t.direction=i:i===Tf||i===Ef||i===Ff||i===Mf?t.Ge=i:i===zf||i===If?t.Lt=i:Uh.m("Unknown enum value: "+i):Uh.m("No property to set for this enum value: "+i);else if(i instanceof Ct)t instanceof Sn?t.bind(i):t instanceof Ao?t.bind(i):Uh.m("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(i instanceof Q)t instanceof V?t.pb.add(i):Uh.m("A PathFigure can only be added to a Geometry, not to: "+t);else if(i instanceof Z)t instanceof Q?t.Ea.add(i):Uh.m("A PathSegment can only be added to a PathFigure, not to: "+t);else if(i instanceof Ss)t instanceof Ue?t.Lb=i:t instanceof bs?t.Lb=i:Uh.m("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(i))for(o=0;o<i.length;o++)to(t,i[o]);else if("object"==typeof i&&null!==i)if(t instanceof An){r=new n;for(o in i)s=parseFloat(o),isNaN(s)?r[o]=i[o]:t.addColorStop(s,i[o]);Uh.au(t,r)}else if(t instanceof Ao){void 0!==i.row?(r=i.row,(void 0===r||null===r||1/0===r||isNaN(r)||0>r)&&Uh.m("Must specify non-negative integer row for RowColumnDefinition "+i),t.fe=!0,t.index=r):void 0!==i.column&&(r=i.column,(void 0===r||null===r||1/0===r||isNaN(r)||0>r)&&Uh.m("Must specify non-negative integer column for RowColumnDefinition "+i),t.fe=!1,t.index=r),r=new n;for(o in i)"row"!==o&&"column"!==o&&(r[o]=i[o]);Uh.au(t,r)}else Uh.au(t,i);else Uh.m('Unknown initializer "'+i+'" for object being constructed by GraphObject.make: '+t)}function eo(){this.gi=this.Bi=this.cq=this.fq=this.eq=this.dq=this.ri=this.Er=this.Dr=this.si=this.ti=this.ui=this.Gr=this.Fr=this.fi=this.ki=this.di=null}function io(t){Sn.call(this),void 0===t?0===arguments.length?this.ha=ac:Uh.m("invalid argument to Panel constructor: undefined"):(Uh.za(t,io,io,"type"),this.ha=t),this.Ga=new l(Sn),this.$e=Bl.bq,this.Wg=!1,this.ha===gc&&(this.Wg=!0),this.Uq=!1,this.yq=il,this.ji=Qu,this.ha===cc&&no(this),this.Co=ic,this.Nq=new C(10,10).freeze(),this.Oq=Bl.nk,this.Nl=this.rh=null,this.ir=NaN,this.hg=this.oi=null,this.co="category",this.gg=null,this.Di=new k(NaN,NaN,NaN,NaN),this.xm=null,this.yh=!1,this.os=null}function no(t){t.gj=Bl.bq,t.uh=1,t.ii=null,t.Sl=null,t.th=1,t.sh=null,t.Rl=null,t.Fd=[],t.yd=[],t.qm=xc,t.Pl=xc,t.Ci=0,t.pi=0}function oo(t,e,i,n){for(var o=n.length,r=t.ea,s=i?t.jd(0):t.hd(0),a=0;o>a;a++){var h=n[a];if(void 0!==h&&h!==s&&0!==h.Ua){var l=h.jn;isNaN(l)&&(l=i?t.uh:t.th);var u=h.hn;if(null===u&&(u=i?t.ii:t.sh),0!==l&&null!==u){Rn(t,e,u,!1,!1);var u=!1,c=!0,f=h.rG;null!==f&&(u=!0,void 0!==e.setLineDash?(e.setLineDash(f),e.lineDashOffset=t.gd):void 0!==e.webkitLineDash?(e.webkitLineDash=f,e.webkitLineDashOffset=t.gd):void 0!==e.mozDash?(e.mozDash=f,e.mozDashOffset=t.gd):c=!1),e.beginPath();var d=h.position+l;i?d>r.height&&(l-=d-r.height):d>r.width&&(l-=d-r.width),h=h.position+l/2,e.lineWidth=l,d=t.padding,i?(h+=d.top,l=d.left,d=r.width-d.right,u&&!c?En(e,l,h,d,h,f,0):(e.moveTo(l,h),e.lineTo(d,h))):(h+=d.left,l=d.top,d=r.height-d.bottom,u&&!c?En(e,h,l,h,d,f,0):(e.moveTo(h,l),e.lineTo(h,d))),e.stroke(),u&&(void 0!==e.setLineDash?(e.setLineDash(Uh.nh),e.lineDashOffset=0):void 0!==e.webkitLineDash?(e.webkitLineDash=Uh.nh,e.webkitLineDashOffset=0):void 0!==e.mozDash&&(e.mozDash=null,e.mozDashOffset=0))}}}}function ro(t,e,i,n,o){for(var r=n.length,s=t.ea,a=0;r>a;a++){var h=n[a];if(void 0!==h&&null!==h.background&&h.vw!==o&&0!==h.Ua){var l=i?s.height:s.width;if(!(h.position>l)){var u=h.ug(),c=h.jn;isNaN(c)&&(c=i?t.uh:t.th);var f=h.hn;null===f&&(f=i?t.ii:t.sh),null===f&&(c=0),u-=c,c=h.position+c,u+=h.Ua,c+u>l&&(u=l-c),0>=u||(l=t.padding,Rn(t,e,h.background,!0,!1),i?e.fillRect(l.left,c+l.top,s.width-(l.left+l.right),u):e.fillRect(c+l.left,l.top,u,s.height-(l.top+l.bottom)))}}}}function so(t,e,i){if(0!==t%e)return!1;e=i.length;for(var n=0;e>n;n++)if(0===t%i[n])return!1;return!0}function ao(t){return"LineV"===t||"BarV"===t}function ho(t,e,i){if(i(t,e),e instanceof io){e=e.Ga.q;for(var n=e.length,o=0;n>o;o++)ho(t,e[o],i)}}function lo(t,e){uo(t,t,e)}function uo(t,e,i){i(e),e=e.Ga.q;for(var n=e.length,o=0;n>o;o++){var r=e[o];r instanceof io&&uo(t,r,i)}}function co(t,e,i){if(i(e),e instanceof io){e=e.Ga.q;for(var n=e.length,o=0;n>o;o++)co(t,e[o],i)}}function fo(t,e,i){if(i(e))return e;if(e instanceof io){e=e.Ga.q;for(var n=e.length,o=0;n>o;o++){var r=fo(t,e[o],i);if(null!==r)return r}}return null}function po(t){t=t.Ga.q;for(var e=t.length,i=0,n=0;e>n;n++){var o=t[n];if(o instanceof io)i=Math.max(i,po(o));else if(o instanceof Fo){t:{if(!o.bh)switch(o.Qn){case"None":case"Square":case"Ellipse":case"Circle":case"LineH":case"LineV":case"FramedRectangle":case"RoundedRectangle":case"Line1":case"Line2":case"Border":case"Cube1":case"Cube2":case"Junction":case"Cylinder1":case"Cylinder2":case"Cylinder3":case"Cylinder4":case"PlusLine":case"XLine":case"ThinCross":case"ThickCross":o=0;break t}o=o.dh/2*o.wm*o.Qi()}i=Math.max(i,o)}}return i}function go(t,e,i,n){for(var o=t.Ga.q,r=o.length;r--;){var s=o[r];if(s.visible){var a=s.ea,h=t.Ka;a.x>h.width||a.y>h.height||0>a.x+a.width||0>a.y+a.height||(s instanceof io&&go(s,e,i,n),null!==e&&(s=e(s)),null===s||null!==i&&!i(s)||n.add(s))}}}function mo(t){var e=t.G;return(void 0===e||e===il)&&(e=null),null===e&&t instanceof Fo&&(t=t.Ta,null!==t&&(e=t.G)),null===e&&(e=nl),e}function vo(t){var e=t.H;return(void 0===e||e===il)&&(e=null),null===e&&t instanceof Fo&&(t=t.Ta,null!==t&&(e=t.H)),null===e&&(e=cl),e}function yo(t){return t=t.Nl,null!==t&&t.Qa}function bo(t){var e=t.Nl;if(null===e)null!==t.data&&Uh.m("Template cannot have .data be non-null: "+t),t.Nl=e=new l(Ct);else if(e.Qa)return;var i=new l(Sn);ho(t,t,function(t,n){var o=n.Jc;if(null!==o)for(Wn(n,!1),o=o.k;o.next();){var r=o.value;if(r.mode===Zl&&Wn(n,!0),null!==r.El){var s=kt(r,t,n);null!==s&&(i.add(s),null===s.uo&&(s.uo=new l(Ct)),s.uo.add(r))}e.add(r)}if(n instanceof io&&n.type===cc){if(0<n.Fd.length)for(o=n.Fd,r=o.length,s=0;r>s;s++){var a=o[s];if(void 0!==a&&null!==a.Jc)for(var h=a.Jc.k;h.next();){var u=h.value;u.og=a,u.qz=2,u.Vv=a.index,e.add(u)}}if(0<n.yd.length)for(o=n.yd,r=o.length,s=0;r>s;s++)if(a=o[s],void 0!==a&&null!==a.Jc)for(h=a.Jc.k;h.next();)u=h.value,u.og=a,u.qz=1,u.Vv=a.index,e.add(u)}});for(var n=i.k;n.next();){var o=n.value;if(null!==o.uo){Wn(o,!0);for(var r=o.uo.k;r.next();){var s=r.value;null===o.Jc&&(o.Jc=new l(Ct)),o.Jc.add(s)}}o.uo=null}for(n=e.k;n.next();)if(o=n.value,r=o.og,null!==r){o.og=null;var a=o.Wp,h=a.indexOf(".");h>0&&r instanceof io&&(s=a.substring(0,h),a=a.substr(h+1),h=r.pe(s),null!==h?(r=h,o.Wp=a):Uh.trace('Warning: unable to find GraphObject named "'+s+'" for Binding: '+o.toString())),r instanceof Ao?(o.kk=Uh.Yc(r.U),r.U.xn=o.kk):(o.kk=Uh.Yc(r),r.xn=o.kk)}e.freeze(),t instanceof er&&(t.Ld()&&(Pn(t,1/0,1/0),t.Fc()),Vh&&!mc&&ho(t,t,function(t,i){if(i instanceof io&&(i.type===uc||i.type===lc)&&1>=i.elements.count&&!(i instanceof er)){if(1===i.elements.count){var n=null!==i.Zw;if(!n)for(var o=e.k;o.next();)if("itemArray"===o.value.Wp){n=!0;break}}n||(Uh.trace("Auto or Spot Panel should not have zero or one elements: "+i.toString()+" in "+t.toString()),mc=!0)}}))}function wo(t){return t.type===lc||t.type===uc||t.type===pc||t.type===cc&&0<t.Ga.length&&(t=t.Ga.na(0),t.Tf&&t instanceof io&&(t.type===fc||t.type===dc))?!0:!1}function xo(t,e,i){if(!(void 0===e||null===e||0>i)){var n=t.getCategoryForItemData(e,i),n=t.findTemplateForItemData(e,i,n);if(null!==n){bo(n),n=n.copy(),"object"==typeof e&&(null===t.gg&&(t.gg=new v(Object,io)),t.gg.add(e,n));var o=i;wo(t)&&o++,t.be(o,n),Co(t,o,i),n.data=e}}}function Co(t,e,i){for(t=t.Ga;e<t.length;){var n=t.na(e);if(n instanceof io){var o=e,r=i;n.type===fc?n.qc=o:n.type===dc&&(n.column=o),
n.nF=r}e++,i++}}function ko(t){t=t.Ga.q;for(var e=t.length,i=0;e>i;i++){var n=t[i];if(n instanceof qh||n instanceof io&&ko(n))return!0}return!1}function Ao(){Uh.jc(this),this.ah=null,this.gv=!0,this.Bd=0,this.af=NaN,this.yj=0,this.wj=1/0,this.xe=il,this.Oa=this.Db=0,this.Jc=null,this.As=bc,this.Kh=Qu,this.xs=this.Gj=null,this.ys=NaN,this.Mb=this.Gh=null,this.uq=!1}function So(t){if(t.Rp===bc){var e=t.ah;return t.fe?e.kG:e.cE}return t.Rp}function Fo(){Sn.call(this),this.Ta=null,this.Qn="None",this.bh=!1,this.Lq=Qu,this.Bk=null,this.Ec=this.od="black",this.dh=1,this.xo="butt",this.yo="miter",this.wm=10,this.vm=null,this.gd=0,this.Ai=this.zi=il,this.Ur=this.Tr=NaN,this.Vq=!1,this.ar=!0,this.Xr=null,this.Tn=this.zo="None",this.Sq=1}function Eo(t,e,i,n){var o=.001,r=n.Fa,s=r.width,r=r.height,a=0,h=0,l=0,u=0,o=i.length;if(!(4>o)){for(var a=i[0],h=i[1],c=0,f=0,d=0,p=l=0,g=f=0,m=Uh.lb(),v=2;o>v;v+=2)l=i[v],u=i[v+1],c=l-a,f=u-h,0===c&&(c=.001),d=f/c,p=Math.atan2(f,c),f=Math.sqrt(c*c+f*f),a=[],a[0]=c,a[1]=p,a[2]=d,a[3]=f,m.push(a),g+=f,a=l,h=u;a=i[0],h=i[1],i=0;for(var o=s,u=s/2,v=0===u?!1:!0,f=0,l=m[f],c=l[0],p=l[1],d=l[2],l=l[3],y=0;g>=.1;){if(0===y&&(v?(o=s,i++,o-=u,g-=u,v=!1):(o=s,i++),0===o&&(o=1)),o>g)return void Uh.xa(m);o>l?(y=o-l,o=l):y=0;var b=Math.sqrt(o*o/(1+d*d));if(0>c&&(b=-b),a+=b,h+=d*b,t.translate(a,h),t.rotate(p),t.translate(-(s/2),-(r/2)),0===y&&n.bk(t,e),t.translate(s/2,r/2),t.rotate(-p),t.translate(-a,-h),g-=o,l-=o,0!==y){if(f++,f===m.length)return void Uh.xa(m);l=m[f],c=l[0],p=l[1],d=l[2],l=l[3],o=y}}Uh.xa(m)}}function To(t,e,i,n){var o=.001,r=i.length,s=0,a=0,h=0,l=0,o=e.length;if(!(4>o))if(s=e[0],a=e[1],4===o)En(t,s,a,e[2],e[3],i,n);else{t.moveTo(s,a);for(var u=0,c=0,f=0,d=c=h=0,p=Uh.lb(),g=2;o>g;g+=2)h=e[g],l=e[g+1],u=h-s,c=l-a,0===u&&(u=.001),f=c/u,c=Math.sqrt(u*u+c*c),s=[],s[0]=u,s[1]=f,s[2]=c,p.push(s),d+=c,s=h,a=l;s=e[0],a=e[1],e=0;for(var l=!0,o=i[e%r],g=0!==n,c=0,h=p[c],u=h[0],f=h[1],h=h[2],m=0;d>=.1;){0===m&&(o=i[e%r],e++,g&&(n%=o,o-=n,g=!1)),o>d&&(o=d),o>h?(m=o-h,o=h):m=0;var v=Math.sqrt(o*o/(1+f*f));if(0>u&&(v=-v),s+=v,a+=f*v,l?t.lineTo(s,a):t.moveTo(s,a),d-=o,h-=o,0!==m){if(c++,c===p.length)return void Uh.xa(p);h=p[c],u=h[0],f=h[1],h=h[2],o=m}else l=!l}Uh.xa(p)}}function Mo(t,e,i){if(!1!==Un(t)){t.Tc.Na();var n=t.dh;if(0===n){var o=t.V;o instanceof xr&&o.type===pc&&o.wc instanceof Fo&&(n=o.wc.ib)}n*=t.ec,Mn(t,-(n/2),-(n/2),e+n,i+n),e=t.Tc,i=t.Qd,n=t.Re,e.width=Math.min(i.width,e.width),e.height=Math.min(i.height,e.height),e.width=Math.max(n.width,e.width),e.height=Math.max(n.height,e.height),t.Tc.freeze(),t.Tc.J()||Uh.m("Non-real measuredBounds has been set. Object "+t+", measuredBounds: "+t.Tc.toString()),Kn(t,!1)}}function Do(t){var e=t.bA;return t.bh?e===Qu?ec:e:e===Qu?Bl.Qx[t.Ab].ud:e}function Po(t,e,i,n,o){return t=i.x-t,e=i.y-e,e=t*t+e*e,n>e?(o.x=i.x,o.y=i.y,e):n}function Lo(t,e,i,n,o,r,s,a,h){var l=!1,u=(o-s)*(e-n)-(r-a)*(t-i);return 0===u?!1:(h.x=((o*a-r*s)*(t-i)-(o-s)*(t*n-e*i))/u,h.y=((o*a-r*s)*(e-n)-(r-a)*(t*n-e*i))/u,(e>n?e-n:n-e)>(t>i?t-i:i-t)?(o=n>e?e:n,t=n>e?n:e,(h.y>o||Bl.rb(h.y,o))&&(h.y<t||Bl.rb(h.y,t))&&(l=!0)):(o=i>t?t:i,t=i>t?i:t,(h.x>o||Bl.rb(h.x,o))&&(h.x<t||Bl.rb(h.x,t))&&(l=!0)),l)}function Bo(t,e,i,n){if(!t.pl(e,i,n))return!1;t=e.x,e=e.y;var o=i.x;i=i.y;var r=n.x;if(n=n.y,t===o){var s=0;return t=0,i>e?(s=e,t=i):(s=i,t=e),n>=s&&t>=n}return o>t?(s=t,t=o):s=o,r>=s&&t>=r}function No(t){var e=t.h;null!==e&&e.la.Cb||(t.Zt=hf,"None"!==t.zo?(t.Df=-1,t.Fi=pl):"None"!==t.Tn&&(t.Df=0,t.Fi=new P(1-pl.x,pl.y)))}function $o(){Sn.call(this),this.ne="",this.Ec="black",this.Tg="13px sans-serif",this.Xd="start",this.Yq=!0,this.Zl=this.$l=!1,this.Wk=Lc,this.zm=Pc,this.pv=this.Ye=0,this.Sn=this.Vy=this.Wy=null,this.oj=new qo,this.Fq=!1,this.qf=this.Zk=this.Hs=null,this.Jj=this.Ij=0,this.qi=1/0}function Ro(t,e){var i=t.Tg;null!==i&&e.nu!==i&&(e.font=i,e.nu=i)}function Oo(t,e,i,n){e=e.replace(/^\s+|\s+$/g,"");var o=0,r=0,s=0,a=t.Tg,r=t.Ij+t.Jj,h=Math.max(0,zo(t)+r),s=t.Wk===Bc?_o(a):0;if(t.Ye>=t.qi)return new C(0,h);if(t.zm===Mc){if(i.Pj=1,r=Io(e,a),0===s||n>=r)return i.Ze=r,i.nf.push(i.Ze),i.ye.push(e),new C(r,h);var l=jo(e);e=e.substr(l.length);for(var u=jo(e),r=Io(l+u,a);0<u.length&&n>=r;)l+=u,e=e.substr(u.length),u=jo(e),r=Io((l+u).replace(/^\s+|\s+$/g,""),a);for(l+=u.replace(/^\s+|\s+$/g,""),n=Math.max(1,n-s);Io(l,a)>n&&1<l.length;)l=l.substr(0,l.length-1);return l+=Fc,s=Io(l,a),i.nf.push(s),i.Ze=s,i.ye.push(l),new C(s,h)}var c=0;for(0===e.length&&(c=1,i.nf.push(0),i.ye.push(e));0<e.length;){for(l=jo(e),e=e.substr(l.length);Io(l,a)>n;){for(u=1,r=Io(l.substr(0,u),a),s=0;n>=r;)u++,s=r,r=Io(l.substr(0,u),a);if(1===u?(i.nf[t.Ye+c]=r,o=Math.max(o,r)):(i.nf[t.Ye+c]=s,o=Math.max(o,s)),u--,1>u&&(u=1),i.ye[t.Ye+c]=l.substr(0,u),c++,l=l.substr(u),t.Ye+c>t.qi)break}for(u=jo(e),r=Io(l+u,a);0<u.length&&n>=r;)l+=u,e=e.substr(u.length),u=jo(e),r=Io((l+u).replace(/^\s+|\s+$/g,""),a);if(l=l.replace(/^\s+|\s+$/g,""),""!==l&&(0===u.length?(i.nf.push(r),o=Math.max(o,r)):(s=Io(l,a),i.nf.push(s),o=Math.max(o,s)),i.ye.push(l),c++,t.Ye+c>t.qi))break}return i.Pj=Math.min(t.qi,c),i.Ze=Math.max(i.Ze,o),new C(i.Ze,h*i.Pj)}function jo(t){for(var e=t.length,i=0;e>i&&" "!==t.charAt(i);)i++;for(;e>i&&" "===t.charAt(i);)i++;return i>=e?t:t.substr(0,i)}function Io(t,e){return Ec!==e&&(Ec=Tc.font=e),Tc.measureText(t).width}function zo(t){if(null!==t.Sn)return t.Sn;var e=t.Tg;Ec!==e&&(Ec=Tc.font=e);var i=0;return void 0!==Cc[e]&&5e3>kc?i=Cc[e]:(i=1.3*Tc.measureText("M").width,Cc[e]=i,kc++),t.Sn=i}function _o(t){Ec!==t&&(Ec=Tc.font=t);var e=0;return void 0!==Ac[t]&&5e3>Sc?e=Ac[t]:(e=Tc.measureText(Fc).width,Ac[t]=e,Sc++),e}function Ho(t,e,i){var n=t.ne.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),o=t.Ij+t.Jj,o=Math.max(0,zo(t)+o);if(0===n.length)return i.Ze=0,t.Ye=1,o;if(!t.Xw){var r=n.indexOf("\n",0);r>=0&&(n=n.substr(0,r))}for(var r=0,s=t.Ye=0,a=-1,h=!1;!h;)a=n.indexOf("\n",s),-1===a&&(a=n.length,h=!0),a>=s&&(s=n.substr(s,a-s),t.zm!==Mc?(i.Pj=0,s=Oo(t,s,i,e),r+=s.height,t.Ye+=i.Pj):(Oo(t,s,i,e),r+=o,t.Ye++),t.Ye===t.qi&&(h=!0)),s=a+1;return t.pv=r}function qo(){this.Ze=this.Pj=0,this.nf=[],this.ye=[]}function Wo(){Sn.call(this),this.nd=null,this.Cs="",this.Hj=new k(NaN,NaN,NaN,NaN).freeze(),this.Wn=ec,this.Gs=this.qf=null,this.ev=this.Pq=this.gm=!1,this.to=null,this.NC=0}function Go(t){this.Ko=[new Uo(t,1)]}function Vo(t,e,i,n){var o=new G(null),r=o.getContext("2d"),s=1/e;o.width=i/e,o.height=n/e,e=new Uo(o.Kd,e),i=t.Ko[t.Ko.length-1],r.setTransform(s*i.Rt,0,0,s*i.Rt,0,0),r.drawImage(i.source,0,0),t.Ko.push(e)}function Uo(t,e){this.source=t,this.Rt=e}function Ko(){this.s=new V,this.Wb=null}function Yo(t,e,i,n,o,r){null===t.s&&Uh.m("StreamGeometryContext has been closed"),void 0!==o&&!0===o?(null===t.Wb&&Uh.m("Need to call beginFigure first"),n=new Z(_l),n.D=e,n.F=i,t.Wb.Ea.add(n)):(t.Wb=new Q,t.Wb.ra=e,t.Wb.sa=i,t.Wb.jp=n,t.s.pb.add(t.Wb)),void 0!==r&&(t.Wb.ao=r)}function Jo(t){null===t.s&&Uh.m("StreamGeometryContext has been closed"),null===t.Wb&&Uh.m("Need to call beginFigure first");var e=t.Wb.Ea.length;e>0&&t.Wb.Ea.na(e-1).close()}function Xo(t){null===t.s&&Uh.m("StreamGeometryContext has been closed"),null===t.Wb&&Uh.m("Need to call beginFigure first"),0<t.Wb.Ea.length&&(t.Wb.jp=!0)}function Qo(t,e,i,n,o,r,s,a){void 0===a&&(a=!1),null===t.s&&Uh.m("StreamGeometryContext has been closed"),null===t.Wb&&Uh.m("Need to call beginFigure first");var h=new Z(ql);h.Ib=e,h.Ub=i,h.ve=n,h.we=o,h.D=r,h.F=s,a&&h.close(),t.Wb.Ea.add(h)}function Zo(t,e,i,n,o){var r;void 0===r&&(r=!1),null===t.s&&Uh.m("StreamGeometryContext has been closed"),null===t.Wb&&Uh.m("Need to call beginFigure first");var s=new Z(Wl);s.Ib=e,s.Ub=i,s.D=n,s.F=o,r&&s.close(),t.Wb.Ea.add(s)}function tr(t,e,i,n,o,r,s,a){var h;void 0===h&&(h=!1),null===t.s&&Uh.m("StreamGeometryContext has been closed"),null===t.Wb&&Uh.m("Need to call beginFigure first"),e=new Z(Vl,s,a,e,i,n,o,r),h&&e.close(),t.Wb.Ea.add(e)}function er(t){0===arguments.length?io.call(this):io.call(this,t),this.Q=311807,this.Ok=this.ci="",this.ls=this.hs=this.us=this.kr=null,this.ws="",this.ai=this.vs=this.rm=null,this.ks="",this.po=null,this.js=new C(NaN,NaN).freeze(),this.ms="",this.qo=null,this.ne="",this.kv=this.sq=this.Ck=null,this.Yg=new b(NaN,NaN).freeze(),this.sr="",this.Rk=null,this.tr=nl,this.Cr=Bl.cH,this.vr=Bl.bH,this.Cq=null,this.lr=Gc,this.um=new b(6,6).freeze(),this.tm="gray",this.sm=4,this.FC=-1,this.mH=new k,this.Tk=null,this.uj=NaN}function ir(t,e){e.sb.lf.each(function(e){e.isEnabled&&e.updateAdornments(t)})}function nr(t){0!==(16384&t.Q)!=!1&&(t.updateAdornments(),t.Q&=-16385,t=t.h,null!==t&&(t.Sd=!0))}function or(t,e){if(!1===fr(t)){var i=t.h;null!==i&&(i.fg.add(t),t instanceof Cr&&!i.la.Cb&&t.yf(),e||i.Se()),dr(t,!0)}}function rr(t){if(!1!==fr(t)){var e=t.position,i=t.location;i.J()&&e.J()||(hr(t,e,i),t.Vg());var e=t.Oa,i=t.bc,n=i.copy();i.Na(),i.x=e.x,i.y=e.y,i.freeze(),t.nx(n,i),dr(t,!1)}}function sr(t,e,i,n){void 0===n&&(n=new b),i.te()&&(i=al);var o=e.Ka;if(n.o(o.width*i.x+i.offsetX,o.height*i.y+i.offsetY),null===e||e===t)return n;for(e.transform.fb(n),e=e.U;null!==e&&e!==t;)e.transform.fb(n),e=e.U;return t.Qk.fb(n),n.offset(-t.Tc.x,-t.Tc.y),n}function ar(t,e){var i;i=t.mH;var n;isNaN(t.uj)&&(t.uj=po(t)),n=t.uj;var o=2*n;if(!t.Ti)return i.o(e.x-1-n,e.y-1-n,e.width+2+o,e.height+2+o),i;n=e.x;var o=e.y,r=e.width,s=e.height,a=t.shadowBlur,h=t.vG,r=r+a,s=s+a;return n-=a/2,o-=a/2,0<h.x?r+=h.x:(n+=h.x,r-=h.x),0<h.y?s+=h.y:(o+=h.y,s-=h.y),i.o(n-1,o-1,r+2,s+2),i}function hr(t,e,i){var n=NaN,o=NaN,r=Uh.M(),s=t.Pe,a=t.hc;s.te()&&Uh.m("determineOffset: Part's locationSpot must be real: "+s.toString());var h=a.Ka,n=0;if(a.ib&&(n=a.dh),r.cu(0,0,h.width+n,h.height+n,s),a!==t)for(a.ib&&r.offset(-n/2,-n/2),a.transform.fb(r),s=a.U;null!==s&&s!==t;)s.transform.fb(r),s=s.U;t.Qk.fb(r),r.offset(-t.Tc.x,-t.Tc.y),s=t.h,i.J()?(a=e.x,h=e.y,n=i.x-r.x,o=i.y-r.y,e.o(n,o),i=!1,null!==s&&(n=s.bi,n.nj?i=!0:!n.qd||t instanceof xr||$e(n,t,"position",new b(a,h),e),i||e.x===a&&e.y===h||(n=s.$a,s.$a=!0,t.j("position",new b(a,h),e),s.$a=n))):e.J()&&(n=e.x,o=e.y,e=i.copy(),i.o(n+r.x,o+r.y),i.L(e)||null===s||(n=s.$a,s.$a=!0,t.j("location",e,i),s.$a=n)),Uh.B(r)}function lr(t,e,i){pr(t,!1),t instanceof Cr&&ln(i,t),t.layer.Ac||e||i.oc(),e=t.bc;var n=i.tb;n.J()?(gr(t)?E(e,n)||t.Ef(!1):e.zg(n)&&t.Ef(!0),t.updateAdornments()):i.Mk=!0}function ur(t,e){if(t.visible){var i=t.bc;if(0!==i.width&&0!==i.height&&!isNaN(i.x)&&!isNaN(i.y)){var n=t.transform,o=t.U,r=t.un;r.reset(),null!==o&&(o.bg()?r.multiply(o.Nf):null!==o.U&&r.multiply(o.U.Nf)),r.multiply(t.Yd),null!==t.tc&&(Rn(t,e,t.tc,!0,!0),e.fillRect(i.x,i.y,i.width,i.height)),null===t.tc&&null===t.Mb&&(e.fillStyle="rgba(0,0,0,0.4)",e.fillRect(i.x,i.y,i.width,i.height)),null!==t.Mb&&(n.zt()||e.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),o=t.Ka,i=o.width,o=o.height,Rn(t,e,t.Mb,!0,!1),e.fillRect(0,0,i+0,o+0),n.zt()||(i=1/(n.m11*n.m22-n.m12*n.m21),e.transform(n.m22*i,-n.m12*i,-n.m21*i,n.m11*i,i*(n.m21*n.dy-n.m22*n.dx),i*(n.m12*n.dx-n.m11*n.dy))))}}}function cr(t,e,i,n){e.constructor===t.constructor||Vc||(Vc=!0,Uh.trace('Should not change the class of the Part when changing category from "'+i+'" to "'+n+'"'),Uh.trace("  Old class: "+Uh.yg(t)+", new class: "+Uh.yg(e)+", part: "+t.toString())),t.bt();var o=t.data;i=t.hf;var r=t.Za,s=t.Ag,a=!0,h=!0,l=!1;if(t instanceof Cr)var u=t,a=u.Vh,h=u.Pc,l=u.mn;e.Qh(t),e.cloneProtected(t),t.ci=n,t.T(),t.pa(),e=t.h,n=!0,null!==e&&(n=e.$a,e.$a=!0),t.rh=o,null!==o&&t.Rb(),null!==e&&(e.$a=n),o=t.hf,o!==i&&(t.Ok=i,t.hf=o),t instanceof Cr&&(u=t,u.Vh=a,u.Pc=h,u.mn=l,u.Ld()&&u.K(64)),t.Za=r,t.Ag=s}function fr(t){return 0!==(32768&t.Q)}function dr(t,e){t.Q=e?32768|t.Q:-32769&t.Q}function pr(t,e){t.Q=e?65536|t.Q:-65537&t.Q}function gr(t){return 0!==(131072&t.Q)}function mr(t,e){t.Q=e?1048576|t.Q:-1048577&t.Q}function vr(t,e){var i=e.Va;return null!==i?1+vr(t,i):e instanceof Cr&&(i=e.Nd,null!==i)?vr(t,i):0}function yr(t,e){var i=e.Va;return null!==i?yr(t,i):e instanceof Cr&&(i=e.Nd,null!==i)?yr(t,i):e}function br(t,e,i){if(e===i||null===i)return!1;var n=e.Va;return null===n||n!==i&&!br(t,n,i)?e instanceof Cr&&(e=e.Nd,null!==e)?br(t,e,i):!1:!0}function wr(t){return t.Ja()?(t=t.layer,null!==t&&t.Ac?!1:!0):!1}function xr(t){0===arguments.length?er.call(this,ac):er.call(this,t),this.hf="Adornment",this.Jb=null,this.Q&=-257,this.Yg=new b(NaN,NaN),this.ej=new l(k),this.Tb=null}function Cr(t){0===arguments.length?er.call(this,ac):er.call(this,t),this.kc=new l(Nr),this.ho=this.Pk=this.or=this.nr=null,this.er=!0,this.Qs=!1,this.Ls=null,this.lq=this.fr=!0,this.mq=Bl.fH,this.Wd=this.oh=null,this.as=Jc,this.Oj=!1}function kr(t,e){null!==e&&(null===t.oh&&(t.oh=new c(rs)),t.oh.add(e))}function Ar(t,e){if(null!==e){e.$r=null;var i=t.Va;null===i||i.Md||Ar(i,i.ll(""))}}function Sr(t,e,i){if(Ar(t,i),!t.kc.contains(e)){t.kc.add(e);var n=t.tF;if(null!==n){var o=!0,r=t.h;null!==r&&(o=r.Pa,r.Pa=!0),n(t,e,i),null!==r&&(r.Pa=o)}e.Bc&&(i=e.Z,e=e.da,null!==i&&null!==e&&i!==e&&(n=!0,r=t.h,null!==r&&(n=r.ld),t=n?e:i,o=n?i:e,t.Oj||(t.Oj=o),!o.Vh||null!==r&&r.la.Cb||(n?i===o&&(o.Vh=!1):e===o&&(o.Vh=!1))))}}function Fr(t,e,i){if(Ar(t,i),t.kc.remove(e)){var n=t.uF,o=t.h;if(null!==n){var r=!0;null!==o&&(r=o.Pa,o.Pa=!0),n(t,e,i),null!==o&&(o.Pa=r)}e.Bc&&(i=!0,null!==o&&(i=o.ld),t=i?e.da:e.Z,e=i?e.Z:e.da,null!==t&&(t.Oj=!1),null===e||e.Vh||(0===e.kc.count?(e.Oj=null,null!==o&&o.la.Cb||(e.Vh=!0)):Er(e)))}}function Er(t){if(t.Oj=!1,0!==t.kc.count){var e=!0,i=t.h;if(null===i||!i.la.Cb){for(null!==i&&(e=i.ld),i=t.kc.k;i.next();){var n=i.value;if(n.Bc)if(e){if(n.Z===t)return void(t.Vh=!1)}else if(n.da===t)return void(t.Vh=!1)}t.Vh=!0}}}function Tr(t){null===t.Wd?t.Wd=new v("string",Sn):t.Wd.clear(),ho(t,t,function(t,e){var i=e.xd;null!==i&&t.Wd.add(i,e)}),0===t.Wd.count&&t.Wd.add("",t)}function Mr(t,e,i){var n=e.xd;if(null!==n&&(null!==t.Wd&&t.Wd.remove(n),e=t.h,null!==e&&i)){for(i=null,n=t.FE(n);n.next();)t=n.value,null===i&&(i=Uh.lb()),i.push(t);if(null!==i){for(n=0;n<i.length;n++)t=i[n],e.remove(t);Uh.xa(i)}}}function Dr(t,e){var i=e.Rm();return null===i?0:1+Dr(t,i)}function Pr(t,e,i,n,o){if(n>1)for(o=i?t.Gw():t.wg();o.next();){var r=o.value;r.Bc&&(r=r.eA(t),null===r||r===t||e.contains(r)||(e.add(r),Pr(r,e,i,n-1,r.Pc)))}else Lr(t,e,i,o)}function Lr(t,e,i,n){for(var o=i?t.Gw():t.wg();o.next();){var r=o.value;r.Bc&&(r=r.eA(t),null===r||r===t||e.contains(r)||(e.add(r),n&&(r.rl(),r.Qe(!1)),r.Pc&&(r.mn=r.Pc,Lr(r,e,i,r.mn))))}t.Pc=!1}function Br(t,e,i,n,o,r,s){for(var a=i?t.Gw():t.wg();a.next();){var h=a.value;h.Bc&&(o||h.qg||h.$b(),h=h.eA(t),null!==h&&h!==t&&!e.contains(h)&&(e.add(h),o||(h.Qe(!0),h.rl(),He(r,h,s)),n>2||h.mn))&&(h.mn=!1,Br(h,e,i,n-1,h.Pc,r,s))}t.Pc=!0}function Nr(){er.call(this,pc),this.eg=null,this.xh="",this.pg=this.Kq=null,this.Lh="",this.Ks=null,this.gs=this.fs=this.es=!1,this.gr=!0,this.gq=tf,this.tq=0,this.wq=tf,this.xq=NaN,this.nm=Qc,this.Bs=.5,this.ze=null,this.Uc=new l(b).freeze(),this.ro=this.Ae=null,this.qg=!1,this.gz=null,this.pz=!1,this.yn=this.li=this.Ta=null,this.of=0,this.Kn=this.Gn=null,this.ej=new l(k),this.uz=new b,this.uD=this.sD=null,this.gy=!1,this.S=null}function $r(t){var e=t.Z,i=t.da;null!==e&&null!==i?Rr(t,e.HI(i)):Rr(t,null)}function Rr(t,e){var i=t.Ck;if(i!==e){null!==i&&xs(i,t),t.Ck=e,null!==e&&ws(e,t);var n=t.Tz;if(null!==n){var o=!0,r=t.h;null!==r&&(o=r.Pa,r.Pa=!0),n(t,i,e),null!==r&&(r.Pa=o)}!t.qg||t.sD!==i&&t.uD!==i||t.$b()}}function Or(t,e){null===t.ze&&(t.ze=new c(Cr)),t.ze.add(e),t.T()}function jr(t){0===t.Uc.count?t.qg=!1:(t.qg=!0,t.Gn=t.n(0).copy(),t.Kn=t.n(t.oa-1).copy(),ts(t,!1))}function Ir(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function zr(t,e){var i=e.$r;return null===i&&(i=new ps,i.port=e,i.Cc=e.V,e.$r=i),ms(i,t)}function _r(t,e){if(null===e)return al;var i=t.vb;return i.Oc()&&(void 0===e&&(e=t.wd),null!==e&&(i=e.vb)),i===il?el:i}function Hr(t,e){if(null===e)return al;var i=t.xb;return i.Oc()&&(void 0===e&&(e=t.ke),null!==e&&(i=e.xb)),i===il?el:i}function qr(t){var e=t.bp;return isNaN(e)&&(t=t.wd,null!==t&&(e=t.bp)),isNaN(e)?0:e}function Wr(t){var e=t.Zp;return isNaN(e)&&(t=t.ke,null!==t&&(e=t.Zp)),isNaN(e)?0:e}function Gr(t){if(!t.Si)return!1;var e=t.points.q,i=e.length;if(4>i)return!1;t=an(t.h,!0,t.Va,null);for(var n=1;i-2>n;n++){var o=e[n],r=e[n+1];if(!t.mp(Math.min(o.x,r.x),Math.min(o.y,r.y),Math.abs(o.x-r.x),Math.abs(o.y-r.y)))return!0}return!1}function Vr(t,e,i,n,o,r){var s=e.Hm,a=e.Gm,h=hs(e,i,n),l=i,u=n;for(0===o?l+=s:90===o?u+=a:180===o?l-=s:u-=a;h>1&&hs(e,l,u)===h-1;)i=l,n=u,0===o?l+=s:90===o?u+=a:180===o?l-=s:u-=a,h-=1;r?h>1&&(180===o||0===o?i=Math.floor(i/s)*s+s/2:(90===o||270===o)&&(n=Math.floor(n/a)*a+a/2)):(i=Math.floor(i/s)*s+s/2,n=Math.floor(n/a)*a+a/2),h>1&&(r=o,l=i,u=n,0===o?(r=90,u+=a):90===o?(r=180,l-=s):180===o?(r=270,u-=a):270===o&&(r=0,l+=s),hs(e,l,u)===h-1?Vr(t,e,l,u,r,!1):(l=i,u=n,0===o?(r=270,u-=a):90===o?(r=0,l+=s):180===o?(r=90,u+=a):270===o&&(r=180,l-=s),hs(e,l,u)===h-1&&Vr(t,e,l,u,r,!1))),t.cl(i,n)}function Ur(t,e,i,n){return t=i-t,isNaN(t)||1/0===t||-(1/0)===t?NaN:(0>t&&(t=-t),e=n-e,isNaN(e)||1/0===e||-(1/0)===e?NaN:(0>e&&(e=-e),Bl.rb(t,0)?e:Bl.rb(e,0)?t:Math.sqrt(t*t+e*e)))}function Kr(t,e,i,n){var o=t.oa;if(!(2>o))if(i){var r=t.n(1);i=r.x-n.x,n=r.y-n.y,r=Ur(e.x,e.y,i,n),0!==r&&(o=2===o?.5*r:r,t=qr(t),t>o&&(t=o),i=t*(i-e.x)/r,t=t*(n-e.y)/r,e.x+=i,e.y+=t)}else r=t.n(o-2),i=r.x-n.x,n=r.y-n.y,r=Ur(e.x,e.y,i,n),0!==r&&(o=2===o?.5*r:r,t=Wr(t),t>o&&(t=o),i=t*(e.x-i)/r,t=t*(e.y-n)/r,e.x-=i,e.y-=t)}function Yr(t,e,i,n){for(var o=t.oa,r=e;Bl.rb(e.x,r.x)&&Bl.rb(e.y,r.y);){if(i>=o)return o-1;r=t.n(i++)}if(!Bl.rb(e.x,r.x)&&!Bl.rb(e.y,r.y))return i-1;for(var s=r;Bl.rb(e.x,r.x)&&Bl.rb(r.x,s.x)&&(!n||(e.y>=r.y?r.y>=s.y:r.y<=s.y))||Bl.rb(e.y,r.y)&&Bl.rb(r.y,s.y)&&(!n||(e.x>=r.x?r.x>=s.x:r.x<=s.x));){if(i>=o)return o-1;s=t.n(i++)}return i-2}function Jr(t,e,i,n,o,r,s){if(!s&&Zr(t)){s=[];var a=0;t.Ja()&&(a=Xr(t,o,r,s));var h=o.x,h=o.y;if(a>0)if(Bl.I(o.y,r.y))if(o.x<r.x)for(var l=0;a>l;){var u=Math.max(o.x,Math.min(s[l++]-5,r.x-10));e.lineTo(u+i,r.y+n);for(var h=u+i,c=Math.min(u+10,r.x);a>l;){var f=s[l];if(!(c+10>f))break;l++,c=Math.min(f+5,r.x)}f=(u+c)/2+i,f=r.y-10+n,u=c+i,c=r.y+n,t.Le===nf?Yo(e,u,c,!1,!1):Qo(e,h,f,u,f,u,c)}else for(l=a-1;l>=0;){for(u=Math.min(o.x,Math.max(s[l--]+5,r.x+10)),e.lineTo(u+i,r.y+n),h=u+i,c=Math.max(u-10,r.x);l>=0&&(f=s[l],f>c-10);)l--,c=Math.max(f-5,r.x);f=r.y-10+n,u=c+i,c=r.y+n,t.Le===nf?Yo(e,u,c,!1,!1):Qo(e,h,f,u,f,u,c)}else if(Bl.I(o.x,r.x))if(o.y<r.y)for(l=0;a>l;){for(u=Math.max(o.y,Math.min(s[l++]-5,r.y-10)),e.lineTo(r.x+i,u+n),h=u+n,c=Math.min(u+10,r.y);a>l&&(f=s[l],c+10>f);)l++,c=Math.min(f+5,r.y);f=r.x-10+i,u=r.x+i,c+=n,t.Le===nf?Yo(e,u,c,!1,!1):Qo(e,f,h,f,c,u,c)}else for(l=a-1;l>=0;){for(u=Math.min(o.y,Math.max(s[l--]+5,r.y+10)),e.lineTo(r.x+i,u+n),h=u+n,c=Math.max(u-10,r.y);l>=0&&(f=s[l],f>c-10);)l--,c=Math.max(f-5,r.y);f=r.x-10+i,u=r.x+i,c+=n,t.Le===nf?Yo(e,u,c,!1,!1):Qo(e,f,h,f,c,u,c)}}e.lineTo(r.x+i,r.y+n)}function Xr(t,e,i,n){var o=t.h;if(null===o||e.L(i))return 0;for(o=o.ex;o.next();){var r=o.value;if(null!==r&&r.visible)for(var r=r.Hb.q,s=r.length,a=0;s>a;a++){var h=r[a];if(h instanceof Nr){if(h===t)return 0<n.length&&n.sort(function(t,e){return t-e}),n.length;if(h.Ja()&&Zr(h)){var l=h.gn;l.J()&&t.gn.zg(l)&&!t.usesSamePort(h)&&(l=h.path,null!==l&&l.vl()&&Qr(e,i,n,h))}}}}return 0<n.length&&n.sort(function(t,e){return t-e}),n.length}function Qr(t,e,i,n){for(var o=Bl.I(t.y,e.y),r=n.oa,s=n.n(0),a=Uh.M(),h=1;r>h;h++){var l=n.n(h);if(r-1>h){var u=n.n(h+1);s.y===l.y&&l.y===u.y?(l.x>s.x&&u.x>l.x||l.x<s.x&&u.x<l.x)&&(l=u,h++):s.x===l.x&&l.x===u.x&&(l.y>s.y&&u.y>l.y||l.y<s.y&&u.y<l.y)&&(l=u,h++)}t:{var u=a,c=t.x,f=t.y,d=e.x,p=e.y,g=s.x,s=s.y,m=l.x,v=l.y;if(Bl.I(c,d)){if(!Bl.I(f,p)&&Bl.I(s,v)&&Math.min(f,p)<s&&Math.max(f,p)>s&&Math.min(g,m)<c&&Math.max(g,m)>c&&!Bl.I(g,m)){u.x=c,u.y=s,u=!0;break t}}else if(Bl.I(f,p)&&Bl.I(g,m)&&Math.min(c,d)<g&&Math.max(c,d)>g&&Math.min(s,v)<f&&Math.max(s,v)>f&&!Bl.I(s,v)){u.x=g,u.y=f,u=!0;break t}u.x=0,u.y=0,u=!1}u&&(o?i.push(a.x):i.push(a.y)),s=l}Uh.B(a)}function Zr(t){return t=t.Le,t===of||t===nf}function ts(t,e){if(e||Zr(t)){var i=t.h;null===i||i.Tl.contains(t)||null===t.gz||i.Tl.add(t,t.gz)}}function es(t,e){var i=t.layer;if(null!==i&&i.visible&&!i.Ac){var n=i.h;if(null!==n)for(var o=!1,n=n.ex;n.next();){var r=n.value;if(r.visible)if(r===i)for(var o=!0,s=!1,r=r.Hb.q,a=r.length,h=0;a>h;h++){var l=r[h];l instanceof Nr&&(l===t?s=!0:s&&is(t,l,e))}else if(o)for(r=r.Hb.q,a=r.length,h=0;a>h;h++)l=r[h],l instanceof Nr&&is(t,l,e)}}}function is(t,e,i){if(null!==e&&null!==e.Ta&&Zr(e)){var n=e.gn;n.J()&&(t.gn.zg(n)||i.zg(n))&&(t.usesSamePort(e)||e.re())}}function ns(t){var e=t.eg;if(null!==e){var i=t.pg;if(null!==i){var n=t.xh,o=t.Lh;t:{if(null!==i&&null!==e.oh)for(t=e.oh.k;t.next();){var r=t.value;if(r.Gp===e&&r.Kt===i&&r.px===n&&r.qx===o||r.Gp===i&&r.Kt===e&&r.px===o&&r.qx===n){t=r;break t}}t=null}for(var s=null,a=null,h=e.kc.q,u=h.length,r=0;u>r;r++){var c=h[r];(c.eg===e&&c.xh===n&&c.pg===i&&c.Lh===o||c.eg===i&&c.xh===o&&c.pg===e&&c.Lh===n)&&(null===a?a=c:(null===s&&(s=new l(Nr),s.add(a)),s.add(c)))}if(null!==s)for(null===t&&(t=new rs,t.Gp=e,t.px=n,t.Kt=i,t.qx=o,kr(e,t),kr(i,t)),t.links=s,e=s.q,r=0;r<e.length;r++)if(c=e[r],0===c.of){for(i=1,n=0;n<e.length;n++)Math.abs(e[n].of)===i&&(i++,n=-1);c.yn=t,c.of=c.Z===t.Gp?i:-i,i=c.h,(null===i||i.rf)&&c.$b()}}}}function os(t){var e=t.yn;if(null!==e){var i=t.of;if(t.yn=null,t.of=0,e.links.remove(t),2>e.links.count)1===e.links.count&&(i=e.links.q[0],i.yn=null,i.of=0,i.$b()),i=e.Gp,null!==e&&null!==i.oh&&i.oh.remove(e),i=e.Kt,null!==e&&null!==i.oh&&i.oh.remove(e);else for(i=Math.abs(i),t=0===i%2,e=e.links.k;e.next();){var n=e.value,o=Math.abs(n.of),r=0===o%2;o>i&&t===r&&(n.of=0<n.of?n.of-2:n.of+2,n.$b())}}}function rs(){Uh.jc(this),this.links=this.qx=this.Kt=this.px=this.Gp=null}function ss(){Uh.jc(this),this.jB=this.group=null,this.wt=!0,this.abort=!1,this.kg=this.jg=1,this.xr=this.wr=-1,this.me=this.le=8,this.uc=null,this.YG=!1,this.zG=22,this.qF=111}function as(t,e,i){return t.jg<=e&&e<=t.wr&&t.kg<=i&&i<=t.xr}function hs(t,e,i){return as(t,e,i)?(e-=t.jg,e/=t.le,i-=t.kg,i/=t.me,t.uc[0|e][0|i]):0}function ls(t,e,i){as(t,e,i)&&(e-=t.jg,e/=t.le,i-=t.kg,i/=t.me,t.uc[0|e][0|i]=0)}function us(t){if(null!==t.uc)for(var e=0;e<=t.Ao;e++)for(var i=0;i<=t.Bo;i++)1<=t.uc[e][i]&&(t.uc[e][i]|=999999)}function cs(t,e,i,n,o,r,s,a,h){if(!(r>e||e>s||a>i||i>h)){var l,u;l=0|e,u=0|i;var c=t.uc[l][u];if(c>=1&&999999>c)for(o?u+=n:l+=n,c+=1;l>=r&&s>=l&&u>=a&&h>=u&&!(c>=t.uc[l][u]);)t.uc[l][u]=c,c+=1,o?u+=n:l+=n;if(l=o?u:l,o)if(n>0)for(i+=n;l>i;i+=n)cs(t,e,i,1,!o,r,s,a,h),cs(t,e,i,-1,!o,r,s,a,h);else for(i+=n;i>l;i+=n)cs(t,e,i,1,!o,r,s,a,h),cs(t,e,i,-1,!o,r,s,a,h);else if(n>0)for(e+=n;l>e;e+=n)cs(t,e,i,1,!o,r,s,a,h),cs(t,e,i,-1,!o,r,s,a,h);else for(e+=n;e>l;e+=n)cs(t,e,i,1,!o,r,s,a,h),cs(t,e,i,-1,!o,r,s,a,h)}}function fs(t,e,i,n,o,r,s,a,h,l,u){for(var c=0|e,f=0|i,d=t.uc[c][f];0===d&&c>a&&h>c&&f>l&&u>f;)if(s?f+=r:c+=r,d=t.uc[c][f],1>=Math.abs(c-n)&&1>=Math.abs(f-o))return t.abort=!0,0;for(c=0|e,f=0|i,d=t.uc[c][f],e=1,t.uc[c][f]=e;0===d&&c>a&&h>c&&f>l&&u>f;)s?f+=r:c+=r,d=t.uc[c][f],t.uc[c][f]=e,e+=1;return s?f:c}function ds(t,e,i,n,o,r){if(null!==t.uc){t.abort=!1;var s=e.x,a=e.y;if(as(t,s,a)){var s=s-t.jg,s=s/t.le,a=a-t.kg,a=a/t.me,h=n.x,l=n.y;if(as(t,h,l))if(h-=t.jg,h/=t.le,l-=t.kg,l/=t.me,1>=Math.abs(s-h)&&1>=Math.abs(a-l))t.abort=!0;else{var u=r.x;e=r.y,n=r.x+r.width;var c=r.y+r.height,u=u-t.jg,u=u/t.le;e-=t.kg,e/=t.me,n-=t.jg,n/=t.le,c-=t.kg,c/=t.me,r=Math.max(0,Math.min(t.Ao,0|u)),n=Math.min(t.Ao,Math.max(0,0|n)),e=Math.max(0,Math.min(t.Bo,0|e));var c=Math.min(t.Bo,Math.max(0,0|c)),s=0|s,a=0|a,h=0|h,l=0|l,u=s,f=a,d=0===i||90===i?1:-1;if((i=90===i||270===i)?f=fs(t,s,a,h,l,d,i,r,n,e,c):u=fs(t,s,a,h,l,d,i,r,n,e,c),!t.abort){t:{i=0===o||90===o?1:-1,o=90===o||270===o;for(var d=0|h,p=0|l,g=t.uc[d][p];0===g&&d>r&&n>d&&p>e&&c>p;)if(o?p+=i:d+=i,g=t.uc[d][p],1>=Math.abs(d-s)&&1>=Math.abs(p-a)){t.abort=!0;break t}for(d=0|h,p=0|l,g=t.uc[d][p],t.uc[d][p]=999999;0===g&&d>r&&n>d&&p>e&&c>p;)o?p+=i:d+=i,g=t.uc[d][p],t.uc[d][p]=999999}t.abort||(cs(t,u,f,1,!1,r,n,e,c),cs(t,u,f,-1,!1,r,n,e,c),cs(t,u,f,1,!0,r,n,e,c),cs(t,u,f,-1,!0,r,n,e,c))}}}}}function ps(){Uh.jc(this),this.port=this.Cc=null,this.Eg=[],this.Fp=!1}function gs(t,e,i,n){switch(e=e.offsetY){case Uh.Rc:return 90;case Uh.Ic:return 180;case Uh.ad:return 270;case Uh.Sc:return 0}switch(e){case Uh.Rc|Uh.ad:return i>180?270:90;case Uh.Ic|Uh.Sc:return i>90&&270>=i?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case Uh.Ic|Uh.ad:return i>t&&180+t>=i?180:270;case Uh.ad|Uh.Sc:return i>180-t&&360-t>=i?270:0;case Uh.Sc|Uh.Rc:return i>t&&180+t>=i?90:0;case Uh.Rc|Uh.Ic:return i>180-t&&360-t>=i?180:90;case Uh.Ic|Uh.ad|Uh.Sc:return i>90&&180+t>=i?180:i>180+t&&360-t>=i?270:0;case Uh.ad|Uh.Sc|Uh.Rc:return i>180&&360-t>=i?270:i>t&&180>=i?90:0;case Uh.Sc|Uh.Rc|Uh.Ic:return i>t&&180-t>=i?90:i>180-t&&270>=i?180:0;case Uh.Rc|Uh.Ic|Uh.ad:return i>180-t&&180+t>=i?180:i>180+t?270:90}return n&&e!==(Uh.Ic|Uh.ad|Uh.Sc|Uh.Rc)&&(i-=15,0>i&&(i+=360)),i>t&&180-t>i?90:i>=180-t&&180+t>=i?180:i>180+t&&360-t>i?270:0}function ms(t,e){var i=t.Eg;if(0===i.length){t:if(!t.Fp){i=t.Fp,t.Fp=!0;var n,o=null,r=t.Cc,r=r instanceof bs?r:null;if(null===r||r.Md)n=t.Cc.FE(t.port.xd);else{if(!r.ea.J()){t.Fp=i;break t}o=r,n=o.EE()}var s=t.Eg.length=0,a=t.port.qb(nl,Uh.M()),h=t.port.qb(cl,Uh.M()),r=Uh.lk(a.x,a.y,0,0);for(r.Zi(h),Uh.B(a),Uh.B(h),a=Uh.ic(r.x+r.width/2,r.y+r.height/2),n=n.k;n.next();)if(h=n.value,h.Ja()){var l=el,u=h.wd===t.port||h.Z.Uh(o),l=u?_r(h,t.port):Hr(h,t.port);if(l.lp()&&(u=u?h.ke:h.wd,null!==u)){var c=u.V;if(null!==c){var u=h.computeOtherPoint(c,u),c=a.Pi(u),l=gs(r,l,c,h.gc),f=0;0===l?(f=Uh.Sc,c>180&&(c-=360)):f=90===l?Uh.Rc:180===l?Uh.Ic:Uh.ad,l=t.Eg[s],void 0===l?(l=new vs(h,c,f),t.Eg[s]=l):(l.link=h,l.angle=c,l.ge=f),l.ox.set(u),s++}}}for(Uh.B(a),t.Eg.sort(ps.prototype.sJ),o=t.Eg.length,a=-1,s=n=0;o>s;s++)l=t.Eg[s],void 0!==l&&(l.ge!==a&&(a=l.ge,n=0),l.fp=n,n++);for(a=-1,n=0,s=o-1;s>=0;s--)l=t.Eg[s],void 0!==l&&(l.ge!==a&&(a=l.ge,n=l.fp+1),l.Mm=n);s=t.Eg,u=t.port,o=t.Cc.GJ,a=Uh.M(),n=Uh.M(),h=Uh.M(),l=Uh.M(),u.qb(nl,a),u.qb(rl,n),u.qb(cl,h),u.qb(ll,l);var d=f=c=u=0;if(o===Xc)for(var p=0;p<s.length;p++){var g=s[p];if(null!==g){var m=g.link.computeThickness();switch(g.ge){case Uh.Rc:f+=m;break;case Uh.Ic:d+=m;break;case Uh.ad:u+=m;break;default:case Uh.Sc:c+=m}}}for(var v=0,y=0,b=1,p=0;p<s.length;p++)if(g=s[p],null!==g){var w,x;if(v!=g.ge){switch(v=g.ge){case Uh.Rc:w=h,x=l;break;case Uh.Ic:w=l,x=a;break;case Uh.ad:w=a,x=n;break;default:case Uh.Sc:w=n,x=h}var C=x.x-w.x;switch(x=x.y-w.y,v){case Uh.Rc:f>Math.abs(C)?(b=Math.abs(C)/f,f=Math.abs(C)):b=1;break;case Uh.Ic:d>Math.abs(x)?(b=Math.abs(x)/d,d=Math.abs(x)):b=1;break;case Uh.ad:u>Math.abs(C)?(b=Math.abs(C)/u,u=Math.abs(C)):b=1;break;default:case Uh.Sc:c>Math.abs(x)?(b=Math.abs(x)/c,c=Math.abs(x)):b=1}y=0}var k=g.rp;if(o===Xc){switch(m=g.link.computeThickness(),m*=b,k.set(w),v){case Uh.Rc:k.x=w.x+C/2+f/2-y-m/2;break;case Uh.Ic:k.y=w.y+x/2+d/2-y-m/2;break;case Uh.ad:k.x=w.x+C/2-u/2+y+m/2;break;default:case Uh.Sc:k.y=w.y+x/2-c/2+y+m/2}y+=m}else m=.5,o===Jc&&(m=(g.fp+1)/(g.Mm+1)),k.x=w.x+C*m,k.y=w.y+x*m}for(Uh.B(a),Uh.B(n),Uh.B(h),Uh.B(l),w=t.Eg,C=0;C<w.length;C++)x=w[C],null!==x&&(x.Cw=t.computeEndSegmentLength(x));t.Fp=i,Uh.nc(r)}i=t.Eg}for(r=0;r<i.length;r++)if(w=i[r],null!==w&&w.link===e)return w;return null}function vs(t,e,i){this.link=t,this.angle=e,this.ge=i,this.ox=new b,this.Mm=this.fp=0,this.rp=new b,this.Cw=0}function ys(){this.Nj=this.mj=il,this.Lj=this.kj=NaN,this.Kj=this.jj=Uc,this.Mj=this.lj=NaN}function bs(t){0===arguments.length?Cr.call(this,ac):Cr.call(this,t),this.zr=new c(er),this.lo=new c(bs),this.Sk=this.Ar=this.yr=null,this.Os=!1,this.cr=!0,this.Ps=!1,this.Tb=this.Es=null,this.pq=!1,this.qq=!0,this.Qq=this.rq=!1,this.Td=new Ss,this.Td.group=this,this.az=!1}function ws(t,e){if(t.zr.add(e)){e instanceof bs&&t.lo.add(e);var i=t.AF;if(null!==i){var n=!0,o=t.h;null!==o&&(n=o.Pa,o.Pa=!0),i(t,e),null!==o&&(o.Pa=n)}t.Ja()&&t.Md||e.Qe(!1)}i=t.Tb,null===i&&(i=t),i.T()}function xs(t,e){if(t.zr.remove(e)){e instanceof bs&&t.lo.remove(e);var i=t.BF;if(null!==i){var n=!0,o=t.h;null!==o&&(n=o.Pa,o.Pa=!0),i(t,e),null!==o&&(o.Pa=n)}t.Ja()&&t.Md||e.Qe(!0)}i=t.Tb,null===i&&(i=t),i.T()}function Cs(t,e){for(var i=t.Qc;i.next();){var n=i.value;if(n.Qe(!1),n instanceof bs){var o=n;o.Md&&(o.Jx=o.Md,Cs(o,e))}if(n instanceof Cr)n.yf(e);else if(n instanceof Nr)for(n=n.Bg;n.next();)n.value.yf(e)}t.Md=!1}function ks(t,e,i,n){for(var o=t.Qc;o.next();){var r=o.value;if(r.Qe(!0),r instanceof bs){var s=r;s.Jx&&(s.Jx=!1,ks(s,e,i,n))}if(r instanceof Cr)r.yf(e),He(i,r,n);else if(r instanceof Nr)for(r=r.Bg;r.next();)r.value.yf(e)}t.Md=!0}function As(){Sn.call(this),this.$e=Bl.bq,this.ps=new k(NaN,NaN,NaN,NaN)}function Ss(){0<arguments.length&&Uh.$c(Ss),Uh.jc(this),this.My=this.Y=null,this.Xq=this.Zq=!0,this.hr=!1,this.iq=new b(0,0).freeze(),this.$q=this.br=!0,this.cC="",this.bo=!1,this.bz=null}function Fs(t,e,i,n,o,r,s,a){for(i=i.k;i.next();){var h=i.value;n&&!h.Yw||null!==o&&!o(h)||!h.canLayout()||(r&&h instanceof Cr?h.zf||(h instanceof bs&&null===h.Lb?Fs(t,e,h.Qc,!1,o,r,s,a):e.add(h)):s&&h instanceof Nr?e.add(h):!a||!h.Ld()||h instanceof Cr||e.add(h))}}function Es(){Uh.jc(this),this.Td=null,this.clear()}function Ts(t,e){if(null===e)return!1;var i=t.vertexes.remove(e);return i&&(t.GA.remove(e.Cc),e.network=null),i}function Ms(t,e){null!==e&&t.edges.remove(e)&&(t.xA.remove(e.link),e.network=null)}function Ds(t){for(var e=Uh.lb(),i=t.edges.k;i.next();){var n=i.value;null!==n.fromVertex&&null!==n.toVertex||e.push(n)}for(i=e.length,n=0;i>n;n++)t.So(e[n]);Uh.xa(e)}function Ps(t,e,i){if(null!==i&&i.network!==e){Ts(t,i),e.dl(i);for(var n=i.rc;n.next();){var o=n.value;o.network!==e&&(Ms(t,o),e.Do(o),Ps(t,e,o.fromVertex))}for(n=i.fc;n.next();)i=n.value,i.network!==e&&(Ms(t,i),e.Do(i),Ps(t,e,i.toVertex))}}function Ls(){Uh.jc(this),this.network=null,this.ca=new k(0,0,10,10).freeze(),this.O=new b(5,5).freeze(),this.clear()}function Bs(){Uh.jc(this),this.network=null,this.clear()}function Ns(){0<arguments.length&&Uh.$c(Ns),Ss.call(this),this.Ct=!0,this.Rs=this.Ss=NaN,this.cj=new C(NaN,NaN).freeze(),this.Jh=new C(10,10).freeze(),this.xe=bf,this.bd=wf,this.Ih=Af,this.qh=vf}function $s(){0<arguments.length&&Uh.$c($s),Ss.call(this),this.Dy=this.On=this.Ad=0,this.Eq=360,this.Cy=Ff,this.Ek=0,this.jC=Ff,this.Eu=this.sg=this.CD=0,this.aw=new Us,this.Hu=this.km=0,this.vH=600,this.bs=NaN,this.kq=1,this.Ds=0,this.Fs=360,this.bd=Ff,this.ta=Df,this.Ih=jf,this.qh=mf,this.Jh=6,this.Nr=If}function Rs(t,e,i,n,o){var r=t.Eq,s=t.Ad;t=t.sg,n=n*Math.PI/180,i=i*Math.PI/180;for(var a=e.length,h=0;a>h;h++){var l=n+(o===Df?h*i/(r>=360?a:a-1):-(h*i)/a),u=e.na(h),c=s*Math.tan(l)/t,c=Math.sqrt((s*s+t*t*c*c)/(1+c*c));u.Ca=c*Math.cos(l),u.Ra=c*Math.sin(l),u.actualAngle=180*l/Math.PI}}function Os(t,e,i,n){var o=t.Ad,r=t.sg,s=t.Ek;i=i*Math.PI/180;for(var a=e.length,h=0;a>h;h++){var l=e.na(h),u=e.na(h===a-1?0:h+1),c=r*Math.sin(i);l.Ca=o*Math.cos(i),l.Ra=c,l.actualAngle=180*i/Math.PI,isNaN(l.diameter)&&Js(l,0),isNaN(u.diameter)&&Js(u,0),l=Vs(t,o,r,n===Df?i:-i,(l.diameter+u.diameter)/2+s),i+=n===Df?l:-l}}function js(t,e,i,n){var o=t.Ad,r=t.sg,s=t.Eu;i=i*Math.PI/180;for(var a=e.length,h=0;a>h;h++){var l=e.na(h);l.Ca=o*Math.cos(i),l.Ra=r*Math.sin(i),l.actualAngle=180*i/Math.PI,l=Vs(t,o,r,n===Df?i:-i,s),i+=n===Df?l:-l}}function Is(t,e,i,n,o){var r=t.Hu,r=t.Eq;if(t.km=0,t.aw=new Us,360>i){for(r=n+(o===Df?r:-r);0>r;)r+=360;r%=360,r>180&&(r-=360),r*=Math.PI/180,t.Hu=r,_s(t,e,i,n,o)}else zs(t,e,i,n,o);t.aw.commit(e)}function zs(t,e,i,n,o){var r=t.Ad,s=t.Ek,a=t.On,h=r*Math.cos(n*Math.PI/180),l=t.sg*Math.sin(n*Math.PI/180),u=e.Ue();if(3===u.length)u[0].Ca=r,u[0].Ra=0,u[1].Ca=u[0].Ca-u[0].width/2-u[1].width/2-s,u[1].y=u[0].y,u[2].Ca=(u[0].Ca+u[1].Ca)/2,u[2].y=u[0].y-u[2].height-s;else if(4===u.length)u[0].Ca=r,
u[0].Ra=0,u[2].Ca=-u[0].Ca,u[2].Ra=u[0].Ra,u[1].Ca=0,u[1].y=Math.min(u[0].y,u[2].y)-u[1].height-s,u[3].Ca=0,u[3].y=Math.max(u[0].y+u[0].height+s,u[2].y+u[2].height+s);else{for(var r=Uh.M(),c=0;c<u.length&&(u[c].Ca=h,u[c].Ra=l,!(c>=u.length-1));c++)Hs(t,h,l,u,c,o,r)||qs(t,h,l,u,c,o,r),h=r.x,l=r.y;if(Uh.B(r),t.km++,!(23<t.km)){var h=u[0].Ca,l=u[0].Ra,r=u[u.length-1].Ca,c=u[u.length-1].Ra,f=Math.abs(h-r)-((u[0].width+u[u.length-1].width)/2+s),d=Math.abs(l-c)-((u[0].height+u[u.length-1].height)/2+s),s=0;1>Math.abs(d)?Math.abs(h-r)<(u[0].width+u[u.length-1].width)/2&&(s=0):s=d>0?d:1>Math.abs(f)?0:f,f=!1,f=Math.abs(r)>Math.abs(c)?r>0!=l>c:c>0!=r>h,(f=o===Df?f:!f)&&(s=-Math.abs(s),s=Math.min(s,-u[u.length-1].width),s=Math.min(s,-u[u.length-1].height)),t.aw.compare(s,u),1<Math.abs(s)&&(t.Ad=8>t.km?t.Ad-s/(2*Math.PI):5>u.length&&s>10?t.Ad/2:t.Ad-(s>0?1.7:-2.3),t.sg=t.Ad*a,zs(t,e,i,n,o))}}}function _s(t,e,i,n,o){for(var r=t.Ad,s=t.sg,a=t.On,h=r*Math.cos(n*Math.PI/180),l=s*Math.sin(n*Math.PI/180),u=Uh.M(),c=e.Ue(),f=0;f<c.length&&(c[f].Ca=h,c[f].Ra=l,!(f>=c.length-1));f++)Hs(t,h,l,c,f,o,u)||qs(t,h,l,c,f,o,u),h=u.x,l=u.y;if(Uh.B(u),t.km++,!(23<t.km)){if(h=Math.atan2(l,h),h=o===Df?t.Hu-h:h-t.Hu,h=Math.abs(h)<Math.abs(h-2*Math.PI)?h:h-2*Math.PI,r=h*(r+s)/2,s=t.aw,Math.abs(r)<Math.abs(s.cp))for(s.cp=r,s.nn=[],s.$p=[],h=0;h<c.length;h++)s.nn[h]=c[h].kb.x,s.$p[h]=c[h].kb.y;1<Math.abs(r)&&(t.Ad=8>t.km?t.Ad-r/(2*Math.PI):t.Ad-(r>0?1.7:-2.3),t.sg=t.Ad*a,_s(t,e,i,n,o))}}function Hs(t,e,i,n,o,r,s){var a=t.Ad,h=t.sg,l=0,u=0;t=(n[o].width+n[o+1].width)/2+t.Ek;var c=!1;if(i>=0!=(r===Df)){if(l=e+t,l>a){if(l=e-t,-a>l)return s.x=l,s.y=u,!1;c=!0}}else if(l=e-t,-a>l){if(l=e+t,l>a)return s.x=l,s.y=u,!1;c=!0}return u=Math.sqrt(1-Math.min(1,l*l/(a*a)))*h,0>i!==c&&(u=-u),Math.abs(i-u)>(n[o].height+n[o+1].height)/2?(s.x=l,s.y=u,!1):(s.x=l,s.y=u,!0)}function qs(t,e,i,n,o,r,s){var a=t.Ad,h=t.sg,l=0,u=0;if(t=(n[o].height+n[o+1].height)/2+t.Ek,n=!1,e>=0!=(r===Df)){if(u=i-t,-h>u){if(u=i+t,u>h)return s.x=l,void(s.y=u);n=!0}}else if(u=i+t,u>h){if(u=i-t,-h>u)return s.x=l,void(s.y=u);n=!0}l=Math.sqrt(1-Math.min(1,u*u/(h*h)))*a,0>e!==n&&(l=-l),s.x=l,s.y=u}function Ws(t,e,i,n,o){var r=t.vH;if(.001>Math.abs(t.On-1))return void 0!==n&&void 0!==o?o*e:2*Math.PI*e;t=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i;for(var s=0,a=0,a=void 0!==n&&void 0!==o?o/(r+1):Math.PI/(2*(r+1)),h=0,l=0;r>=l;l++)h=void 0!==n&&void 0!==o?n+l*o/r:l*Math.PI/(2*r),h=Math.sin(h),s+=Math.sqrt(1-t*t*h*h)*a;return void 0!==n&&void 0!==o?(e>i?e:i)*s:4*(e>i?e:i)*s}function Gs(t,e,i,n,o){var r=0,r=void 0!==n&&void 0!==o?Ws(t,1,i,n,o):Ws(t,1,i);return e/r}function Vs(t,e,i,n,o){if(.001>Math.abs(t.On-1))return o/e;var r=e>i?Math.sqrt(e*e-i*i)/e:Math.sqrt(i*i-e*e)/i,s=0;t=2*Math.PI/(700*t.network.vertexes.count),e>i&&(n+=Math.PI/2);for(var a=0;;a++){var h=Math.sin(n+a*t),s=s+(e>i?e:i)*Math.sqrt(1-r*r*h*h)*t;if(s>=o)return a*t}}function Us(){this.cp=-(1/0),this.$p=this.nn=null}function Ks(){Es.call(this)}function Ys(){Ls.call(this),this.actualAngle=this.diameter=NaN}function Js(t,e){var i=t.network;if(null===i)return NaN;if(i=i.Lb,null===i)return NaN;if(i.Ge===Mf)if(i.Lt===zf)t.diameter=Math.max(t.width,t.height);else{var i=Math.abs(Math.sin(e)),n=Math.abs(Math.cos(e));if(0===i)return t.width;if(0===n)return t.height;t.diameter=Math.min(t.height/i,t.width/n)}else t.diameter=i.Lt===zf?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.diameter}function Xs(){Bs.call(this)}function Qs(){0<arguments.length&&Uh.$c(Qs),Ss.call(this),this.rg=null,this.jr=0,this.cg=new C(100,100).freeze(),this.jq=!1,this.Hh=!0,this.ph=!1,this.ko=100,this.Gq=1,this.zh=1e3,this.cs=Math,this.Jn=.05,this.In=50,this.Fn=150,this.Hn=0,this.Aq=10,this.zq=5}function Zs(t,e,i){return Vh&&(Uh.p(e,Qs,"computeClusterLayoutIterations:level"),Uh.p(i,Qs,"computeClusterLayoutIterations:maxiter")),Math.max(Math.min(t.network.vertexes.count,i*(e+1)/11),10)}function ta(t,e,i){if(Vh&&(Uh.p(e,Qs,"layoutClusters:level"),Uh.p(i,Qs,"layoutClusters:maxiter")),ea(t,e)){var n=t.zh;t.zh*=1+1/(e+1);var o=ia(t,e),r=Math.max(0,Zs(t,e,i));for(t.jx+=r,ta(t,e+1,i),aa(t,r),na(t,o,e),i=t.rg,null===i?i=new l(ca):i.clear(),i.Ce(o.vertexes),i.sort(function(t,e){return null===t||null===e||t===e?0:e.Xf-t.Xf}),o=i.k;o.next();)oa(t,o.value,e);t.zh=n}}function ea(t,e){if(Vh&&Uh.p(e,Qs,"hasClusters:level"),e>10||3>t.network.vertexes.count)return!1;null===t.rg?t.rg=new l(ca):t.rg.clear(),t.rg.Ce(t.network.vertexes);var i=t.rg;i.sort(function(t,e){return null===t||null===e||t===e?0:e.Xf-t.Xf});for(var n=i.count-1;n>=0&&1>=i.na(n).Xf;)n--;return 1<i.count-n}function ia(t,e){Vh&&Uh.p(e,Qs,"pushSubNetwork:level");for(var i=t.network,n=new ua,o=t.rg.k;o.next();){var r=o.value;if(!(1<r.Xf))break;n.dl(r);var s=new la;s.Ox=r.Xf,s.Rx=r.width,s.Nx=r.height,s.vB=r.O.x,s.wB=r.O.y,null===r.jh&&(r.jh=new l(la)),r.jh.add(s),r.ZA=r.jh.count-1}for(var a=i.edges.k;a.next();)if(o=a.value,o.fromVertex.network===n&&o.toVertex.network===n)n.Do(o);else if(o.fromVertex.network===n){var h=o.fromVertex.Km;null===h&&(h=new l(ca),o.fromVertex.Km=h),h.add(o.toVertex),o.fromVertex.Xf--,o.fromVertex.gk+=o.toVertex.gk}else o.toVertex.network===n&&(h=o.toVertex.Km,null===h&&(h=new l(ca),o.toVertex.Km=h),h.add(o.fromVertex),o.toVertex.Xf--,o.toVertex.gk+=o.fromVertex.gk);for(o=n.edges.k;o.next();)r=o.value,r.length*=Math.max(1,Bl.sqrt((r.fromVertex.gk+r.toVertex.gk)/(4*e+1)));for(o=n.vertexes.k;o.next();)if(r=o.value,h=r.Km,null!==h&&0<h.count&&(s=r.jh.na(r.jh.count-1),s=s.Ox-r.Xf,!(0>=s))){for(var u=0,c=0,f=h.count-s;f<h.count;f++){for(var d=h.na(f),p=null,a=d.edges.k;a.next();){var g=a.value;if(g.LI(d)===r){p=g;break}}null!==p&&(c+=p.length,u+=d.width*d.height)}h=r.Ca,a=r.Ra,f=r.width,d=r.height,p=r.O,g=f*d,1>g&&(g=1),u=Bl.sqrt((u+g+c*c*4/(s*s))/g),s=(u-1)*f/2,u=(u-1)*d/2,r.kb=new k(h-p.x-s,a-p.y-u,f+2*s,d+2*u),r.focus=new b(p.x+s,p.y+u)}return t.network=n,i}function na(t,e,i){for(Vh&&(Uh.l(e,ua,Qs,"popNetwork:oldnet"),Uh.p(i,Qs,"popNetwork:level")),i=t.network.vertexes.k;i.next();){var n=i.value;if(n.network=e,null!==n.jh){var o=n.jh.na(n.ZA);n.Xf=o.Ox;var r=o.vB,s=o.wB;n.kb=new k(n.Ca-r,n.Ra-s,o.Rx,o.Nx),n.focus=new b(r,s),n.ZA--}}for(i=t.network.edges.k;i.next();)i.value.network=e;t.network=e}function oa(t,e,i){Vh&&(Uh.l(e,ca,Qs,"surroundNode:oldnet"),Uh.p(i,Qs,"surroundNode:level"));var n=e.Km;if(null!==n&&0!==n.count){i=e.Ca;var o=e.Ra,r=e.width,s=e.height;null!==e.jh&&0<e.jh.count&&(s=e.jh.na(0),r=s.Rx,s=s.Nx);for(var r=Bl.sqrt(r*r+s*s)/2,a=!1,h=s=0,l=0,u=e.vertexes.k;u.next();){var c=u.value;1>=c.Xf?h++:(a=!0,l++,s+=Math.atan2(e.Ra-c.Ra,e.Ca-c.Ca))}if(0!==h)for(l>0&&(s/=l),l=e=0,e=a?2*Math.PI/(h+1):2*Math.PI/h,0===h%2&&(l=e/2),1<n.count&&n.sort(function(t,e){return null===t||null===e||t===e?0:e.width*e.height-t.width*t.height}),a=0===h%2?0:1,n=n.k;n.next();)if(h=n.value,!(1<h.Xf||t.isFixed(h))){for(u=null,c=h.edges.k;c.next();){u=c.value;break}var c=h.width,f=h.height,c=Bl.sqrt(c*c+f*f)/2,u=r+u.length+c,c=s+(e*(a/2>>1)+l)*(0===a%2?1:-1);h.Ca=i+u*Math.cos(c),h.Ra=o+u*Math.sin(c),a++}}}function ra(t,e,i,n,o,r,s){var a=9e19,h=-1,l=0;t:for(;e>l;l++){var u=t[l],c=u.x-i,f=u.y-n,c=c*c+f*f;if(a>c){for(f=l-1;f>=0;f--)if(t[f].y>u.y&&t[f].x-u.x<o+s.width)continue t;for(f=l+1;e>f;f++)if(t[f].x>u.x&&t[f].y-u.y<r+s.height)continue t;h=l,a=c}}return h}function sa(t,e){Vh&&(Uh.l(t,ca,Qs,"getNodeDistance:vertexA"),Uh.l(e,ca,Qs,"getNodeDistance:vertexB"));var i=t.ca,n=i.x,o=i.y,r=i.width,i=i.height,s=e.ca,a=s.x,h=s.y,l=s.width,s=s.height;return a>n+r?o>h+s?(n=n+r-a,o=o-h-s,Bl.sqrt(n*n+o*o)):h>o+i?(n=n+r-a,o=o+i-h,Bl.sqrt(n*n+o*o)):a-(n+r):n>a+l?o>h+s?(n=n-a-l,o=o-h-s,Bl.sqrt(n*n+o*o)):h>o+i?(n=n-a-l,o=o+i-h,Bl.sqrt(n*n+o*o)):n-(a+l):o>h+s?o-(h+s):h>o+i?h-(o+i):.1}function aa(t,e){Vh&&Uh.p(e,Qs,"performIterations:num"),t.rg=null;for(var i=t.jr+e;t.jr<i&&(t.jr++,ha(t)););t.rg=null}function ha(t){null===t.rg&&(t.rg=new l(ca),t.rg.Ce(t.network.vertexes));var e=t.rg.q;if(0>=e.length)return!1;var i=e[0];i.forceX=0,i.forceY=0;for(var n=i.Ca,r=n,s=i.Ra,a=s,i=1;i<e.length;i++){var h=e[i];h.forceX=0,h.forceY=0;var u=h.Ca,h=h.Ra,n=Math.min(n,u),r=Math.max(r,u),s=Math.min(s,h),a=Math.max(a,h)}(s=r-n>a-s)?e.sort(function(t,e){return null===t||null===e||t===e?0:t.Ca-e.Ca}):e.sort(function(t,e){return null===t||null===e||t===e?0:t.Ra-e.Ra});for(var a=t.zh,c=0,f=0,d=0,i=0;i<e.length;i++){var h=e[i],u=h.ca,p=h.O,n=u.x+p.x,u=u.y+p.y,f=h.charge*t.electricalFieldX(n,u),d=h.charge*t.electricalFieldY(n,u),f=f+h.mass*t.gravitationalFieldX(n,u),d=d+h.mass*t.gravitationalFieldY(n,u);for(h.forceX+=f,h.forceY+=d,p=i+1;p<e.length;p++)if(r=e[p],r!==h){var g=r.ca,f=r.O,d=g.x+f.x,g=g.y+f.y;if(n-d>a||d-n>a){if(s)break}else if(u-g>a||g-u>a){if(!s)break}else{var m=sa(h,r);1>m?(f=t.Qt,null===f&&(t.Qt=f=new o(0)),c=f.random(),m=f.random(),n>d?(f=Math.abs(r.ca.right-h.ca.x),f=(1+f)*c):d>n?(f=Math.abs(r.ca.x-h.ca.right),f=-(1+f)*c):(f=Math.max(r.width,h.width),f=(1+f)*c-f/2),u>g?(d=Math.abs(r.ca.bottom-h.ca.y),d=(1+d)*m):d>n?(d=Math.abs(r.ca.y-h.ca.bottom),d=-(1+d)*m):(d=Math.max(r.height,h.height),d=(1+d)*m-d/2)):(c=-(h.charge*r.charge)/(m*m),f=(d-n)/m*c,d=(g-u)/m*c),h.forceX+=f,h.forceY+=d,r.forceX-=f,r.forceY-=d}}}for(i=t.network.edges.k;i.next();)s=i.value,h=s.fromVertex,r=s.toVertex,u=h.ca,p=h.O,n=u.x+p.x,u=u.y+p.y,g=r.ca,f=r.O,d=g.x+f.x,g=g.y+f.y,m=sa(h,r),1>m?(f=t.Qt,null===f&&(t.Qt=f=new o(0)),c=f.random(),m=f.random(),f=(n>d?1:-1)*(1+(r.width>h.width)?r.width:h.width)*c,d=(u>g?1:-1)*(1+(r.height>h.height)?r.height:h.height)*m):(c=s.stiffness*(m-s.length),f=(d-n)/m*c,d=(g-u)/m*c),h.forceX+=f,h.forceY+=d,r.forceX-=f,r.forceY-=d;for(i=0,n=Math.max(t.zh/20,50),r=0;r<e.length;r++)h=e[r],t.isFixed(h)?t.moveFixedVertex(h):(s=h.forceX,a=h.forceY,-n>s?s=-n:s>n&&(s=n),-n>a?a=-n:a>n&&(a=n),h.Ca+=s,h.Ra+=a,i=Math.max(i,s*s+a*a));return i>t.Xz*t.Xz}function la(){this.wB=this.vB=this.Nx=this.Rx=this.Ox=0}function ua(){Es.call(this)}function ca(){Ls.call(this),this.isFixed=!1,this.mass=this.charge=NaN,this.gk=this.Xf=this.forceY=this.forceX=0,this.jh=this.Km=null,this.ZA=0}function fa(){Bs.call(this),this.length=this.stiffness=NaN}function da(){0<arguments.length&&Uh.$c(da),Ss.call(this),this.zd=this.em=25,this.ta=0,this.En=_f,this.jo=qf,this.Yn=Vf,this.bm=4,this.tn=Jf,this.wi=ed,this.Hh=!0,this.qj=4,this.Kb=this.ov=this.ob=-1,this.Jf=this.Br=0,this.Ob=this.If=this.ig=this.Xg=this.Rd=null,this.Ir=0,this.Hr=this.hm=null,this.lg=0,this.Jr=null,this.Zg=[],this.Zg.length=100}function pa(t){var e=t.fromVertex.pd;return t=t.toVertex.pd,null===e&&null===t?8:null===e||null===t?4:1}function ga(t){null===t.hm&&(t.hm=[]);for(var e=0,i=t.network.vertexes.k;i.next();){var n=i.value;t.hm[e]=n.layer,e++,t.hm[e]=n.column,e++,t.hm[e]=n.index,e++}return t.hm}function ma(t,e){for(var i=0,n=t.network.vertexes.k;n.next();){var o=n.value;o.layer=e[i],i++,o.column=e[i],i++,o.index=e[i],i++}}function va(t,e,i){Vh&&(Uh.p(e,da,"crossingMatrix:unfixedLayer"),Uh.p(i,da,"crossingMatrix:direction"));var n=Ga(t,e),o=t.Rd[e];(null===t.Hr||t.Hr.length<o*o)&&(t.Hr=[]);for(var r=t.Hr,s=0;o>s;s++){var a=0,h=n[s],l=h.near,u=0;if(null!==l&&l.layer===h.layer)if(u=l.index,u>s)for(var c=s+1;u>c;c++)h=n[c],h.near===l&&h.Em===l.Em||a++;else for(c=s-1;c>u;c--)h=n[c],h.near===l&&h.Em===l.Em||a++;var f,d,l=0,p=f=c=h=0,g=0,m=0;d=0;var v;if(i>=0)for(u=n[s].Te,l=0;l<u.count;l++)if(f=u.q[l],f.valid&&f.fromVertex.layer!==e)for(h=f.fromVertex.index,c=f.portToPos,f=f.portFromPos,p=l+1;p<u.count;p++)d=u.q[p],d.valid&&d.fromVertex.layer!==e&&(g=d.fromVertex.index,m=d.portToPos,d=d.portFromPos,m>c&&(h>g||h===g&&f>d)&&a++,c>m&&(g>h||g===h&&d>f)&&a++);if(0>=i)for(u=n[s].Me,l=0;l<u.count;l++)if(f=u.q[l],f.valid&&f.toVertex.layer!==e)for(h=f.toVertex.index,c=f.portToPos,f=f.portFromPos,p=l+1;p<u.count;p++)d=u.q[p],d.valid&&d.toVertex.layer!==e&&(g=d.toVertex.index,m=d.portToPos,d=d.portFromPos,d>f&&(h>g||h===g&&c>m)&&a++,f>d&&(g>h||g===h&&m>c)&&a++);for(r[s*o+s]=a,u=s+1;o>u;u++){var y=0,b=0;if(i>=0)for(a=n[s].Te,v=n[u].Te,l=0;l<a.count;l++)if(f=a.q[l],f.valid&&f.fromVertex.layer!==e)for(h=f.fromVertex.index,f=f.portFromPos,p=0;p<v.count;p++)d=v.q[p],d.valid&&d.fromVertex.layer!==e&&(g=d.fromVertex.index,d=d.portFromPos,(g>h||h===g&&d>f)&&b++,(h>g||g===h&&f>d)&&y++);if(0>=i)for(a=n[s].Me,v=n[u].Me,l=0;l<a.count;l++)if(f=a.q[l],f.valid&&f.toVertex.layer!==e)for(h=f.toVertex.index,c=f.portToPos,p=0;p<v.count;p++)d=v.q[p],d.valid&&d.toVertex.layer!==e&&(g=d.toVertex.index,m=d.portToPos,(g>h||h===g&&m>c)&&b++,(h>g||g===h&&c>m)&&y++);r[s*o+u]=y,r[u*o+s]=b}}return Va(t,e,n),r}function ya(t){for(var e=0,i=0;i<=t.ob;i++){for(var n=t,o=i,r=Ga(n,o),s=n.Rd[o],a=0,h=0;s>h;h++){var l,u=null,u=r[h].Me,c=0,f=0;if(null!==u)for(var d=0;d<u.count;d++)l=u.q[d],l.valid&&l.toVertex.layer!==o&&(c=l.fromVertex.column+l.portFromColOffset,f=l.toVertex.column+l.portToColOffset,a+=(Math.abs(c-f)+1)*pa(l))}Va(n,o,r),e+=a}return e}function ba(t,e,i){Vh&&(Uh.p(e,da,"barycenters:unfixedLayer"),Uh.p(i,da,"barycenters:direction"));for(var n=Ga(t,e),o=t.Rd[e],r=[],s=0;o>s;s++){var a=n[s],h=null;0>=i&&(h=a.Te);var l=null;i>=0&&(l=a.Me);var u=0,c=0,f=a.near;if(null!==f&&f.layer===a.layer&&(u+=f.column-1,c++),null!==h)for(f=0;f<h.count;f++){var a=h.q[f],d=a.fromVertex;a.valid&&!a.rev&&d.layer!==e&&(u+=d.column+a.portFromColOffset,c++)}if(null!==l)for(h=0;h<l.count;h++)a=l.q[h],f=a.toVertex,a.valid&&!a.rev&&f.layer!==e&&(u+=f.column+a.portToColOffset,c++);r[s]=0===c?-1:u/c}return Va(t,e,n),r}function wa(t,e,i){Vh&&(Uh.p(e,da,"medians:unfixedLayer"),Uh.p(i,da,"medians:direction"));for(var n=Ga(t,e),o=t.Rd[e],r=[],s=0;o>s;s++){var a=n[s],h=null;0>=i&&(h=a.Te);var l=null;i>=0&&(l=a.Me);var u=0,c=[],f=a.near;if(null!==f&&f.layer===a.layer&&(c[u]=f.column-1,u++),null!==h)for(f=0;f<h.count;f++){var a=h.q[f],d=a.fromVertex;a.valid&&!a.rev&&d.layer!==e&&(c[u]=d.column+a.portFromColOffset,u++)}if(null!==l)for(h=0;h<l.count;h++)a=l.q[h],f=a.toVertex,a.valid&&!a.rev&&f.layer!==e&&(c[u]=f.column+a.portToColOffset,u++);0===u?r[s]=-1:(c.sort(function(t,e){return t-e}),l=u>>1,r[s]=1&u?c[l]:c[l-1]+c[l]>>1)}return Va(t,e,n),r}function xa(t,e,i,n,o,r){if(e.component===n){e.component=i;var s=0,a=0;if(o)for(var h=e.fc;h.next();){var a=h.value,l=a.toVertex,s=e.layer-l.layer,a=t.linkMinLength(a);s===a&&xa(t,l,i,n,o,r)}if(r)for(h=e.rc;h.next();)a=h.value,l=a.fromVertex,s=l.layer-e.layer,a=t.linkMinLength(a),s===a&&xa(t,l,i,n,o,r)}}function Ca(t,e,i,n,o,r){if(e.component===n){if(e.component=i,o)for(var s=e.fc;s.next();)Ca(t,s.value.toVertex,i,n,o,r);if(r)for(e=e.rc;e.next();)Ca(t,e.value.fromVertex,i,n,o,r)}}function ka(t){for(t=t.vertexes.k;t.next();){var e=t.value;if(e.valid)return e}return null}function Aa(t){for(t=t.vertexes.k;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.fc;n.next();)if(n.value.toVertex.valid){i=!1;break}if(i)return e}}return null}function Sa(t){for(t=t.vertexes.k;t.next();){var e=t.value;if(e.valid){for(var i=!0,n=e.rc;n.next();)if(n.value.fromVertex.valid){i=!1;break}if(i)return e}}return null}function Fa(t,e){e.To=t.Ir,t.Ir++;for(var i=e.fc;i.next();){var n=i.value,o=n.toVertex;-1===o.To&&(n.forest=!0,Fa(t,o))}e.finish=t.Ir,t.Ir++}function Ea(t){for(var e=t.network.vertexes.k;e.next();){var i=Ta(t,e.value);t.ob=Math.max(i,t.ob)}}function Ta(t,e){var i=0;if(-1===e.layer){for(var n=e.fc;n.next();)var o=n.value,r=o.toVertex,o=t.linkMinLength(o),i=Math.max(i,Ta(t,r)+o);e.layer=i}else i=e.layer;return i}function Ma(t,e){var i=0;if(-1===e.layer){for(var n=e.rc;n.next();)var o=n.value,r=o.fromVertex,o=t.linkMinLength(o),i=Math.max(i,Ma(t,r)+o);e.layer=i}else i=e.layer;return i}function Da(t,e){if(!e.valid){e.valid=!0;for(var i=e.fc;i.next();)Da(t,i.value.toVertex);for(i=t.network.vertexes.k;i.next();)i.value.component=-1;for(var n=e.Te.q,o=n.length,r=0;o>r;r++){var s=n[r],a=t.linkMinLength(s);s.fromVertex.layer-s.toVertex.layer>a&&xa(t,s.fromVertex,0,-1,!0,!1)}for(xa(t,e,1,-1,!0,!0);0!==e.component;){for(var a=0,n=1/0,h=0,l=null,u=t.network.vertexes.k;u.next();){var c=u.value;if(1===c.component){for(var f=0,d=!1,p=c.Te.q,o=p.length,r=0;o>r;r++){var s=p[r],g=s.fromVertex,f=f+1;1!==g.component&&(a+=1,g=g.layer-c.layer,s=t.linkMinLength(s),n=Math.min(n,g-s))}for(s=c.Me.q,o=s.length,r=0;o>r;r++)p=s[r].toVertex,f-=1,1!==p.component?a-=1:d=!0;(null===l||h>f)&&!d&&(l=c,h=f)}}if(a>0){for(i.reset();i.next();)o=i.value,1===o.component&&(o.layer+=n);e.component=0}else l.component=0}for(i=t.network.vertexes.k;i.next();)i.value.component=-1;for(xa(t,e,1,-1,!0,!1);0!==e.component;){for(r=0,o=1/0,n=0,a=null,h=t.network.vertexes.k;h.next();)if(l=h.value,1===l.component){for(u=0,c=!1,s=l.Te.q,f=s.length,d=0;f>d;d++)p=s[d].fromVertex,u+=1,1!==p.component?r+=1:c=!0;for(s=l.Me.q,f=s.length,d=0;f>d;d++)p=s[d],g=p.toVertex,u-=1,1!==g.component&&(r-=1,g=l.layer-g.layer,p=t.linkMinLength(p),o=Math.min(o,g-p));(null===a||u>n)&&!c&&(a=l,n=u)}if(0>r){for(i.reset();i.next();)r=i.value,1===r.component&&(r.layer-=o);e.component=0}else a.component=0}}}function Pa(t,e,i){return 90===t.ta?i&&!e.rev||!i&&e.rev?270:90:180===t.ta?i&&!e.rev||!i&&e.rev?0:180:270===t.ta?i&&!e.rev||!i&&e.rev?90:270:i&&!e.rev||!i&&e.rev?180:0}function La(t,e){var i=e.layer;e.index=t.Rd[i],t.Rd[i]++;for(var i=e.Me.Ue(),n=!0;n;)for(var n=!1,o=0;o<i.length-1;o++){var r=i[o],s=i[o+1];r.portFromColOffset>s.portFromColOffset&&(n=!0,i[o]=s,i[o+1]=r)}for(o=0;o<i.length;o++)n=i[o],n.valid&&(n=n.toVertex,-1===n.index&&La(t,n))}function Ba(t,e){var i=e.layer;e.index=t.Rd[i],t.Rd[i]++;for(var i=e.Te.Ue(),n=!0,o=0;n;)for(n=!1,o=0;o<i.length-1;o++){var r=i[o],s=i[o+1];r.portToColOffset>s.portToColOffset&&(n=!0,i[o]=s,i[o+1]=r)}for(o=0;o<i.length;o++)n=i[o],n.valid&&(n=n.fromVertex,-1===n.index&&Ba(t,n))}function Na(t,e,i){Vh&&(Uh.p(e,da,"medianBarycenterCrossingReduction:unfixedLayer"),Uh.p(i,da,"medianBarycenterCrossingReduction:direction"));var n=0,o=Ga(t,e),r=t.Rd[e],s=wa(t,e,i);for(i=ba(t,e,i),n=0;r>n;n++)-1===i[n]&&(i[n]=o[n].column),-1===s[n]&&(s[n]=o[n].column);for(var a,h=!0;h;)for(h=!1,n=0;r-1>n;n++)(s[n+1]<s[n]||s[n+1]===s[n]&&i[n+1]<i[n])&&(h=!0,a=s[n],s[n]=s[n+1],s[n+1]=a,a=i[n],i[n]=i[n+1],i[n+1]=a,a=o[n],o[n]=o[n+1],o[n+1]=a);for(n=s=0;r>n;n++)a=o[n],a.index=n,s+=t.nodeMinColumnSpace(a,!0),a.column=s,s+=1,s+=t.nodeMinColumnSpace(a,!1);Va(t,e,o)}function $a(t,e,i){var n=Ga(t,e),o=t.Rd[e];i=va(t,e,i);var r,s=0;for(r=[],s=0;o>s;s++)r[s]=-1;var a;for(a=[],s=0;o>s;s++)a[s]=-1;for(var h=!1,l=!0;l;)for(l=!1,s=0;o-1>s;s++){var u=i[n[s].index*o+n[s+1].index],c=i[n[s+1].index*o+n[s].index],f=0,d=0,p=n[s].column,g=n[s+1].column,m=t.nodeMinColumnSpace(n[s],!0),v=t.nodeMinColumnSpace(n[s],!1),y=t.nodeMinColumnSpace(n[s+1],!0),b=t.nodeMinColumnSpace(n[s+1],!1),m=p-m+y,v=g-v+b,y=y=0,w=n[s].rc.k;for(w.reset();w.next();)if(b=w.value,b.valid&&b.fromVertex.layer===e){for(b=b.fromVertex,y=0;n[y]!==b;)y++;s>y&&(f+=2*(s-y),d+=2*(s+1-y)),y===s+1&&(f+=1),y>s+1&&(f+=4*(y-s),d+=4*(y-(s+1)))}for(w=n[s].fc.k,w.reset();w.next();)if(b=w.value,b.valid&&b.toVertex.layer===e){for(b=b.toVertex,y=0;n[y]!==b;)y++;y===s+1&&(d+=1)}for(w=n[s+1].rc.k,w.reset();w.next();)if(b=w.value,b.valid&&b.fromVertex.layer===e){for(b=b.fromVertex,y=0;n[y]!==b;)y++;s>y&&(f+=2*(s+1-y),d+=2*(s-y)),y===s&&(d+=1),y>s+1&&(f+=4*(y-(s+1)),d+=4*(y-s))}for(w=n[s+1].fc.k,w.reset();w.next();)if(b=w.value,b.valid&&b.toVertex.layer===e){for(b=b.toVertex,y=0;n[y]!==b;)y++;y===s&&(f+=1)}var y=b=0,w=r[n[s].index],x=a[n[s].index],C=r[n[s+1].index],k=a[n[s+1].index];-1!==w&&(b+=Math.abs(w-p),y+=Math.abs(w-v)),-1!==x&&(b+=Math.abs(x-p),y+=Math.abs(x-v)),-1!==C&&(b+=Math.abs(C-g),y+=Math.abs(C-m)),-1!==k&&(b+=Math.abs(k-g),y+=Math.abs(k-m)),(f-.5>d||d===f&&u-.5>c||d===f&&c===u&&b-.5>y)&&(l=h=!0,n[s].column=v,n[s+1].column=m,u=n[s],n[s]=n[s+1],n[s+1]=u)}for(s=0;o>s;s++)n[s].index=s;return Va(t,e,n),h}function Ra(t,e,i){Vh&&(Uh.p(e,da,"bendStraighten:unfixedLayer"),Uh.p(i,da,"bendStraighten:direction"));for(var n=!1;Oa(t,e,i);)n=!0;return n}function Oa(t,e,i){Vh&&(Uh.p(e,da,"shiftbendStraighten:unfixedLayer"),Uh.p(i,da,"shiftbendStraighten:direction"));var n=0,o=Ga(t,e),r=t.Rd[e],s=ba(t,e,-1);if(i>0)for(n=0;r>n;n++)s[n]=-1;var a=ba(t,e,1);if(0>i)for(n=0;r>n;n++)a[n]=-1;for(var h=!1,l=!0;l;)for(l=!1,n=0;r>n;n++){var u=o[n].column,c=t.nodeMinColumnSpace(o[n],!0),f=t.nodeMinColumnSpace(o[n],!1),d=0,d=0>n-1||u-o[n-1].column-1>c+t.nodeMinColumnSpace(o[n-1],!1)?u-1:u,c=0,c=n+1>=r||o[n+1].column-u-1>f+t.nodeMinColumnSpace(o[n+1],!0)?u+1:u,p=f=0,g=0,m=0,v=0,y=0;if(0>=i)for(var b=o[n].rc.k;b.next();){var w=b.value;w.valid&&w.fromVertex.layer!==e&&(m=pa(w),v=w.portFromColOffset,y=w.portToColOffset,w=w.fromVertex.column,f+=(Math.abs(u+y-(w+v))+1)*m,p+=(Math.abs(d+y-(w+v))+1)*m,g+=(Math.abs(c+y-(w+v))+1)*m)}if(i>=0)for(b=o[n].fc.k;b.next();)w=b.value,w.valid&&w.toVertex.layer!==e&&(m=pa(w),v=w.portFromColOffset,y=w.portToColOffset,w=w.toVertex.column,f+=(Math.abs(u+v-(w+y))+1)*m,p+=(Math.abs(d+v-(w+y))+1)*m,g+=(Math.abs(c+v-(w+y))+1)*m);y=v=m=0,b=s[o[n].index],w=a[o[n].index],-1!==b&&(m+=Math.abs(b-u),v+=Math.abs(b-d),y+=Math.abs(b-c)),-1!==w&&(m+=Math.abs(w-u),v+=Math.abs(w-d),y+=Math.abs(w-c)),(f>p||p===f&&m>v)&&(l=h=!0,o[n].column=d),(f>g||g===f&&m>y)&&(l=h=!0,o[n].column=c)}return Va(t,e,o),t.normalize(),h}function ja(t,e,i){Vh&&(Uh.p(e,da,"medianStraighten:unfixedLayer"),Uh.p(i,da,"medianStraighten:direction"));var n=0,o=Ga(t,e),r=t.Rd[e],s=wa(t,e,i);for(i=[],n=0;r>n;n++)i[n]=s[n];for(s=!0;s;)for(s=!1,n=0;r>n;n++){var a=o[n].column,h=t.nodeMinColumnSpace(o[n],!0),l=t.nodeMinColumnSpace(o[n],!1),u=0,c=0,f=0,f=c=0;-1===i[n]?0===n&&n===r-1?u=a:0===n?(c=o[n+1].column,u=c-a===l+t.nodeMinColumnSpace(o[n+1],!0)?a-1:a):n===r-1?(f=o[n-1].column,u=a-f===h+t.nodeMinColumnSpace(o[n-1],!1)?a+1:a):(f=o[n-1].column,f=f+t.nodeMinColumnSpace(o[n-1],!1)+h+1,c=o[n+1].column,c=c-t.nodeMinColumnSpace(o[n+1],!0)-l-1,u=(f+c)/2|0):0===n&&n===r-1?u=i[n]:0===n?(c=o[n+1].column,c=c-t.nodeMinColumnSpace(o[n+1],!0)-l-1,u=Math.min(i[n],c)):n===r-1?(f=o[n-1].column,f=f+t.nodeMinColumnSpace(o[n-1],!1)+h+1,u=Math.max(i[n],f)):(f=o[n-1].column,f=f+t.nodeMinColumnSpace(o[n-1],!1)+h+1,c=o[n+1].column,c=c-t.nodeMinColumnSpace(o[n+1],!0)-l-1,f<i[n]&&i[n]<c?u=i[n]:f>=i[n]?u=f:c<=i[n]&&(u=c)),u!==a&&(s=!0,o[n].column=u)}Va(t,e,o),t.normalize()}function Ia(t,e){Vh&&(Uh.p(e,da,"packAux:column"),Uh.p(1,da,"packAux:direction"));for(var i=!0,n=t.network.vertexes.k;n.next();){var o=n.value,r=t.nodeMinColumnSpace(o,!0),s=t.nodeMinColumnSpace(o,!1);if(o.column-r<=e&&o.column+s>=e){i=!1;break}}if(o=!1,i)for(n.reset();n.next();)i=n.value,i.column>e&&(i.column-=1,o=!0);return o}function za(t,e){Vh&&(Uh.p(e,da,"tightPackAux:column"),Uh.p(1,da,"tightPackAux:direction"));for(var i=e,i=e+1,n=0,o=[],r=[],n=0;n<=t.ob;n++)o[n]=!1,r[n]=!1;for(var s=t.network.vertexes.k;s.next();){var n=s.value,a=n.column-t.nodeMinColumnSpace(n,!0),h=n.column+t.nodeMinColumnSpace(n,!1);e>=a&&h>=e&&(o[n.layer]=!0),i>=a&&h>=i&&(r[n.layer]=!0)}for(a=!0,i=!1,n=0;n<=t.ob;n++)a=a&&!(o[n]&&r[n]);if(a)for(s.reset();s.next();)o=s.value,o.column>e&&(o.column-=1,i=!0);return i}function _a(t,e){Vh&&Uh.p(e,da,"componentPack:direction");for(var i=0;i<=t.Kb;i++)for(;Ia(t,i););for(t.normalize(),i=0;i<t.Kb;i++)for(;za(t,i););t.normalize();var n,i=0,o=0,r=0,s=0;if(e>0)for(i=0;i<=t.Kb;i++)for(n=ga(t),o=ya(t),r=o+1;r>o;)r=o,Ha(t,i,1),s=ya(t),s>o?ma(t,n):o>s&&(o=s,n=ga(t));if(0>e)for(i=t.Kb;i>=0;i--)for(n=ga(t),o=ya(t),r=o+1;r>o;)r=o,Ha(t,i,-1),s=ya(t),s>o?ma(t,n):o>s&&(o=s,n=ga(t));t.normalize()}function Ha(t,e,i){t.lg=0;for(var n=t.network.vertexes.k;n.next();)n.value.component=-1;if(i>0)for(n.reset();n.next();){var o=n.value;o.column-t.nodeMinColumnSpace(o,!0)<=e&&(o.component=t.lg)}if(0>i)for(n.reset();n.next();)o=n.value,o.column+t.nodeMinColumnSpace(o,!1)>=e&&(o.component=t.lg);for(t.lg++,n.reset();n.next();)e=n.value,-1===e.component&&(Ca(t,e,t.lg,-1,!0,!0),t.lg++);var r=0;for(e=[],r=0;r<t.lg*t.lg;r++)e[r]=!1;for(o=[],r=0;r<(t.ob+1)*(t.Kb+1);r++)o[r]=-1;for(n.reset();n.next();)for(var r=n.value,s=r.layer,a=Math.max(0,r.column-t.nodeMinColumnSpace(r,!0)),h=Math.min(t.Kb,r.column+t.nodeMinColumnSpace(r,!1));h>=a;a++)o[s*(t.Kb+1)+a]=r.component;for(r=0;r<=t.ob;r++){if(i>0)for(a=0;a<t.Kb;a++)-1!==o[r*(t.Kb+1)+a]&&-1!==o[r*(t.Kb+1)+a+1]&&o[r*(t.Kb+1)+a]!==o[r*(t.Kb+1)+a+1]&&(e[o[r*(t.Kb+1)+a]*t.lg+o[r*(t.Kb+1)+a+1]]=!0);if(0>i)for(a=t.Kb;a>0;a--)-1!==o[r*(t.Kb+1)+a]&&-1!==o[r*(t.Kb+1)+a-1]&&o[r*(t.Kb+1)+a]!==o[r*(t.Kb+1)+a-1]&&(e[o[r*(t.Kb+1)+a]*t.lg+o[r*(t.Kb+1)+a-1]]=!0)}for(o=[],r=0;r<t.lg;r++)o[r]=!0;for(s=new l("number"),s.add(0),h=0;0!==s.count;)if(h=s.q[s.count-1],s.md(s.count-1),o[h])for(o[h]=!1,r=0;r<t.lg;r++)e[h*t.lg+r]&&s.be(0,r);if(i>0)for(n.reset();n.next();)t=n.value,o[t.component]&&(t.column-=1);if(0>i)for(n.reset();n.next();)i=n.value,o[i.component]&&(i.column+=1)}function qa(t,e){return 270===t.ta?e?fl:gl:90===t.ta?e?gl:fl:180===t.ta?e?dl:pl:e?pl:dl}function Wa(t,e,i,n){return Vh&&(Uh.p(t,da,"isUnoccupied2:px"),Uh.p(e,da,"isUnoccupied2:py"),Uh.p(i,da,"isUnoccupied2:qx"),Uh.p(n,da,"isUnoccupied2:qy")),!0}function Ga(t,e){var i,n=t.Rd[e];if(n>=t.Zg.length){i=[];for(var o=0;o<t.Zg.length;o++)i[o]=t.Zg[o];t.Zg=i}for(void 0===t.Zg[n]||null===t.Zg[n]?i=[]:(i=t.Zg[n],t.Zg[n]=null),n=t.Jr[e],o=0;o<n.length;o++){var r=n[o];i[r.index]=r}return i}function Va(t,e,i){t.Zg[t.Rd[e]]=i}function Ua(){this.index=this.Zd=this.Ke=this.Od=this.first=this.layer=0,this.link=null,this.Zh=0}function Ka(){Es.call(this)}function Ya(){Ls.call(this),this.index=this.column=this.layer=-1,this.component=NaN,this.near=null,this.valid=!1,this.finish=this.To=NaN,this.Em=0,this.EA=this.FA=null}function Ja(){Bs.call(this),this.forest=this.rev=this.valid=!1,this.portToPos=this.portFromPos=NaN,this.portToColOffset=this.portFromColOffset=0}function Xa(){0<arguments.length&&Uh.$c(Xa),Ss.call(this),this.sd=new c(Object),this.Wr=id,this.Hf=nd,this.Ms=bd,this.lv=Fd,this.HB=null,this.ph=!0,this.bd=kd,this.cg=new C(10,10).freeze(),this.va=new Mh,this.ua=new Mh,this.rz=[]}function Qa(t,e){if(null!==e){switch(Vh&&Uh.l(e,Mh,Xa,"walkTree:v"),t.Hf){case nd:if(0<e.fc.count){for(var i=new l(Mh),n=e.AI;n.next();){var o=n.value;Za(t,e,o)&&i.add(o)}0<i.count&&(e.children=i.Ue())}break;case od:if(0<e.rc.count){for(i=new l(Mh),n=e.UJ;n.next();)o=n.value,Za(t,e,o)&&i.add(o);0<i.count&&(e.children=i.Ue())}break;default:Uh.m("Unhandled path value"+t.Hf.toString())}for(i=e.children,n=i.length,o=0;n>o;o++){var r=i[o];r.initialized=!0,r.level=e.level+1,r.parent=e,t.sd.remove(r)}for(o=0;n>o;o++)r=i[o],Qa(t,r)}}function Za(t,e,i){if(Vh&&Uh.l(e,Mh,Xa,"walkOK:v"),Vh&&Uh.l(i,Mh,Xa,"walkOK:c"),i.initialized){var n;if(null===e)n=!1;else{for(Vh&&Uh.l(i,Mh,Xa,"isAncestor:a"),Vh&&Uh.l(e,Mh,Xa,"isAncestor:b"),n=e.parent;null!==n&&n!==i;)n=n.parent;n=n===i}if(n||i.level>e.level)return!1;t.removeChild(i.parent,i)}return!0}function th(t,e){if(null!==e){Vh&&Uh.l(e,Mh,Xa,"initializeTree:v"),t.initializeTreeVertexValues(e),e.alignment===pd&&t.sortTreeVertexChildren(e);for(var i=0,n=e.Jm,o=0,r=e.children,s=r.length,a=0;s>a;a++){var h=r[a];th(t,h),i+=h.descendantCount+1,n=Math.max(n,h.maxChildrenCount),o=Math.max(o,h.maxGenerationCount)}e.descendantCount=i,e.maxChildrenCount=n,e.maxGenerationCount=n>0?o+1:0}}function eh(t,e){switch(Vh&&Uh.l(e,Mh,Xa,"mom:v"),t.Ms){default:case bd:return null!==e.parent?e.parent:t.va;case Cd:return null===e.parent?t.va:null===e.parent.parent?t.ua:e.parent;case xd:if(null!==e.parent)return null!==e.parent.parent?e.parent.parent:t.ua;case wd:var i=!0;if(0===e.Jm)i=!1;else for(var n=e.children,o=n.length,r=0;o>r;r++)if(0<n[r].Jm){i=!1;break}return i&&null!==e.parent?t.ua:null!==e.parent?e.parent:t.va}}function ih(t,e){if(null!==e){Vh&&Uh.l(e,Mh,Xa,"assignTree:v"),t.assignTreeVertexValues(e);for(var i=e.children,n=i.length,o=0;n>o;o++)ih(t,i[o])}}function nh(t,e){if(null!==e){Vh&&Uh.l(e,Mh,Xa,"sortTree:v"),e.alignment!==pd&&t.sortTreeVertexChildren(e);for(var i=e.children,n=i.length,o=0;n>o;o++)nh(t,i[o])}}function oh(t){return t===dd||t===pd||t===gd||t===md}function rh(t){return t===dd||t===pd}function sh(t){Vh&&Uh.l(t,Mh,Xa,"isLeftSideBus:v");var e=t.parent;if(null!==e){var i=e.alignment;if(oh(i)){if(rh(i)){for(e=e.children,i=0;i<e.length&&t!==e[i];)i++;return 0===i%2}if(i===gd)return!0}}return!1}function ah(t,e){if(Vh&&Uh.l(e,Mh,Xa,"layoutTreeNone:v"),0===e.Jm){var i=!1,n=0,o=ud;null!==e.parent&&(n=e.parent.angle,o=e.parent.alignment,i=oh(o)),o=sh(e),e.ma.o(0,0),e.cb.o(e.width,e.height),null===e.parent||null===e.comments||(180!==n&&270!==n||i)&&!o?e.La.o(0,0):180===n&&!i||(90===n||270===n)&&o?e.La.o(e.width-2*e.O.x,0):e.La.o(0,e.height-2*e.O.y)}else{for(var i=Sh(e),n=90===i||270===i,r=0,o=e.children,s=o.length,a=0;s>a;a++)var h=o[a],r=Math.max(r,n?h.cb.width:h.cb.height);var l=e.alignment,u=l===cd,c=l===fd,f=oh(l),d=Math.max(0,e.breadthLimit),p=Fh(e),g=e.nodeSpacing,m=Eh(e),v=u||c?0:m/2,y=e.rowSpacing,b=0;(u||c||e.Np||e.Op&&1===e.maxGenerationCount)&&(b=Math.max(0,e.rowIndent));var u=e.width,w=e.height,x=0,C=0,k=0,A=0,S=0,F=0,E=0,T=0,M=0,D=0;if(f&&!rh(l)&&i>135&&o.reverse(),rh(l))if(s>1)for(a=0;s>a;a++){var h=o[a],P=h.cb;0===a%2&&a!==s-1?M=Math.max(M,(n?P.width:P.height)+uh(h)-g):0!==a%2&&(D=Math.max(D,(n?P.width:P.height)+uh(h)-g))}else 1===s&&(M=n?o[0].cb.width:o[0].cb.height);if(f)switch(l){case dd:case pd:C=135>i?hh(e,o,M,x,C):lh(e,o,M,x,C),M=C.x,x=C.width,C=C.height;break;case gd:for(a=0;s>a;a++)h=o[a],P=h.cb,d=0===E?0:y,n?(h.ma.o(r-P.width,S+d),x=Math.max(x,P.width),C=Math.max(C,S+d+P.height),S+=d+P.height):(h.ma.o(A+d,r-P.height),x=Math.max(x,A+d+P.width),C=Math.max(C,P.height),A+=d+P.width),E++;break;case md:for(r=0;s>r;r++)h=o[r],P=h.cb,d=0===E?0:y,n?(h.ma.o(g/2+e.O.x,S+d),x=Math.max(x,P.width),C=Math.max(C,S+d+P.height),S+=d+P.height):(h.ma.o(A+d,g/2+e.O.y),x=Math.max(x,A+d+P.width),C=Math.max(C,P.height),A+=d+P.width),E++}else for(a=0;s>a;a++)h=o[a],P=h.cb,n?(d>0&&E>0&&A+g+P.width>d&&(r>A&&mh(e,l,r-A,0,T,a-1),F++,E=0,T=a,k=C,A=0,S=i>135?-C-y:C+y),D=0===E?v:g,yh(t,h,0,S),h.ma.o(A+D,S),x=Math.max(x,A+D+P.width),C=Math.max(C,k+(0===F?0:y)+P.height),A+=D+P.width):(d>0&&E>0&&S+g+P.height>d&&(r>S&&mh(e,l,0,r-S,T,a-1),F++,E=0,T=a,k=x,S=0,A=i>135?-x-y:x+y),D=0===E?v:g,yh(t,h,A,0),h.ma.o(A,S+D),C=Math.max(C,S+D+P.height),x=Math.max(x,k+(0===F?0:y)+P.width),S+=D+P.height),E++;switch(F>0&&(n?(C+=Math.max(0,p),x>A&&mh(e,l,x-A,0,T,s-1),b>0&&(c||vh(e,b,0,0,s-1),x+=b)):(x+=Math.max(0,p),C>S&&mh(e,l,0,C-S,T,s-1),b>0&&(c||vh(e,0,b,0,s-1),C+=b))),b=c=0,l){case ld:n?c+=x/2-e.O.x-m/2:b+=C/2-e.O.y-m/2;break;case ud:F>0?n?c+=x/2-e.O.x-m/2:b+=C/2-e.O.y-m/2:n?(l=o[0].ma.x+o[0].La.x,g=o[s-1].ma.x+o[s-1].La.x+2*o[s-1].O.x,c+=l+(g-l)/2-e.O.x-m/2):(l=o[0].ma.y+o[0].La.y,g=o[s-1].ma.y+o[s-1].La.y+2*o[s-1].O.y,b+=l+(g-l)/2-e.O.y-m/2);break;case cd:n?(c-=m,x+=m):(b-=m,C+=m);break;case fd:n?(c+=x-e.width+m,x+=m):(b+=C-e.height+m,C+=m);break;case dd:case pd:n?c=s>1?c+(M+g/2-e.O.x):c+(o[0].O.x-e.O.x+o[0].La.x):b=s>1?b+(M+g/2-e.O.y):b+(o[0].O.y-e.O.y+o[0].La.y);break;case gd:n?c+=x+g/2-e.O.x:b+=C+g/2-e.O.y;break;case md:break;default:Uh.m("Unhandled alignment value "+l.toString())}for(a=0;s>a;a++)h=o[a],n?h.ma.o(h.ma.x+h.La.x-c,h.ma.y+(i>135?(f?-C:-h.cb.height)+h.La.y-p:w+p+h.La.y)):h.ma.o(h.ma.x+(i>135?(f?-x:-h.cb.width)+h.La.x-p:u+p+h.La.x),h.ma.y+h.La.y-b);n?(x=dh(e,x,c),0>c&&(c=0),i>135&&(b+=C+p),C+=w+p):(i>135&&(c+=x+p),x+=u+p,C=ph(e,C,b),0>b&&(b=0)),e.La.o(c,b),e.cb.o(x,C)}}function hh(t,e,i,n,o){Vh&&Uh.l(t,Mh,Xa,"layoutBusChildrenPosDir:v");var r=e.length;if(0===r)return new k(i,0,n,o);if(1===r){var s=e[0];return n=s.cb.width,o=s.cb.height,new k(i,0,n,o)}for(var a=t.nodeSpacing,h=t.rowSpacing,l=90===Sh(t),u=0,c=0,f=0,d=0;r>d;d++)if(!(0!==d%2||r>1&&d===r-1)){var s=e[d],p=s.cb,g=0===u?0:h;if(l){var m=uh(s)-a;s.ma.o(i-(p.width+m),f+g),n=Math.max(n,p.width+m),o=Math.max(o,f+g+p.height),f+=g+p.height}else m=uh(s)-a,s.ma.o(c+g,i-(p.height+m)),o=Math.max(o,p.height+m),n=Math.max(n,c+g+p.width),c+=g+p.width;u++}var u=0,v=c,y=f;for(l?(c=i+a,f=0):(c=0,f=i+a),d=0;r>d;d++)0!==d%2&&(s=e[d],p=s.cb,g=0===u?0:h,l?(m=uh(s)-a,s.ma.o(c+m,f+g),n=Math.max(n,c+p.width+m),o=Math.max(o,f+g+p.height),
f+=g+p.height):(m=uh(s)-a,s.ma.o(c+g,f+m),n=Math.max(n,c+g+p.width),o=Math.max(o,f+p.height+m),c+=g+p.width),u++);return r>1&&1===r%2&&(s=e[r-1],p=s.cb,e=ch(s,l?Math.max(Math.abs(y),Math.abs(f)):Math.max(Math.abs(v),Math.abs(c))),l?(s.ma.o(i+a/2-s.O.x-s.La.x,o+e),l=i+a/2-s.O.x-s.La.x,n=Math.max(n,l+p.width),0>l&&(n-=l),o=Math.max(o,Math.max(y,f)+e+p.height),0>s.ma.x&&(i=fh(t,s.ma.x,!1,i,a))):(s.ma.o(n+e,i+a/2-s.O.y-s.La.y),n=Math.max(n,Math.max(v,c)+e+p.width),l=i+a/2-s.O.y-s.La.y,o=Math.max(o,l+p.height),0>l&&(o-=l),0>s.ma.y&&(i=fh(t,s.ma.y,!0,i,a)))),new k(i,0,n,o)}function lh(t,e,i,n,o){Vh&&Uh.l(t,Mh,Xa,"layoutBusChildrenNegDir:v");var r=e.length;if(0===r)return new k(i,0,n,o);if(1===r){var s=e[0];return n=s.cb.width,o=s.cb.height,new k(i,0,n,o)}for(var a=t.nodeSpacing,h=t.rowSpacing,l=270===Sh(t),u=0,c=0,f=0,d=0;r>d;d++)if(!(0!==d%2||r>1&&d===r-1)){var s=e[d],p=s.cb,g=0===u?0:h;if(l){var m=uh(s)-a,f=f-(g+p.height);s.ma.o(i-(p.width+m),f),n=Math.max(n,p.width+m),o=Math.max(o,Math.abs(f))}else m=uh(s)-a,c-=g+p.width,s.ma.o(c,i-(p.height+m)),o=Math.max(o,p.height+m),n=Math.max(n,Math.abs(c));u++}var u=0,v=c,y=f;for(l?(c=i+a,f=0):(c=0,f=i+a),d=0;r>d;d++)0!==d%2&&(s=e[d],p=s.cb,g=0===u?0:h,l?(m=uh(s)-a,f-=g+p.height,s.ma.o(c+m,f),n=Math.max(n,c+p.width+m),o=Math.max(o,Math.abs(f))):(m=uh(s)-a,c-=g+p.width,s.ma.o(c,f+m),o=Math.max(o,f+p.height+m),n=Math.max(n,Math.abs(c))),u++);for(r>1&&1===r%2&&(s=e[r-1],p=s.cb,h=ch(s,l?Math.max(Math.abs(y),Math.abs(f)):Math.max(Math.abs(v),Math.abs(c))),l?(s.ma.o(i+a/2-s.O.x-s.La.x,-o-p.height-h),c=i+a/2-s.O.x-s.La.x,n=Math.max(n,c+p.width),0>c&&(n-=c),o=Math.max(o,Math.abs(Math.min(y,f))+h+p.height),0>s.ma.x&&(i=fh(t,s.ma.x,!1,i,a))):(s.ma.o(-n-p.width-h,i+a/2-s.O.y-s.La.y),n=Math.max(n,Math.abs(Math.min(v,c))+h+p.width),c=i+a/2-s.O.y-s.La.y,o=Math.max(o,c+p.height),0>c&&(o-=c),0>s.ma.y&&(i=fh(t,s.ma.y,!0,i,a)))),d=0;r>d;d++)s=e[d],l?s.ma.o(s.ma.x,s.ma.y+o):s.ma.o(s.ma.x+n,s.ma.y);return new k(i,0,n,o)}function uh(t){return Vh&&Uh.l(t,Mh,Xa,"fixRelativePostions:child"),null===t.parent?0:t.parent.nodeSpacing}function ch(t){return Vh&&Uh.l(t,Mh,Xa,"fixRelativePostions:lastchild"),null===t.parent?0:t.parent.rowSpacing}function fh(t,e,i,n,o){Vh&&Uh.l(t,Mh,Xa,"fixRelativePostions:v"),t=t.children;for(var r=t.length,s=0;r>s;s++)i?t[s].ma.o(t[s].ma.x,t[s].ma.y-e):t[s].ma.o(t[s].ma.x-e,t[s].ma.y);return e=t[r-1],Math.max(n,i?e.La.y+e.O.y-o/2:e.La.x+e.O.x-o/2)}function dh(t,e,i){switch(Vh&&Uh.l(t,Mh,Xa,"calculateSubwidth:v"),t.alignment){case ud:case ld:var n=e;return i+t.width>n&&(n=i+t.width),0>i&&(n-=i),n;case cd:return t.width>e?t.width:e;case fd:return 2*t.O.x>e?t.width:e+t.width-2*t.O.x;case dd:case pd:return n=Math.min(0,i),i=Math.max(e,i+t.width),Math.max(t.width,i-n);case gd:return t.width-t.O.x+t.nodeSpacing/2+e;case md:return Math.max(t.width,t.O.x+t.nodeSpacing/2+e);default:return e}}function ph(t,e,i){switch(Vh&&Uh.l(t,Mh,Xa,"calculateSubheight:v"),t.alignment){case ud:case ld:var n=e;return i+t.height>n&&(n=i+t.height),0>i&&(n-=i),n;case cd:return t.height>e?t.height:e;case fd:return 2*t.O.y>e?t.height:e+t.height-2*t.O.y;case dd:case pd:return n=Math.min(0,i),i=Math.max(e,i+t.height),Math.max(t.height,i-n);case gd:return t.height-t.O.y+t.nodeSpacing/2+e;case md:return Math.max(t.height,t.O.y+t.nodeSpacing/2+e);default:return e}}function gh(t,i,n){switch(Vh&&Uh.l(t,e,Xa,"alignOffset:align"),t){case ld:i/=2,n/=2;break;case ud:i/=2,n/=2;break;case cd:n=i=0;break;case fd:break;default:Uh.m("Unhandled alignment value "+t.toString())}return new b(i,n)}function mh(t,i,n,o,r,s){Vh&&Uh.l(t,Mh,Xa,"shiftRelPosAlign:v"),Vh&&Uh.l(i,e,Xa,"shiftRelPosAlign:align"),i=gh(i,n,o),vh(t,i.x,i.y,r,s)}function vh(t,e,i,n,o){if(Vh&&Uh.l(t,Mh,Xa,"shiftRelPos:v"),0!==e||0!==i)for(t=t.children;o>=n;n++){var r=t[n].ma;r.x+=e,r.y+=i}}function yh(t,e,i,n){Vh&&(Uh.l(e,Mh,Xa,"recordMidPoints:v"),Uh.i(i,"number",Xa,"recordMidPoints:x"),Uh.i(n,"number",Xa,"recordMidPoints:y"));var o=e.parent;switch(t.Hf){case nd:for(t=e.rc;t.next();)e=t.value,e.fromVertex===o&&e.ds.o(i,n);break;case od:for(t=e.fc;t.next();)e=t.value,e.toVertex===o&&e.ds.o(i,n);break;default:Uh.m("Unhandled path value "+t.Hf.toString())}}function bh(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];o.x+=e,o.y+=i}}function wh(t,e,i,n,o,r,s,a){Vh&&Uh.l(e,Mh,Xa,"mergeFringes:parent"),Vh&&Uh.l(i,Mh,Xa,"mergeFringes:child");var h=Sh(e),l=90===h||270===h,u=e.nodeSpacing;e=n;var c=o;n=r,o=s;var f=i.Dt,d=i.Vt;s=i.cb;var p=l?Math.max(o,s.height):Math.max(n,s.width);if((null===f||h!==Sh(i))&&(f=xh(t,2),d=xh(t,2),l?(f[0].o(0,0),f[1].o(0,s.height),d[0].o(s.width,0),d[1].o(d[0].x,f[1].y)):(f[0].o(0,0),f[1].o(s.width,0),d[0].o(0,s.height),d[1].o(f[1].x,d[0].y))),l){if(i=n,n=9999999,!(null===c||2>c.length||null===f||2>f.length))for(l=h=0;h<c.length&&l<f.length;){o=c[h];var g=f[l];r=g.x;var m=g.y;r+=i;var v=o;h+1<c.length&&(v=c[h+1]);var y=g,g=y.x,y=y.y;l+1<f.length&&(y=f[l+1],g=y.x,y=y.y,g+=i);var b=n;o.y===m?b=r-o.x:o.y>m&&o.y<y?b=r+(o.y-m)/(y-m)*(g-r)-o.x:m>o.y&&m<v.y&&(b=r-(o.x+(m-o.y)/(v.y-o.y)*(v.x-o.x))),n>b&&(n=b),v.y<=o.y?h++:m>=y?l++:(v.y<=y&&h++,y<=v.y&&l++)}if(i-=n,i+=u,h=f,l=i,null===e||2>e.length||null===h||2>h.length)n=null;else{for(u=xh(t,e.length+h.length),n=r=o=0;r<h.length&&h[r].y<e[0].y;)m=h[r++],u[n++].o(m.x+l,m.y);for(;o<e.length;)m=e[o++],u[n++].o(m.x,m.y);for(o=e[e.length-1].y;r<h.length&&h[r].y<=o;)r++;for(;r<h.length&&h[r].y>o;)m=h[r++],u[n++].o(m.x+l,m.y);for(h=xh(t,n),o=0;n>o;o++)h[o].assign(u[o]);Ch(t,u),n=h}if(r=d,m=i,null===c||2>c.length||null===r||2>r.length)o=null;else{for(u=xh(t,c.length+r.length),l=v=h=0;h<c.length&&c[h].y<r[0].y;)o=c[h++],u[l++].o(o.x,o.y);for(;v<r.length;)o=r[v++],u[l++].o(o.x+m,o.y);for(r=r[r.length-1].y;h<c.length&&c[h].y<=r;)h++;for(;h<c.length&&c[h].y>r;)o=c[h++],u[l++].o(o.x,o.y);for(o=xh(t,l),h=0;l>h;h++)o[h].assign(u[h]);Ch(t,u)}r=Math.max(0,i)+s.width,s=p}else{if(i=o,n=9999999,!(null===c||2>c.length||null===f||2>f.length))for(l=h=0;h<c.length&&l<f.length;)o=c[h],g=f[l],r=g.x,m=g.y,m+=i,v=o,h+1<c.length&&(v=c[h+1]),y=g,g=y.x,y=y.y,l+1<f.length&&(y=f[l+1],g=y.x,y=y.y,y+=i),b=n,o.x===r?b=m-o.y:o.x>r&&o.x<g?b=m+(o.x-r)/(g-r)*(y-m)-o.y:r>o.x&&r<v.x&&(b=m-(o.y+(r-o.x)/(v.x-o.x)*(v.y-o.y))),n>b&&(n=b),v.x<=o.x?h++:r>=g?l++:(v.x<=g&&h++,g<=v.x&&l++);if(i-=n,i+=u,h=f,l=i,null===e||2>e.length||null===h||2>h.length)n=null;else{for(u=xh(t,e.length+h.length),n=r=o=0;r<h.length&&h[r].x<e[0].x;)m=h[r++],u[n++].o(m.x,m.y+l);for(;o<e.length;)m=e[o++],u[n++].o(m.x,m.y);for(o=e[e.length-1].x;r<h.length&&h[r].x<=o;)r++;for(;r<h.length&&h[r].x>o;)m=h[r++],u[n++].o(m.x,m.y+l);for(h=xh(t,n),o=0;n>o;o++)h[o].assign(u[o]);Ch(t,u),n=h}if(r=d,m=i,null===c||2>c.length||null===r||2>r.length)o=null;else{for(u=xh(t,c.length+r.length),l=v=h=0;h<c.length&&c[h].x<r[0].x;)o=c[h++],u[l++].o(o.x,o.y);for(;v<r.length;)o=r[v++],u[l++].o(o.x,o.y+m);for(r=r[r.length-1].x;h<c.length&&c[h].x<=r;)h++;for(;h<c.length&&c[h].x>r;)o=c[h++],u[l++].o(o.x,o.y);for(o=xh(t,l),h=0;l>h;h++)o[h].assign(u[h]);Ch(t,u)}r=p,s=Math.max(0,i)+s.height}return Ch(t,e),Ch(t,f),Ch(t,c),Ch(t,d),a[0]=n,a[1]=o,new k(i,0,r,s)}function xh(t,e){var i=t.rz[e];if(void 0!==i&&(i=i.pop(),void 0!==i))return i;for(var i=[],n=0;e>n;n++)i[n]=new b;return i}function Ch(t,e){var i=e.length,n=t.rz[i];void 0===n&&(n=[],t.rz[i]=n),n.push(e)}function kh(t,e,i,n){if(null!==e){Vh&&Uh.l(e,Mh,Xa,"assignAbsolutePositions:v"),e.x=i,e.y=n,e=e.children;for(var o=e.length,r=0;o>r;r++){var s=e[r];kh(t,s,i+s.ma.x,n+s.ma.y)}}}function Ah(t,e){if(null!==e){Vh&&Uh.l(e,Mh,Xa,"setPortSpotsTree:v"),t.setPortSpots(e);for(var i=e.children,n=i.length,o=0;n>o;o++)Ah(t,i[o])}}function Sh(t){return t=t.angle,45>=t?0:135>=t?90:225>=t?180:315>=t?270:0}function Fh(t){Vh&&Uh.l(t,Mh,Xa,"computeLayerSpacing:v");var e=Sh(t),e=90===e||270===e,i=t.layerSpacing;if(0<t.layerSpacingParentOverlap)var n=Math.min(1,t.layerSpacingParentOverlap),i=i-(e?t.height*n:t.width*n);return i<(e?-t.height:-t.width)&&(i=e?-t.height:-t.width),i}function Eh(t){Vh&&Uh.l(t,Mh,Xa,"computeNodeIndent:v");var e=Sh(t),e=90===e||270===e,i=t.nodeIndent;if(0<t.nodeIndentPastParent)var n=Math.min(1,t.nodeIndentPastParent),i=i+(e?t.width*n:t.height*n);return i=Math.max(0,i)}function Th(){Es.call(this)}function Mh(){Ls.call(this),this.initialized=!1,this.parent=null,this.children=[],this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0,this.comments=null,this.ma=new b(0,0),this.cb=new C(0,0),this.La=new b(0,0),this.Op=this.Np=this.OJ=!1,this.Vt=this.Dt=null,this.sorting=rd,this.comparer=mf,this.angle=0,this.alignment=ud,this.nodeIndentPastParent=this.nodeIndent=0,this.nodeSpacing=20,this.layerSpacing=50,this.layerSpacingParentOverlap=0,this.compaction=yd,this.breadthLimit=0,this.rowSpacing=25,this.commentSpacing=this.rowIndent=10,this.commentMargin=20,this.setsPortSpot=!0,this.portSpot=il,this.setsChildPortSpot=!0,this.childPortSpot=il}function Dh(){Bs.call(this),this.ds=new b(0,0)}function Ph(){this.Un=[]}function Lh(t){var e=new Ph,i=null;if("string"==typeof t?i=(new DOMParser).parseFromString(t,"text/xml"):t instanceof Document&&(i=t.implementation.createDocument("http://www.w3.org/2000/svg","svg",null),i.appendChild(i.importNode(t.documentElement,!0))),null===i)return null;if(t=i.getElementsByTagName("svg"),0===t.length)return null;var n=t[0],o=i.getElementsByTagName("linearGradient"),r=i.getElementsByTagName("radialGradient");for(t=0;t<o.length;t++){for(var s=o[t],a=oc(An,Vu,{start:ml,end:vl}),h=s.childNodes,l=0;l<h.length;l++)if("stop"===h[l].tagName){var u=Nh(e,h[l],"stop-color");if(null!==u&&""!==u){var c=Nh(e,h[l],"offset");(null===c||""===c)&&(c="0");var f=parseFloat(c);isNaN(f)&&(f=0),a.addColorStop((-1!==c.indexOf("%")?.01:1)*f,u)}}s=s.getAttribute("id"),"string"==typeof s&&(e["_brush"+s]=a)}for(t=0;t<r.length;t++){for(s=r[t],a=oc(An,Uu,{start:al,end:al}),h=s.childNodes,l=0;l<h.length;l++)"stop"===h[l].tagName&&(u=Nh(e,h[l],"stop-color"),null!==u&&""!==u)&&(c=Nh(e,h[l],"offset"),(null===c||""===c)&&(c="0"),f=parseFloat(c),isNaN(f)&&(f=0),a.addColorStop((-1!==c.indexOf("%")?.01:1)*f,u));s=s.getAttribute("id"),"string"==typeof s&&(e["_brush"+s]=a)}for(o=!0;o;)for(o=!1,r=i.getElementsByTagName("use"),t=0;t<r.length;t++)a=r[t],0===a.childNodes.length&&(s=a.href,void 0!==s&&(s=i.getElementById(s.baseVal.substring(1)),null!==s&&(s=s.cloneNode(!0),s.removeAttribute("id"),h=parseFloat(a.getAttribute("x")),isNaN(h)&&(h=0),l=parseFloat(a.getAttribute("y")),isNaN(l)&&(l=0),u=a.getAttribute("transform"),null===u&&(u=""),a.setAttribute("transform",u+" translate("+h+","+l+")"),a.appendChild(s),"use"===s.tagName&&(o=!0))));if($h(e,n,null),i=new io,0===e.Un.length)return i;if(1===e.Un.length)return e.Un[0];for(t=0;t<e.Un.length;t++)i.add(e.Un[t]);return i}function Bh(t,e){var i=t.getAttribute(e);return"string"!=typeof i&&t.style&&(i=t.style[e]),"string"!=typeof i?null:i}function Nh(t,e,i){var n=e.getAttribute(i);return"string"!=typeof n&&e.style&&(n=e.style[i]),"string"!=typeof n||""===n||"inherit"===n?(e=e.parentNode,"g"===e.tagName||"use"===e.tagName?Nh(t,e,i):null):n}function $h(t,e,i){var n=e.tagName;if(("g"===n||"svg"===n||"use"===n||"symbol"===n)&&"none"!==Nh(t,e,"display")){for(var n=e.childNodes,o=0;o<n.length;o++){var r=n[o],s=null;if(void 0!==r.getAttribute){var a=r.getAttribute("transform");switch(r.tagName){case"g":null===a?$h(t,r,null):(s=new io,$h(t,r,s));break;case"use":null===a?$h(t,r,null):(s=new io,$h(t,r,s));break;case"symbol":if("use"!==e.tagName)break;s=new io,$h(t,r,s);var h=s,l=t,u=r;Nh(l,u,"preserveAspectRatio"),Nh(l,u,"viewBox"),h.scale=1;break;case"path":h=r,s=new Fo,h=h.getAttribute("d"),"string"==typeof h&&(s.NE=Il(h));break;case"line":var c=r,s=new Fo,h=parseFloat(c.getAttribute("x1"));isNaN(h)&&(h=0),l=parseFloat(c.getAttribute("y1")),isNaN(l)&&(l=0),u=parseFloat(c.getAttribute("x2")),isNaN(u)&&(u=0),c=parseFloat(c.getAttribute("y2")),isNaN(c)&&(c=0);var f=new V(Nl);s.position=new b(Math.min(h,u),Math.min(l,c)),(u-h)/(c-l)>0?(f.ra=0,f.sa=0,f.D=Math.abs(u-h),f.F=Math.abs(c-l)):(f.ra=0,f.sa=Math.abs(c-l),f.D=Math.abs(u-h),f.F=0),s.Xc=f;break;case"circle":u=r,s=new Fo,h=parseFloat(u.getAttribute("r")),isNaN(h)||0>h?s=null:(l=parseFloat(u.getAttribute("cx")),isNaN(l)&&(l=0),u=parseFloat(u.getAttribute("cy")),isNaN(u)&&(u=0),c=new V(Rl),c.ra=0,c.sa=0,c.D=2*h,c.F=2*h,s.position=new b(l-h,u-h),s.Xc=c);break;case"ellipse":c=r,s=new Fo,h=parseFloat(c.getAttribute("rx")),isNaN(h)||0>h?s=null:(l=parseFloat(c.getAttribute("ry")),isNaN(l)||0>l?s=null:(u=parseFloat(c.getAttribute("cx")),isNaN(u)&&(u=0),c=parseFloat(c.getAttribute("cy")),isNaN(c)&&(c=0),f=new V(Rl),f.ra=0,f.sa=0,f.D=2*h,f.F=2*l,s.position=new b(u-h,c-l),s.Xc=f));break;case"rect":if(f=r,s=new Fo,h=parseFloat(f.getAttribute("width")),isNaN(h)||0>h)s=null;else if(l=parseFloat(f.getAttribute("height")),isNaN(l)||0>l)s=null;else{u=parseFloat(f.getAttribute("x")),isNaN(u)&&(u=0),c=parseFloat(f.getAttribute("y")),isNaN(c)&&(c=0);var d=f.getAttribute("rx"),p=f.getAttribute("ry"),f=parseFloat(d);(isNaN(f)||0>f)&&(f=0);var g=parseFloat(p);(isNaN(g)||0>g)&&(g=0),null!==d&&""!==d||null===p||""===p?null===d||""===d||null!==p&&""!==p||(g=f):f=g,f=Math.min(f,h/2),g=Math.min(g,l/2),p=void 0,0===f&&0===g?(p=new V($l),p.ra=0,p.sa=0,p.D=h,p.F=l):(p=Bl.wa/2,d=Uh.u(),Yo(d,f,0,!0),d.lineTo(h-f,0),Qo(d,h-f*p,0,h,g*p,h,g),d.lineTo(h,l-g),Qo(d,h,l-g*p,h-f*p,l,h-f,l),d.lineTo(f,l),Qo(d,f*p,l,0,l-g*p,0,l-g),d.lineTo(0,g),Qo(d,0,g*p,f*p,0,f,0),Jo(d),p=d.s,Uh.v(d)),s.position=new b(u,c),s.Xc=p}break;case"polygon":s=_h(r);break;case"polyline":s=_h(r)}if(null!==s){if(s instanceof Fo){if(l=s,h=Nh(t,r,"fill"),null!==h&&-1!==h.indexOf("url")?(h=h.substring(h.indexOf("#")+1,h.length-1),h=t["_brush"+h],l.fill=h instanceof An?h:"black"):l.fill=null===h?"black":"none"===h?null:h,h=Nh(t,r,"stroke"),null!==h&&-1!==h.indexOf("url")?(h=h.substring(h.indexOf("#")+1,h.length-1),h=t["_brush"+h],l.stroke=h instanceof An?h:"black"):l.stroke="none"===h?null:h,h=parseFloat(Nh(t,r,"stroke-width")),isNaN(h)||(l.ib=h),h=Nh(t,r,"stroke-linecap"),null!==h&&(l.DG=h),h=Nh(t,r,"stroke-dasharray"),null!==h&&""!==h){for(u=h.split(","),c=[],h=0;h<u.length;h++)f=parseFloat(u[h]),!isNaN(f)&&f>0&&c.push(f);l.Ex=c}r=Nh(t,r,"stroke-dashoffset"),null!==r&&""!==r&&(r=parseFloat(r),isNaN(r)||(l.EG=r)),l.qA=!0}if(null!==a)for(a=a.split(")"),r=!0,h=0;h<a.length;h++)if(r)for(h=a.length-1;h>=0;h--)if(l=a[h],""!==l)switch(u=l.indexOf("("),r=l.substring(0,u).replace(/\s*/,""),u=l.substring(u+1).split(/\s*[\s,]\s*/),r){case"rotate":Oh(t,s,u);break;case"translate":r=s,l=parseFloat(u[0]),isNaN(l)&&(l=0),u=parseFloat(u[1]),isNaN(u)&&(u=0),(0!==l||0!==u)&&(c=r.position.copy(),isNaN(c.x)&&(c.x=0),isNaN(c.y)&&(c.y=0),r.position=new b(l+c.x,u+c.y));break;case"scale":jh(t,s,u);break;case"skewX":Ih(t,s,u);break;case"skewY":zh(t,s,u);break;case"matrix":Rh(t,s,u)}if(s instanceof io){for(a=s,h=r=0,l=a.position.copy(),isNaN(l.x)&&(l.x=0),isNaN(l.y)&&(l.y=0),u=a.elements.k;u.next();)c=u.value.position.copy(),isNaN(c.x)&&(c.x=0),isNaN(c.y)&&(c.y=0),c.x<r&&(r=c.x),c.y<h&&(h=c.y);l.x+=r,l.y+=h,a.position=l}null===i?t.Un.push(s):i.add(s)}}}null!==s&&(t=Bh(e,"visibility"),("hidden"===t||"collapse"===t)&&(s.visible=!1),e=Bh(e,"opacity"),null!==e&&""!==e&&(e=parseFloat(e),isNaN(e)||(s.opacity=e)))}}function Rh(t,e,i){var n=parseFloat(i[0]),o=parseFloat(i[1]),r=parseFloat(i[2]),s=parseFloat(i[3]),a=parseFloat(i[4]),h=parseFloat(i[5]);if(!isNaN(n+o+r+s+a+h)){var l=e.position.copy();if(isNaN(l.x)&&(l.x=0),isNaN(l.y)&&(l.y=0),e instanceof Fo){if(i=e.Xc.copy(),i.type===$l)i=t.Ns(i);else if(i.type===Rl)i=Hh(i);else if(i.type===Nl){i.type=Ol,t=new Q(i.ra,i.sa);var u=new Z(Hl,i.D,i.F);t.Ea.add(u),i.pb.add(t)}i.offset(l.x,l.y),i.transform(n,o,r,s,a-l.x,h-l.y),t=i.normalize(),e.Xc=i,l.x-=t.x,l.y-=t.y,e.position=l}else if(e instanceof io){for(e=e.elements.k;e.next();)o=e.value,n=o.position.copy(),n.x+=l.x,n.y+=l.y,o.position=n;for(e.reset();e.next();)Rh(t,e.value,i);for(e.reset();e.next();)t=e.value,n=t.position.copy(),n.x-=l.x,n.y-=l.y,t.position=n}}}function Oh(t,e,i){var n=parseFloat(i[0]);isNaN(n)&&(n=0);var o=parseFloat(i[1]);isNaN(o)&&(o=0);var r=parseFloat(i[2]);if(isNaN(r)&&(r=0),0!==n){var s=n*Math.PI/180,a=e.position.copy();if(isNaN(a.x)&&(a.x=0),isNaN(a.y)&&(a.y=0),e instanceof Fo){if(i=e.Xc.copy(),i.type===Rl?i=Hh(i):i.type===$l&&(i=t.Ns(i)),i.type===Ol)i.rotate(n,o-a.x,r-a.y),r=i.normalize(),e.Xc=i,a.x-=r.x,a.y-=r.y,e.position=a;else{var n=i.ra-o+a.x,h=i.sa-r+a.y,l=i.D-o+a.x,u=i.F-r+a.y;t=n*Math.cos(s)-h*Math.sin(s)+o-a.x,n=h*Math.cos(s)+n*Math.sin(s)+r-a.y,o=l*Math.cos(s)-u*Math.sin(s)+o-a.x,r=u*Math.cos(s)+l*Math.sin(s)+r-a.y,l=Math.min(t,o),u=Math.min(n,r),i.ra=t-l,i.sa=n-u,i.D=o-l,i.F=r-u,a.x+=l,a.y+=u,e.position=a,e.Xc=i}e.fill instanceof An&&(a=e.fill.copy(),i=Math.atan((.5-a.start.y)/(.5-a.start.x)),isNaN(i)||(i+=s,a.start=new P((1-Math.cos(i))/2,(1-Math.sin(i))/2),a.end=new P((1+Math.cos(i))/2,(1+Math.sin(i))/2)),e.fill=a),e.stroke instanceof An&&(a=e.stroke.copy(),i=Math.atan((.5-a.start.y)/(.5-a.start.x)),isNaN(i)||(i+=s,a.start=new P((1-Math.cos(i))/2,(1-Math.sin(i))/2),a.end=new P((1+Math.cos(i))/2,(1+Math.sin(i))/2)),e.stroke=a)}else if(e instanceof io){for(e=e.elements.k;e.next();)r=e.value,s=r.position.copy(),s.x+=a.x,s.y+=a.y,r.position=s;for(e.reset();e.next();)Oh(t,e.value,i);for(e.reset();e.next();)i=e.value,s=i.position.copy(),s.x-=a.x,s.y-=a.y,i.position=s}}}function jh(t,e,i){var n=parseFloat(i[0]);isNaN(n)&&(n=1);var o=parseFloat(i[1]);if(isNaN(o)&&(o=n),1!==n||1!==o){var r=e.position.copy();if(isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),e instanceof Fo)t=e.Xc.copy(),r.x*=n,r.y*=o,e.position=r,t.scale(n,o),e.Xc=t;else if(e instanceof io){for(e=e.elements.k;e.next();)o=e.value,n=o.position.copy(),n.x+=r.x,n.y+=r.y,o.position=n;for(e.reset();e.next();)jh(t,e.value,i);for(e.reset();e.next();)t=e.value,n=t.position.copy(),n.x-=r.x,n.y-=r.y,t.position=n}}}function Ih(t,e,i){var n=parseFloat(i[0]);if(!isNaN(n)){var n=n*Math.PI/180,o=e.position.copy();if(isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),e instanceof Fo){if(i=e.Xc.copy(),i.type===$l)i=t.Ns(i);else if(i.type===Rl)i=Hh(i);else if(i.type===Nl){i.type=Ol,t=new Q(i.ra,i.sa);var r=new Z(Hl,i.D,i.F);t.Ea.add(r),i.pb.add(t)}i.offset(o.x,o.y),i.transform(1,0,Math.tan(n),1,-o.x,-o.y),t=i.normalize(),e.Xc=i,o.x-=t.x,o.y-=t.y,e.position=o}else if(e instanceof io){for(e=e.elements.k;e.next();)n=e.value.position.copy(),n.x+=o.x,n.y+=o.y,e.value.position=n;for(e.reset();e.next();)Ih(t,e.value,i);for(e.reset();e.next();)t=e.value,n=t.position.copy(),n.x-=o.x,n.y-=o.y,t.position=n}}}function zh(t,e,i){var n=parseFloat(i[0]);if(!isNaN(n)){var n=n*Math.PI/180,o=e.position.copy();if(isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),e instanceof Fo){if(i=e.Xc.copy(),i.type===$l)i=t.Ns(i);else if(i.type===Rl)i=Hh(i);else if(i.type===Nl){i.type=Ol,t=new Q(i.ra,i.sa);var r=new Z(Hl,i.D,i.F);t.Ea.add(r),i.pb.add(t)}i.offset(o.x,o.y),i.transform(1,Math.tan(n),0,1,-o.x,-o.y),t=i.normalize(),e.Xc=i,o.x-=t.x,o.y-=t.y,e.position=o}else if(e instanceof io){for(e=e.elements.k;e.next();)r=e.value,n=r.position.copy(),n.x+=o.x,n.y+=o.y,r.position=n;for(e.reset();e.next();)zh(t,e.value,i);for(e.reset();e.next();)t=e.value,n=t.position.copy(),n.x-=o.x,n.y-=o.y,t.position=n}}}function _h(t){var e=!1;if("polygon"===t.tagName)e=!0;else if("polyline"!==t.tagName)return null;var i=new Fo,n=t.getAttribute("points");t=new V;var o=new l(Q),r=n.split(/\s*[\s,]\s*/);if(4>r.length)return null;for(var n=null,s=new l(Z),a=1;a<r.length;a+=2){var h=parseFloat(r[a-1]),u=parseFloat(r[a]);if("number"!=typeof h||isNaN(h)||"number"!=typeof u||isNaN(u))return null;1===a?n=new Q(h,u):s.add(new Z(Hl,h,u))}return e&&(e=new Z(Hl,n.ra,n.sa),e.close(),s.add(e)),n.Ea=s,o.add(n),t.pb=o,e=t.normalize(),i.position=new b(-e.x,-e.y),i.Xc=t,i}function Hh(t){var e=t.ra,i=t.sa,n=t.D,o=t.F,r=Math.abs(n-e)/2,s=Math.abs(o-i)/2,e=Math.min(e,n)+r,i=Math.min(i,o)+s;return new b,o=new Q(e,i-s),n=new Z(ql),n.Ib=e+Bl.wa*r,n.Ub=i-s,n.ve=e+r,n.we=i-Bl.wa*s,n.D=e+r,n.F=i,o.Ea.add(n),n=new Z(ql),n.Ib=e+r,n.Ub=i+Bl.wa*s,n.ve=e+Bl.wa*r,n.we=i+s,n.D=e,n.F=i+s,o.Ea.add(n),n=new Z(ql),n.Ib=e-Bl.wa*r,n.Ub=i+s,n.ve=e-r,n.we=i+Bl.wa*s,n.D=e-r,n.F=i,o.Ea.add(n),n=new Z(ql),n.Ib=e-r,n.Ub=i-Bl.wa*s,n.ve=e-Bl.wa*r,n.we=i-s,n.D=e,n.F=i-s,o.Ea.add(n),t.type=Ol,t.pb.add(o),t}function qh(){Sn.call(this),this.nd=null}var Wh,Gh={};if(!t.document||void 0===t.document.createElement("canvas").getContext)throw t.console&&t.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");!function(){for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i){var n=(new Date).getTime(),o=Math.max(8,16-(n-e)),r=t.setTimeout(function(){i(n+o)},o);return e=n+o,r}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){t.clearTimeout(e)})}();var Vh={Pz:!1,yK:!1,LF:!1,VE:!1,bI:!1,assert:!1,kK:null,oK:function(){},qK:function(){},pK:function(){},nK:function(){},vK:function(){},rK:function(){},tK:function(){},sK:function(){},lK:!1,SK:!1,PK:!1,QK:!1,EI:!1,uK:function(){}},Vh=null;Gh.Debug=null;var Uh={ad:1,Ic:2,Sc:4,Rc:8,Wm:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("534.30")&&0<t.navigator.userAgent.indexOf("Android"),sA:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("MSIE 10.0"),tA:void 0!==t.navigator&&0<t.navigator.userAgent.indexOf("Trident/7"),Xm:0<=navigator.platform.toUpperCase().indexOf("MAC"),YI:null!==navigator.platform.match(/(iPhone|iPod|iPad)/i),qE:function(t,e,i){var n=-1;return function(){var o=this,r=arguments;-1!==n&&Uh.clearTimeout(n),n=Uh.setTimeout(function(){n=-1,i||t.apply(o,r)},e),i&&!n&&t.apply(o,r)}},setTimeout:function(e,i){return t.setTimeout(e,i)},clearTimeout:function(e){t.clearTimeout(e)},setInterval:function(e,i){return t.setInterval(e,i)},clearInterval:function(e){t.clearInterval(e)},createElement:function(e){return t.document.createElement(e)},m:function(e){throw Vh&&Vh.bI&&t.alert&&t.alert(e),Error(e)},N:function(t,e){if(t.Qa){var i="The object is frozen, so its properties cannot be set: "+t.toString();void 0!==e&&(i+="  to value: "+e),Uh.m(i)}},l:function(t,e,i,n){t instanceof e||(i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),Uh.sc(t,e,i))},i:function(t,e,i,n){typeof t!==e&&(i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),Uh.sc(t,e,i))},p:function(t,e,i){"number"==typeof t&&isFinite(t)||(e=Uh.getTypeName(e),void 0!==i&&(e+="."+i),Uh.m(e+" must be a real number type, and not NaN or Infinity: "+t))},za:function(t,i,n,o){t instanceof e&&t.Ie===i||(n=Uh.getTypeName(n),void 0!==o&&(n+="."+o),Uh.sc(t,"a constant of class "+Uh.yg(i),n))},Mo:function(t,e){"string"==typeof t?Yu(t)||Uh.m('Color "'+t+'" is not a valid color string for '+e):t instanceof An||Uh.m("Value for "+e+" must be a color string or a Brush, not "+t)},sc:function(t,e,i,n){e=Uh.getTypeName(e),i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),"string"==typeof t?Uh.m(i+" value is not an instance of "+e+': "'+t+'"'):Uh.m(i+" value is not an instance of "+e+": "+t)},ka:function(t,e,i,n){i=Uh.getTypeName(i),void 0!==n&&(i+="."+n),Uh.m(i+" is not in the range "+e+": "+t)},$c:function(t){Uh.m(Uh.yg(t)+" constructor cannot take any arguments.")},Qb:function(t){Uh.m("Collection was modified during iteration: "+t.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},trace:function(e){t.console&&t.console.log(e)},Xa:function(t){return"object"==typeof t&&null!==t},isArray:function(t){return Array.isArray(t)||t instanceof NodeList||t instanceof HTMLCollection},ZI:function(t){return Array.isArray(t)},at:function(t,e,i){Uh.isArray(t)||Uh.sc(t,"Array or NodeList or HTMLCollection",e,i)},ub:function(t){return t.length},il:function(t){return Array.prototype.slice.call(t)},jb:function(t,e){return Array.isArray(t),t[e]},RD:function(t,e,i){Array.isArray(t)?t[e]=i:Uh.m("Cannot replace an object in an HTMLCollection or NodeList at "+e)},Nz:function(t,e){if(Array.isArray(t))return t.indexOf(e);for(var i=t.length,n=0;i>n;n++)if(t[n]===e)return n;return-1},Ii:function(t,e,i){Array.isArray(t)?e>=t.length?t.push(i):t.splice(e,0,i):Uh.m("Cannot insert an object into an HTMLCollection or NodeList: "+i+" at "+e)},Ji:function(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):Uh.m("Cannot remove an object from an HTMLCollection or NodeList at "+e)},Sx:[],M:function(){var t=Uh.Sx.pop();return void 0===t?new b:t},ic:function(t,e){var i=Uh.Sx.pop();return void 0===i?new b(t,e):(i.x=t,i.y=e,i)},B:function(t){Uh.Sx.push(t)},DB:[],Hl:function(){var t=Uh.DB.pop();return void 0===t?new C:t},dk:function(t){Uh.DB.push(t)},Tx:[],$f:function(){var t=Uh.Tx.pop();return void 0===t?new k:t},lk:function(t,e,i,n){var o=Uh.Tx.pop();return void 0===o?new k(t,e,i,n):(o.x=t,o.y=e,o.width=i,o.height=n,o)},nc:function(t){Uh.Tx.push(t)},EB:[],mh:function(){var t=Uh.EB.pop();return void 0===t?new D:t},df:function(t){Uh.EB.push(t)},Ux:null,u:function(){var t=Uh.Ux;return null!==t?(Uh.Ux=null,t):new Ko},v:function(t){t.reset(),Uh.Ux=t},CB:[],lb:function(){var t=Uh.CB.pop();return void 0===t?[]:t},xa:function(t){t.length=0,Uh.CB.push(t)},nh:Object.freeze([]),FB:1,jc:function(t){t.__gohashid=Uh.FB++},tt:function(t){var e=t.__gohashid;return void 0===e&&(e=Uh.FB++,t.__gohashid=e),e},Yc:function(t){return t.__gohashid},g:function(t,e,i){"name"!==e&&"length"!==e&&(t[e]=i)},ja:function(t,e){e.by=t,Gh[t]=e},Ia:function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},Ph:function(t){t.wH=!0},defineProperty:function(t,e,i,n,o){Uh.i(t,"function","Util.defineProperty:classfunc"),Uh.i(e,"object","Util.defineProperty:propobj"),Uh.i(i,"function","Util.defineProperty:getter"),Uh.i(n,"function","Util.defineProperty:setter");for(var r in e){var s=e[r];if(e={get:i,set:n},void 0!==o)for(var a in o)e[a]=o[a];if(Object.defineProperty(t.prototype,r,e),o=Object.getOwnPropertyDescriptor(t.prototype,r),s&&o&&Object.defineProperty(t.prototype,s,o),Vh&&s){var h=s.charAt(0).toUpperCase()+s.slice(1);s===h&&Uh.m('Defining capitalized property "'+h+'"!?'),Object.defineProperty(t.prototype,h,{get:function(){Uh.sA||Uh.tA||Uh.trace('Getting the property "'+h+'" is probably not what you intended: it is capitalized but should be spelled "'+s+'"')},set:function(){Uh.m('Setting the property "'+h+'" is probably not what you intended: it is capitalized but should be spelled "'+s+'"')}})}break}},A:function(t,e,i,n){Uh.i(t,"function","Util.defineReadOnlyProperty:classfunc"),Uh.i(e,"object","Util.defineReadOnlyProperty:propobj"),Uh.i(i,"function","Util.defineReadOnlyProperty:getter");for(var o in e){var r=e[o];if(e={get:i,set:function(t){Uh.m('The property "'+r+'" is read-only and cannot be set to '+t)}},void 0!==n)for(var s in n)e[s]=n[s];if(Object.defineProperty(t.prototype,o,e),n=Object.getOwnPropertyDescriptor(t.prototype,o),r&&n&&Object.defineProperty(t.prototype,r,n),Vh&&r){var a=r.charAt(0).toUpperCase()+r.slice(1);Object.defineProperty(t.prototype,a,{get:function(){Uh.sA||Uh.tA||Uh.trace('Getting the property "'+a+'" is probably not what you intended: it is capitalized but should be spelled "'+r+'"')},set:function(){Uh.m('Setting the read-only property "'+a+'" is probably not what you intended: it is capitalized but should be spelled "'+r+'", and cannot be set anyway')}})}break}},ae:function(t,e){for(var i in e)e[i]=!0;t.prototype.ZC=e},getTypeName:function(t){return void 0===t?"":"string"==typeof t?t:"function"==typeof t?Uh.yg(t):null===t?"*":""},yg:function(t){if("function"==typeof t){if(t.by)return t.by;if(t.name)return t.name;var e=t.toString(),i=e.indexOf("("),e=e.substring(9,i).trim();if(""!==e)return t.by=e}else if("object"==typeof t&&t.constructor)return Uh.yg(t.constructor);return typeof t},w:function(t,i,n){Uh.i(t,"function","Util.defineEnumValue:classfunc"),Uh.i(i,"string","Util.defineEnumValue:name"),Uh.i(n,"number","Util.defineEnumValue:num"),n=new e(t,i,n),Object.freeze(n),t[i]=n;var o=t.mu;return o instanceof v||(o=new v("string",e),t.mu=o),o.add(i,n),n},wb:function(t,e){if(!t||!e)return null;var i=void 0;try{"function"==typeof e?i=e(t):"function"==typeof t.getAttribute?(i=t.getAttribute(e),null===i&&(i=void 0)):i=t[e]}catch(n){Vh&&Uh.trace("property get error: "+n.toString())}return i},Sa:function(t,e,i){if(t&&e)try{"function"==typeof e?e(t,i):"function"==typeof t.setAttribute?t.setAttribute(e,i):t[e]=i}catch(n){Vh&&Uh.trace("property set error: "+n.toString())}},au:function(t,e){Uh.i(t,"object","Setting properties requires Objects as arguments"),Uh.i(e,"object","Setting properties requires Objects as arguments");var i=Vh;null===i&&(Vh=Uh);var n,o=t instanceof io,r=t instanceof Ue;for(n in e){""===n&&Uh.m("Setting properties requires non-empty property names");var s=t,a=n;if(o||r){var h=n.indexOf(".");if(h>0){var l=n.substring(0,h);o?s=t.pe(l):(s=t[l],(void 0===s||null===s)&&(s=t.sb[l])),Uh.Xa(s)?a=n.substr(h+1):Uh.m("Unable to find object named: "+l+" in "+t.toString()+" when trying to set property: "+n)}}if("_"!==a[0]&&!Uh.Mw(s,a))if(r&&Uh.Mw(t.sb,a))s=t.sb;else{if(r&&on(t,a)){t.Gz(a,e[a]);continue}Uh.m('Trying to set undefined property "'+a+'" on object: '+s.toString())}s[a]=e[n],"_"===a[0]&&(h=s.Ql,Uh.isArray(h)||(h=[],s.Ql=h),h.push(a))}Vh=i},Mw:function(t,e){if(t.hasOwnProperty(e))return!0;for(var i=Object.getPrototypeOf(t);i&&i!==Function;){if(i.hasOwnProperty(e))return!0;var n=i.ZC;if(n&&n[e])return!0;i=Object.getPrototypeOf(i)}return!1},XD:function(t,e){if(!Uh.Xa(e)||e instanceof Element||e instanceof CanvasRenderingContext2D||e instanceof G||e instanceof n)return"";var i,o="";for(i in e)if("string"!=typeof i)""===o&&(o=e+"\n"),o+="  "+i+" is not a string property\n";else if("_"!==i.charAt(0)&&!(2>=i.length)){var r=Uh.wb(e,i);null===r||"function"==typeof r||Uh.Mw(e,i)||(""===o&&(o=e+"\n"),o+='  unknown property "'+i+'" has value: '+r+" at "+t+"\n")}return o},mw:function(t,e){if(null!==e&&"number"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"function"!=typeof e)if(void 0!==Uh.Yc(e)){if(!Uh.Kv.contains(e))if(Uh.Kv.add(e),Uh.sv.add(Uh.XD(t,e)),e instanceof l||e instanceof c||e instanceof v)for(var i=e.k;i.next();)Uh.mw(t+"["+i.key+"]",i.value);else for(i in e){var n=Uh.wb(e,i);if(void 0!==n&&null!==n&&Uh.Xa(n)&&n!==e.ZC){if(e instanceof $o){if(n===e.oj)continue}else if(e instanceof io){if("data"===i||n===e.rh)continue;if("itemArray"===i||n===e.oi)continue;if(e instanceof er&&n===e.Tk)continue}else if(!(e instanceof Ue))if(e instanceof Et){if("archetypeGroupData"===i||n===e.Xx)continue}else if(e instanceof le){if("archetypeLinkData"===i||n===e.Zx)continue;if("archetypeLabelNodeData"===i||n===e.Yx)continue}else if(e instanceof xe){if("archetypeNodeData"===i||n===e.Ak)continue}else if(e instanceof rt){if("nodeDataArray"===i||n===e.sf)continue;if("linkDataArray"===i||n===e.Dh||n===e.fm)continue;if(n===e.zc)continue;if(n===e.vh)continue}else if(e instanceof Es||e instanceof Ls||e instanceof Bs)continue;Uh.mw(t+"."+i,n)}}}else if(Array.isArray(e))for(i=0;i<e.length;i++)Uh.mw(t+"["+i+"]",e[i]);else Uh.sv.add(Uh.XD(t,e))},check:function(t){return void 0===Uh.Kv?Uh.Kv=new c(Object):Uh.Kv.clear(),Uh.sv=new i,Uh.mw("",t),t=Uh.sv.toString(),Uh.sv=null,t},HJ:function(t){for(var e=[],i=0;256>i;i++)e[i]=i;for(var n=0,o=0,i=0;256>i;i++)n=(n+e[i]+119)%256,o=e[i],e[i]=e[n],e[n]=o;for(var n=i=0,r="",s=0;s<t.length;s++)i=(i+1)%256,n=(n+e[i])%256,o=e[i],e[i]=e[n],e[n]=o,r+=String.fromCharCode(t.charCodeAt(s)^e[(e[i]+e[n])%256]);return r},SI:function(t){for(var e=[],i=0;256>i;i++)e["0123456789abcdef".charAt(i>>4)+"0123456789abcdef".charAt(15&i)]=String.fromCharCode(i);
t.length%2&&(t="0"+t);for(var n=[],o=0,i=0;i<t.length;i+=2)n[o++]=e[t.substr(i,2)];return t=n.join(""),""===t?"0":t},Ha:function(t){return Uh.HJ(Uh.SI(t))},Kl:null,gw:"7da71ca0ad381e90",eI:"@COLOR1",fI:"@COLOR2"};Uh.Kl=function(){var e=t.document.createElement("canvas");e.getContext("2d");return e}(),e.prototype.toString=function(){return Uh.yg(this.MB)+"."+this.Xb},Uh.A(e,{Ie:"classType"},function(){return this.MB}),Uh.A(e,{name:"name"},function(){return this.Xb}),Uh.A(e,{value:"value"},function(){return this.BH});var Kh;e.findName=Kh=function(t,e){if(null===e||""===e)return null;Uh.i(t,"function","findName:classfunc"),Uh.i(e,"string","EnumValue.findName:name");var i=t.mu;return i instanceof v?i.Aa(e):null},i.prototype.toString=function(){return this.LB.join("")},i.prototype.add=function(t){""!==t&&this.LB.push(t)},o.prototype.random=function(){var t=this.seed%this.zB*this.Lx-this.seed/this.zB*this.eH;return this.seed=t>0?t:t+this.lu,this.seed*this.aH},Uh.A(r,{k:"iterator"},function(){return this}),r.prototype.reset=r.prototype.reset=function(){},r.prototype.next=r.prototype.hasNext=r.prototype.next=function(){return!1},r.prototype.first=r.prototype.first=function(){return null},r.prototype.any=function(){return!1},r.prototype.all=function(){return!0},r.prototype.each=function(){},Uh.A(r,{count:"count"},function(){return 0}),r.prototype.dg=function(){},r.prototype.toString=function(){return"EmptyIterator"};var Yh=new r;Uh.ae(s,{key:!0,value:!0}),Uh.A(s,{k:"iterator"},function(){return this}),s.prototype.reset=s.prototype.reset=function(){this.key=-1},s.prototype.next=s.prototype.hasNext=s.prototype.next=function(){return-1===this.key?(this.key=0,!0):!1},s.prototype.first=s.prototype.first=function(){return this.key=0,this.value},s.prototype.any=function(t){return this.key=-1,t(this.value)},s.prototype.all=function(t){return this.key=-1,t(this.value)},s.prototype.each=function(t){this.key=-1,t(this.value)},Uh.A(s,{count:"count"},function(){return 1}),s.prototype.dg=function(){this.value=null},s.prototype.toString=function(){return"SingletonIterator("+this.value+")"},Uh.ae(a,{key:!0,value:!0}),Uh.A(a,{k:"iterator"},function(){return this}),Uh.g(a,"predicate",a.prototype.yl),Uh.defineProperty(a,{yl:"predicate"},function(){return this.Cj},function(t){this.Cj=t}),a.prototype.reset=a.prototype.reset=function(){var t=this.Ed;t.Dd=null,this.bb=t.W,this.Bd=-1},a.prototype.next=a.prototype.hasNext=a.prototype.next=function(){var t=this.Ed;t.W!==this.bb&&Uh.Qb(t);var t=t.q,e=t.length,i=++this.Bd,n=this.Cj;if(null!==n)for(;e>i;){var o=t[i];if(n(o))return this.key=this.Bd=i,this.value=o,!0;i++}else{if(e>i)return this.key=i,this.value=t[i],!0;this.dg()}return!1},a.prototype.first=a.prototype.first=function(){var t=this.Ed;this.bb=t.W,this.Bd=0;var t=t.q,e=t.length,i=this.Cj;if(null!==i){for(var n=0;e>n;){var o=t[n];if(i(o))return this.key=this.Bd=n,this.value=o;n++}return null}return e>0?(o=t[0],this.key=0,this.value=o):null},a.prototype.any=function(t){var e=this.Ed;e.Dd=null;var i=e.W;this.Bd=-1;for(var n=e.q,o=n.length,r=this.Cj,s=0;o>s;s++){var a=n[s];if(null===r||r(a)){if(t(a))return!0;e.W!==i&&Uh.Qb(e)}}return!1},a.prototype.all=function(t){var e=this.Ed;e.Dd=null;var i=e.W;this.Bd=-1;for(var n=e.q,o=n.length,r=this.Cj,s=0;o>s;s++){var a=n[s];if(null===r||r(a)){if(!t(a))return!1;e.W!==i&&Uh.Qb(e)}}return!0},a.prototype.each=function(t){var e=this.Ed;e.Dd=null;var i=e.W;this.Bd=-1;for(var n=e.q,o=n.length,r=this.Cj,s=0;o>s;s++){var a=n[s];(null===r||r(a))&&(t(a),e.W!==i&&Uh.Qb(e))}},Uh.A(a,{count:"count"},function(){var t=this.Cj;if(null!==t){for(var e=0,i=this.Ed.q,n=i.length,o=0;n>o;o++)t(i[o])&&e++;return e}return this.Ed.q.length}),a.prototype.dg=function(){this.key=-1,this.value=null,this.bb=-1,this.Cj=null,this.Ed.Dd=this},a.prototype.toString=function(){return"ListIterator@"+this.Bd+"/"+this.Ed.count},Uh.ae(h,{key:!0,value:!0}),Uh.A(h,{k:"iterator"},function(){return this}),h.prototype.reset=h.prototype.reset=function(){var t=this.Ed;t.eo=null,this.bb=t.W,this.Bd=t.q.length},h.prototype.next=h.prototype.hasNext=h.prototype.next=function(){var t=this.Ed;t.W!==this.bb&&Uh.Qb(t);var e=--this.Bd;return e>=0?(this.key=e,this.value=t.q[e],!0):(this.dg(),!1)},h.prototype.first=h.prototype.first=function(){var t=this.Ed;this.bb=t.W;var e=t.q;return this.Bd=t=e.length-1,t>=0?(e=e[t],this.key=t,this.value=e):null},h.prototype.any=function(t){var e=this.Ed;e.eo=null;var i=e.W,n=e.q,o=n.length;for(this.Bd=o,o-=1;o>=0;o++){if(t(n[o]))return!0;e.W!==i&&Uh.Qb(e)}return!1},h.prototype.all=function(t){var e=this.Ed;e.eo=null;var i=e.W,n=e.q,o=n.length;for(this.Bd=o,o-=1;o>=0;o++){if(!t(n[o]))return!1;e.W!==i&&Uh.Qb(e)}return!0},h.prototype.each=function(t){var e=this.Ed;e.eo=null;var i=e.W,n=e.q,o=n.length;for(this.Bd=o,o-=1;o>=0;o++)t(n[o]),e.W!==i&&Uh.Qb(e)},Uh.A(h,{count:"count"},function(){return this.Ed.q.length}),h.prototype.dg=function(){this.key=-1,this.value=null,this.bb=-1,this.Ed.eo=this},h.prototype.toString=function(){return"ListIteratorBackwards("+this.Bd+"/"+this.Ed.count+")"},Uh.ja("List",l),l.prototype.Pg=function(t){null!==this.ha&&("string"==typeof this.ha?typeof t===this.ha&&null!==t||Uh.sc(t,this.ha):t instanceof this.ha||Uh.sc(t,this.ha))},l.prototype.Vd=function(){var t=this.W;t++,t>999999999&&(t=0),this.W=t},l.prototype.freeze=l.prototype.freeze=function(){return this.Qa=!0,this},l.prototype.thaw=l.prototype.Na=function(){return this.Qa=!1,this},l.prototype.toString=function(){return"List("+Uh.getTypeName(this.ha)+")#"+Uh.Yc(this)},l.prototype.add=l.prototype.push=l.prototype.add=function(t){null!==t&&(Vh&&this.Pg(t),Uh.N(this,t),this.q.push(t),this.Vd())},l.prototype.addAll=l.prototype.Ce=function(t){if(null===t)return this;Uh.N(this);var e=this.q;if(Uh.isArray(t))for(var i=Uh.ub(t),n=0;i>n;n++){var o=Uh.jb(t,n);Vh&&this.Pg(o),e.push(o)}else for(t=t.k;t.next();)o=t.value,Vh&&this.Pg(o),e.push(o);return this.Vd(),this},l.prototype.clear=l.prototype.clear=function(){Uh.N(this),this.q.length=0,this.Vd()},l.prototype.contains=l.prototype.has=l.prototype.contains=function(t){return null===t?!1:(Vh&&this.Pg(t),-1!==this.q.indexOf(t))},l.prototype.indexOf=l.prototype.indexOf=function(t){return null===t?-1:(Vh&&this.Pg(t),this.q.indexOf(t))},l.prototype.elt=l.prototype.get=l.prototype.na=function(t){Vh&&Uh.p(t,l,"elt:i");var e=this.q;return(0>t||t>=e.length)&&Uh.ka(t,"0 <= i < length",l,"elt:i"),e[t]},l.prototype.setElt=l.prototype.set=l.prototype.Mg=function(t,e){Vh&&(this.Pg(e),Uh.p(t,l,"setElt:i"));var i=this.q;(0>t||t>=i.length)&&Uh.ka(t,"0 <= i < length",l,"setElt:i"),Uh.N(this,t),i[t]=e},l.prototype.first=l.prototype.first=function(){var t=this.q;return 0===t.length?null:t[0]},l.prototype.last=l.prototype.Od=function(){var t=this.q,e=t.length;return e>0?t[e-1]:null},l.prototype.pop=l.prototype.pop=function(){Uh.N(this);var t=this.q;return 0<t.length?t.pop():null},l.prototype.any=function(t){for(var e=this.q,i=this.W,n=e.length,o=0;n>o;o++){if(t(e[o]))return!0;this.W!==i&&Uh.Qb(this)}return!1},l.prototype.all=function(t){for(var e=this.q,i=this.W,n=e.length,o=0;n>o;o++){if(!t(e[o]))return!1;this.W!==i&&Uh.Qb(this)}return!0},l.prototype.each=function(t){for(var e=this.q,i=this.W,n=e.length,o=0;n>o;o++)t(e[o]),this.W!==i&&Uh.Qb(this)},l.prototype.insertAt=l.prototype.be=function(t,e){Vh&&(this.Pg(e),Uh.p(t,l,"insertAt:i")),0>t&&Uh.ka(t,">= 0",l,"insertAt:i"),Uh.N(this,t);var i=this.q;return t>=i.length?i.push(e):i.splice(t,0,e),this.Vd(),!0},l.prototype.remove=l.prototype["delete"]=l.prototype.remove=function(t){if(null===t)return!1;Vh&&this.Pg(t),Uh.N(this,t);var e=this.q;return t=e.indexOf(t),-1===t?!1:(t===e.length-1?e.pop():e.splice(t,1),this.Vd(),!0)},l.prototype.removeAt=l.prototype.md=function(t){Vh&&Uh.p(t,l,"removeAt:i");var e=this.q;(0>t||t>=e.length)&&Uh.ka(t,"0 <= i < length",l,"removeAt:i"),Uh.N(this,t),t===e.length-1?e.pop():e.splice(t,1),this.Vd()},l.prototype.removeRange=l.prototype.removeRange=function(t,e){Vh&&(Uh.p(t,l,"removeRange:from"),Uh.p(e,l,"removeRange:to"));var i=this.q;(0>t||t>=i.length)&&Uh.ka(t,"0 <= from < length",l,"elt:from"),(0>e||e>=i.length)&&Uh.ka(e,"0 <= to < length",l,"elt:to"),Uh.N(this,t);var n=i.slice((e||t)+1||i.length);i.length=0>t?i.length+t:t,i.push.apply(i,n),this.Vd()},l.prototype.copy=function(){for(var t=new l(this.ha),e=this.q,i=this.count,n=0;i>n;n++)t.add(e[n]);return t},l.prototype.toArray=l.prototype.Ue=function(){for(var t=this.q,e=this.count,i=Array(e),n=0;e>n;n++)i[n]=t[n];return i},l.prototype.toSet=function(){for(var t=new c(this.ha),e=this.q,i=this.count,n=0;i>n;n++)t.add(e[n]);return t},l.prototype.sort=l.prototype.sort=function(t){return Vh&&Uh.i(t,"function",l,"sort:sortfunc"),Uh.N(this),this.q.sort(t),this.Vd(),this},l.prototype.sortRange=l.prototype.Tp=function(t,e,i){var n=this.q,o=n.length;void 0===e&&(e=0),void 0===i&&(i=o),Vh&&(Uh.i(t,"function",l,"sortRange:sortfunc"),Uh.p(e,l,"sortRange:from"),Uh.p(i,l,"sortRange:to")),Uh.N(this);var r=i-e;if(1>=r)return this;if((0>e||e>=o-1)&&Uh.ka(e,"0 <= from < length",l,"sortRange:from"),2===r)return i=n[e],o=n[e+1],0<t(i,o)&&(n[e]=o,n[e+1]=i,this.Vd()),this;if(0===e)if(i>=o)n.sort(t);else for(r=n.slice(0,i),r.sort(t),t=0;i>t;t++)n[t]=r[t];else if(i>=o)for(r=n.slice(e),r.sort(t),t=e;o>t;t++)n[t]=r[t-e];else for(r=n.slice(e,i),r.sort(t),t=e;i>t;t++)n[t]=r[t-e];return this.Vd(),this},l.prototype.reverse=l.prototype.reverse=function(){return Uh.N(this),this.q.reverse(),this.Vd(),this},Uh.A(l,{count:"count"},function(){return this.q.length}),Uh.A(l,{size:"size"},function(){return this.q.length}),Uh.A(l,{length:"length"},function(){return this.q.length}),Uh.A(l,{k:"iterator"},function(){if(0>=this.q.length)return Yh;var t=this.Dd;return null!==t?(t.reset(),t):new a(this)}),Uh.A(l,{Zm:"iteratorBackwards"},function(){if(0>=this.q.length)return Yh;var t=this.eo;return null!==t?(t.reset(),t):new h(this)}),Uh.ae(u,{key:!0,value:!0}),Uh.A(u,{k:"iterator"},function(){return this}),u.prototype.reset=u.prototype.reset=function(){var t=this.Yk;t.Dd=null,this.bb=t.W,this.Gb=null},u.prototype.next=u.prototype.hasNext=u.prototype.next=function(){var t=this.Yk;t.W!==this.bb&&Uh.Qb(t);var e=this.Gb,e=null===e?t.gb:e.Vb;return null!==e?(this.Gb=e,this.value=e.value,this.key=e.key,!0):(this.dg(),!1)},u.prototype.first=u.prototype.first=function(){var t=this.Yk;if(this.bb=t.W,t=t.gb,null!==t){this.Gb=t;var e=t.value;return this.key=t.key,this.value=e}return null},u.prototype.any=function(t){var e=this.Yk;e.Dd=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(t(n.value))return!0;e.W!==i&&Uh.Qb(e),n=n.Vb}return!1},u.prototype.all=function(t){var e=this.Yk;e.Dd=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(!t(n.value))return!1;e.W!==i&&Uh.Qb(e),n=n.Vb}return!0},u.prototype.each=function(t){var e=this.Yk;e.Dd=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;)t(n.value),e.W!==i&&Uh.Qb(e),n=n.Vb},Uh.A(u,{count:"count"},function(){return this.Yk.cd}),u.prototype.dg=function(){this.value=this.key=null,this.bb=-1,this.Yk.Dd=this},u.prototype.toString=function(){return null!==this.Gb?"SetIterator@"+this.Gb.value:"SetIterator"},Uh.ja("Set",c),c.prototype.Pg=function(t){null!==this.ha&&("string"==typeof this.ha?typeof t===this.ha&&null!==t||Uh.sc(t,this.ha):t instanceof this.ha||Uh.sc(t,this.ha))},c.prototype.Vd=function(){var t=this.W;t++,t>999999999&&(t=0),this.W=t},c.prototype.freeze=c.prototype.freeze=function(){return this.Qa=!0,this},c.prototype.thaw=c.prototype.Na=function(){return this.Qa=!1,this},c.prototype.toString=function(){return"Set("+Uh.getTypeName(this.ha)+")#"+Uh.Yc(this)},c.prototype.add=c.prototype.add=function(t){if(null===t)return!1;Vh&&this.Pg(t),Uh.N(this,t);var e=t;return Uh.Xa(t)&&(e=Uh.tt(t)),void 0===this.dd[e]?(this.cd++,t=new g(t,t),this.dd[e]=t,e=this.Ch,null===e?this.gb=t:(t.oo=e,e.Vb=t),this.Ch=t,this.Vd(),!0):!1},c.prototype.addAll=c.prototype.Ce=function(t){if(null===t)return this;if(Uh.N(this),Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++)this.add(Uh.jb(t,i));else for(t=t.k;t.next();)this.add(t.value);return this},c.prototype.contains=c.prototype.has=c.prototype.contains=function(t){if(null===t)return!1;Vh&&this.Pg(t);var e=t;return Uh.Xa(t)&&(e=Uh.Yc(t),void 0===e)?!1:void 0!==this.dd[e]},c.prototype.containsAll=function(t){if(null===t)return!0;for(t=t.k;t.next();)if(!this.contains(t.value))return!1;return!0},c.prototype.containsAny=function(t){if(null===t)return!0;for(t=t.k;t.next();)if(this.contains(t.value))return!0;return!1},c.prototype.first=c.prototype.first=function(){var t=this.gb;return null===t?null:t.value},c.prototype.any=function(t){for(var e=this.W,i=this.gb;null!==i;){if(t(i.value))return!0;this.W!==e&&Uh.Qb(this),i=i.Vb}return!1},c.prototype.all=function(t){for(var e=this.W,i=this.gb;null!==i;){if(!t(i.value))return!1;this.W!==e&&Uh.Qb(this),i=i.Vb}return!0},c.prototype.each=function(t){for(var e=this.W,i=this.gb;null!==i;)t(i.value),this.W!==e&&Uh.Qb(this),i=i.Vb},c.prototype.remove=c.prototype["delete"]=c.prototype.remove=function(t){if(null===t)return!1;Vh&&this.Pg(t),Uh.N(this,t);var e=t;if(Uh.Xa(t)&&(e=Uh.Yc(t),void 0===e))return!1;if(t=this.dd[e],void 0===t)return!1;var i=t.Vb,n=t.oo;return null!==i&&(i.oo=n),null!==n&&(n.Vb=i),this.gb===t&&(this.gb=i),this.Ch===t&&(this.Ch=n),delete this.dd[e],this.cd--,this.Vd(),!0},c.prototype.removeAll=c.prototype.UF=function(t){if(null===t)return this;if(Uh.N(this),Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++)this.remove(Uh.jb(t,i));else for(t=t.k;t.next();)this.remove(t.value);return this},c.prototype.retainAll=function(t){if(null===t||0===this.count)return this;Uh.N(this);var e=new c(this.ha);e.Ce(t),t=new l(this.ha);for(var i=this.k;i.next();)e.contains(i.value)||t.add(i.value);for(e=t.k;e.next();)this.remove(e.value);return this},c.prototype.clear=c.prototype.clear=function(){Uh.N(this),this.dd={},this.cd=0,this.Ch=this.gb=null,this.Vd()},c.prototype.copy=function(){var t,e=new c(this.ha),i=this.dd;for(t in i)e.add(i[t].value);return e},c.prototype.toArray=c.prototype.Ue=function(){var t,e=Array(this.cd),i=this.dd,n=0;for(t in i)e[n]=i[t].value,n++;return e},c.prototype.toList=function(){var t,e=new l(this.ha),i=this.dd;for(t in i)e.add(i[t].value);return e},Uh.A(c,{count:"count"},function(){return this.cd}),Uh.A(c,{size:"size"},function(){return this.cd}),Uh.A(c,{k:"iterator"},function(){if(0>=this.cd)return Yh;var t=this.Dd;return null!==t?(t.reset(),t):new u(this)}),Uh.ae(f,{key:!0,value:!0}),Uh.A(f,{k:"iterator"},function(){return this}),f.prototype.reset=f.prototype.reset=function(){this.bb=this.ab.W,this.Gb=null},f.prototype.next=f.prototype.hasNext=f.prototype.next=function(){var t=this.ab;t.W!==this.bb&&Uh.Qb(t);var e=this.Gb,e=null===e?t.gb:e.Vb;return null!==e?(this.Gb=e,this.value=this.key=t=e.key,!0):(this.dg(),!1)},f.prototype.first=f.prototype.first=function(){var t=this.ab;return this.bb=t.W,t=t.gb,null!==t?(this.Gb=t,this.value=this.key=t=t.key):null},f.prototype.any=function(t){var e=this.ab,i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(t(n.key))return!0;e.W!==i&&Uh.Qb(e),n=n.Vb}return!1},f.prototype.all=function(t){var e=this.ab,i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(!t(n.key))return!1;e.W!==i&&Uh.Qb(e),n=n.Vb}return!0},f.prototype.each=function(t){var e=this.ab,i=e.W;this.Gb=null;for(var n=e.gb;null!==n;)t(n.key),e.W!==i&&Uh.Qb(e),n=n.Vb},Uh.A(f,{count:"count"},function(){return this.ab.cd}),f.prototype.dg=function(){this.value=this.key=null,this.bb=-1},f.prototype.toString=function(){return null!==this.Gb?"MapKeySetIterator@"+this.Gb.value:"MapKeySetIterator"},Uh.Ia(d,c),d.prototype.freeze=function(){return this},d.prototype.Na=function(){return this},d.prototype.toString=function(){return"MapKeySet("+this.ab.toString()+")"},d.prototype.add=d.prototype.set=d.prototype.add=function(){return Uh.m("This Set is read-only: "+this.toString()),!1},d.prototype.contains=d.prototype.has=d.prototype.contains=function(t){return this.ab.contains(t)},d.prototype.remove=d.prototype["delete"]=d.prototype.remove=function(){return Uh.m("This Set is read-only: "+this.toString()),!1},d.prototype.clear=d.prototype.clear=function(){Uh.m("This Set is read-only: "+this.toString())},d.prototype.first=d.prototype.first=function(){var t=this.ab.gb;return null!==t?t.key:null},d.prototype.any=function(t){for(var e=this.ab.gb;null!==e;){if(t(e.key))return!0;e=e.Vb}return!1},d.prototype.all=function(t){for(var e=this.ab.gb;null!==e;){if(!t(e.key))return!1;e=e.Vb}return!0},d.prototype.each=function(t){for(var e=this.ab.gb;null!==e;)t(e.key),e=e.Vb},d.prototype.copy=function(){return new d(this.ab)},d.prototype.toSet=function(){var t,e=new c(this.ab.Bh),i=this.ab.dd;for(t in i)e.add(i[t].key);return e},d.prototype.toArray=d.prototype.Ue=function(){var t,e=this.ab.dd,i=Array(this.ab.cd),n=0;for(t in e)i[n]=e[t].key,n++;return i},d.prototype.toList=function(){var t,e=new l(this.ha),i=this.ab.dd;for(t in i)e.add(i[t].key);return e},Uh.A(d,{count:"count"},function(){return this.ab.cd}),Uh.A(d,{size:"size"},function(){return this.ab.cd}),Uh.A(d,{k:"iterator"},function(){return 0>=this.ab.cd?Yh:new f(this.ab)}),Uh.ae(p,{key:!0,value:!0}),Uh.A(p,{k:"iterator"},function(){return this}),p.prototype.reset=p.prototype.reset=function(){var t=this.ab;t.fo=null,this.bb=t.W,this.Gb=null},p.prototype.next=p.prototype.hasNext=p.prototype.next=function(){var t=this.ab;t.W!==this.bb&&Uh.Qb(t);var e=this.Gb,e=null===e?t.gb:e.Vb;return null!==e?(this.Gb=e,this.value=e.value,this.key=e.key,!0):(this.dg(),!1)},p.prototype.first=p.prototype.first=function(){var t=this.ab;if(this.bb=t.W,t=t.gb,null!==t){this.Gb=t;var e=t.value;return this.key=t.key,this.value=e}return null},p.prototype.any=function(t){var e=this.ab;e.fo=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(t(n.value))return!0;e.W!==i&&Uh.Qb(e),n=n.Vb}return!1},p.prototype.all=function(t){var e=this.ab;e.fo=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(!t(n.value))return!1;e.W!==i&&Uh.Qb(e),n=n.Vb}return!0},p.prototype.each=function(t){var e=this.ab;e.fo=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;)t(n.value),e.W!==i&&Uh.Qb(e),n=n.Vb},Uh.A(p,{count:"count"},function(){return this.ab.cd}),p.prototype.dg=function(){this.value=this.key=null,this.bb=-1,this.ab.fo=this},p.prototype.toString=function(){return null!==this.Gb?"MapValueSetIterator@"+this.Gb.value:"MapValueSetIterator"},Uh.ae(g,{key:!0,value:!0}),g.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},Uh.ae(m,{key:!0,value:!0}),Uh.A(m,{k:"iterator"},function(){return this}),m.prototype.reset=m.prototype.reset=function(){var t=this.ab;t.Dd=null,this.bb=t.W,this.Gb=null},m.prototype.next=m.prototype.hasNext=m.prototype.next=function(){var t=this.ab;t.W!==this.bb&&Uh.Qb(t);var e=this.Gb,e=null===e?t.gb:e.Vb;return null!==e?(this.Gb=e,this.key=e.key,this.value=e.value,!0):(this.dg(),!1)},m.prototype.first=m.prototype.first=function(){var t=this.ab;return this.bb=t.W,t=t.gb,null!==t?(this.Gb=t,this.key=t.key,this.value=t.value,t):null},m.prototype.any=function(t){var e=this.ab;e.Dd=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(t(n))return!0;e.W!==i&&Uh.Qb(e),n=n.Vb}return!1},m.prototype.all=function(t){var e=this.ab;e.Dd=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;){if(!t(n))return!1;e.W!==i&&Uh.Qb(e),n=n.Vb}return!0},m.prototype.each=function(t){var e=this.ab;e.Dd=null;var i=e.W;this.Gb=null;for(var n=e.gb;null!==n;)t(n),e.W!==i&&Uh.Qb(e),n=n.Vb},Uh.A(m,{count:"count"},function(){return this.ab.cd}),m.prototype.dg=function(){this.value=this.key=null,this.bb=-1,this.ab.Dd=this},m.prototype.toString=function(){return null!==this.Gb?"MapIterator@"+this.Gb:"MapIterator"},Uh.ja("Map",v),v.prototype.Vd=function(){var t=this.W;t++,t>999999999&&(t=0),this.W=t},v.prototype.freeze=v.prototype.freeze=function(){return this.Qa=!0,this},v.prototype.thaw=v.prototype.Na=function(){return this.Qa=!1,this},v.prototype.toString=function(){return"Map("+Uh.getTypeName(this.Bh)+","+Uh.getTypeName(this.Ei)+")#"+Uh.Yc(this)},v.prototype.add=v.prototype.set=v.prototype.add=function(t,e){Vh&&(y(this,t),null!==this.Ei&&("string"==typeof this.Ei?typeof e===this.Ei&&null!==e||Uh.sc(e,this.Ei):e instanceof this.Ei||Uh.sc(e,this.Ei))),Uh.N(this,t);var i=t;Uh.Xa(t)&&(i=Uh.tt(t));var n=this.dd[i];return void 0===n?(this.cd++,n=new g(t,e),this.dd[i]=n,i=this.Ch,null===i?this.gb=n:(n.oo=i,i.Vb=n),this.Ch=n,this.Vd(),!0):(n.value=e,!1)},v.prototype.addAll=v.prototype.Ce=function(t){if(null===t)return this;if(Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++){var n=Uh.jb(t,i);this.add(n.key,n.value)}else for(Vh&&Uh.l(t,v,v,"addAll:map"),t=t.k;t.next();)this.add(t.key,t.value);return this},v.prototype.first=v.prototype.first=function(){return this.gb},v.prototype.any=function(t){for(var e=this.W,i=this.gb;null!==i;){if(t(i))return!0;this.W!==e&&Uh.Qb(this),i=i.Vb}return!1},v.prototype.all=function(t){for(var e=this.W,i=this.gb;null!==i;){if(!t(i))return!1;this.W!==e&&Uh.Qb(this),i=i.Vb}return!0},v.prototype.each=function(t){for(var e=this.W,i=this.gb;null!==i;)t(i),this.W!==e&&Uh.Qb(this),i=i.Vb},v.prototype.contains=v.prototype.has=v.prototype.contains=function(t){Vh&&y(this,t);var e=t;return Uh.Xa(t)&&(e=Uh.Yc(t),void 0===e)?!1:void 0!==this.dd[e]},v.prototype.getValue=v.prototype.get=v.prototype.Aa=function(t){Vh&&y(this,t);var e=t;return Uh.Xa(t)&&(e=Uh.Yc(t),void 0===e)?null:(t=this.dd[e],void 0===t?null:t.value)},v.prototype.remove=v.prototype["delete"]=v.prototype.remove=function(t){if(null===t)return!1;Vh&&y(this,t),Uh.N(this,t);var e=t;if(Uh.Xa(t)&&(e=Uh.Yc(t),void 0===e))return!1;if(t=this.dd[e],void 0===t)return!1;var i=t.Vb,n=t.oo;return null!==i&&(i.oo=n),null!==n&&(n.Vb=i),this.gb===t&&(this.gb=i),this.Ch===t&&(this.Ch=n),delete this.dd[e],this.cd--,this.Vd(),!0},v.prototype.clear=v.prototype.clear=function(){Uh.N(this),this.dd={},this.cd=0,this.Ch=this.gb=null,this.Vd()},v.prototype.copy=function(){var t,e=new v(this.Bh,this.Ei),i=this.dd;for(t in i){var n=i[t];e.add(n.key,n.value)}return e},v.prototype.toArray=v.prototype.Ue=function(){var t,e=this.dd,i=Array(this.cd),n=0;for(t in e){var o=e[t];i[n]=new g(o.key,o.value),n++}return i},v.prototype.toKeySet=v.prototype.Yi=function(){return new d(this)},Uh.A(v,{count:"count"},function(){return this.cd}),Uh.A(v,{size:"size"},function(){return this.cd}),Uh.A(v,{k:"iterator"},function(){if(0>=this.count)return Yh;var t=this.Dd;return null!==t?(t.reset(),t):new m(this)}),Uh.A(v,{DK:"iteratorKeys"},function(){return 0>=this.count?Yh:new f(this)}),Uh.A(v,{pF:"iteratorValues"},function(){if(0>=this.count)return Yh;var t=this.fo;return null!==t?(t.reset(),t):new p(this)}),Uh.ja("Point",b),Uh.Ph(b),Uh.ae(b,{x:!0,y:!0}),b.prototype.assign=function(t){this.x=t.x,this.y=t.y},b.prototype.setTo=b.prototype.o=function(t,e){return Vh&&(Uh.i(t,"number",b,"setTo:x"),Uh.i(e,"number",b,"setTo:y")),this.x=t,this.y=e,this},b.prototype.set=b.prototype.set=function(t){return Vh&&Uh.l(t,b,b,"set:p"),Uh.N(this),this.x=t.x,this.y=t.y,this},b.prototype.copy=function(){var t=new b;return t.x=this.x,t.y=this.y,t},b.prototype.Ma=function(){return this.Qa=!0,Object.freeze(this),this},b.prototype.ba=function(){return Object.isFrozen(this)?this:this.copy().freeze()},b.prototype.freeze=function(){return this.Qa=!0,this},b.prototype.Na=function(){return Object.isFrozen(this)&&Uh.m("cannot thaw constant: "+this),this.Qa=!1,this},b.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;return(n=t[e++])&&(o=parseFloat(n)),new b(i,o)}return new b},b.stringify=function(t){return t instanceof b?t.x.toString()+" "+t.y.toString():t.toString()},b.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},b.prototype.equals=b.prototype.L=function(t){return t instanceof b?this.x===t.x&&this.y===t.y:!1},b.prototype.equalTo=b.prototype.Dw=function(t,e){return this.x===t&&this.y===e},b.prototype.equalsApprox=b.prototype.Ne=function(t){return Bl.I(this.x,t.x)&&Bl.I(this.y,t.y)},b.prototype.add=b.prototype.add=function(t){return Vh&&Uh.l(t,b,b,"add:p"),Uh.N(this),this.x+=t.x,this.y+=t.y,this},b.prototype.subtract=b.prototype.eu=function(t){return Vh&&Uh.l(t,b,b,"subtract:p"),Uh.N(this),this.x-=t.x,this.y-=t.y,this},b.prototype.offset=b.prototype.offset=function(t,e){return Vh&&(Uh.p(t,b,"offset:dx"),Uh.p(e,b,"offset:dy")),Uh.N(this),this.x+=t,this.y+=e,this},b.prototype.rotate=b.prototype.rotate=function(t){if(Vh&&Uh.p(t,b,"rotate:angle"),Uh.N(this),0===t)return this;var e=this.x,i=this.y;if(0===e&&0===i)return this;var n=0,o=0;return 90===t?(n=0,o=1):180===t?(n=-1,o=0):270===t?(n=0,o=-1):(t=t*Math.PI/180,n=Math.cos(t),o=Math.sin(t)),this.x=n*e-o*i,this.y=o*e+n*i,this},b.prototype.scale=b.prototype.scale=function(t,e){return Vh&&(Uh.p(t,b,"scale:sx"),Uh.p(e,b,"scale:sy")),this.x*=t,this.y*=e,this},b.prototype.distanceSquaredPoint=b.prototype.Zj=function(t){Vh&&Uh.l(t,b,b,"distanceSquaredPoint:p");var e=t.x-this.x;return t=t.y-this.y,e*e+t*t},b.prototype.distanceSquared=b.prototype.jt=function(t,e){Vh&&(Uh.p(t,b,"distanceSquared:px"),Uh.p(e,b,"distanceSquared:py"));var i=t-this.x,n=e-this.y;return i*i+n*n},b.prototype.normalize=b.prototype.normalize=function(){Uh.N(this);var t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);return i>0&&(this.x=t/i,this.y=e/i),this},b.prototype.directionPoint=b.prototype.Pi=function(t){return Vh&&Uh.l(t,b,b,"directionPoint:p"),w(t.x-this.x,t.y-this.y)},b.prototype.direction=b.prototype.direction=function(t,e){return Vh&&(Uh.p(t,b,"direction:px"),Uh.p(e,b,"direction:py")),w(t-this.x,e-this.y)},b.prototype.projectOntoLineSegment=function(t,e,i,n){return Vh&&(Uh.p(t,b,"projectOntoLineSegment:px"),Uh.p(e,b,"projectOntoLineSegment:py"),Uh.p(i,b,"projectOntoLineSegment:qx"),Uh.p(n,b,"projectOntoLineSegment:qy")),Bl.cn(t,e,i,n,this.x,this.y,this),this},b.prototype.projectOntoLineSegmentPoint=function(t,e){return Vh&&(Uh.l(t,b,b,"projectOntoLineSegmentPoint:p"),Uh.l(e,b,b,"projectOntoLineSegmentPoint:q")),Bl.cn(t.x,t.y,e.x,e.y,this.x,this.y,this),this},b.prototype.snapToGrid=function(t,e,i,n){return Vh&&(Uh.p(t,b,"snapToGrid:originx"),Uh.p(e,b,"snapToGrid:originy"),Uh.p(i,b,"snapToGrid:cellwidth"),Uh.p(n,b,"snapToGrid:cellheight")),Bl.nt(this.x,this.y,t,e,i,n,this),this},b.prototype.snapToGridPoint=function(t,e){return Vh&&(Uh.l(t,b,b,"snapToGridPoint:p"),Uh.l(e,C,b,"snapToGridPoint:q")),Bl.nt(this.x,this.y,t.x,t.y,e.width,e.height,this),this},b.prototype.setRectSpot=b.prototype.bu=function(t,e){return Vh&&(Uh.l(t,k,b,"setRectSpot:r"),Uh.l(e,P,b,"setRectSpot:spot")),Uh.N(this),this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},b.prototype.setSpot=b.prototype.cu=function(t,e,i,n,o){return Vh&&(Uh.p(t,b,"setSpot:x"),Uh.p(e,b,"setSpot:y"),Uh.p(i,b,"setSpot:w"),Uh.p(n,b,"setSpot:h"),(0>i||0>n)&&Uh.m("Point.setSpot:Width and height cannot be negative"),Uh.l(o,P,b,"setSpot:spot")),Uh.N(this),this.x=t+o.x*i+o.offsetX,this.y=e+o.y*n+o.offsetY,this},b.prototype.transform=function(t){return Vh&&Uh.l(t,D,b,"transform:t"),t.fb(this),this};var Jh;b.distanceLineSegmentSquared=Jh=function(t,e,i,n,o,r){Vh&&(Uh.p(t,b,"distanceLineSegmentSquared:px"),Uh.p(e,b,"distanceLineSegmentSquared:py"),Uh.p(i,b,"distanceLineSegmentSquared:ax"),Uh.p(n,b,"distanceLineSegmentSquared:ay"),Uh.p(o,b,"distanceLineSegmentSquared:bx"),Uh.p(r,b,"distanceLineSegmentSquared:by"));var s=o-i,a=r-n,h=s*s+a*a;i-=t,n-=e;var l=-i*s-n*a;return 0>=l||l>=h?(s=o-t,a=r-e,Math.min(i*i+n*n,s*s+a*a)):(t=s*n-a*i,t*t/h)};var Xh;b.distanceSquared=Xh=function(t,e,i,n){return Vh&&(Uh.p(t,b,"distanceSquared:px"),Uh.p(e,b,"distanceSquared:py"),Uh.p(i,b,"distanceSquared:qx"),Uh.p(n,b,"distanceSquared:qy")),t=i-t,e=n-e,t*t+e*e};var Qh;b.direction=Qh=function(t,e,i,n){return Vh&&(Uh.p(t,b,"direction:px"),Uh.p(e,b,"direction:py"),Uh.p(i,b,"direction:qx"),Uh.p(n,b,"direction:qy")),t=i-t,e=n-e,0===t?e>0?90:0>e?270:0:0===e?t>0?0:180:isNaN(t)||isNaN(e)?0:(n=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?n=0>e?n+180:180-n:0>e&&(n=360-n),n)},b.prototype.isReal=b.prototype.J=function(){return isFinite(this.x)&&isFinite(this.y)},Uh.ja("Size",C),Uh.Ph(C),Uh.ae(C,{width:!0,height:!0}),C.prototype.assign=function(t){this.width=t.width,this.height=t.height},C.prototype.setTo=C.prototype.o=function(t,e){return Vh&&(Uh.i(t,"number",C,"setTo:w"),Uh.i(e,"number",C,"setTo:h"),0>t&&Uh.ka(t,">= 0",C,"setTo:w"),0>e&&Uh.ka(e,">= 0",C,"setTo:h")),this.width=t,this.height=e,this},C.prototype.set=C.prototype.set=function(t){return Vh&&Uh.l(t,C,C,"set:s"),Uh.N(this),this.width=t.width,this.height=t.height,this},C.prototype.copy=function(){var t=new C;return t.width=this.width,t.height=this.height,t},C.prototype.Ma=function(){return this.Qa=!0,Object.freeze(this),this},C.prototype.ba=function(){return Object.isFrozen(this)?this:this.copy().freeze()},C.prototype.freeze=function(){return this.Qa=!0,this},C.prototype.Na=function(){return Object.isFrozen(this)&&Uh.m("cannot thaw constant: "+this),this.Qa=!1,this},C.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;return(n=t[e++])&&(o=parseFloat(n)),new C(i,o)}return new C},C.stringify=function(t){return t instanceof C?t.width.toString()+" "+t.height.toString():t.toString()},C.prototype.toString=function(){return"Size("+this.width+","+this.height+")"},C.prototype.equals=C.prototype.L=function(t){return t instanceof C?this.width===t.width&&this.height===t.height:!1},C.prototype.equalTo=C.prototype.Dw=function(t,e){return this.width===t&&this.height===e},C.prototype.equalsApprox=C.prototype.Ne=function(t){return Bl.I(this.width,t.width)&&Bl.I(this.height,t.height)},C.prototype.isReal=C.prototype.J=function(){return isFinite(this.width)&&isFinite(this.height)},Uh.ja("Rect",k),Uh.Ph(k),Uh.ae(k,{x:!0,y:!0,width:!0,height:!0}),k.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},k.prototype.setTo=k.prototype.o=function(t,e,i,n){return Vh&&(Uh.i(t,"number",k,"setTo:x"),Uh.i(e,"number",k,"setTo:y"),Uh.i(i,"number",k,"setTo:w"),Uh.i(n,"number",k,"setTo:h"),0>i&&Uh.ka(i,">= 0",k,"setTo:w"),0>n&&Uh.ka(n,">= 0",k,"setTo:h")),this.x=t,this.y=e,this.width=i,this.height=n,this},k.prototype.set=k.prototype.set=function(t){return Vh&&Uh.l(t,k,k,"set:r"),Uh.N(this),this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},k.prototype.setPoint=k.prototype.Ff=function(t){return Vh&&Uh.l(t,b,k,"setPoint:p"),Uh.N(this),this.x=t.x,this.y=t.y,this},k.prototype.setSize=function(t){return Vh&&Uh.l(t,C,k,"setSize:s"),Uh.N(this),this.width=t.width,this.height=t.height,this},k.prototype.copy=function(){var t=new k;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},k.prototype.Ma=function(){return this.Qa=!0,Object.freeze(this),this},k.prototype.ba=function(){return Object.isFrozen(this)?this:this.copy().freeze()},k.prototype.freeze=function(){return this.Qa=!0,this},k.prototype.Na=function(){return Object.isFrozen(this)&&Uh.m("cannot thaw constant: "+this),this.Qa=!1,this},k.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];n&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;(n=t[e++])&&(o=parseFloat(n));for(var r=0;""===t[e];)e++;(n=t[e++])&&(r=parseFloat(n));for(var s=0;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),new k(i,o,r,s)}return new k},k.stringify=function(t){return t instanceof k?t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString():t.toString()},k.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},k.prototype.equals=k.prototype.L=function(t){return t instanceof k?this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height:!1},k.prototype.equalTo=k.prototype.Dw=function(t,e,i,n){return this.x===t&&this.y===e&&this.width===i&&this.height===n},k.prototype.equalsApprox=k.prototype.Ne=function(t){return Bl.I(this.x,t.x)&&Bl.I(this.y,t.y)&&Bl.I(this.width,t.width)&&Bl.I(this.height,t.height);
},k.prototype.containsPoint=k.prototype.Da=function(t){return Vh&&Uh.l(t,b,k,"containsPoint:p"),this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},k.prototype.containsRect=k.prototype.Vj=function(t){return Vh&&Uh.l(t,k,k,"containsRect:r"),this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},k.prototype.contains=k.prototype.contains=function(t,e,i,n){return Vh?(Uh.p(t,k,"contains:x"),Uh.p(e,k,"contains:y"),void 0===i?i=0:Uh.p(i,k,"contains:w"),void 0===n?n=0:Uh.p(n,k,"contains:h"),(0>i||0>n)&&Uh.m("Rect.contains:Width and height cannot be negative")):(void 0===i&&(i=0),void 0===n&&(n=0)),this.x<=t&&t+i<=this.x+this.width&&this.y<=e&&e+n<=this.y+this.height},k.prototype.reset=function(){Uh.N(this),this.height=this.width=this.y=this.x=0},k.prototype.offset=k.prototype.offset=function(t,e){return Vh&&(Uh.p(t,k,"offset:dx"),Uh.p(e,k,"offset:dy")),Uh.N(this),this.x+=t,this.y+=e,this},k.prototype.inflate=k.prototype.Sf=function(t,e){return Vh&&(Uh.p(t,k,"inflate:w"),Uh.p(e,k,"inflate:h")),S(this,e,t,e,t)},k.prototype.addMargin=k.prototype.ew=function(t){return Vh&&Uh.l(t,M,k,"addMargin:m"),S(this,t.top,t.right,t.bottom,t.left)},k.prototype.subtractMargin=k.prototype.$J=function(t){return Vh&&Uh.l(t,M,k,"subtractMargin:m"),S(this,-t.top,-t.right,-t.bottom,-t.left)},k.prototype.grow=function(t,e,i,n){return Vh&&(Uh.p(t,k,"grow:t"),Uh.p(e,k,"grow:r"),Uh.p(i,k,"grow:b"),Uh.p(n,k,"grow:l")),S(this,t,e,i,n)},k.prototype.intersectRect=function(t){return Vh&&Uh.l(t,k,k,"intersectRect:r"),F(this,t.x,t.y,t.width,t.height)},k.prototype.intersect=function(t,e,i,n){return Vh&&(Uh.p(t,k,"intersect:x"),Uh.p(e,k,"intersect:y"),Uh.p(i,k,"intersect:w"),Uh.p(n,k,"intersect:h"),(0>i||0>n)&&Uh.m("Rect.intersect:Width and height cannot be negative")),F(this,t,e,i,n)},k.prototype.intersectsRect=k.prototype.zg=function(t){return Vh&&Uh.l(t,k,k,"intersectsRect:r"),this.eF(t.x,t.y,t.width,t.height)},k.prototype.intersects=k.prototype.eF=function(t,e,i,n){Vh&&(Uh.p(t,k,"intersects:x"),Uh.p(e,k,"intersects:y"),Uh.p(t,k,"intersects:w"),Uh.p(e,k,"intersects:h"),(0>i||0>n)&&Uh.m("Rect.intersects:Width and height cannot be negative"));var o=this.width,r=this.x;return 1/0!==o&&1/0!==i&&(o+=r,i+=t,isNaN(i)||isNaN(o)||r>i||t>o)?!1:(t=this.height,i=this.y,1/0!==t&&1/0!==n&&(t+=i,n+=e,isNaN(n)||isNaN(t)||i>n||e>t)?!1:!0)},k.prototype.unionPoint=k.prototype.Zi=function(t){return Vh&&Uh.l(t,b,k,"unionPoint:p"),T(this,t.x,t.y,0,0)},k.prototype.unionRect=k.prototype.$h=function(t){return Vh&&Uh.l(t,k,k,"unionRect:r"),T(this,t.x,t.y,t.width,t.height)},k.prototype.union=k.prototype.VG=function(t,e,i,n){return Uh.N(this),Vh?(Uh.p(t,k,"union:x"),Uh.p(e,k,"union:y"),void 0===i?i=0:Uh.p(i,k,"union:w"),void 0===n?n=0:Uh.p(n,k,"union:h"),(0>i||0>n)&&Uh.m("Rect.union:Width and height cannot be negative")):(void 0===i&&(i=0),void 0===n&&(n=0)),T(this,t,e,i,n)},k.prototype.setSpot=k.prototype.cu=function(t,e,i){return Vh&&(Uh.p(t,k,"setSpot:x"),Uh.p(e,k,"setSpot:y"),Uh.l(i,P,k,"setSpot:spot")),Uh.N(this),this.x=t-i.offsetX-i.x*this.width,this.y=e-i.offsetY-i.y*this.height,this};var Zh;k.contains=Zh=function(t,e,i,n,o,r,s,a){return Vh?(Uh.p(t,k,"contains:rx"),Uh.p(e,k,"contains:ry"),Uh.p(i,k,"contains:rw"),Uh.p(n,k,"contains:rh"),Uh.p(o,k,"contains:x"),Uh.p(r,k,"contains:y"),void 0===s?s=0:Uh.p(s,k,"contains:w"),void 0===a?a=0:Uh.p(a,k,"contains:h"),(0>i||0>n||0>s||0>a)&&Uh.m("Rect.contains:Width and height cannot be negative")):(void 0===s&&(s=0),void 0===a&&(a=0)),o>=t&&t+i>=o+s&&r>=e&&e+n>=r+a},k.intersects=function(t,e,i,n,o,r,s,a){return Vh&&(Uh.p(t,k,"intersects:rx"),Uh.p(e,k,"intersects:ry"),Uh.p(i,k,"intersects:rw"),Uh.p(n,k,"intersects:rh"),Uh.p(o,k,"intersects:x"),Uh.p(r,k,"intersects:y"),Uh.p(s,k,"intersects:w"),Uh.p(a,k,"intersects:h"),(0>i||0>n||0>s||0>a)&&Uh.m("Rect.intersects:Width and height cannot be negative")),i+=t,s+=o,t>s||o>i?!1:(t=n+e,a+=r,e>a||r>t?!1:!0)},Uh.g(k,"left",k.prototype.left),Uh.defineProperty(k,{left:"left"},function(){return this.x},function(t){Uh.N(this,t),Vh&&Uh.i(t,"number",k,"left"),this.x=t}),Uh.g(k,"top",k.prototype.top),Uh.defineProperty(k,{top:"top"},function(){return this.y},function(t){Uh.N(this,t),Vh&&Uh.i(t,"number",k,"top"),this.y=t}),Uh.g(k,"right",k.prototype.right),Uh.defineProperty(k,{right:"right"},function(){return this.x+this.width},function(t){Uh.N(this,t),Vh&&Uh.p(t,k,"right"),this.x+=t-(this.x+this.width)}),Uh.g(k,"bottom",k.prototype.bottom),Uh.defineProperty(k,{bottom:"bottom"},function(){return this.y+this.height},function(t){Uh.N(this,t),Vh&&Uh.p(t,k,"top"),this.y+=t-(this.y+this.height)}),Uh.g(k,"position",k.prototype.position),Uh.defineProperty(k,{position:"position"},function(){return new b(this.x,this.y)},function(t){Uh.N(this,t),Vh&&Uh.l(t,b,k,"position"),this.x=t.x,this.y=t.y}),Uh.g(k,"size",k.prototype.size),Uh.defineProperty(k,{size:"size"},function(){return new C(this.width,this.height)},function(t){Uh.N(this,t),Vh&&Uh.l(t,C,k,"size"),this.width=t.width,this.height=t.height}),Uh.g(k,"center",k.prototype.Tj),Uh.defineProperty(k,{Tj:"center"},function(){return new b(this.x+this.width/2,this.y+this.height/2)},function(t){Uh.N(this,t),Vh&&Uh.l(t,b,k,"center"),this.x=t.x-this.width/2,this.y=t.y-this.height/2}),Uh.g(k,"centerX",k.prototype.Ca),Uh.defineProperty(k,{Ca:"centerX"},function(){return this.x+this.width/2},function(t){Uh.N(this,t),Vh&&Uh.p(t,k,"centerX"),this.x=t-this.width/2}),Uh.g(k,"centerY",k.prototype.Ra),Uh.defineProperty(k,{Ra:"centerY"},function(){return this.y+this.height/2},function(t){Uh.N(this,t),Vh&&Uh.p(t,k,"centerY"),this.y=t-this.height/2}),k.prototype.isReal=k.prototype.J=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},k.prototype.isEmpty=function(){return 0===this.width&&0===this.height},Uh.ja("Margin",M),Uh.Ph(M),Uh.ae(M,{top:!0,right:!0,bottom:!0,left:!0}),M.prototype.assign=function(t){this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left},M.prototype.setTo=M.prototype.o=function(t,e,i,n){return Vh&&(Uh.i(t,"number",M,"setTo:t"),Uh.i(e,"number",M,"setTo:r"),Uh.i(i,"number",M,"setTo:b"),Uh.i(n,"number",M,"setTo:l")),Uh.N(this),this.top=t,this.right=e,this.bottom=i,this.left=n,this},M.prototype.set=M.prototype.set=function(t){return Vh&&Uh.l(t,M,M,"assign:m"),Uh.N(this),this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},M.prototype.copy=function(){var t=new M;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},M.prototype.Ma=function(){return this.Qa=!0,Object.freeze(this),this},M.prototype.ba=function(){return Object.isFrozen(this)?this:this.copy().freeze()},M.prototype.freeze=function(){return this.Qa=!0,this},M.prototype.Na=function(){return Object.isFrozen(this)&&Uh.m("cannot thaw constant: "+this),this.Qa=!1,this},M.parse=function(t){if("string"==typeof t){t=t.split(" ");for(var e=0,i=NaN;""===t[e];)e++;var n=t[e++];if(n&&(i=parseFloat(n)),isNaN(i))return new M;for(var o=NaN;""===t[e];)e++;if((n=t[e++])&&(o=parseFloat(n)),isNaN(o))return new M(i);for(var r=NaN;""===t[e];)e++;if((n=t[e++])&&(r=parseFloat(n)),isNaN(r))return new M(i,o);for(var s=NaN;""===t[e];)e++;return(n=t[e++])&&(s=parseFloat(n)),isNaN(s)?new M(i,o):new M(i,o,r,s)}return new M},M.stringify=function(t){return t instanceof M?t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString():t.toString()},M.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},M.prototype.equals=M.prototype.L=function(t){return t instanceof M?this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left:!1},M.prototype.equalTo=M.prototype.Dw=function(t,e,i,n){return this.top===t&&this.right===e&&this.bottom===i&&this.left===n},M.prototype.equalsApprox=M.prototype.Ne=function(t){return Bl.I(this.top,t.top)&&Bl.I(this.right,t.right)&&Bl.I(this.bottom,t.bottom)&&Bl.I(this.left,t.left)},M.prototype.isReal=M.prototype.J=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Uh.Ph(D),Uh.ae(D,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0}),D.prototype.set=D.prototype.set=function(t){return Vh&&Uh.l(t,D,D,"set:t"),this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},D.prototype.copy=function(){var t=new D;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},D.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},D.prototype.equals=D.prototype.L=function(t){return t instanceof D?this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy:!1},D.prototype.reset=D.prototype.reset=function(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0},D.prototype.multiply=D.prototype.multiply=function(t){Vh&&Uh.l(t,D,D,"multiply:matrix");var e=this.m12*t.m11+this.m22*t.m12,i=this.m11*t.m21+this.m21*t.m22,n=this.m12*t.m21+this.m22*t.m22,o=this.m11*t.dx+this.m21*t.dy+this.dx,r=this.m12*t.dx+this.m22*t.dy+this.dy;return this.m11=this.m11*t.m11+this.m21*t.m12,this.m12=e,this.m21=i,this.m22=n,this.dx=o,this.dy=r,this},D.prototype.multiplyInverted=D.prototype.JF=function(t){Vh&&Uh.l(t,D,D,"multiplyInverted:matrix");var e=1/(t.m11*t.m22-t.m12*t.m21),i=t.m22*e,n=-t.m12*e,o=-t.m21*e,r=t.m11*e,s=e*(t.m21*t.dy-t.m22*t.dx),a=e*(t.m12*t.dx-t.m11*t.dy);return t=this.m12*i+this.m22*n,e=this.m11*o+this.m21*r,o=this.m12*o+this.m22*r,r=this.m11*s+this.m21*a+this.dx,s=this.m12*s+this.m22*a+this.dy,this.m11=this.m11*i+this.m21*n,this.m12=t,this.m21=e,this.m22=o,this.dx=r,this.dy=s,this},D.prototype.invert=D.prototype.lA=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,i=-this.m21*t,n=this.m11*t,o=t*(this.m21*this.dy-this.m22*this.dx),r=t*(this.m12*this.dx-this.m11*this.dy);this.m11=this.m22*t,this.m12=e,this.m21=i,this.m22=n,this.dx=o,this.dy=r},D.prototype.rotate=D.prototype.rotate=function(t,e,i){Vh&&(Uh.p(t,D,"rotate:angle"),Uh.p(e,D,"rotate:rx"),Uh.p(i,D,"rotate:ry")),this.translate(e,i);var n=0,o=0;0===t?(n=1,o=0):90===t?(n=0,o=1):180===t?(n=-1,o=0):270===t?(n=0,o=-1):(o=t*Math.PI/180,n=Math.cos(o),o=Math.sin(o)),t=this.m12*n+this.m22*o;var r=this.m11*-o+this.m21*n,s=this.m12*-o+this.m22*n;this.m11=this.m11*n+this.m21*o,this.m12=t,this.m21=r,this.m22=s,this.translate(-e,-i)},D.prototype.translate=D.prototype.translate=function(t,e){Vh&&(Uh.p(t,D,"translate:x"),Uh.p(e,D,"translate:y")),this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e},D.prototype.scale=D.prototype.scale=function(t,e){void 0===e&&(e=t),Vh&&(Uh.p(t,D,"translate:sx"),Uh.p(e,D,"translate:sy")),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e},D.prototype.transformPoint=D.prototype.fb=function(t){Vh&&Uh.l(t,b,D,"transformPoint:p");var e=t.x,i=t.y;return t.x=e*this.m11+i*this.m21+this.dx,t.y=e*this.m12+i*this.m22+this.dy,t},D.prototype.invertedTransformPoint=D.prototype.Th=function(t){Vh&&Uh.l(t,b,D,"invertedTransformPoint:p");var e=1/(this.m11*this.m22-this.m12*this.m21),i=-this.m12*e,n=this.m11*e,o=e*(this.m12*this.dx-this.m11*this.dy),r=t.x,s=t.y;return t.x=r*this.m22*e+s*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),t.y=r*i+s*n+o,t},D.prototype.transformRect=D.prototype.QG=function(t){Vh&&Uh.l(t,k,D,"transformRect:rect");var e=t.x,i=t.y,n=e+t.width,o=i+t.height,r=this.m11,s=this.m12,a=this.m21,h=this.m22,l=this.dx,u=this.dy,c=e*r+i*a+l,f=e*s+i*h+u,d=n*r+i*a+l,i=n*s+i*h+u,p=e*r+o*a+l,e=e*s+o*h+u,r=n*r+o*a+l,n=n*s+o*h+u,o=c,s=f,c=Math.min(c,d),o=Math.max(o,d),s=Math.min(s,i),f=Math.max(f,i),c=Math.min(c,p),o=Math.max(o,p),s=Math.min(s,e),f=Math.max(f,e),c=Math.min(c,r),o=Math.max(o,r),s=Math.min(s,n),f=Math.max(f,n);t.x=c,t.y=s,t.width=o-c,t.height=f-s},D.prototype.isIdentity=D.prototype.zt=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy},Uh.ja("Spot",P),Uh.Ph(P),Uh.ae(P,{x:!0,y:!0,offsetX:!0,offsetY:!0}),P.prototype.assign=function(t){this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY},P.prototype.setTo=P.prototype.o=function(t,e,i,n){return Vh&&(B(t,"setTo:x"),B(e,"setTo:y"),N(i,"setTo:offx"),N(n,"setTo:offy")),Uh.N(this),this.x=t,this.y=e,this.offsetX=i,this.offsetY=n,this},P.prototype.set=P.prototype.set=function(t){return Vh&&Uh.l(t,P,P,"set:s"),Uh.N(this),this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},P.prototype.copy=function(){var t=new P;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},P.prototype.Ma=function(){return this.Qa=!0,Object.freeze(this),this},P.prototype.ba=function(){return Object.isFrozen(this)?this:this.copy().freeze()},P.prototype.freeze=function(){return this.Qa=!0,this},P.prototype.Na=function(){return Object.isFrozen(this)&&Uh.m("cannot thaw constant: "+this),this.Qa=!1,this};var tl;P.parse=tl=function(t){if("string"==typeof t){if(t=t.trim(),"None"===t)return el;if("TopLeft"===t)return nl;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return ol;if("TopRight"===t)return rl;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return sl;if("Center"===t)return al;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return hl;if("BottomLeft"===t)return ll;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return ul;if("BottomRight"===t)return cl;if("TopSide"===t)return yl;if("LeftSide"===t)return bl;if("RightSide"===t)return wl;if("BottomSide"===t)return xl;if("TopBottomSides"===t)return Cl;if("LeftRightSides"===t)return kl;if("TopLeftSides"===t)return Al;if("TopRightSides"===t)return Sl;if("BottomLeftSides"===t)return Fl;if("BottomRightSides"===t)return El;if("NotTopSide"===t)return Tl;if("NotLeftSide"===t)return Ml;if("NotRightSide"===t)return Dl;if("NotBottomSide"===t)return Pl;if("AllSides"===t)return Ll;if("Default"===t)return il;t=t.split(" ");for(var e=0,i=0;""===t[e];)e++;var n=t[e++];void 0!==n&&0<n.length&&(i=parseFloat(n));for(var o=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(o=parseFloat(n));for(var r=0;""===t[e];)e++;n=t[e++],void 0!==n&&0<n.length&&(r=parseFloat(n));for(var s=0;""===t[e];)e++;return n=t[e++],void 0!==n&&0<n.length&&(s=parseFloat(n)),new P(i,o,r,s)}return new P},P.stringify=function(t){return t instanceof P&&t.kd()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()},P.prototype.toString=function(){return this.kd()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.L(el)?"None":this.L(nl)?"TopLeft":this.L(ol)?"Top":this.L(rl)?"TopRight":this.L(sl)?"Left":this.L(al)?"Center":this.L(hl)?"Right":this.L(ll)?"BottomLeft":this.L(ul)?"Bottom":this.L(cl)?"BottomRight":this.L(yl)?"TopSide":this.L(bl)?"LeftSide":this.L(wl)?"RightSide":this.L(xl)?"BottomSide":this.L(Cl)?"TopBottomSides":this.L(kl)?"LeftRightSides":this.L(Al)?"TopLeftSides":this.L(Sl)?"TopRightSides":this.L(Fl)?"BottomLeftSides":this.L(El)?"BottomRightSides":this.L(Tl)?"NotTopSide":this.L(Ml)?"NotLeftSide":this.L(Dl)?"NotRightSide":this.L(Pl)?"NotBottomSide":this.L(Ll)?"AllSides":this.L(il)?"Default":"None"},P.prototype.equals=P.prototype.L=function(t){return t instanceof P?(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY:!1},P.prototype.opposite=function(){return new P(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},P.prototype.includesSide=function(t){return this.lp()&&t.lp()?(t=t.offsetY,(this.offsetY&t)===t):!1},P.prototype.isSpot=P.prototype.kd=function(){return!isNaN(this.x)&&!isNaN(this.y)},P.prototype.isNoSpot=P.prototype.te=function(){return isNaN(this.x)||isNaN(this.y)},P.prototype.isSide=P.prototype.lp=function(){return this.te()&&1===this.offsetX&&0!==this.offsetY},P.prototype.isDefault=P.prototype.Oc=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var el;P.None=el=L(new P(0,0,0,0),0).Ma();var il;P.Default=il=L(new P(0,0,-1,0),-1).Ma();var nl;P.TopLeft=nl=new P(0,0,0,0).Ma();var ol;P.TopCenter=ol=new P(.5,0,0,0).Ma();var rl;P.TopRight=rl=new P(1,0,0,0).Ma();var sl;P.LeftCenter=sl=new P(0,.5,0,0).Ma();var al;P.Center=al=new P(.5,.5,0,0).Ma();var hl;P.RightCenter=hl=new P(1,.5,0,0).Ma();var ll;P.BottomLeft=ll=new P(0,1,0,0).Ma();var ul;P.BottomCenter=ul=new P(.5,1,0,0).Ma();var cl;P.BottomRight=cl=new P(1,1,0,0).Ma();var fl;P.MiddleTop=fl=ol;var dl;P.MiddleLeft=dl=sl;var pl;P.MiddleRight=pl=hl;var gl;P.MiddleBottom=gl=ul,P.Top=ol;var ml;P.Left=ml=sl;var vl;P.Right=vl=hl,P.Bottom=ul;var yl;P.TopSide=yl=L(new P(0,0,1,Uh.ad),1).Ma();var bl;P.LeftSide=bl=L(new P(0,0,1,Uh.Ic),1).Ma();var wl;P.RightSide=wl=L(new P(0,0,1,Uh.Sc),1).Ma();var xl;P.BottomSide=xl=L(new P(0,0,1,Uh.Rc),1).Ma();var Cl;P.TopBottomSides=Cl=L(new P(0,0,1,Uh.ad|Uh.Rc),1).Ma();var kl;P.LeftRightSides=kl=L(new P(0,0,1,Uh.Ic|Uh.Sc),1).Ma();var Al;P.TopLeftSides=Al=L(new P(0,0,1,Uh.ad|Uh.Ic),1).Ma();var Sl;P.TopRightSides=Sl=L(new P(0,0,1,Uh.ad|Uh.Sc),1).Ma();var Fl;P.BottomLeftSides=Fl=L(new P(0,0,1,Uh.Rc|Uh.Ic),1).Ma();var El;P.BottomRightSides=El=L(new P(0,0,1,Uh.Rc|Uh.Sc),1).Ma();var Tl;P.NotTopSide=Tl=L(new P(0,0,1,Uh.Ic|Uh.Sc|Uh.Rc),1).Ma();var Ml;P.NotLeftSide=Ml=L(new P(0,0,1,Uh.ad|Uh.Sc|Uh.Rc),1).Ma();var Dl;P.NotRightSide=Dl=L(new P(0,0,1,Uh.ad|Uh.Ic|Uh.Rc),1).Ma();var Pl;P.NotBottomSide=Pl=L(new P(0,0,1,Uh.ad|Uh.Ic|Uh.Sc),1).Ma();var Ll;P.AllSides=Ll=L(new P(0,0,1,Uh.ad|Uh.Ic|Uh.Sc|Uh.Rc),1).Ma(),$.prototype.copy=function(){var t=new $;return t.jf[0]=this.jf[0],t.jf[1]=this.jf[1],t.jf[2]=this.jf[2],t.jf[3]=this.jf[3],t.jf[4]=this.jf[4],t.jf[5]=this.jf[5],t},R.prototype.addColorStop=function(t,e){this.bE.push({offset:t,color:e})},Wh=O.prototype,Wh.arc=function(t,e,i,n,o,r){q(this,t,e,i,n,o,r)},Wh.beginPath=function(){this.path=[]},Wh.bezierCurveTo=function(t,e,i,n,o,r){this.path.push(["C",t,e,i,n,o,r])},Wh.clearRect=function(){},Wh.clip=function(){H(this,"clipPath",this.path,new $)},Wh.closePath=function(){this.path.push(["z"])},Wh.createLinearGradient=function(t,e,i,n){var o=new R("linear");return o.x1=t,o.y1=e,o.x2=i,o.y2=n,o},Wh.createPattern=function(){},Wh.createRadialGradient=function(t,e,i,n,o,r){var s=new R("radial");return s.x1=t,s.y1=e,s.r1=i,s.x2=n,s.y2=o,s.r2=r,s},Wh.drawImage=function(t,e,i,n,o,r,s,a,h){t=[e,i,n,o,r,s,a,h,t],e=this.Oi,o=t[8],i="",o instanceof HTMLCanvasElement&&(i=o.toDataURL()),o instanceof HTMLImageElement&&(i=o.src),i={x:0,y:0,width:t[6],height:t[7],href:i},n="",r=t[6]/t[2],s=t[7]/t[3],(0!==t[4]||0!==t[5])&&(n+=" translate("+t[4]+", "+t[5]+")"),(1!==r||1!==s)&&(n+=" scale("+r+", "+s+")"),(0!==t[0]||0!==t[1])&&(n+=" translate("+-t[0]+", "+-t[1]+")"),(0!==t[0]||0!==t[1]||t[2]!==o.naturalWidth||t[3]!==o.naturalHeight)&&(o="CLIP"+this.ow,this.ow++,r=j(this,"clipPath",{id:o}),r.appendChild(j(this,"rect",{x:t[0],y:t[1],width:t[2],height:t[3]})),this.Gl.appendChild(r),i["clip-path"]="url(#"+o+")"),I(this,"image",i,e,n),this.addElement("image",i)},Wh.fill=function(){H(this,"fill",this.path,this.Oi)},Wh.fillRect=function(t,e,i,n){_(this,"fill",[t,e,i,n],this.Oi)},Wh.fillText=function(t,e,i){t=[t,e,i],e=this.textAlign,"left"===e?e="start":"right"===e?e="end":"center"===e&&(e="middle"),e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},I(this,"fill",e,this.Oi),this.addElement("text",e,t[0])},Wh.lineTo=function(t,e){this.path.push(["L",t,e])},Wh.moveTo=function(t,e){this.path.push(["M",t,e])},Wh.quadraticCurveTo=function(t,e,i,n){this.path.push(["Q",t,e,i,n])},Wh.rect=function(t,e,i,n){this.path.push(["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["z"])},Wh.restore=function(){this.Oi=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.gx=t.gx,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},Wh.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,gx:this.gx,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.Oi.copy())},Wh.setTransform=function(t,e,i,n,o,r){1===t&&0===e&&0===i&&1===n&&0===o&&0===r||W(this,t,e,i,n,o,r)},Wh.scale=function(){},Wh.stroke=function(){H(this,"stroke",this.path,this.Oi)},Wh.strokeRect=function(t,e,i,n){_(this,"stroke",[t,e,i,n],this.Oi)},Wh.addElement=function(t,e,i){return t=j(this,t,e,i),0<this.xf.length?this.xf[this.xf.length-1].appendChild(t):this.Gl.appendChild(t),this.$w=t},Wh.eb=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var t="SHADOW"+this.wG;this.wG++;var e,i,n,o,r,s=this.addElement("filter",{id:t,x:"-100%",y:"-100%",width:"300%",height:"300%"},null);e=j(this,"feGaussianBlur",{"in":"SourceAlpha",result:"blur",UK:this.shadowBlur/2}),i=j(this,"feFlood",{"in":"blur",result:"flood","flood-color":this.shadowColor}),n=j(this,"feComposite",{"in":"flood",in2:"blur",operator:"in",result:"comp"}),o=j(this,"feOffset",{"in":"comp",result:"offsetBlur",dx:this.shadowOffsetX,dy:this.shadowOffsetY}),r=j(this,"feMerge",{}),r.appendChild(j(this,"feMergeNode",{"in":"offsetBlur"})),r.appendChild(j(this,"feMergeNode",{"in":"SourceGraphic"})),s.appendChild(e),s.appendChild(i),s.appendChild(n),s.appendChild(o),s.appendChild(r),0<this.xf.length&&this.xf[this.xf.length-1].setAttributeNS(null,"filter","url(#"+t+")")}},Wh=G.prototype,Wh.getContext=function(){return this.iI},Wh.toDataURL=function(t,e){return this.Kd.toDataURL(t,e)},Wh.getBoundingClientRect=function(){return this.Kd.getBoundingClientRect()},Wh.focus=function(){return this.Kd.focus()},Wh.addEventListener=function(t,e,i){this.Kd.addEventListener(t,e,i)},Wh.removeEventListener=function(t,e,i){this.Kd.removeEventListener(t,e,i)},Uh.g(G,"width",G.prototype.width),Uh.defineProperty(G,{width:"width"},function(){return this.Kd.width},function(t){this.Kd.width=t}),Uh.g(G,"height",G.prototype.height),Uh.defineProperty(G,{height:"height"},function(){return this.Kd.height},function(t){this.Kd.height=t}),Uh.g(G,"style",G.prototype.style),Uh.defineProperty(G,{style:"style"},function(){return this.Kd.style},function(t){this.Kd.style=t});var Bl={wa:4*((Math.sqrt(2)-1)/3),nk:new b(0,0).Ma(),gH:new k(0,0,0,0).Ma(),bq:new M(0,0,0,0).Ma(),fH:new M(2,2,2,2).Ma(),BB:new C(1/0,1/0).Ma(),cH:new b(-(1/0),-(1/0)).Ma(),bH:new b(1/0,1/0).Ma(),on:new C(0,0).Ma(),Px:new C(1,1).Ma(),aq:new C(6,6).Ma(),Mx:new C(8,8).Ma(),dH:new b(NaN,NaN).Ma(),Qx:new n,$i:new n,AB:null,sqrt:function(t){if(0>=t)return 0;var e=Bl.AB;if(null===e){for(var e=[],i=0;2e3>=i;i++)e[i]=Math.sqrt(i);Bl.AB=e}return 1>t?(i=1/t,2e3>=i?1/e[0|i]:Math.sqrt(t)):2e3>=t?e[0|t]:Math.sqrt(t)},I:function(t,e){var i=t-e;return.5>i&&i>-.5},rb:function(t,e){var i=t-e;return 5e-8>i&&i>-5e-8},Pd:function(t,e,i,n,o,r,s){0>=o&&(o=1e-6);var a=0,h=0,l=0,u=0;if(i>t?(h=t,a=i):(h=i,a=t),n>e?(u=e,l=n):(u=n,l=e),t===i)return s>=u&&l>=s&&r>=t-o&&t+o>=r;if(e===n)return r>=h&&a>=r&&s>=e-o&&e+o>=s;if(a+=o,h-=o,r>=h&&a>=r&&(l+=o,u-=o,s>=u&&l>=s))if(a-h>l-u){if(!(t-i>o||i-t>o))return!0;if(r=(n-e)/(i-t)*(r-t)+e,s>=r-o&&r+o>=s)return!0}else{if(!(e-n>o||n-e>o))return!0;if(s=(i-t)/(n-e)*(s-e)+t,r>=s-o&&s+o>=r)return!0}return!1},kw:function(t,e,i,n,o,r,s,a,h,l,u,c){if(Bl.Pd(t,e,s,a,c,i,n)&&Bl.Pd(t,e,s,a,c,o,r))return Bl.Pd(t,e,s,a,c,l,u);var f=(t+i)/2,d=(e+n)/2,p=(i+o)/2,g=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(f+p)/2,i=(d+g)/2;var p=(p+o)/2,g=(g+r)/2,m=(n+p)/2,v=(i+g)/2;return Bl.kw(t,e,f,d,n,i,m,v,h,l,u,c)||Bl.kw(m,v,p,g,o,r,s,a,h,l,u,c)},dI:function(t,e,i,n,o,r,s,a,h){var l=(i+o)/2,u=(n+r)/2;return h.x=(((t+i)/2+l)/2+(l+(o+s)/2)/2)/2,h.y=(((e+n)/2+u)/2+(u+(r+a)/2)/2)/2,h},cI:function(t,e,i,n,o,r,s,a){var h=(i+o)/2,l=(n+r)/2;return Qh(((t+i)/2+h)/2,((e+n)/2+l)/2,(h+(o+s)/2)/2,(l+(r+a)/2)/2)},Lo:function(t,e,i,n,o,r,s,a,h,l){if(Bl.Pd(t,e,s,a,h,i,n)&&Bl.Pd(t,e,s,a,h,o,r))T(l,t,e,0,0),T(l,s,a,0,0);else{var u=(t+i)/2,c=(e+n)/2,f=(i+o)/2,d=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(u+f)/2,i=(c+d)/2;var f=(f+o)/2,d=(d+r)/2,p=(n+f)/2,g=(i+d)/2;Bl.Lo(t,e,u,c,n,i,p,g,h,l),Bl.Lo(p,g,f,d,o,r,s,a,h,l)}return l},He:function(t,e,i,n,o,r,s,a,h,l){if(Bl.Pd(t,e,s,a,h,i,n)&&Bl.Pd(t,e,s,a,h,o,r))0===l.length&&(l.push(t),l.push(e)),l.push(s),l.push(a);else{var u=(t+i)/2,c=(e+n)/2,f=(i+o)/2,d=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(u+f)/2,i=(c+d)/2;var f=(f+o)/2,d=(d+r)/2,p=(n+f)/2,g=(i+d)/2;Bl.He(t,e,u,c,n,i,p,g,h,l),Bl.He(p,g,f,d,o,r,s,a,h,l)}return l},LA:function(t,e,i,n,o,r,s,a,h,l){if(Bl.Pd(t,e,o,r,l,i,n))return Bl.Pd(t,e,o,r,l,a,h);var u=(t+i)/2,c=(e+n)/2;i=(i+o)/2,n=(n+r)/2;var f=(u+i)/2,d=(c+n)/2;return Bl.LA(t,e,u,c,f,d,s,a,h,l)||Bl.LA(f,d,i,n,o,r,s,a,h,l)},TK:function(t,e,i,n,o,r,s){return s.x=((t+i)/2+(i+o)/2)/2,s.y=((e+n)/2+(n+r)/2)/2,s},KA:function(t,e,i,n,o,r,s,a){if(Bl.Pd(t,e,o,r,s,i,n))T(a,t,e,0,0),T(a,o,r,0,0);else{var h=(t+i)/2,l=(e+n)/2;i=(i+o)/2,n=(n+r)/2;var u=(h+i)/2,c=(l+n)/2;Bl.KA(t,e,h,l,u,c,s,a),Bl.KA(u,c,i,n,o,r,s,a)}return a},Ip:function(t,e,i,n,o,r,s,a){if(Bl.Pd(t,e,o,r,s,i,n))0===a.length&&(a.push(t),a.push(e)),a.push(o),a.push(r);else{var h=(t+i)/2,l=(e+n)/2;i=(i+o)/2,n=(n+r)/2;var u=(h+i)/2,c=(l+n)/2;Bl.Ip(t,e,h,l,u,c,s,a),Bl.Ip(u,c,i,n,o,r,s,a)}return a},Zs:function(t,e,i,n,o,r,s,a,h,l,u,c,f,d){if(0>=f&&(f=1e-6),Bl.Pd(t,e,s,a,f,i,n)&&Bl.Pd(t,e,s,a,f,o,r)){var p=(t-s)*(l-c)-(e-a)*(h-u);if(0===p)return!1;if(f=((t*a-e*s)*(h-u)-(t-s)*(h*c-l*u))/p,p=((t*a-e*s)*(l-c)-(e-a)*(h*c-l*u))/p,(l>c?l-c:c-l)>(h>u?h-u:u-h)){if(s=h=0,a>e?(h=e,s=a):(h=a,s=e),h>p||p>s)return!1}else if(s>t?h=t:(h=s,s=t),h>f||f>s)return!1;return d.x=f,d.y=p,!0}var p=(t+i)/2,g=(e+n)/2;i=(i+o)/2,n=(n+r)/2,o=(o+s)/2,r=(r+a)/2;var m=(p+i)/2,v=(g+n)/2;i=(i+o)/2,n=(n+r)/2;var y=(m+i)/2,b=(v+n)/2,w=(u-h)*(u-h)+(c-l)*(c-l),x=!1;return Bl.Zs(t,e,p,g,m,v,y,b,h,l,u,c,f,d)&&(e=(d.x-h)*(d.x-h)+(d.y-l)*(d.y-l),w>e&&(w=e,x=!0)),t=d.x,p=d.y,Bl.Zs(y,b,i,n,o,r,s,a,h,l,u,c,f,d)&&(e=(d.x-h)*(d.x-h)+(d.y-l)*(d.y-l),w>e?x=!0:(d.x=t,d.y=p)),x},$s:function(t,e,i,n,o,r,s,a,h,l,u,c,f){var d=0;if(0>=f&&(f=1e-6),Bl.Pd(t,e,s,a,f,i,n)&&Bl.Pd(t,e,s,a,f,o,r)){if(f=(t-s)*(l-c)-(e-a)*(h-u),0===f)return d;var p=((t*a-e*s)*(h-u)-(t-s)*(h*c-l*u))/f,g=((t*a-e*s)*(l-c)-(e-a)*(h*c-l*u))/f;if(p>=u)return d;if((l>c?l-c:c-l)>(h>u?h-u:u-h)){if(t=h=0,a>e?(h=e,t=a):(h=a,t=e),h>g||g>t)return d}else if(s>t?(h=t,t=s):h=s,h>p||p>t)return d;f>0?d++:0>f&&d--}else{var p=(t+i)/2,g=(e+n)/2,m=(i+o)/2,v=(n+r)/2;o=(o+s)/2,r=(r+a)/2,n=(p+m)/2,i=(g+v)/2;var m=(m+o)/2,v=(v+r)/2,y=(n+m)/2,b=(i+v)/2,d=d+Bl.$s(t,e,p,g,n,i,y,b,h,l,u,c,f),d=d+Bl.$s(y,b,m,v,o,r,s,a,h,l,u,c,f)}return d},cn:function(t,e,i,n,o,r,s){if(Bl.rb(t,i)){var a=0;return i=0,n>e?(a=e,i=n):(a=n,i=e),n=r,a>n?(s.x=t,s.y=a,!1):n>i?(s.x=t,s.y=i,!1):(s.x=t,s.y=n,!0)}return Bl.rb(e,n)?(i>t?a=t:(a=i,i=t),n=o,a>n?(s.x=a,s.y=e,!1):n>i?(s.x=i,s.y=e,!1):(s.x=n,s.y=e,!0)):(a=((t-o)*(t-i)+(e-r)*(e-n))/((i-t)*(i-t)+(n-e)*(n-e)),-5e-6>a?(s.x=t,s.y=e,!1):a>1.000005?(s.x=i,s.y=n,!1):(s.x=t+a*(i-t),s.y=e+a*(n-e),!0))},ih:function(t,e,i,n,o,r,s,a,h){return Bl.I(t,i)&&Bl.I(e,n)?(h.x=t,h.y=e,!1):Bl.rb(o,s)?Bl.rb(t,i)?(Bl.cn(t,e,i,n,o,r,h),!1):(r=(n-e)/(i-t)*(o-t)+e,Bl.cn(t,e,i,n,o,r,h)):(a=(a-r)/(s-o),Bl.rb(t,i)?(r=a*(t-o)+r,i=s=0,n>e?(s=e,i=n):(s=n,i=e),s>r?(h.x=t,h.y=s,!1):r>i?(h.x=t,h.y=i,!1):(h.x=t,h.y=r,!0)):(s=(n-e)/(i-t),Bl.rb(a,s)?(Bl.cn(t,e,i,n,o,r,h),!1):(o=(s*t-a*o+r-e)/(s-a),Bl.rb(s,0)?(i>t?s=t:(s=i,i=t),s>o?(h.x=s,h.y=e,!1):o>i?(h.x=i,h.y=e,!1):(h.x=o,h.y=e,!0)):(r=s*(o-t)+e,Bl.cn(t,e,i,n,o,r,h)))))},EK:function(t,e,i,n,o){return Bl.ih(i.x,i.y,n.x,n.y,t.x,t.y,e.x,e.y,o)},AK:function(t,e,i,n,o,r,s,a,h,l){function u(i,n){var o=(i-t)*(i-t)+(n-e)*(n-e);c>o&&(c=o,h.x=i,h.y=n)}var c=1/0;u(h.x,h.y);var f=0,d=0,p=0,g=0;if(s>o?(f=o,d=s):(f=s,d=o),a>r?(p=o,g=s):(p=s,g=o),f=(d-f)/2+l,l=(g-p)/2+l,o=(o+s)/2,r=(r+a)/2,0===f||0===l)return h;if(.5>(i>t?i-t:t-i)){if(f=1-(i-o)*(i-o)/(f*f),0>f)return h;f=Math.sqrt(f),n=-l*f+r,u(i,l*f+r),u(i,n)}else{if(i=(n-e)/(i-t),n=1/(f*f)+i*i/(l*l),a=2*i*(e-i*t)/(l*l)-2*i*r/(l*l)-2*o/(f*f),f=a*a-4*n*(2*i*t*r/(l*l)-2*e*r/(l*l)+r*r/(l*l)+o*o/(f*f)-1+(e-i*t)*(e-i*t)/(l*l)),0>f)return h;f=Math.sqrt(f),l=(-a+f)/(2*n),u(l,i*l-i*t+e),f=(-a-f)/(2*n),u(f,i*f-i*t+e)}return h},pl:function(t,e,i,n,o,r,s,a,h){var l=1e21,u=t,c=e;if(Bl.ih(t,e,t,n,o,r,s,a,h)){var f=(h.x-o)*(h.x-o)+(h.y-r)*(h.y-r);l>f&&(l=f,u=h.x,c=h.y)}return Bl.ih(i,e,i,n,o,r,s,a,h)&&(f=(h.x-o)*(h.x-o)+(h.y-r)*(h.y-r),l>f&&(l=f,u=h.x,c=h.y)),Bl.ih(t,e,i,e,o,r,s,a,h)&&(f=(h.x-o)*(h.x-o)+(h.y-r)*(h.y-r),l>f&&(l=f,u=h.x,c=h.y)),Bl.ih(t,n,i,n,o,r,s,a,h)&&(f=(h.x-o)*(h.x-o)+(h.y-r)*(h.y-r),l>f&&(l=f,u=h.x,c=h.y)),h.x=u,h.y=c,1e21>l},Rw:function(t,e,i){var n=e.x,o=e.y,r=i.x,s=i.y,a=t.left,h=t.right,l=t.top,u=t.bottom;return n===r?(r=t=0,s>o?(t=o,r=s):(t=s,r=o),n>=a&&h>=n&&u>=t&&r>=l):o===s?(r>n?t=n:(t=r,r=n),o>=l&&u>=o&&h>=t&&r>=a):t.Da(e)||t.Da(i)||Bl.Qw(a,l,h,l,n,o,r,s)||Bl.Qw(h,l,h,u,n,o,r,s)||Bl.Qw(h,u,a,u,n,o,r,s)||Bl.Qw(a,u,a,l,n,o,r,s)?!0:!1},Qw:function(t,e,i,n,o,r,s,a){return 0>=Bl.pw(t,e,i,n,o,r)*Bl.pw(t,e,i,n,s,a)&&0>=Bl.pw(o,r,s,a,t,e)*Bl.pw(o,r,s,a,i,n)},pw:function(t,e,i,n,o,r){return i-=t,n-=e,t=o-t,e=r-e,r=t*n-e*i,0===r&&(r=t*i+e*n,r>0&&(r=(t-i)*i+(e-n)*n,0>r&&(r=0))),0>r?-1:r>0?1:0},Mt:function(t){return 0>t&&(t+=360),t>=360&&(t-=360),t},oE:function(t,e,i,n,o,r){void 0===r&&(r=!1);var s=Math.PI;r||(n*=s/180,o*=s/180),r=o>n?1:-1;var a=[],h=s/2,l=n;for(n=Math.min(2*s+1e-5,Math.abs(o-n));n>1e-5;)o=l+r*Math.min(n,h),a.push(Bl.lI(i,l,o,t,e)),n-=Math.abs(o-l),l=o;return a},lI:function(t,e,i,n,o){var r=(i-e)/2,s=t*Math.cos(r),a=t*Math.sin(r),h=.5522847498*Math.tan(r),l=s+h*a,s=-a+h*s,a=-s,h=r+e,r=Math.cos(h),h=Math.sin(h);return[n+t*Math.cos(e),o+t*Math.sin(e),n+l*r-s*h,o+l*h+s*r,n+l*r-a*h,o+l*h+a*r,n+t*Math.cos(i),o+t*Math.sin(i)]},nt:function(t,e,i,n,o,r,s){i=Math.floor((t-i)/o)*o+i,n=Math.floor((e-n)/r)*r+n;var a=i;return o/2>i+o-t&&(a=i+o),t=n,r/2>n+r-e&&(t=n+r),s.o(a,t),s},ME:function(t,e){var i=Math.max(t,e),n=Math.min(t,e),o=1,r=1;do o=i%n,i=r=n,n=o;while(o>0);return r},BI:function(t,e,i,n){var o=0>i,r=0>n,s=0,a=s=0;e>t?(s=1,a=0):(s=0,a=1);var h=0,l=0,u=0,h=0===s?t:e,l=0===s?i:n;return(0===s?o:r)&&(l=-l),s=a,u=0===s?i:n,(0===s?o:r)&&(u=-u),Bl.CI(h,0===s?t:e,l,u,0,0)},CI:function(t,e,i,n,o,r){if(o=0,n>0)if(i>0){r=t*t,o=e*e,t*=i;var s=e*n,a=-o+s,h=-o+Math.sqrt(t*t+s*s);e=a;for(var l=0;9999999999>l&&(e=.5*(a+h),e!==a&&e!==h);++l){var u=t/(e+r),c=s/(e+o),u=u*u+c*c-1;if(u>0)a=e;else{if(!(0>u))break;h=e}}i=r*i/(e+r)-i,n=o*n/(e+o)-n,o=Math.sqrt(i*i+n*n)}else o=Math.abs(n-e);else n=t*t-e*e,o=t*i,n>o?(n=o/n,o=t*n,r=e*Math.sqrt(Math.abs(1-n*n)),i=o-i,o=Math.sqrt(i*i+r*r)):o=Math.abs(i-t);return o}};Uh.ja("Geometry",V),Uh.Ph(V),V.prototype.copy=function(){var t=new V;t.ha=this.ha,t.lc=this.lc,t.vc=this.vc,t.nb=this.nb,t.yb=this.yb;for(var e=this.ij.q,i=e.length,n=t.ij,o=0;i>o;o++){var r=e[o].copy();n.add(r)}return t.Tu=this.Tu,t.Du.assign(this.Du),t.Ya=this.Ya,t.zi=this.zi.ba(),t.Ai=this.Ai.ba(),t.$n=this.$n,t.Zn=this.Zn,t.ji=this.ji,t};var Nl;V.Line=Nl=Uh.w(V,"Line",0);var $l;V.Rectangle=$l=Uh.w(V,"Rectangle",1);var Rl;V.Ellipse=Rl=Uh.w(V,"Ellipse",2);var Ol;V.Path=Ol=Uh.w(V,"Path",3),V.prototype.Ma=function(){return this.freeze(),Object.freeze(this),this},V.prototype.freeze=function(){this.Qa=!0;var t=this.pb;t.freeze();for(var t=t.q,e=t.length,i=0;e>i;i++)t[i].freeze();return this},V.prototype.Na=function(){Object.isFrozen(this)&&Uh.m("cannot thaw constant: "+this),this.Qa=!1;var t=this.pb;t.Na();for(var t=t.q,e=t.length,i=0;e>i;i++)t[i].Na();return this},V.prototype.equalsApprox=V.prototype.Ne=function(t){
if(!(t instanceof V))return!1;if(this.type!==t.type)return this.type===Nl&&t.type===Ol?U(this,t):t.type===Nl&&this.type===Ol?U(t,this):!1;if(this.type===Ol){var e=this.pb.q;t=t.pb.q;var i=e.length;if(i!==t.length)return!1;for(var n=0;i>n;n++)if(!e[n].Ne(t[n]))return!1;return!0}return Bl.I(this.ra,t.ra)&&Bl.I(this.sa,t.sa)&&Bl.I(this.D,t.D)&&Bl.I(this.F,t.F)};var jl;V.stringify=jl=function(t){return t.toString()},V.prototype.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Nl:return 0>t?"M"+this.ra.toString()+" "+this.sa.toString()+"L"+this.D.toString()+" "+this.F.toString():"M"+this.ra.toFixed(t)+" "+this.sa.toFixed(t)+"L"+this.D.toFixed(t)+" "+this.F.toFixed(t);case $l:var e=new k(this.ra,this.sa,0,0);return e.VG(this.D,this.F,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case Rl:if(e=new k(this.ra,this.sa,0,0),e.VG(this.D,this.F,0,0),0>t){var i=e.left.toString()+" "+(e.y+e.height/2).toString(),n=e.right.toString()+" "+(e.y+e.height/2).toString();return"M"+i+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+n+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+i}return i=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),n=e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t),"M"+i+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+n+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+i;case Ol:for(var e="",i=this.pb.q,n=i.length,o=0;n>o;o++){var r=i[o];o>0&&(e+=" x "),r.jp&&(e+="F "),e+=r.toString(t)}return e;default:return this.type.toString()}};var Il;V.fillPath=Il=function(t){"string"!=typeof t&&Uh.sc(t,"string",V,"fillPath:str"),t=t.split(/[Xx]/);for(var e=t.length,i="",n=0;e>n;n++)var o=t[n],i=null!==o.match(/[Ff]/)?0===n?i+o:i+("X"+(" "===o[0]?"":" ")+o):i+((0===n?"":"X ")+"F"+(" "===o[0]?"":" ")+o);return i};var zl;V.parse=zl=function(t,e){function i(){return l>=g-1?!0:null!==h[l+1].match(/[A-Za-z]/)}function n(){return l++,h[l]}function o(){var t=new b(parseFloat(n()),parseFloat(n()));return u===u.toLowerCase()&&(t.x=p.x+t.x,t.y=p.y+t.y),t}function r(){return p=o()}function s(){return d=o()}function a(){return"c"!==c.toLowerCase()&&"s"!==c.toLowerCase()?p:new b(2*p.x-d.x,2*p.y-d.y)}void 0===e&&(e=!1),"string"!=typeof t&&Uh.sc(t,"string",V,"parse:str"),t=t.replace(/,/gm," "),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),t=t.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),t=t.replace(/([0-9])([+\-])/gm,"$1 $2"),t=t.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),t=t.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),t=t.replace(/[\s\r\t\n]+/gm," "),t=t.replace(/^\s+|\s+$/g,"");for(var h=t.split(" "),l=-1,u="",c="",f=new b(0,0),d=new b(0,0),p=new b(0,0),g=h.length,m=Uh.u(),v=!1,y=!1,w=!0;!(l>=g-1);)if(c=u,u=n(),""!==u)switch(u.toUpperCase()){case"X":w=!0,y=v=!1;break;case"M":var x=r();for(null===m.Wb||!0===w?(Yo(m,x.x,x.y,v,!1,!y),w=!1):m.moveTo(x.x,x.y),f=p;!i();)x=r(),m.lineTo(x.x,x.y);break;case"L":for(;!i();)x=r(),m.lineTo(x.x,x.y);break;case"H":for(;!i();)p=x=new b((u===u.toLowerCase()?p.x:0)+parseFloat(n()),p.y),m.lineTo(p.x,p.y);break;case"V":for(;!i();)p=x=new b(p.x,(u===u.toLowerCase()?p.y:0)+parseFloat(n())),m.lineTo(p.x,p.y);break;case"C":for(;!i();){var C=o(),k=s(),x=r();Qo(m,C.x,C.y,k.x,k.y,x.x,x.y)}break;case"S":for(;!i();)C=a(),k=s(),x=r(),Qo(m,C.x,C.y,k.x,k.y,x.x,x.y);break;case"Q":for(;!i();)k=s(),x=r(),Zo(m,k.x,k.y,x.x,x.y);break;case"T":for(;!i();)d=k=a(),x=r(),Zo(m,k.x,k.y,x.x,x.y);break;case"B":for(;!i();){var x=parseFloat(n()),C=parseFloat(n()),k=parseFloat(n()),A=parseFloat(n()),S=parseFloat(n()),F=S,E=!1;i()||(F=parseFloat(n()),i()||(E=0!==parseFloat(n()))),u===u.toLowerCase()&&(k+=p.x,A+=p.y),m.arcTo(x,C,k,A,S,F,E)}break;case"A":for(;!i();)C=Math.abs(parseFloat(n())),k=Math.abs(parseFloat(n())),A=parseFloat(n()),S=!!parseFloat(n()),F=!!parseFloat(n()),x=r(),tr(m,C,k,A,S,F,x.x,x.y);break;case"Z":x=m.s.pb.q[m.s.pb.length-1],Jo(m),p=f;break;case"F":for(x="",C=1;h[l+C];)if(null!==h[l+C].match(/[Uu]/))C++;else{if(null!==h[l+C].match(/[A-Za-z]/)){x=h[l+C];break}C++}x.match(/[Mm]/)?v=!0:Xo(m);break;case"U":for(x="",C=1;h[l+C];)if(null!==h[l+C].match(/[Ff]/))C++;else{if(null!==h[l+C].match(/[A-Za-z]/)){x=h[l+C];break}C++}x.match(/[Mm]/)?y=!0:m.eb(!1)}if(f=m.s,Uh.v(m),e)for(m=f.pb.k;m.next();)x=m.value,x.jp=!0;return f},V.prototype.uA=function(){if(this.Ya||this.Tu!==this.pb.W)return!0;for(var t=this.pb.q,e=t.length,i=0;e>i;i++)if(t[i].uA())return!0;return!1},V.prototype.rB=function(){this.Ya=!1,this.Tu=this.pb.W;for(var t=this.pb.q,e=t.length,i=0;e>i;i++)t[i].rB()},V.prototype.tg=function(){var t=this.Du;t.Na(),isNaN(this.$n)||isNaN(this.Zn)?t.o(0,0,0,0):t.o(0,0,this.$n,this.Zn),Y(this,t,!1),T(t,0,0,0,0),t.freeze()},V.prototype.computeBoundsWithoutOrigin=V.prototype.hI=function(){var t=new k;return Y(this,t,!0),t},V.prototype.normalize=V.prototype.normalize=function(){Uh.N(this);var t=this.hI();return this.offset(-t.x,-t.y),new b(-t.x,-t.y)},V.prototype.offset=V.prototype.offset=function(t,e){return Uh.N(this),Vh&&(Uh.p(t,V,"offset"),Uh.p(e,V,"offset")),this.transform(1,0,0,1,t,e),this},V.prototype.scale=V.prototype.scale=function(t,e){return Uh.N(this),Vh&&(Uh.p(t,V,"scale:x"),Uh.p(e,V,"scale:y"),0===t&&Uh.ka(t,"scale must be non-zero",V,"scale:x"),0===e&&Uh.ka(e,"scale must be non-zero",V,"scale:y")),this.transform(t,0,0,e,0,0),this},V.prototype.rotate=V.prototype.rotate=function(t,e,i){Uh.N(this),void 0===e&&(e=0),void 0===i&&(i=0),Vh&&(Uh.p(t,V,"rotate:angle"),Uh.p(e,V,"rotate:x"),Uh.p(i,V,"rotate:y"));var n=Uh.mh();return n.reset(),n.rotate(t,e,i),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),Uh.df(n),this},V.prototype.transform=V.prototype.transform=function(t,e,i,n,o,r){var s=0,a=0;switch(this.type){case Nl:case $l:case Rl:s=this.lc,a=this.vc,this.lc=s*t+a*i+o,this.vc=s*e+a*n+r,s=this.nb,a=this.yb,this.nb=s*t+a*i+o,this.yb=s*e+a*n+r;break;case Ol:for(var h=this.pb.q,l=h.length,u=0;l>u;u++){var c=h[u],s=c.ra,a=c.sa;c.ra=s*t+a*i+o,c.sa=s*e+a*n+r;for(var c=c.Ea.q,f=c.length,d=0;f>d;d++){var p=c[d];switch(p.type){case Hl:case _l:s=p.D,a=p.F,p.D=s*t+a*i+o,p.F=s*e+a*n+r;break;case ql:s=p.Ib,a=p.Ub,p.Ib=s*t+a*i+o,p.Ub=s*e+a*n+r,s=p.ve,a=p.we,p.ve=s*t+a*i+o,p.we=s*e+a*n+r,s=p.D,a=p.F,p.D=s*t+a*i+o,p.F=s*e+a*n+r;break;case Wl:s=p.Ib,a=p.Ub,p.Ib=s*t+a*i+o,p.Ub=s*e+a*n+r,s=p.D,a=p.F,p.D=s*t+a*i+o,p.F=s*e+a*n+r;break;case Gl:s=p.Ca,a=p.Ra,p.Ca=s*t+a*i+o,p.Ra=s*e+a*n+r,p.radiusX*=Math.sqrt(t*t+i*i),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(e*e+n*n));break;case Vl:s=p.D,a=p.F,p.D=s*t+a*i+o,p.F=s*e+a*n+r,p.radiusX*=Math.sqrt(t*t+i*i),p.radiusY*=Math.sqrt(e*e+n*n);break;default:Uh.m("Unknown Segment type: "+p.type)}}}}return this.Ya=!0,this},V.prototype.Ns=function(t,e){var i=this.lc,n=this.vc,o=this.nb,r=this.yb,s=Math.min(i,o),a=Math.min(n,r),i=Math.abs(o-i),n=Math.abs(r-n),r=Uh.M();return r.x=s,r.y=a,e.fb(r),o=new Q(r.x,r.y),r.x=s+i,r.y=a,e.fb(r),o.Ea.add(new Z(Hl,r.x,r.y)),r.x=s+i,r.y=a+n,e.fb(r),o.Ea.add(new Z(Hl,r.x,r.y)),r.x=s,r.y=a+n,e.fb(r),o.Ea.add(new Z(Hl,r.x,r.y).close()),Uh.B(r),t.type=Ol,t.pb.add(o),t},V.prototype.Da=function(t,e,i,n){var o=t.x,r=t.y,s=this.kb.x-20;t=t.y;for(var a=0,h=0,l=0,u=0,c=0,f=0,d=this.pb.q,p=d.length,g=0;p>g;g++){var m=d[g];if(m.jp){if(i&&m.Da(o,r,e))return!0;for(var v=m.Ea,h=m.ra,l=m.sa,y=h,b=l,w=v.q,x=0;x<=v.length;x++){var C,k;switch(x!==v.length?(C=w[x],k=C.type,c=C.D,f=C.F):(k=Hl,c=y,f=b),k){case _l:if(u=J(o,r,s,t,h,l,y,b),isNaN(u))return!0;a+=u,y=c,b=f;break;case Hl:if(u=J(o,r,s,t,h,l,c,f),isNaN(u))return!0;a+=u;break;case ql:u=Bl.$s(h,l,C.Ib,C.Ub,C.ve,C.we,c,f,s,t,o,r,.5),a+=u;break;case Wl:u=Bl.$s(h,l,(h+2*C.Ib)/3,(l+2*C.Ub)/3,(C.Ib+2*c)/3,(C.Ib+2*c)/3,c,f,s,t,o,r,.5),a+=u;break;case Gl:case Vl:k=C.type===Gl?tt(C,m):et(C,m,h,l);for(var A=k.length,S=null,F=0;A>F;F++){if(S=k[F],0===F){if(u=J(o,r,s,t,h,l,S[0],S[1]),isNaN(u))return!0;a+=u}u=Bl.$s(S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7],s,t,o,r,.5),a+=u}null!==S&&(c=S[6],f=S[7]);break;default:Uh.m("Unknown Segment type: "+C.type)}h=c,l=f}if(0!==a)return!0;a=0}else if(m.Da(o,r,n?e:e+2))return!0}return 0!==a},V.prototype.getPointAlongPath=function(t){(0>t||t>1)&&Uh.ka(t,"0 <= fraction <= 1",V,"getPointAlongPath:fraction");var e=this.pb.first(),i=Uh.lb(),n=[];n.push(e.ra),n.push(e.sa);for(var o=e.ra,r=e.sa,s=o,a=r,h=e.Ea.q,l=h.length,u=0;l>u;u++){var c=h[u];switch(c.ha){case _l:i.push(n),n=[],n.push(c.D),n.push(c.F),o=c.D,r=c.F,s=o,a=r;break;case Hl:n.push(c.D),n.push(c.F),o=c.D,r=c.F;break;case ql:Bl.He(o,r,c.fd,c.Be,c.mg,c.ng,c.nb,c.yb,.5,n),o=c.D,r=c.F;break;case Wl:Bl.Ip(o,r,c.fd,c.Be,c.nb,c.yb,.5,n),o=c.D,r=c.F;break;case Gl:for(var f=tt(c,e),d=f.length,p=0;d>p;p++){var g=f[p];Bl.He(o,r,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),o=g[6],r=g[7]}break;case Vl:for(f=et(c,e,o,r),d=f.length,p=0;d>p;p++)g=f[p],Bl.He(o,r,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),o=g[6],r=g[7];break;default:Uh.m("Segment not of valid type")}c.Ah&&(n.push(s),n.push(a))}for(i.push(n),f=0,s=i.length,a=n=e=0;s>a;a++)for(h=i[a],l=h.length,u=0;l>u;u+=2)o=h[u],r=h[u+1],0!==u&&(c=Math.sqrt(Xh(e,n,o,r)),f+=c),e=o,n=r;for(t*=f,a=f=0;s>a;a++)for(h=i[a],l=h.length,u=0;l>u;u++){if(o=h[u],r=h[u+1],0!==u){if(c=Math.sqrt(Xh(e,n,o,r)),f+c>t)return u=(t-f)/c,Uh.xa(i),new b(e+(o-e)*u,n+(r-n)*u);f+=c}e=o,n=r}return Uh.xa(i),null},Uh.g(V,"type",V.prototype.type),Uh.defineProperty(V,{type:"type"},function(){return this.ha},function(t){this.ha!==t&&(Vh&&Uh.za(t,V,V,"type"),Uh.N(this,t),this.ha=t,this.Ya=!0)}),Uh.g(V,"startX",V.prototype.ra),Uh.defineProperty(V,{ra:"startX"},function(){return this.lc},function(t){this.lc!==t&&(Vh&&Uh.p(t,V,"startX"),Uh.N(this,t),this.lc=t,this.Ya=!0)}),Uh.g(V,"startY",V.prototype.sa),Uh.defineProperty(V,{sa:"startY"},function(){return this.vc},function(t){this.vc!==t&&(Vh&&Uh.p(t,V,"startY"),Uh.N(this,t),this.vc=t,this.Ya=!0)}),Uh.g(V,"endX",V.prototype.D),Uh.defineProperty(V,{D:"endX"},function(){return this.nb},function(t){this.nb!==t&&(Vh&&Uh.p(t,V,"endX"),Uh.N(this,t),this.nb=t,this.Ya=!0)}),Uh.g(V,"endY",V.prototype.F),Uh.defineProperty(V,{F:"endY"},function(){return this.yb},function(t){this.yb!==t&&(Vh&&Uh.p(t,V,"endY"),Uh.N(this,t),this.yb=t,this.Ya=!0)}),Uh.g(V,"figures",V.prototype.pb),Uh.defineProperty(V,{pb:"figures"},function(){return this.ij},function(t){this.ij!==t&&(Vh&&Uh.l(t,l,V,"figures"),Uh.N(this,t),this.ij=t,this.Ya=!0)}),V.prototype.add=V.prototype.add=function(t){return this.ij.add(t),this},Uh.defineProperty(V,{G:"spot1"},function(){return this.zi},function(t){Vh&&Uh.l(t,P,V,"spot1"),Uh.N(this,t),this.zi=t.ba()}),Uh.defineProperty(V,{H:"spot2"},function(){return this.Ai},function(t){Vh&&Uh.l(t,P,V,"spot2"),Uh.N(this,t),this.Ai=t.ba()}),Uh.defineProperty(V,{ud:"defaultStretch"},function(){return this.ji},function(t){Vh&&Uh.za(t,Sn,V,"stretch"),Uh.N(this,t),this.ji=t}),Uh.A(V,{kb:"bounds"},function(){return this.uA()&&(this.rB(),this.tg()),this.Du}),Uh.ja("PathFigure",Q),Uh.Ph(Q),Q.prototype.copy=function(){var t=new Q;t.Xl=this.Xl,t.ao=this.ao,t.lc=this.lc,t.vc=this.vc;for(var e=this.so.q,i=e.length,n=t.so,o=0;i>o;o++){var r=e[o].copy();n.add(r)}return t.Lv=this.Lv,t.Ya=this.Ya,t},Q.prototype.equalsApprox=Q.prototype.Ne=function(t){if(!(t instanceof Q&&Bl.I(this.ra,t.ra)&&Bl.I(this.sa,t.sa)))return!1;var e=this.Ea.q;t=t.Ea.q;var i=e.length;if(i!==t.length)return!1;for(var n=0;i>n;n++)if(!e[n].Ne(t[n]))return!1;return!0},Wh=Q.prototype,Wh.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.ra.toString()+" "+this.sa.toString():"M"+this.ra.toFixed(t)+" "+this.sa.toFixed(t),i=this.Ea.q,n=i.length,o=0;n>o;o++)e+=" "+i[o].toString(t);return e},Wh.freeze=function(){this.Qa=!0;var t=this.Ea;t.freeze();for(var e=t.q,t=t.length,i=0;t>i;i++)e[i].freeze();return this},Wh.Na=function(){this.Qa=!1;var t=this.Ea;t.Na();for(var t=t.q,e=t.length,i=0;e>i;i++)t[i].Na();return this},Wh.uA=function(){if(this.Ya)return!0;var t=this.Ea;if(this.Lv!==t.W)return!0;for(var t=t.q,e=t.length,i=0;e>i;i++)if(t[i].Ya)return!0;return!1},Wh.rB=function(){this.Ya=!1;var t=this.Ea;this.Lv=t.W;for(var t=t.q,e=t.length,i=0;e>i;i++){var n=t[i];n.Ya=!1,n.aj=null}},Uh.g(Q,"isFilled",Q.prototype.jp),Uh.defineProperty(Q,{jp:"isFilled"},function(){return this.Xl},function(t){Vh&&Uh.i(t,"boolean",Q,"isFilled"),Uh.N(this,t),this.Xl=t}),Uh.g(Q,"isShadowed",Q.prototype.Ti),Uh.defineProperty(Q,{Ti:"isShadowed"},function(){return this.ao},function(t){Vh&&Uh.i(t,"boolean",Q,"isShadowed"),Uh.N(this,t),this.ao=t}),Uh.g(Q,"startX",Q.prototype.ra),Uh.defineProperty(Q,{ra:"startX"},function(){return this.lc},function(t){Vh&&Uh.p(t,Q,"startX"),Uh.N(this,t),this.lc=t,this.Ya=!0}),Uh.g(Q,"startY",Q.prototype.sa),Uh.defineProperty(Q,{sa:"startY"},function(){return this.vc},function(t){Vh&&Uh.p(t,Q,"startY"),Uh.N(this,t),this.vc=t,this.Ya=!0}),Uh.g(Q,"segments",Q.prototype.Ea),Uh.defineProperty(Q,{Ea:"segments"},function(){return this.so},function(t){Vh&&Uh.l(t,l,Q,"segments"),Uh.N(this,t),this.so=t,this.Ya=!0}),Q.prototype.add=Q.prototype.add=function(t){return this.so.add(t),this},Q.prototype.Da=function(t,e,i){for(var n=this.ra,o=this.sa,r=n,s=o,a=this.Ea.q,h=a.length,l=0;h>l;l++){var u=a[l];switch(u.type){case _l:r=u.D,s=u.F,n=u.D,o=u.F;break;case Hl:if(Bl.Pd(n,o,u.D,u.F,i,t,e))return!0;n=u.D,o=u.F;break;case ql:if(Bl.kw(n,o,u.Ib,u.Ub,u.ve,u.we,u.D,u.F,.5,t,e,i))return!0;n=u.D,o=u.F;break;case Wl:if(Bl.LA(n,o,u.Ib,u.Ub,u.D,u.F,.5,t,e,i))return!0;n=u.D,o=u.F;break;case Gl:case Vl:for(var c=u.type===Gl?tt(u,this):et(u,this,n,o),f=c.length,d=null,p=0;f>p;p++)if(d=c[p],0===p&&Bl.Pd(n,o,d[0],d[1],i,t,e)||Bl.kw(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],.5,t,e,i))return!0;null!==d&&(n=d[6],o=d[7]);break;default:Uh.m("Unknown Segment type: "+u.type)}if(u.xt&&(n!==r||o!==s)&&Bl.Pd(n,o,r,s,i,t,e))return!0}return!1},Uh.ja("PathSegment",Z),Uh.Ph(Z),Z.prototype.copy=function(){var t=new Z;return t.ha=this.ha,t.nb=this.nb,t.yb=this.yb,void 0!==this.fd&&(t.fd=this.fd),void 0!==this.Be&&(t.Be=this.Be),void 0!==this.mg&&(t.mg=this.mg),void 0!==this.ng&&(t.ng=this.ng),void 0!==this.io&&(t.io=this.io),void 0!==this.zn&&(t.zn=this.zn),t.Ah=this.Ah,t.Ya=this.Ya,t},Z.prototype.equalsApprox=Z.prototype.Ne=function(t){if(!(t instanceof Z)||this.type!==t.type||this.xt!==t.xt)return!1;switch(this.type){case _l:case Hl:return Bl.I(this.D,t.D)&&Bl.I(this.F,t.F);case ql:return Bl.I(this.D,t.D)&&Bl.I(this.F,t.F)&&Bl.I(this.Ib,t.Ib)&&Bl.I(this.Ub,t.Ub)&&Bl.I(this.ve,t.ve)&&Bl.I(this.we,t.we);case Wl:return Bl.I(this.D,t.D)&&Bl.I(this.F,t.F)&&Bl.I(this.Ib,t.Ib)&&Bl.I(this.Ub,t.Ub);case Gl:return Bl.I(this.lh,t.lh)&&Bl.I(this.Yh,t.Yh)&&Bl.I(this.Ca,t.Ca)&&Bl.I(this.Ra,t.Ra)&&Bl.I(this.radiusX,t.radiusX)&&Bl.I(this.radiusY,t.radiusY);case Vl:return this.Uw===t.Uw&&this.Ww===t.Ww&&Bl.I(this.Kx,t.Kx)&&Bl.I(this.D,t.D)&&Bl.I(this.F,t.F)&&Bl.I(this.radiusX,t.radiusX)&&Bl.I(this.radiusY,t.radiusY);default:return!1}},Z.prototype.toString=function(t){void 0===t&&(t=-1);var e="";switch(this.type){case _l:e=0>t?"M"+this.D.toString()+" "+this.F.toString():"M"+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case Hl:e=0>t?"L"+this.D.toString()+" "+this.F.toString():"L"+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case ql:e=0>t?"C"+this.Ib.toString()+" "+this.Ub.toString()+" "+this.ve.toString()+" "+this.we.toString()+" "+this.D.toString()+" "+this.F.toString():"C"+this.Ib.toFixed(t)+" "+this.Ub.toFixed(t)+" "+this.ve.toFixed(t)+" "+this.we.toFixed(t)+" "+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case Wl:e=0>t?"Q"+this.Ib.toString()+" "+this.Ub.toString()+" "+this.D.toString()+" "+this.F.toString():"Q"+this.Ib.toFixed(t)+" "+this.Ub.toFixed(t)+" "+this.D.toFixed(t)+" "+this.F.toFixed(t);break;case Gl:e=0>t?"B"+this.lh.toString()+" "+this.Yh.toString()+" "+this.Ca.toString()+" "+this.Ra.toString()+" "+this.radiusX:"B"+this.lh.toFixed(t)+" "+this.Yh.toFixed(t)+" "+this.Ca.toFixed(t)+" "+this.Ra.toFixed(t)+" "+this.radiusX;break;case Vl:e=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Kx.toString()+" "+(this.Ww?1:0)+" "+(this.Uw?1:0)+" "+this.D.toString()+" "+this.F.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.Kx.toFixed(t)+" "+(this.Ww?1:0)+" "+(this.Uw?1:0)+" "+this.D.toFixed(t)+" "+this.F.toFixed(t);break;default:e=this.type.toString()}return e+(this.Ah?"z":"")};var _l;Z.Move=_l=Uh.w(Z,"Move",0);var Hl;Z.Line=Hl=Uh.w(Z,"Line",1);var ql;Z.Bezier=ql=Uh.w(Z,"Bezier",2);var Wl;Z.QuadraticBezier=Wl=Uh.w(Z,"QuadraticBezier",3);var Gl;Z.Arc=Gl=Uh.w(Z,"Arc",4);var Vl;Z.SvgArc=Vl=Uh.w(Z,"SvgArc",4),Z.prototype.freeze=function(){return this.Qa=!0,this},Z.prototype.Na=function(){return this.Qa=!1,this},Z.prototype.close=Z.prototype.close=function(){return this.Ah=!0,this},Uh.g(Z,"isClosed",Z.prototype.xt),Uh.defineProperty(Z,{xt:"isClosed"},function(){return this.Ah},function(t){this.Ah!==t&&(this.Ah=t,this.Ya=!0)}),Uh.g(Z,"type",Z.prototype.type),Uh.defineProperty(Z,{type:"type"},function(){return this.ha},function(t){Vh&&Uh.za(t,Z,Z,"type"),Uh.N(this,t),this.ha=t,this.Ya=!0}),Uh.g(Z,"endX",Z.prototype.D),Uh.defineProperty(Z,{D:"endX"},function(){return this.nb},function(t){Vh&&Uh.p(t,Z,"endX"),Uh.N(this,t),this.nb=t,this.Ya=!0}),Uh.g(Z,"endY",Z.prototype.F),Uh.defineProperty(Z,{F:"endY"},function(){return this.yb},function(t){Vh&&Uh.p(t,Z,"endY"),Uh.N(this,t),this.yb=t,this.Ya=!0}),Uh.defineProperty(Z,{Ib:"point1X"},function(){return this.fd},function(t){Vh&&Uh.p(t,Z,"point1X"),Uh.N(this,t),this.fd=t,this.Ya=!0}),Uh.defineProperty(Z,{Ub:"point1Y"},function(){return this.Be},function(t){Vh&&Uh.p(t,Z,"point1Y"),Uh.N(this,t),this.Be=t,this.Ya=!0}),Uh.defineProperty(Z,{ve:"point2X"},function(){return this.mg},function(t){Vh&&Uh.p(t,Z,"point2X"),Uh.N(this,t),this.mg=t,this.Ya=!0}),Uh.defineProperty(Z,{we:"point2Y"},function(){return this.ng},function(t){Vh&&Uh.p(t,Z,"point2Y"),Uh.N(this,t),this.ng=t,this.Ya=!0}),Uh.defineProperty(Z,{Ca:"centerX"},function(){return this.fd},function(t){Vh&&Uh.p(t,Z,"centerX"),Uh.N(this,t),this.fd=t,this.Ya=!0}),Uh.defineProperty(Z,{Ra:"centerY"},function(){return this.Be},function(t){Vh&&Uh.p(t,Z,"centerY"),Uh.N(this,t),this.Be=t,this.Ya=!0}),Uh.defineProperty(Z,{radiusX:"radiusX"},function(){return this.mg},function(t){Vh&&Uh.p(t,Z,"radiusX"),0>t&&Uh.ka(t,">= zero",Z,"radiusX"),Uh.N(this,t),this.mg=t,this.Ya=!0}),Uh.defineProperty(Z,{radiusY:"radiusY"},function(){return this.ng},function(t){Vh&&Uh.p(t,Z,"radiusY"),0>t&&Uh.ka(t,">= zero",Z,"radiusY"),Uh.N(this,t),this.ng=t,this.Ya=!0}),Uh.defineProperty(Z,{lh:"startAngle"},function(){return this.nb},function(t){this.nb!==t&&(Uh.N(this,t),Vh&&Uh.p(t,Z,"startAngle"),t%=360,0>t&&(t+=360),this.nb=t,this.Ya=!0)}),Uh.defineProperty(Z,{Yh:"sweepAngle"},function(){return this.yb},function(t){Vh&&Uh.p(t,Z,"sweepAngle"),Uh.N(this,t),t>360&&(t=360),-360>t&&(t=-360),this.yb=t,this.Ya=!0}),Uh.defineProperty(Z,{Uw:"isClockwiseArc"},function(){return this.zn},function(t){Uh.N(this,t),this.zn=t,this.Ya=!0}),Uh.defineProperty(Z,{Ww:"isLargeArc"},function(){return this.io},function(t){Uh.N(this,t),this.io=t,this.Ya=!0}),Uh.defineProperty(Z,{Kx:"xAxisRotation"},function(){return this.fd},function(t){Vh&&Uh.p(t,Z,"xAxisRotation"),t%=360,0>t&&(t+=360),Uh.N(this,t),this.fd=t,this.Ya=!0}),Uh.ja("InputEvent",it),it.prototype.copy=function(){var t=new it;return t.Y=this.Y,t.zz.assign(this.We),t.zy.assign(this.fa),t.vv=this.vv,t.Au=this.Au,t.jv=this.jv,t.Qu=this.Qu,t.Zv=this.Zv,t.Cu=this.Cu,t.Mu=this.Mu,t.fv=this.fv,t.Xu=this.Xu,t.bj=this.bj,t.Hq=this.Hq,t.Yv=this.Yv,t.Wv=this.Wv,t.og=this.og,t},it.prototype.toString=function(){var t="^";return 0!==this.Zc&&(t+="M:"+this.Zc),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.Je&&(t+="C:"+this.Je),0!==this.Yj&&(t+="D:"+this.Yj),this.Nc&&(t+="h"),this.bubbles&&(t+="b"),null!==this.fa&&(t+="@"+this.fa.toString()),t},Uh.g(it,"diagram",it.prototype.h),Uh.defineProperty(it,{h:"diagram"},function(){return this.Y},function(t){this.Y=t}),Uh.g(it,"viewPoint",it.prototype.We),Uh.defineProperty(it,{We:"viewPoint"},function(){return this.zz},function(t){Uh.l(t,b,it,"viewPoint"),this.zz.assign(t)}),Uh.g(it,"documentPoint",it.prototype.fa),Uh.defineProperty(it,{fa:"documentPoint"},function(){return this.zy},function(t){Uh.l(t,b,it,"documentPoint"),this.zy.assign(t)}),Uh.g(it,"modifiers",it.prototype.Zc),Uh.defineProperty(it,{Zc:"modifiers"},function(){return this.vv},function(t){this.vv=t}),Uh.g(it,"button",it.prototype.button),Uh.defineProperty(it,{button:"button"},function(){return this.Au},function(t){this.Au=t}),Uh.g(it,"key",it.prototype.key),Uh.defineProperty(it,{key:"key"},function(){return this.jv},function(t){this.jv=t}),Uh.g(it,"down",it.prototype.ak),Uh.defineProperty(it,{ak:"down"},function(){return this.Qu},function(t){this.Qu=t}),Uh.g(it,"up",it.prototype.up),Uh.defineProperty(it,{up:"up"},function(){return this.Zv},function(t){this.Zv=t}),Uh.g(it,"clickCount",it.prototype.Je),Uh.defineProperty(it,{Je:"clickCount"},function(){return this.Cu},function(t){this.Cu=t}),Uh.g(it,"delta",it.prototype.Yj),Uh.defineProperty(it,{Yj:"delta"},function(){return this.Mu},function(t){this.Mu=t}),Uh.defineProperty(it,{At:"isMultiTouch"},function(){return this.fv},function(t){this.fv=t}),Uh.g(it,"handled",it.prototype.Nc),Uh.defineProperty(it,{Nc:"handled"},function(){return this.Xu},function(t){this.Xu=t}),Uh.g(it,"bubbles",it.prototype.bubbles),Uh.defineProperty(it,{bubbles:"bubbles"},function(){return this.bj},function(t){this.bj=t}),Uh.g(it,"event",it.prototype.event),Uh.defineProperty(it,{event:"event"},function(){return this.Hq},function(t){this.Hq=t}),Uh.A(it,{ul:"isTouchEvent"},function(){var e=t.TouchEvent;return e&&this.event instanceof e?!0:(e=t.PointerEvent)&&this.event instanceof e&&"touch"===this.event.pointerType}),Uh.g(it,"timestamp",it.prototype.timestamp),Uh.defineProperty(it,{timestamp:"timestamp"},function(){return this.Yv},function(t){this.Yv=t}),Uh.g(it,"targetDiagram",it.prototype.Zf),Uh.defineProperty(it,{Zf:"targetDiagram"},function(){return this.Wv},function(t){this.Wv=t}),Uh.g(it,"targetObject",it.prototype.he),Uh.defineProperty(it,{he:"targetObject"},function(){return this.og},function(t){this.og=t}),Uh.g(it,"control",it.prototype.control),Uh.defineProperty(it,{control:"control"},function(){return 0!==(1&this.Zc)},function(t){this.Zc=t?1|this.Zc:-2&this.Zc}),Uh.g(it,"shift",it.prototype.shift),Uh.defineProperty(it,{shift:"shift"},function(){return 0!==(4&this.Zc)},function(t){this.Zc=t?4|this.Zc:-5&this.Zc}),Uh.g(it,"alt",it.prototype.alt),Uh.defineProperty(it,{alt:"alt"},function(){return 0!==(2&this.Zc)},function(t){this.Zc=t?2|this.Zc:-3&this.Zc}),Uh.g(it,"meta",it.prototype.yp),Uh.defineProperty(it,{yp:"meta"},function(){return 0!==(8&this.Zc)},function(t){this.Zc=t?8|this.Zc:-9&this.Zc}),Uh.g(it,"left",it.prototype.left),Uh.defineProperty(it,{left:"left"},function(){return 0===this.button},function(t){this.button=t?0:2}),Uh.g(it,"middle",it.prototype.qJ),Uh.defineProperty(it,{qJ:"middle"},function(){return 1===this.button},function(t){this.button=t?1:0}),Uh.g(it,"right",it.prototype.right),Uh.defineProperty(it,{right:"right"},function(){return 2===this.button},function(t){this.button=t?2:0}),Uh.ja("DiagramEvent",nt),nt.prototype.copy=function(){var t=new nt;return t.Y=this.Y,t.Xb=this.Xb,t.Rv=this.Rv,t.Dv=this.Dv,t.Bu=this.Bu,t},nt.prototype.toString=function(){var t="*"+this.name;return this.cancel&&(t+="x"),null!==this.Fx&&(t+=":"+this.Fx.toString()),null!==this.sx&&(t+="("+this.sx.toString()+")"),t},Uh.g(nt,"diagram",nt.prototype.h),Uh.defineProperty(nt,{h:"diagram"},function(){return this.Y},function(t){this.Y=t}),Uh.g(nt,"name",nt.prototype.name),Uh.defineProperty(nt,{name:"name"},function(){return this.Xb},function(t){this.Xb=t}),Uh.g(nt,"subject",nt.prototype.Fx),Uh.defineProperty(nt,{Fx:"subject"},function(){return this.Rv},function(t){this.Rv=t}),Uh.g(nt,"parameter",nt.prototype.sx),Uh.defineProperty(nt,{sx:"parameter"},function(){return this.Dv},function(t){this.Dv=t}),Uh.g(nt,"cancel",nt.prototype.cancel),Uh.defineProperty(nt,{cancel:"cancel"},function(){return this.Bu},function(t){this.Bu=t}),Uh.ja("ChangedEvent",ot);var Ul;ot.Transaction=Ul=Uh.w(ot,"Transaction",-1);var Kl;ot.Property=Kl=Uh.w(ot,"Property",0);var Yl;ot.Insert=Yl=Uh.w(ot,"Insert",1);var Jl;ot.Remove=Jl=Uh.w(ot,"Remove",2),ot.prototype.clear=ot.prototype.clear=function(){this.Kr=this.Lr=this.Rr=this.Sr=this.Qr=this.Y=this.Ud=null},ot.prototype.copy=function(){var t=new ot;t.Ud=this.Ud,t.Y=this.Y,t.nq=this.nq,t.uv=this.uv,t.mm=this.mm,t.Qr=this.Qr;var e=this.Sr;return t.Sr=Uh.Xa(e)&&"function"==typeof e.ba?e.ba():e,e=this.Rr,t.Rr=Uh.Xa(e)&&"function"==typeof e.ba?e.ba():e,e=this.Lr,t.Lr=Uh.Xa(e)&&"function"==typeof e.ba?e.ba():e,e=this.Kr,t.Kr=Uh.Xa(e)&&"function"==typeof e.ba?e.ba():e,t},ot.prototype.toString=function(){var t="",t=this.td===Ul?t+"* ":this.td===Kl?t+(null!==this.ga?"!m":"!d"):t+((null!==this.ga?"!m":"!d")+this.td);return this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.Bf&&this.Bf!==this.propertyName&&(t+=" "+this.Bf),t+=": ",this.td===Ul?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=tu(this.object)),null!==this.oldValue&&(t+="  old: "+tu(this.oldValue)),null!==this.Yf&&(t+=" "+this.Yf),null!==this.newValue&&(t+="  new: "+tu(this.newValue)),null!==this.Wf&&(t+=" "+this.Wf)),t},ot.prototype.getValue=ot.prototype.Aa=function(t){return t?this.oldValue:this.newValue},ot.prototype.getParam=function(t){return t?this.Yf:this.Wf},ot.prototype.canUndo=ot.prototype.canUndo=function(){return null!==this.ga||null!==this.h?!0:!1},ot.prototype.undo=ot.prototype.undo=function(){this.canUndo()&&(null!==this.ga?this.ga.Im(this,!0):null!==this.h&&this.h.Im(this,!0))},ot.prototype.canRedo=ot.prototype.canRedo=function(){return null!==this.ga||null!==this.h?!0:!1},ot.prototype.redo=ot.prototype.redo=function(){this.canRedo()&&(null!==this.ga?this.ga.Im(this,!1):null!==this.h&&this.h.Im(this,!1))},Uh.g(ot,"model",ot.prototype.ga),Uh.defineProperty(ot,{ga:"model"},function(){return this.Ud},function(t){this.Ud=t}),Uh.g(ot,"diagram",ot.prototype.h),Uh.defineProperty(ot,{h:"diagram"},function(){return this.Y},function(t){this.Y=t}),Uh.g(ot,"change",ot.prototype.td),Uh.defineProperty(ot,{td:"change"},function(){return this.nq},function(t){Vh&&Uh.za(t,ot,ot,"change"),this.nq=t}),Uh.g(ot,"modelChange",ot.prototype.Bf),Uh.defineProperty(ot,{Bf:"modelChange"},function(){return this.uv},function(t){Vh&&Uh.i(t,"string",ot,"modelChange"),this.uv=t}),Uh.g(ot,"propertyName",ot.prototype.propertyName),Uh.defineProperty(ot,{propertyName:"propertyName"},function(){return this.mm},function(t){Vh&&"string"!=typeof t&&Uh.i(t,"function",ot,"propertyName"),this.mm=t}),Uh.g(ot,"isTransactionFinished",ot.prototype.bJ),Uh.A(ot,{bJ:"isTransactionFinished"},function(){return this.nq===Ul&&("CommittedTransaction"===this.mm||"FinishedUndo"===this.mm||"FinishedRedo"===this.mm)}),Uh.g(ot,"object",ot.prototype.object),Uh.defineProperty(ot,{object:"object"},function(){return this.Qr},function(t){this.Qr=t}),Uh.g(ot,"oldValue",ot.prototype.oldValue),Uh.defineProperty(ot,{oldValue:"oldValue"},function(){return this.Sr},function(t){this.Sr=t}),Uh.g(ot,"oldParam",ot.prototype.Yf),Uh.defineProperty(ot,{Yf:"oldParam"},function(){return this.Rr},function(t){this.Rr=t}),Uh.g(ot,"newValue",ot.prototype.newValue),Uh.defineProperty(ot,{newValue:"newValue"},function(){return this.Lr},function(t){this.Lr=t}),Uh.g(ot,"newParam",ot.prototype.Wf),Uh.defineProperty(ot,{Wf:"newParam"},function(){return this.Kr},function(t){this.Kr=t}),Uh.ja("Model",rt),rt.prototype.clear=rt.prototype.clear=function(){this.sf=[],this.zc.clear(),this.vh.clear(),this.la.clear()},Wh=rt.prototype,Wh.iu=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.Wj&&(t+=',\n  "dataFormat": '+this.quote(this.Wj)),this.hb&&(t+=',\n  "isReadOnly": '+this.hb),"key"!==this.Vi&&"string"==typeof this.Vi&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.Vi)),this.tw&&(t+=',\n  "copiesArrays": true'),this.sw&&(t+=',\n  "copiesArrayObjects": true'),"category"!==this.xl&&"string"==typeof this.xl&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.xl)),t},Wh.uB=function(){var t,e="",i=this.zp,n=!1;for(t in i)if(!at(t,i[t])){n=!0;break}return n&&(e=',\n  "modelData": '+lt(this,i)),e+',\n  "nodeDataArray": '+st(this,this.Fg,!0)},Wh.St=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.Wj=t.dataFormat),t.isReadOnly&&(this.hb=t.isReadOnly),t.nodeKeyProperty&&(this.Vi=t.nodeKeyProperty),t.copiesArrays&&(this.tw=t.copiesArrays),t.copiesArrayObjects&&(this.sw=t.copiesArrayObjects),t.nodeCategoryProperty&&(this.xl=t.nodeCategoryProperty)},Wh.NA=function(t){var e=t.modelData;Uh.Xa(e)&&(this.Ut(e),this.zp=e),t=t.nodeDataArray,Uh.isArray(t)&&(this.Ut(t),this.Fg=t)},Wh.toString=function(t){if(void 0===t&&(t=0),t>1)return this.nB();var e=(""!==this.name?this.name:"")+" Model";if(t>0){e+="\n node data:",t=this.Fg;for(var i=Uh.ub(t),n=0;i>n;n++)var o=Uh.jb(t,n),e=e+(" "+this.Bb(o)+":"+tu(o))}return e},rt.prototype.toJson=rt.prototype.toJSON=rt.prototype.nB=function(t){return void 0===t&&(t=this.constructor===rt?"go.Model":this.constructor===bt?"go.GraphLinksModel":this.constructor===xt?"go.TreeModel":Uh.yg(this)),'{ "class": '+this.quote(t)+this.iu()+this.uB()+"}"},rt.fromJson=rt.fromJSON=function(e,i){void 0===i&&(i=null),null!==i&&Uh.l(i,rt,rt,"fromJson:model");var n=null;if("string"==typeof e)if(t.JSON&&t.JSON.parse)try{n=t.JSON.parse(e)}catch(o){Vh&&Uh.trace("JSON.parse error: "+o.toString())}else Uh.trace("WARNING: no JSON.parse available");else"object"==typeof e?n=e:Uh.m("Unable to construct a Model from: "+e);if(null===i){var r;r=null;var s=n["class"];if("string"==typeof s)try{var a=null;0===s.indexOf("go.")?(s=s.substr(3),a=Gh[s]):(a=Gh[s],void 0===a&&(a=t[s])),"function"==typeof a&&(r=new a)}catch(h){}null===r||r instanceof rt?i=r:Uh.m("Unable to construct a Model of declared class: "+n["class"])}return null===i&&(i=new bt),i.St(n),i.NA(n),i},rt.prototype.replaceJsonObjects=rt.prototype.Ut=function(t){if(Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++){var n=Uh.jb(t,i);Uh.Xa(n)&&Uh.RD(t,i,this.Ut(n))}else if(Uh.Xa(t)){for(i in t)if(n=t[i],Uh.Xa(n)&&(n=this.Ut(n),t[i]=n,"points"===i&&Array.isArray(n))){for(var o=0===n.length%2,r=0;r<n.length;r++)if("number"!=typeof n[r]){o=!1;break}if(o){for(o=new l(b),r=0;r<n.length/2;r++){var s=new b(n[2*r],n[2*r+1]);o.add(s)}o.freeze(),t[i]=o}}if("object"==typeof t){if(i=t,n=t["class"],"NaN"===n)i=NaN;else if("Date"===n)i=new Date(t.value);else if("go.Point"===n)i=new b(ut(t.x),ut(t.y));else if("go.Size"===n)i=new C(ut(t.width),ut(t.height));else if("go.Rect"===n)i=new k(ut(t.x),ut(t.y),ut(t.width),ut(t.height));else if("go.Margin"===n)i=new M(ut(t.top),ut(t.right),ut(t.bottom),ut(t.left));else if("go.Spot"===n)i="string"==typeof t["enum"]?tl(t["enum"]):new P(ut(t.x),ut(t.y),ut(t.offsetX),ut(t.offsetY));else if("go.Brush"===n){if(i=new An,i.type=Kh(An,t.type),t.start instanceof P&&(i.start=t.start),t.end instanceof P&&(i.end=t.end),"number"==typeof t.startRadius&&(i.Up=ut(t.startRadius)),"number"==typeof t.endRadius&&(i.Uo=ut(t.endRadius)),t=t.colorStops,Uh.Xa(t))for(e in t)i.addColorStop(parseFloat(e),t[e])}else"go.Geometry"===n&&(e=null,e="string"==typeof t.path?zl(t.path):new V,e.type=Kh(V,t.type),"number"==typeof t.startX&&(e.ra=ut(t.startX)),"number"==typeof t.startY&&(e.sa=ut(t.startY)),"number"==typeof t.endX&&(e.D=ut(t.endX)),"number"==typeof t.endY&&(e.F=ut(t.endY)),t.spot1 instanceof P&&(e.G=t.spot1),t.spot2 instanceof P&&(e.H=t.spot2),i=e);t=i}}return t},rt.prototype.quote=function(t){for(var e="",i=t.length,n=0;i>n;n++)var o=t[n],e='"'===o||"\\"===o?e+("\\"+o):"\b"===o?e+"\\b":"\f"===o?e+"\\f":"\n"===o?e+"\\n":"\r"===o?e+"\\r":"	"===o?e+"\\t":e+o;
return'"'+e+'"'},rt.prototype.writeJsonValue=rt.prototype.ju=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?1/0===t?"9e9999":-(1/0)===t?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.ju(t.valueOf()):Uh.isArray(t)?st(this,t):Uh.Xa(t)?lt(this,t):"function"==typeof t?"null":t.toString()},Uh.g(rt,"name",rt.prototype.name),Uh.defineProperty(rt,{name:"name"},function(){return this.Xb},function(t){var e=this.Xb;e!==t&&(Uh.i(t,"string",rt,"name"),this.Xb=t,this.j("name",e,t))}),Uh.g(rt,"dataFormat",rt.prototype.Wj),Uh.defineProperty(rt,{Wj:"dataFormat"},function(){return this.ty},function(t){var e=this.ty;e!==t&&(Uh.i(t,"string",rt,"dataFormat"),this.ty=t,this.j("dataFormat",e,t))}),Uh.g(rt,"isReadOnly",rt.prototype.hb),Uh.defineProperty(rt,{hb:"isReadOnly"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Uh.i(t,"boolean",rt,"isReadOnly"),this.Nk=t,this.j("isReadOnly",e,t))}),Uh.g(rt,"modelData",rt.prototype.zp),Uh.defineProperty(rt,{zp:"modelData"},function(){return this.Yy},function(t){var e=this.Yy;e!==t&&(Uh.i(t,"object",rt,"modelData"),this.Yy=t,this.j("modelData",e,t),this.Rb(t))}),rt.prototype.addChangedListener=rt.prototype.Fz=function(t){Uh.i(t,"function",rt,"addChangedListener:listener"),null===this.tj&&(this.tj=new l("function")),this.tj.add(t)},rt.prototype.removeChangedListener=rt.prototype.RA=function(t){Uh.i(t,"function",rt,"removeChangedListener:listener"),null!==this.tj&&(this.tj.remove(t),0===this.tj.count&&(this.tj=null))},rt.prototype.lw=function(t){if(this.$a||this.la.UE(t),null!==this.tj){var e=this.tj,i=e.length;if(1===i)(e=e.na(0))(t);else if(0!==i)for(var n=e.Ue(),o=0;i>o;o++)(e=n[o])(t)}},rt.prototype.raiseChangedEvent=rt.prototype.Gc=function(t,e,i,n,o,r,s){ct(this,"",t,e,i,n,o,r,s)},rt.prototype.raiseChanged=rt.prototype.j=function(t,e,i,n,o){ct(this,"",Kl,t,this,e,i,n,o)},rt.prototype.raiseDataChanged=rt.prototype.MA=function(t,e,i,n,o,r){ct(this,"",Kl,e,t,i,n,o,r)},Uh.g(rt,"undoManager",rt.prototype.la),Uh.defineProperty(rt,{la:"undoManager"},function(){return this.yz},function(t){var e=this.yz;e!==t&&(Uh.l(t,St,rt,"undoManager"),null!==e&&e.KJ(this),this.yz=t,null!==t&&t.HH(this))}),Uh.g(rt,"skipsUndoManager",rt.prototype.$a),Uh.defineProperty(rt,{$a:"skipsUndoManager"},function(){return this.yi},function(t){Uh.i(t,"boolean",rt,"skipsUndoManager"),this.yi=t}),rt.prototype.Im=function(t,e){if(null!==t&&t.ga===this)if(t.td===Kl){var i=t.object,n=t.propertyName,o=t.Aa(e);Uh.Sa(i,n,o)}else t.td===Yl?"nodeDataArray"===t.Bf?(i=t.newValue,Uh.Xa(i)&&(n=this.Bb(i),void 0!==n&&(e?(Uh.Ji(this.sf,t.Wf),this.zc.remove(n)):(Uh.Ii(this.sf,t.Wf,i),this.zc.add(n,i))))):""===t.Bf?(i=t.object,!Uh.isArray(i)&&t.propertyName&&(i=Uh.wb(t.object,t.propertyName)),Uh.isArray(i)&&(n=t.newValue,o=t.Wf,e?Uh.Ji(i,o):Uh.Ii(i,o,n))):Uh.m("unknown ChangedEvent.Insert object: "+t.toString()):t.td===Jl?"nodeDataArray"===t.Bf?(i=t.oldValue,Uh.Xa(i)&&(n=this.Bb(i),void 0!==n&&(e?(Uh.Ii(this.sf,t.Yf,i),this.zc.add(n,i)):(Uh.Ji(this.sf,t.Yf),this.zc.remove(n))))):""===t.Bf?(i=t.object,!Uh.isArray(i)&&t.propertyName&&(i=Uh.wb(t.object,t.propertyName)),Uh.isArray(i)&&(n=t.oldValue,o=t.Yf,e?Uh.Ii(i,o,n):Uh.Ji(i,o))):Uh.m("unknown ChangedEvent.Remove object: "+t.toString()):t.td!==Ul&&Uh.m("unknown ChangedEvent: "+t.toString())},rt.prototype.startTransaction=rt.prototype.ac=function(t){return this.la.ac(t)},rt.prototype.commitTransaction=rt.prototype.$d=function(t){return this.la.$d(t)},rt.prototype.rollbackTransaction=rt.prototype.Mp=function(){return this.la.Mp()},rt.prototype.updateTargetBindings=rt.prototype.Rb=function(t,e){void 0===e&&(e=""),ct(this,"SourceChanged",Ul,e,t,null,null)},Uh.g(rt,"nodeKeyProperty",rt.prototype.Vi),Uh.defineProperty(rt,{Vi:"nodeKeyProperty"},function(){return this.im},function(t){var e=this.im;e!==t&&(ft(t,rt,"nodeKeyProperty"),0<this.zc.count&&Uh.m("Cannot set Model.nodeKeyProperty when there is existing node data"),this.im=t,this.j("nodeKeyProperty",e,t))}),rt.prototype.getKeyForNodeData=rt.prototype.Bb=function(t){if(null!==t){var e=this.im;if(""!==e&&(e=Uh.wb(t,e),void 0!==e)){if(dt(e))return e;Uh.m("Key value for node data "+t+" is not a number or a string: "+e)}}},rt.prototype.setKeyForNodeData=rt.prototype.fB=function(t,e){if(void 0!==e&&null!==e&&dt(e)||Uh.sc(e,"number or string",rt,"setKeyForNodeData:key"),null!==t){var i=this.im;if(""!==i)if(this.oe(t)){var n=Uh.wb(t,i);n!==e&&null===this.wf(e)&&(Uh.Sa(t,i,e),this.zc.remove(n),this.zc.add(e,t),ct(this,"nodeKey",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i),this.Tt(n,e))}else Uh.Sa(t,i,e)}},Uh.g(rt,"makeUniqueKeyFunction",rt.prototype.mJ),Uh.defineProperty(rt,{mJ:"makeUniqueKeyFunction"},function(){return this.nv},function(t){var e=this.nv;e!==t&&(null!==t&&Uh.i(t,"function",rt,"makeUniqueKeyFunction"),this.nv=t,this.j("makeUniqueKeyFunction",e,t))}),rt.prototype.containsNodeData=rt.prototype.oe=function(t){return t=this.Bb(t),void 0===t?!1:this.zc.contains(t)},rt.prototype.findNodeDataForKey=rt.prototype.wf=function(t){return null===t&&Uh.m("Model.findNodeDataForKey:key must not be null"),void 0!==t&&dt(t)?this.zc.Aa(t):null},Uh.g(rt,"nodeDataArray",rt.prototype.Fg),Uh.defineProperty(rt,{Fg:"nodeDataArray"},function(){return this.sf},function(t){var e=this.sf;if(e!==t){Uh.at(t,rt,"nodeDataArray"),this.zc.clear(),this.qB();for(var i=Uh.ub(t),n=0;i>n;n++){var o=Uh.jb(t,n);if(!Uh.Xa(o))return void Uh.m("Model.nodeDataArray must only contain Objects, not: "+o);Uh.tt(o)}this.sf=t;for(var r=new l(Object),n=0;i>n;n++){var o=Uh.jb(t,n),s=this.Bb(o);void 0===s?r.add(o):null!==this.zc.Aa(s)?r.add(o):this.zc.add(s,o)}for(n=r.k;n.next();)o=n.value,this.xF(o),r=this.Bb(o),void 0!==r&&this.zc.add(r,o);for(ct(this,"nodeDataArray",Kl,"nodeDataArray",this,e,t),n=0;i>n;n++)o=Uh.jb(t,n),this.Lp(o),this.Kp(o);this.ZD(),Uh.ZI(t)||(this.hb=!0)}}),rt.prototype.makeNodeDataKeyUnique=rt.prototype.xF=function(t){if(null!==t){var e=this.im;if(""!==e){var i=this.Bb(t);if(void 0===i||this.zc.contains(i)){var n=this.nv;if(null!==n&&(i=n(this,t),void 0!==i&&null!==i&&!this.zc.contains(i)))return void Uh.Sa(t,e,i);if("string"==typeof i){for(n=2;this.zc.contains(i+n);)n++;Uh.Sa(t,e,i+n)}else if(void 0===i||"number"==typeof i){for(n=-this.zc.count-1;this.zc.contains(n);)n--;Uh.Sa(t,e,n)}else Uh.m("Model.getKeyForNodeData returned something other than a string or a number: "+i)}}}},rt.prototype.addNodeData=rt.prototype.Am=function(t){if(null!==t){Uh.tt(t);var e=this.Bb(t);(void 0===e||this.zc.Aa(e)!==t)&&(this.xF(t),e=this.Bb(t),void 0===e?Uh.m("Model.makeNodeDataKeyUnique failed on "+t+".  Data not added to Model."):(this.zc.add(e,t),e=Uh.ub(this.sf),Uh.Ii(this.sf,e,t),ct(this,"nodeDataArray",Yl,"nodeDataArray",this,null,t,null,e),this.Lp(t),this.Kp(t)))}},rt.prototype.addNodeDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++)this.Am(Uh.jb(t,i));else for(t=t.k;t.next();)this.Am(t.value)},rt.prototype.removeNodeData=rt.prototype.TA=function(t){if(null!==t){var e=this.Bb(t);void 0!==e&&this.zc.contains(e)&&(this.zc.remove(e),e=Uh.Nz(this.sf,t),0>e||(Uh.Ji(this.sf,e),ct(this,"nodeDataArray",Jl,"nodeDataArray",this,t,null,e,null),this.hu(t)))}},rt.prototype.removeNodeDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++)this.TA(Uh.jb(t,i));else for(t=t.k;t.next();)this.TA(t.value)},Wh=rt.prototype,Wh.Tt=function(t,e){var i=mt(this,t);i instanceof c&&this.vh.add(e,i)},Wh.qB=function(){},Wh.Lp=function(){},Wh.Kp=function(){},Wh.hu=function(){},rt.prototype.clearUnresolvedReferences=rt.prototype.ZD=function(t){void 0===t?this.vh.clear():this.vh.remove(t)},Uh.g(rt,"copyNodeDataFunction",rt.prototype.kI),Uh.defineProperty(rt,{kI:"copyNodeDataFunction"},function(){return this.Gu},function(t){var e=this.Gu;e!==t&&(null!==t&&Uh.i(t,"function",rt,"copyNodeDataFunction"),this.Gu=t,this.j("copyNodeDataFunction",e,t))}),Uh.g(rt,"copiesArrays",rt.prototype.tw),Uh.defineProperty(rt,{tw:"copiesArrays"},function(){return this.ly},function(t){var e=this.ly;e!==t&&(null!==t&&Uh.i(t,"boolean",rt,"copiesArrays"),this.ly=t,this.j("copiesArrays",e,t))}),Uh.g(rt,"copiesArrayObjects",rt.prototype.sw),Uh.defineProperty(rt,{sw:"copiesArrayObjects"},function(){return this.ky},function(t){var e=this.ky;e!==t&&(null!==t&&Uh.i(t,"boolean",rt,"copiesArrayObjects"),this.ky=t,this.j("copiesArrayObjects",e,t))}),rt.prototype.copyNodeData=function(t){if(null===t)return null;var e=null,e=this.Gu,e=null!==e?e(t,this):vt(this,t,!0);return Uh.Xa(e)&&Uh.jc(e),e};var Xl=!1;rt.prototype.setDataProperty=function(t,e,i){if(Vh&&(Uh.i(t,"object",rt,"setDataProperty:data"),Uh.i(e,"string",rt,"setDataProperty:propname"),""===e&&Uh.m("Model.setDataProperty: property name must not be an empty string when setting "+t+" to "+i)),this.oe(t)){if(e===this.Vi)this.fB(t,i);else if(e===this.xl)return void this.xx(t,i)}else!Xl&&t instanceof Sn&&(Xl=!0,Uh.trace('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Uh.trace("  Is that really your intent?"));var n=Uh.wb(t,e);n!==i&&(Uh.Sa(t,e,i),this.MA(t,e,n,i))},rt.prototype.addArrayItem=function(t,e){this.WI(t,-1,e)},rt.prototype.insertArrayItem=rt.prototype.WI=function(t,e,i){Vh&&(Uh.at(t,rt,"insertArrayItem:arr"),Uh.p(e,rt,"insertArrayItem:idx")),t===this.sf&&Uh.m("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray"),0>e&&(e=Uh.ub(t)),Uh.Ii(t,e,i),ct(this,"",Yl,"",t,null,i,null,e)},rt.prototype.removeArrayItem=function(t,e){void 0===e&&(e=-1),Vh&&(Uh.at(t,rt,"removeArrayItem:arr"),Uh.p(e,rt,"removeArrayItem:idx")),t===this.sf&&Uh.m("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=Uh.ub(t)-1);var i=Uh.jb(t,e);Uh.Ji(t,e),ct(this,"",Jl,"",t,i,null,e,null)},Uh.g(rt,"nodeCategoryProperty",rt.prototype.xl),Uh.defineProperty(rt,{xl:"nodeCategoryProperty"},function(){return this.Mr},function(t){var e=this.Mr;e!==t&&(ft(t,rt,"nodeCategoryProperty"),this.Mr=t,this.j("nodeCategoryProperty",e,t))}),rt.prototype.getCategoryForNodeData=rt.prototype.cA=function(t){if(null===t)return"";var e=this.Mr;return""===e?"":(e=Uh.wb(t,e),void 0===e?"":"string"==typeof e?e:(Uh.m("getCategoryForNodeData found a non-string category for "+t+": "+e),""))},rt.prototype.setCategoryForNodeData=rt.prototype.xx=function(t,e){if(Uh.i(e,"string",rt,"setCategoryForNodeData:cat"),null!==t){var i=this.Mr;if(""!==i)if(this.oe(t)){var n=Uh.wb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Sa(t,i,e),ct(this,"nodeCategory",Kl,i,t,n,e))}else Uh.Sa(t,i,e)}},Uh.Ia(bt,rt),Uh.ja("GraphLinksModel",bt),bt.prototype.clear=bt.prototype.clear=function(){rt.prototype.clear.call(this),this.Dh=[],this.fm.clear()},Wh=bt.prototype,Wh.toString=function(t){if(void 0===t&&(t=0),t>=2)return this.nB();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(t>0){e+="\n node data:",t=this.Fg;for(var i=Uh.ub(t),n=0,n=0;i>n;n++)var o=Uh.jb(t,n),e=e+(" "+this.Bb(o)+":"+tu(o));for(e+="\n link data:",t=this.Ui,i=Uh.ub(t),n=0;i>n;n++)o=Uh.jb(t,n),e+=" "+this.nl(o)+"-->"+this.ql(o)}return e},Wh.iu=function(){var t=rt.prototype.iu.call(this),e="";return"category"!==this.op&&"string"==typeof this.op&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.op)),"from"!==this.$m&&"string"==typeof this.$m&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.$m)),"to"!==this.an&&"string"==typeof this.an&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.an)),""!==this.pp&&"string"==typeof this.pp&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.pp)),""!==this.tp&&"string"==typeof this.tp&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.tp)),""!==this.qp&&"string"==typeof this.qp&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.qp)),"isGroup"!==this.Hp&&"string"==typeof this.Hp&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.Hp)),"group"!==this.dn&&"string"==typeof this.dn&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.dn)),t+e},Wh.uB=function(){var t=rt.prototype.uB.call(this),e=',\n  "linkDataArray": '+st(this,this.Ui,!0);return t+e},Wh.St=function(t){rt.prototype.St.call(this,t),t.linkFromKeyProperty&&(this.$m=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.an=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.pp=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.tp=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.op=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.qp=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.Hp=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.dn=t.nodeGroupKeyProperty)},Wh.NA=function(t){rt.prototype.NA.call(this,t),t=t.linkDataArray,Uh.isArray(t)&&(this.Ut(t),this.Ui=t)},Wh.Im=function(t,e){var i=null;if(t.td===Yl){if("linkDataArray"===t.Bf?i=this.Dh:"linkLabelKeys"===t.Bf&&(i=this.fk(t.object)),Uh.isArray(i))return void(e?Uh.Ji(i,t.Wf):Uh.Ii(i,t.Wf,t.newValue))}else if(t.td===Jl&&("linkDataArray"===t.Bf?i=this.Dh:"linkLabelKeys"===t.Bf&&(i=this.fk(t.object)),Uh.isArray(i)))return void(e?Uh.Ii(i,t.Yf,t.oldValue):Uh.Ji(i,t.Yf));rt.prototype.Im.call(this,t,e)},Uh.g(bt,"archetypeNodeData",bt.prototype.Ys),Uh.defineProperty(bt,{Ys:"archetypeNodeData"},function(){return this.Ak},function(t){var e=this.Ak;e!==t&&(null!==t&&Uh.l(t,Object,bt,"archetypeNodeData"),this.Ak=t,this.j("archetypeNodeData",e,t))}),bt.prototype.bn=function(t){if(void 0!==t){var e=this.Ak;if(null!==e){var i=this.wf(t);null===i&&(i=this.copyNodeData(e),Uh.Sa(i,this.im,t),this.Am(i))}return t}},Uh.g(bt,"linkFromKeyProperty",bt.prototype.$m),Uh.defineProperty(bt,{$m:"linkFromKeyProperty"},function(){return this.pj},function(t){var e=this.pj;e!==t&&(ft(t,bt,"linkFromKeyProperty"),this.pj=t,this.j("linkFromKeyProperty",e,t))}),bt.prototype.getFromKeyForLinkData=bt.prototype.nl=function(t){if(null!==t){var e=this.pj;if(""!==e&&(e=Uh.wb(t,e),void 0!==e)){if(dt(e))return e;Uh.m("FromKey value for link data "+t+" is not a number or a string: "+e)}}},bt.prototype.setFromKeyForLinkData=bt.prototype.yx=function(t,e){if(null===e&&(e=void 0),void 0===e||dt(e)||Uh.sc(e,"number or string",bt,"setFromKeyForLinkData:key"),null!==t){var i=this.pj;if(""!==i)if(e=this.bn(e),this.Mi(t)){var n=Uh.wb(t,i);n!==e&&(gt(this,n,t),Uh.Sa(t,i,e),null===this.wf(e)&&pt(this,e,t),ct(this,"linkFromKey",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},Uh.g(bt,"linkToKeyProperty",bt.prototype.an),Uh.defineProperty(bt,{an:"linkToKeyProperty"},function(){return this.sj},function(t){var e=this.sj;e!==t&&(ft(t,bt,"linkToKeyProperty"),this.sj=t,this.j("linkToKeyProperty",e,t))}),bt.prototype.getToKeyForLinkData=bt.prototype.ql=function(t){if(null!==t){var e=this.sj;if(""!==e&&(e=Uh.wb(t,e),void 0!==e)){if(dt(e))return e;Uh.m("ToKey value for link data "+t+" is not a number or a string: "+e)}}},bt.prototype.setToKeyForLinkData=bt.prototype.Ax=function(t,e){if(null===e&&(e=void 0),void 0===e||dt(e)||Uh.sc(e,"number or string",bt,"setToKeyForLinkData:key"),null!==t){var i=this.sj;if(""!==i)if(e=this.bn(e),this.Mi(t)){var n=Uh.wb(t,i);n!==e&&(gt(this,n,t),Uh.Sa(t,i,e),null===this.wf(e)&&pt(this,e,t),ct(this,"linkToKey",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},Uh.g(bt,"linkFromPortIdProperty",bt.prototype.pp),Uh.defineProperty(bt,{pp:"linkFromPortIdProperty"},function(){return this.pr},function(t){var e=this.pr;e!==t&&(ft(t,bt,"linkFromPortIdProperty"),this.pr=t,this.j("linkFromPortIdProperty",e,t))}),bt.prototype.getFromPortIdForLinkData=bt.prototype.KI=function(t){if(null===t)return"";var e=this.pr;return""===e?"":(t=Uh.wb(t,e),void 0===t?"":t)},bt.prototype.setFromPortIdForLinkData=bt.prototype.eB=function(t,e){if(Uh.i(e,"string",bt,"setFromPortIdForLinkData:portname"),null!==t){var i=this.pr;if(""!==i)if(this.Mi(t)){var n=Uh.wb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Sa(t,i,e),ct(this,"linkFromPortId",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},Uh.g(bt,"linkToPortIdProperty",bt.prototype.tp),Uh.defineProperty(bt,{tp:"linkToPortIdProperty"},function(){return this.qr},function(t){var e=this.qr;e!==t&&(ft(t,bt,"linkToPortIdProperty"),this.qr=t,this.j("linkToPortIdProperty",e,t))}),bt.prototype.getToPortIdForLinkData=bt.prototype.NI=function(t){if(null===t)return"";var e=this.qr;return""===e?"":(t=Uh.wb(t,e),void 0===t?"":t)},bt.prototype.setToPortIdForLinkData=bt.prototype.iB=function(t,e){if(Uh.i(e,"string",bt,"setToPortIdForLinkData:portname"),null!==t){var i=this.qr;if(""!==i)if(this.Mi(t)){var n=Uh.wb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Sa(t,i,e),ct(this,"linkToPortId",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},Uh.g(bt,"linkLabelKeysProperty",bt.prototype.qp),Uh.defineProperty(bt,{qp:"linkLabelKeysProperty"},function(){return this.Eh},function(t){var e=this.Eh;e!==t&&(ft(t,bt,"linkLabelKeysProperty"),this.Eh=t,this.j("linkLabelKeysProperty",e,t))}),bt.prototype.getLabelKeysForLinkData=bt.prototype.fk=function(t){if(null===t)return Uh.nh;var e=this.Eh;return""===e?Uh.nh:(t=Uh.wb(t,e),void 0===t?Uh.nh:t)},bt.prototype.setLabelKeysForLinkData=bt.prototype.tG=function(t,e){if(Uh.at(e,bt,"setLabelKeysForLinkData:arr"),null!==t){var i=this.Eh;if(""!==i)if(this.Mi(t)){var n=Uh.wb(t,i);if(void 0===n&&(n=Uh.nh),n!==e){for(var o=Uh.ub(n),r=0;o>r;r++){var s=Uh.jb(n,r);gt(this,s,t)}for(Uh.Sa(t,i,e),o=Uh.ub(e),r=0;o>r;r++)s=Uh.jb(e,r),null===this.wf(s)&&pt(this,s,t);ct(this,"linkLabelKeys",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i)}}else Uh.Sa(t,i,e)}},bt.prototype.addLabelKeyForLinkData=bt.prototype.Hz=function(t,e){if(null!==e&&void 0!==e&&(dt(e)||Uh.sc(e,"number or string",bt,"addLabelKeyForLinkData:key"),null!==t)){var i=this.Eh;if(""!==i){var n=Uh.wb(t,i);void 0===n?(i=[],i.push(e),this.tG(t,i)):Uh.isArray(n)?0<=Uh.Nz(n,e)||(Uh.Ii(n,1/0,e),this.Mi(t)&&(null===this.wf(e)&&pt(this,e,t),ct(this,"linkLabelKeys",Yl,i,t,null,e))):Uh.m(i+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},bt.prototype.removeLabelKeyForLinkData=bt.prototype.XF=function(t,e){if(null!==e&&void 0!==e&&(dt(e)||Uh.sc(e,"number or string",bt,"removeLabelKeyForLinkData:key"),null!==t)){var i=this.Eh;if(""!==i){var n=Uh.wb(t,i);if(Uh.isArray(n)){var o=Uh.Nz(n,e);0>o||(Uh.Ji(n,o),this.Mi(t)&&(gt(this,e,t),ct(this,"linkLabelKeys",Jl,i,t,e,null)))}else void 0!==n&&Uh.m(i+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},Uh.g(bt,"linkDataArray",bt.prototype.Ui),Uh.defineProperty(bt,{Ui:"linkDataArray"},function(){return this.Dh},function(t){var e=this.Dh;if(e!==t){Uh.at(t,bt,"linkDataArray");for(var i=Uh.ub(t),n=0;i>n;n++){var o=Uh.jb(t,n);if(!Uh.Xa(o))return void Uh.m("GraphLinksModel.linkDataArray must only contain Objects, not: "+o);Uh.tt(o)}this.Dh=t;for(var r=new c(Object),n=0;i>n;n++)o=Uh.jb(t,n),r.add(o);for(this.fm=r,ct(this,"linkDataArray",Kl,"linkDataArray",this,e,t),n=0;i>n;n++)o=Uh.jb(t,n),wt(this,o)}}),bt.prototype.containsLinkData=bt.prototype.Mi=function(t){return null===t?!1:this.fm.contains(t)},bt.prototype.addLinkData=bt.prototype.dw=function(t){if(null!==t){if(void 0===Uh.Yc(t))Uh.jc(t);else if(this.Mi(t))return;this.fm.add(t);var e=Uh.ub(this.Dh);Uh.Ii(this.Dh,e,t),ct(this,"linkDataArray",Yl,"linkDataArray",this,null,t,null,e),wt(this,t)}},bt.prototype.addLinkDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++)this.dw(Uh.jb(t,i));else for(t=t.k;t.next();)this.dw(t.value)},bt.prototype.removeLinkData=bt.prototype.SA=function(t){if(null!==t){this.fm.remove(t);var e=this.Dh.indexOf(t);if(!(0>e)){Uh.Ji(this.Dh,e),ct(this,"linkDataArray",Jl,"linkDataArray",this,t,null,e,null),e=this.nl(t),gt(this,e,t),e=this.ql(t),gt(this,e,t);var i=this.fk(t);if(Uh.isArray(i))for(var n=Uh.ub(i),o=0;n>o;o++)e=Uh.jb(i,o),gt(this,e,t)}}},bt.prototype.removeLinkDataCollection=function(t){if(Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++)this.SA(Uh.jb(t,i));else for(t=t.k;t.next();)this.SA(t.value)},Uh.g(bt,"copyLinkDataFunction",bt.prototype.jI),Uh.defineProperty(bt,{jI:"copyLinkDataFunction"},function(){return this.Fu},function(t){var e=this.Fu;e!==t&&(null!==t&&Uh.i(t,"function",bt,"copyLinkDataFunction"),this.Fu=t,this.j("copyLinkDataFunction",e,t))}),bt.prototype.copyLinkData=bt.prototype.mE=function(t){if(null===t)return null;var e=null,e=this.Fu;if(null!==e)e=e(t,this);else{var i,e=new t.constructor;for(i in t)if("__gohashid"!==i){var n=Uh.wb(t,i);Vh&&yt(t,i,n),Uh.Sa(e,i,n)}}return null!==e&&(Uh.jc(e),""!==this.pj&&Uh.Sa(e,this.pj,void 0),""!==this.sj&&Uh.Sa(e,this.sj,void 0),""!==this.Eh&&Uh.Sa(e,this.Eh,[])),e},Uh.g(bt,"nodeIsGroupProperty",bt.prototype.Hp),Uh.defineProperty(bt,{Hp:"nodeIsGroupProperty"},function(){return this.xv},function(t){var e=this.xv;e!==t&&(ft(t,bt,"nodeIsGroupProperty"),this.xv=t,this.j("nodeIsGroupProperty",e,t))}),bt.prototype.isGroupForNodeData=bt.prototype.rA=function(t){if(null===t)return!1;var e=this.xv;return""===e?!1:Uh.wb(t,e)?!0:!1},Uh.g(bt,"nodeGroupKeyProperty",bt.prototype.dn),Uh.defineProperty(bt,{dn:"nodeGroupKeyProperty"},function(){return this.zj},function(t){var e=this.zj;e!==t&&(ft(t,bt,"nodeGroupKeyProperty"),this.zj=t,this.j("nodeGroupKeyProperty",e,t))}),Uh.g(bt,"copiesGroupKeyOfNodeData",bt.prototype.gl),Uh.defineProperty(bt,{gl:"copiesGroupKeyOfNodeData"},function(){return this.my},function(t){this.my!==t&&(Uh.i(t,"boolean",bt,"copiesGroupKeyOfNodeData"),this.my=t)}),bt.prototype.getGroupKeyForNodeData=bt.prototype.Um=function(t){if(null!==t){var e=this.zj;if(""!==e&&(e=Uh.wb(t,e),void 0!==e)){if(dt(e))return e;Uh.m("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},bt.prototype.setGroupKeyForNodeData=bt.prototype.zx=function(t,e){if(null===e&&(e=void 0),void 0===e||dt(e)||Uh.sc(e,"number or string",bt,"setGroupKeyForNodeData:key"),null!==t){var i=this.zj;if(""!==i)if(this.oe(t)){var n=Uh.wb(t,i);n!==e&&(gt(this,n,t),Uh.Sa(t,i,e),null===this.wf(e)&&pt(this,e,t),ct(this,"nodeGroupKey",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},bt.prototype.copyNodeData=function(t){return null===t?null:(t=rt.prototype.copyNodeData.call(this,t),this.gl||""===this.zj||Uh.Sa(t,this.zj,void 0),t)},bt.prototype.setDataProperty=function(t,e,i){if(Vh&&(Uh.i(t,"object",bt,"setDataProperty:data"),Uh.i(e,"string",bt,"setDataProperty:propname"),""===e&&Uh.m("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+t+" to "+i)),this.oe(t))if(e===this.Vi)this.fB(t,i);else{if(e===this.xl)return void this.xx(t,i);if(e===this.dn)return void this.zx(t,i);e===this.Hp&&Uh.m("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+e)}else if(this.Mi(t)){if(e===this.$m)return void this.yx(t,i);if(e===this.an)return void this.Ax(t,i);if(e===this.pp)return void this.eB(t,i);if(e===this.tp)return void this.iB(t,i);if(e===this.op)return void this.sG(t,i);if(e===this.qp)return void this.tG(t,i)}else!Xl&&t instanceof Sn&&(Xl=!0,Uh.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Uh.trace("  Is that really your intent?"));var n=Uh.wb(t,e);n!==i&&(Uh.Sa(t,e,i),this.MA(t,e,n,i))},Wh=bt.prototype,Wh.Tt=function(t,e){rt.prototype.Tt.call(this,t,e);for(var i=this.zc.k;i.next();)this.VA(i.value,t,e);for(var n=this.fm.k;n.next();){var o=i.value,r=t,s=e;if(this.nl(o)===r){var a=this.pj;Uh.Sa(o,a,s),ct(this,"linkFromKey",Kl,a,o,r,s),"string"==typeof a&&this.Rb(o,a)}this.ql(o)===r&&(a=this.sj,Uh.Sa(o,a,s),ct(this,"linkToKey",Kl,a,o,r,s),"string"==typeof a&&this.Rb(o,a));var h=this.fk(o);if(Uh.isArray(h))for(var l=Uh.ub(h),a=this.Eh,u=0;l>u;u++)Uh.jb(h,u)===r&&(Uh.RD(h,u,s),ct(this,"linkLabelKeys",Yl,a,o,r,s))}},Wh.VA=function(t,e,i){if(this.Um(t)===e){var n=this.zj;Uh.Sa(t,n,i),ct(this,"nodeGroupKey",Kl,n,t,e,i),"string"==typeof n&&this.Rb(t,n)}},Wh.qB=function(){rt.prototype.qB.call(this);for(var t=this.Ui,e=Uh.ub(t),i=0;e>i;i++){var n=Uh.jb(t,i);wt(this,n)}},Wh.Lp=function(t){rt.prototype.Lp.call(this,t),t=this.Bb(t);var e=mt(this,t);if(null!==e){for(var i=new l(Object),e=e.k;e.next();){var n=e.value;if(this.oe(n)){if(this.Um(n)===t){var o=this.zj;ct(this,"nodeGroupKey",Kl,o,n,t,t),"string"==typeof o&&this.Rb(n,o),i.add(n)}}else{this.nl(n)===t&&(o=this.pj,ct(this,"linkFromKey",Kl,o,n,t,t),"string"==typeof o&&this.Rb(n,o),i.add(n)),this.ql(n)===t&&(o=this.sj,ct(this,"linkToKey",Kl,o,n,t,t),"string"==typeof o&&this.Rb(n,o),i.add(n));var r=this.fk(n);if(Uh.isArray(r))for(var s=Uh.ub(r),o=this.Eh,a=0;s>a;a++)Uh.jb(r,a)===t&&(ct(this,"linkLabelKeys",Yl,o,n,t,t),i.add(n))}}for(i=i.k;i.next();)gt(this,t,i.value)}},Wh.Kp=function(t){rt.prototype.Kp.call(this,t);var e=this.Um(t);null===this.wf(e)&&pt(this,e,t)},Wh.hu=function(t){rt.prototype.hu.call(this,t);var e=this.Um(t);gt(this,e,t)},Uh.g(bt,"linkCategoryProperty",bt.prototype.op),Uh.defineProperty(bt,{op:"linkCategoryProperty"},function(){return this.mr},function(t){var e=this.mr;e!==t&&(ft(t,bt,"linkCategoryProperty"),this.mr=t,this.j("linkCategoryProperty",e,t))}),bt.prototype.getCategoryForLinkData=bt.prototype.Kw=function(t){if(null===t)return"";var e=this.mr;return""===e?"":(e=Uh.wb(t,e),void 0===e?"":"string"==typeof e?e:(Uh.m("getCategoryForLinkData found a non-string category for "+t+": "+e),""))},bt.prototype.setCategoryForLinkData=bt.prototype.sG=function(t,e){if(Uh.i(e,"string",bt,"setCategoryForLinkData:cat"),null!==t){var i=this.mr;if(""===i)return"";if(this.Mi(t)){var n=Uh.wb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Sa(t,i,e),ct(this,"linkCategory",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},Uh.Ia(xt,rt),Uh.ja("TreeModel",xt),xt.prototype.toString=function(t){if(void 0===t&&(t=0),t>=2)return this.nB();var e=(""!==this.name?this.name:"")+" TreeModel";if(t>0){e+="\n node data:",t=this.Fg;for(var i=Uh.ub(t),n=0;i>n;n++)var o=Uh.jb(t,n),e=e+(" "+this.Bb(o)+":"+tu(o))}return e},xt.prototype.iu=function(){var t=rt.prototype.iu.call(this),e="";return"parent"!==this.en&&"string"==typeof this.en&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.en)),t+e},xt.prototype.St=function(t){rt.prototype.St.call(this,t),t.nodeParentKeyProperty&&(this.en=t.nodeParentKeyProperty)},xt.prototype.bn=function(t){return t},Uh.g(xt,"nodeParentKeyProperty",xt.prototype.en),Uh.defineProperty(xt,{en:"nodeParentKeyProperty"},function(){return this.Aj},function(t){var e=this.Aj;e!==t&&(ft(t,xt,"nodeParentKeyProperty"),this.Aj=t,this.j("nodeParentKeyProperty",e,t))}),Uh.g(xt,"copiesParentKeyOfNodeData",xt.prototype.hl),Uh.defineProperty(xt,{hl:"copiesParentKeyOfNodeData"},function(){return this.ny},function(t){this.ny!==t&&(Uh.i(t,"boolean",xt,"copiesParentKeyOfNodeData"),this.ny=t)}),xt.prototype.getParentKeyForNodeData=xt.prototype.Vm=function(t){if(null!==t){var e=this.Aj;if(""!==e&&(e=Uh.wb(t,e),void 0!==e)){if(dt(e))return e;Uh.m("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},xt.prototype.setParentKeyForNodeData=xt.prototype.kh=function(t,e){if(null===e&&(e=void 0),void 0===e||dt(e)||Uh.sc(e,"number or string",xt,"setParentKeyForNodeData:key"),null!==t){var i=this.Aj;if(""!==i)if(e=this.bn(e),this.oe(t)){var n=Uh.wb(t,i);n!==e&&(gt(this,n,t),Uh.Sa(t,i,e),null===this.wf(e)&&pt(this,e,t),ct(this,"nodeParentKey",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},Uh.g(xt,"parentLinkCategoryProperty",xt.prototype.CJ),Uh.defineProperty(xt,{CJ:"parentLinkCategoryProperty"},function(){return this.Vr},function(t){var e=this.Vr;e!==t&&(ft(t,xt,"parentLinkCategoryProperty"),this.Vr=t,this.j("parentLinkCategoryProperty",e,t))}),xt.prototype.getParentLinkCategoryForNodeData=xt.prototype.MI=function(t){if(null===t)return"";var e=this.Vr;return""===e?"":(e=Uh.wb(t,e),void 0===e?"":"string"==typeof e?e:(Uh.m("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),""))},xt.prototype.setParentLinkCategoryForNodeData=xt.prototype.QJ=function(t,e){if(Uh.i(e,"string",xt,"setParentLinkCategoryForNodeData:cat"),null!==t){var i=this.Vr;if(""===i)return"";if(this.oe(t)){var n=Uh.wb(t,i);void 0===n&&(n=""),n!==e&&(Uh.Sa(t,i,e),ct(this,"parentLinkCategory",Kl,i,t,n,e),"string"==typeof i&&this.Rb(t,i))}else Uh.Sa(t,i,e)}},xt.prototype.copyNodeData=function(t){return null===t?null:(t=rt.prototype.copyNodeData.call(this,t),this.hl||""===this.Aj||Uh.Sa(t,this.Aj,void 0),t)},xt.prototype.setDataProperty=function(t,e,i){if(Vh&&(Uh.i(t,"object",xt,"setDataProperty:data"),Uh.i(e,"string",xt,"setDataProperty:propname"),""===e&&Uh.m("TreeModel.setDataProperty: property name must not be an empty string when setting "+t+" to "+i)),this.oe(t))if(e===this.Vi)this.fB(t,i);else{if(e===this.xl)return void this.xx(t,i);if(e===this.en)return void this.kh(t,i)}else!Xl&&t instanceof Sn&&(Xl=!0,Uh.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Uh.trace("  Is that really your intent?"));var n=Uh.wb(t,e);n!==i&&(Uh.Sa(t,e,i),this.MA(t,e,n,i))},Wh=xt.prototype,Wh.Tt=function(t,e){rt.prototype.Tt.call(this,t,e);for(var i=this.zc.k;i.next();)this.VA(i.value,t,e)},Wh.VA=function(t,e,i){if(this.Vm(t)===e){var n=this.Aj;Uh.Sa(t,n,i),ct(this,"nodeParentKey",Kl,n,t,e,i),"string"==typeof n&&this.Rb(t,n)}},Wh.Lp=function(t){rt.prototype.Lp.call(this,t),t=this.Bb(t);var e=mt(this,t);if(null!==e){for(var i=new l(Object),e=e.k;e.next();){var n=e.value;if(this.oe(n)&&this.Vm(n)===t){var o=this.Aj;ct(this,"nodeParentKey",Kl,o,n,t,t),"string"==typeof o&&this.Rb(n,o),i.add(n)}}for(i=i.k;i.next();)gt(this,t,i.value)}},Wh.Kp=function(t){rt.prototype.Kp.call(this,t);var e=this.Vm(t),e=this.bn(e);null===this.wf(e)&&pt(this,e,t)},Wh.hu=function(t){rt.prototype.hu.call(this,t);var e=this.Vm(t);gt(this,e,t)},Uh.ja("Binding",Ct);var Ql;Ct.OneWay=Ql=Uh.w(Ct,"OneWay",1);var Zl;Ct.TwoWay=Zl=Uh.w(Ct,"TwoWay",2),Ct.parseEnum=function(t,e){return Uh.i(t,"function",Ct,"parseEnum:ctor"),Uh.za(e,t,Ct,"parseEnum:defval"),function(i){return i=Kh(t,i),null===i?e:i}};var tu;Ct.toString=tu=function(t){var e=t;return Uh.Xa(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()},Ct.prototype.toString=function(){return"Binding("+this.Wp+":"+this.kB+(-1!==this.kk?" "+this.kk:"")+" "+this.mode.name+")"},Ct.prototype.freeze=function(){return this.Qa=!0,this},Ct.prototype.Na=function(){return this.Qa=!1,this},Uh.g(Ct,"targetId",Ct.prototype.kk),Uh.defineProperty(Ct,{kk:null},function(){return this.qD},function(t){Uh.N(this),Uh.i(t,"number",Ct,"targetId"),this.qD=t}),Uh.g(Ct,"targetProperty",Ct.prototype.Wp),Uh.defineProperty(Ct,{Wp:"targetProperty"},function(){return this.Xv},function(t){Uh.N(this),Uh.i(t,"string",Ct,"targetProperty"),this.Xv=t}),Uh.g(Ct,"sourceName",Ct.prototype.El),Uh.defineProperty(Ct,{El:"sourceName"},function(){return this.lD},function(t){Uh.N(this),null!==t&&Uh.i(t,"string",Ct,"sourceName"),this.lD=t,null!==t&&(this.wz=!1)}),Uh.g(Ct,"toModel",Ct.prototype.Yp),Uh.defineProperty(Ct,{Yp:"toModel"},function(){return this.wz},function(t){Uh.N(this),Uh.i(t,"boolean",Ct,"toModel"),this.wz=t}),Uh.g(Ct,"sourceProperty",Ct.prototype.kB),Uh.defineProperty(Ct,{kB:"sourceProperty"},function(){return this.Ov},function(t){Uh.N(this),Uh.i(t,"string",Ct,"sourceProperty"),this.Ov=t}),Uh.g(Ct,"converter",Ct.prototype.iE),Uh.defineProperty(Ct,{iE:"converter"},function(){return this.jy},function(t){Uh.N(this),null!==t&&Uh.i(t,"function",Ct,"converter"),this.jy=t}),Uh.g(Ct,"backConverter",Ct.prototype.VD),Uh.defineProperty(Ct,{VD:"backConverter"},function(){return this.$x},function(t){Uh.N(this),null!==t&&Uh.i(t,"function",Ct,"backConverter"),this.$x=t}),Uh.g(Ct,"mode",Ct.prototype.mode),Uh.defineProperty(Ct,{mode:"mode"},function(){return this.Xy},function(t){Uh.N(this),Uh.za(t,Ct,Ct,"mode"),this.Xy=t}),Ct.prototype.makeTwoWay=function(t){return void 0===t&&(t=null),null!==t&&Uh.i(t,"function",Ct,"makeTwoWay"),this.mode=Zl,
this.VD=t,this},Ct.prototype.ofObject=Ct.prototype.mx=function(t){return void 0===t&&(t=""),Vh&&Uh.i(t,"string",Ct,"ofObject:srcname"),this.El=t,this.Yp=!1,this},Ct.prototype.ofModel=function(){return this.El=null,this.Yp=!0,this},Ct.prototype.ofData=function(){return this.El=null,this.Yp=!1,this},Ct.prototype.updateTarget=Ct.prototype.WG=function(t,e,i){var n=this.Ov;if(void 0===i||n===i){i=this.Xv;var o=this.jy;if(null===o&&""===i)Uh.trace("Binding error: target property is the empty string: "+this.toString());else{Vh&&"string"==typeof i&&("function"!=typeof t.setAttribute&&0<i.length&&"_"!==i[0]&&!Uh.Mw(t,i)?Uh.trace("Binding error: undefined target property: "+i+" on "+t.toString()):"name"===i&&t instanceof Sn&&Uh.trace("Binding error: cannot modify GraphObject.name on "+t.toString()));var r=e;if(""!==n&&(r=Uh.wb(e,n)),void 0!==r)if(null===o)""!==i&&Uh.Sa(t,i,r);else try{if(""!==i){var s=o(r,t);Vh&&void 0===s&&Uh.trace('Binding warning: conversion function returned undefined when setting target property "'+i+'" on '+t.toString()+", function is: "+o),Uh.Sa(t,i,s)}else o(r,t)}catch(a){Vh&&Uh.trace("Binding error: "+a.toString()+' setting target property "'+i+'" on '+t.toString()+" with conversion function: "+o)}}}},Ct.prototype.updateSource=Ct.prototype.Hx=function(t,e,i,n){if(void 0===n&&(n=null),this.Xy===Zl){var o=this.Xv;if(void 0===i||o===i){i=this.Ov;var r=this.$x;if(null!==r||""!==i){var s=t;if(""!==o&&(s=Uh.wb(t,o)),void 0!==s)if(null===r)null!==n&&n.ga?(Vh&&n.ga.Vi===i&&n.ga.oe(e)&&Uh.trace("Binding error: cannot have TwoWay Binding on node data key property: "+this.toString()),n.ga.setDataProperty(e,i,s)):Uh.Sa(e,i,s);else try{if(""!==i){var a=r(s,e);null!==n&&n.ga?(Vh&&(n.ga.Vi===i&&n.ga.oe(e)&&Uh.trace("Binding error: cannot have TwoWay Binding on node data key property: "+this.toString()),void 0===a&&Uh.trace('Binding warning: conversion function returned undefined when setting source property "'+i+'" on '+e.toString()+", function is: "+r)),n.ga.setDataProperty(e,i,a)):Uh.Sa(e,i,a)}else r(s,e)}catch(h){Vh&&Uh.trace("Binding error: "+h.toString()+' setting source property "'+i+'" on '+e.toString()+" with conversion function: "+r)}}}}},Uh.ja("Transaction",At),At.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.eh.count.toString()+(this.ip?"":", incomplete");if(void 0!==t&&t>0){t=this.eh.count;for(var i=0;t>i;i++){var n=this.eh.na(i);null!==n&&(e+="\n  "+n.toString())}}return e},At.prototype.clear=At.prototype.clear=function(){var t=this.eh;t.Na();for(var e=t.count-1;e>=0;e--){var i=t.na(e);null!==i&&i.clear()}t.clear(),t.freeze()},At.prototype.canUndo=At.prototype.canUndo=function(){return this.ip},At.prototype.undo=At.prototype.undo=function(){if(this.canUndo())for(var t=this.eh.count-1;t>=0;t--){var e=this.eh.na(t);null!==e&&e.undo()}},At.prototype.canRedo=At.prototype.canRedo=function(){return this.ip},At.prototype.redo=At.prototype.redo=function(){if(this.canRedo())for(var t=this.eh.count,e=0;t>e;e++){var i=this.eh.na(e);null!==i&&i.redo()}},Uh.A(At,{eh:"changes"},function(){return this.iH}),Uh.g(At,"name",At.prototype.name),Uh.defineProperty(At,{name:"name"},function(){return this.Xb},function(t){this.Xb=t}),Uh.g(At,"isComplete",At.prototype.ip),Uh.defineProperty(At,{ip:"isComplete"},function(){return this.rC},function(t){this.rC=t}),Uh.ja("UndoManager",St),St.prototype.toString=function(t){for(var e="UndoManager "+this.Ri+"<"+this.history.count+"<="+this.zA,e=e+"[",i=this.KF.count,n=0;i>n;n++)n>0&&(e+=" "),e+=this.KF.na(n);if(e+="]",void 0!==t&&t>0)for(i=this.history.count,n=0;i>n;n++)e+="\n "+this.history.na(n).toString(t-1);return e},St.prototype.clear=St.prototype.clear=function(){var t=this.history;t.Na();for(var e=t.count-1;e>=0;e--){var i=t.na(e);null!==i&&i.clear()}t.clear(),this.Ug=-1,t.freeze(),this.ni=!1,this.Lu=null,this.al=0,this.$g.Na(),this.$g.clear(),this.$g.freeze(),this.mo.clear()},St.prototype.addModel=St.prototype.HH=function(t){this.Zy.add(t)},St.prototype.removeModel=St.prototype.KJ=function(t){this.Zy.remove(t)},St.prototype.startTransaction=St.prototype.ac=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.Cb)return!1;!0===this.Hy&&(this.Hy=!1,this.al++,this.Vc("StartingFirstTransaction",t,this.Ni),0<this.al&&this.al--),this.isEnabled&&(this.$g.Na(),this.$g.add(t),this.$g.freeze(),null===this.Ni?this.mo.add(0):this.mo.add(this.Ni.eh.count)),this.al++;var e=1===this.Ve;return e&&this.Vc("StartedTransaction",t,this.Ni),e},St.prototype.commitTransaction=St.prototype.$d=function(t){return Ft(this,!0,t)},St.prototype.rollbackTransaction=St.prototype.Mp=function(){return Ft(this,!1,"")},St.prototype.canUndo=St.prototype.canUndo=function(){if(!this.isEnabled||0<this.Ve||this.Cb)return!1;var t=this.OG;return null!==t&&t.canUndo()?!0:!1},St.prototype.undo=St.prototype.undo=function(){if(this.canUndo()){var t=this.OG;try{this.Vc("StartingUndo","Undo",t),this.ni=!0,this.Ug--,t.undo()}catch(e){Uh.trace("undo error: "+e.toString())}finally{this.ni=!1,this.Vc("FinishedUndo","Undo",t)}}},St.prototype.canRedo=St.prototype.canRedo=function(){if(!this.isEnabled||0<this.Ve||this.Cb)return!1;var t=this.NG;return null!==t&&t.canRedo()?!0:!1},St.prototype.redo=St.prototype.redo=function(){if(this.canRedo()){var t=this.NG;try{this.Vc("StartingRedo","Redo",t),this.ni=!0,this.Ug++,t.redo()}catch(e){Uh.trace("redo error: "+e.toString())}finally{this.ni=!1,this.Vc("FinishedRedo","Redo",t)}}},St.prototype.Vc=function(t,e,i){void 0===i&&(i=null);var n=new ot;for(n.td=Ul,n.propertyName=t,n.object=i,n.oldValue=e,t=this.rJ;t.next();)e=t.value,n.ga=e,e.lw(n)},St.prototype.handleChanged=St.prototype.UE=function(t){if(this.isEnabled&&!this.Cb&&!this.skipsEvent(t)){var e=this.Ni;null===e&&(this.Lu=e=new At);var i=t.copy(),e=e.eh;e.Na(),e.add(i),e.freeze(),this.Qz&&0>=this.Ve&&!this.Hy&&(t=t.h,null!==t&&!1===t.rf||Uh.trace("Change not within a transaction: "+i.toString()))}},St.prototype.skipsEvent=function(t){if(null===t||0>t.td.value)return!0;if(t=t.object,t instanceof Sn){if(t=t.layer,null!==t&&t.Ac)return!0}else if(t instanceof Ge&&t.Ac)return!0;return!1},Uh.A(St,{rJ:"models"},function(){return this.Zy.k}),Uh.g(St,"isEnabled",St.prototype.isEnabled),Uh.defineProperty(St,{isEnabled:"isEnabled"},function(){return this.Xe},function(t){this.Xe=t}),Uh.A(St,{OG:"transactionToUndo"},function(){return 0<=this.Ri&&this.Ri<=this.history.count-1?this.history.na(this.Ri):null}),Uh.A(St,{NG:"transactionToRedo"},function(){return this.Ri<this.history.count-1?this.history.na(this.Ri+1):null}),Uh.A(St,{Cb:"isUndoingRedoing"},function(){return this.ni}),Uh.A(St,{history:"history"},function(){return this.pH}),Uh.g(St,"maxHistoryLength",St.prototype.zA),Uh.defineProperty(St,{zA:"maxHistoryLength"},function(){return this.GC},function(t){this.GC=t}),Uh.A(St,{Ri:"historyIndex"},function(){return this.Ug}),Uh.A(St,{Ni:"currentTransaction"},function(){return this.Lu}),Uh.A(St,{Ve:"transactionLevel"},function(){return this.al}),Uh.A(St,{iF:"isInTransaction"},function(){return 0<this.al}),Uh.defineProperty(St,{Qz:"checksTransactionLevel"},function(){return this.ay},function(t){this.ay=t}),Uh.A(St,{KF:"nestedTransactionNames"},function(){return this.$g}),Uh.ja("CommandHandler",Et);var eu=null,iu="";Et.prototype.toString=function(){return"CommandHandler"},Uh.A(Et,{h:"diagram"},function(){return this.Y}),Et.prototype.Hc=function(t){Vh&&null!==t&&Uh.l(t,Ue,Et,"setDiagram"),this.Y=t},Et.prototype.doKeyDown=function(){var t=this.h;if(null!==t){var e=t.P,i=Uh.Xm?e.yp:e.control,n=e.shift,o=e.alt,r=e.key;!i||"C"!==r&&"Insert"!==r?i&&"X"===r||n&&"Del"===r?this.canCutSelection()&&this.cutSelection():"Del"===r?this.canDeleteSelection()&&this.deleteSelection():i&&"V"===r||n&&"Insert"===r?this.canPasteSelection()&&this.pasteSelection():i&&"Y"===r||o&&n&&"Backspace"===r?this.canRedo()&&this.redo():i&&"Z"===r||o&&"Backspace"===r?this.canUndo()&&this.undo():i&&"A"===r?this.canSelectAll()&&this.selectAll():"Esc"===r?this.canStopCommand()&&this.stopCommand():"Up"===r?t.Fe&&(i?t.scroll("pixel","up"):t.scroll("line","up")):"Down"===r?t.Fe&&(i?t.scroll("pixel","down"):t.scroll("line","down")):"Left"===r?t.De&&(i?t.scroll("pixel","left"):t.scroll("line","left")):"Right"===r?t.De&&(i?t.scroll("pixel","right"):t.scroll("line","right")):"PageUp"===r?n&&t.De?t.scroll("page","left"):t.Fe&&t.scroll("page","up"):"PageDown"===r?n&&t.De?t.scroll("page","right"):t.Fe&&t.scroll("page","down"):"Home"===r?(e=t.Jd,i&&t.Fe?t.position=new b(t.position.x,e.y):!i&&t.De&&(t.position=new b(e.x,t.position.y))):"End"===r?(e=t.Jd,n=t.tb,i&&t.Fe?t.position=new b(n.x,e.bottom-n.height):!i&&t.De&&(t.position=new b(e.right-n.width,n.y))):"Subtract"===r?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===r?this.canIncreaseZoom()&&this.increaseZoom():i&&"0"===r?this.canResetZoom()&&this.resetZoom():n&&"Z"===r?this.canZoomToFit()&&this.zoomToFit():i&&!n&&"G"===r?this.canGroupSelection()&&this.groupSelection():i&&n&&"G"===r?this.canUngroupSelection()&&this.ungroupSelection():e.event&&113===e.event.which?this.canEditTextBlock()&&this.editTextBlock():e.event&&93===e.event.which?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()}},Et.prototype.doKeyUp=function(){var t=this.h;null!==t&&(t.P.bubbles=!0)},Et.prototype.stopCommand=function(){var t=this.h;if(null!==t){var e=t.Wa;e instanceof De&&t.Ee&&t.nw(),null!==e&&e.doCancel()}},Et.prototype.canStopCommand=function(){return!0},Et.prototype.selectAll=function(){var t=this.h;if(null!==t){t.pa();try{t.Yb="wait",t.Ba("ChangingSelection");for(var e=t.hk;e.next();)e.value.Za=!0;for(var i=t.Gg;i.next();)i.value.Za=!0;for(var n=t.links;n.next();)n.value.Za=!0}finally{t.Ba("ChangedSelection"),t.Yb=""}}},Et.prototype.canSelectAll=function(){var t=this.h;return null!==t&&t.Ee},Et.prototype.deleteSelection=function(){var t=this.h;if(null!==t&&!t.Ba("SelectionDeleting",t.selection))try{t.Yb="wait",t.ac("Delete"),t.Ba("ChangingSelection");for(var e=new c(er),i=t.selection.k;i.next();)Tt(e,i.value,!0,this.zE?1/0:0,!0,function(t){return t.canDelete()});t.UA(e,!0),t.Ba("SelectionDeleted",e)}finally{t.Ba("ChangedSelection"),t.$d("Delete"),t.Yb=""}},Et.prototype.canDeleteSelection=function(){var t=this.h;return null===t||t.hb||t.ff||!t.Rj||0===t.selection.count?!1:!0},Et.prototype.Po=function(t,e,i){var n=new v(er,er);for(t=t.k;t.next();)Mt(this,t.value,e,n,i);if(null!==e){i=e.ga,t=!1,null!==e.sb.vd&&(t=e.sb.vd.Rh);for(var o=new c(Nr),r=new v(Nr,Nr),s=n.k;s.next();){var a=s.value;if(a instanceof Nr){var h=a;t||null!==h.Z&&null!==h.da||o.add(h)}else if(i instanceof xt&&a instanceof Cr&&null!==a.data){var h=i,l=a,a=s.key,u=a.Rm();null!==u&&(u=n.Aa(u),null!==u?(h.kh(l.data,h.Bb(u.data)),h=e.vg(l.data),a=a.pt(),null!==a&&null!==h&&r.add(a,h)):h.kh(l.data,void 0))}}if(0<o.count&&e.UA(o,!1),0<r.count)for(e=r.k;e.next();)n.add(e.key,e.value)}for(e=n.k;e.next();)e.value.Rb();return n},Et.prototype.copySelection=function(){var t=this.h;if(null!==t){for(var e=new c(er),t=t.selection.k;t.next();)Tt(e,t.value,!0,this.lE?1/0:0,this.jE,function(t){return t.canCopy()});this.copyToClipboard(e)}},Et.prototype.canCopySelection=function(){var t=this.h;return null!==t&&t.Oh&&t.hw&&0!==t.selection.count?!0:!1},Et.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Et.prototype.canCutSelection=function(){var t=this.h;return null!==t&&!t.hb&&!t.ff&&t.Oh&&t.Rj&&t.hw&&0!==t.selection.count?!0:!1},Et.prototype.copyToClipboard=function(t){var e=this.h;if(null!==e){var i=null;if(null===t)eu=null,iu="";else{var i=e.ga,n=!1,o=!1,r=null;try{if(i instanceof xt){var s=i,n=s.hl;s.hl=this.Vz}i instanceof bt&&(s=i,o=s.gl,s.gl=this.Uz),r=e.Po(t,null,!0)}finally{i instanceof xt&&(i.hl=n),i instanceof bt&&(i.gl=o),i=new l(er),i.Ce(r),eu=i,iu=e.ga.Wj}}e.Ba("ClipboardChanged",i)}},Et.prototype.pasteFromClipboard=function(){var t=new c(er),e=eu;if(null===e)return t;var i=this.h;if(null===i||iu!==i.ga.Wj)return t;var n=i.ga,o=!1,r=!1,s=null;try{if(n instanceof xt){var a=n,o=a.hl;a.hl=this.Vz}n instanceof bt&&(a=n,r=a.gl,a.gl=this.Uz),s=i.Po(e,i,!1)}finally{for(n instanceof xt&&(n.hl=o),n instanceof bt&&(n.gl=r),e=s.k;e.next();)i=e.value,n=e.key,i.location.J()||(n.location.J()?i.location=n.location:!i.position.J()&&n.position.J()&&(i.position=n.position)),t.add(i)}return t},Et.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.h;if(null!==e)try{e.Yb="wait",e.ac("Paste"),e.Ba("ChangingSelection");var i=this.pasteFromClipboard();0<i.count&&Li(e);for(var n=i.k;n.next();)n.value.Za=!0;if(e.Ba("ChangedSelection"),null!==t){var o=e.computePartsBounds(e.selection);if(o){var r=e.sb.vd;null===r&&(r=new Bt,r.Hc(e));var s=r.computeEffectiveCollection(e.selection);r.moveParts(s,new b(t.x-o.Ca,t.y-o.Ra),!1)}}e.Ba("ClipboardPasted",i)}finally{e.$d("Paste"),e.Yb=""}},Et.prototype.canPasteSelection=function(){var t=this.h;return null===t||t.hb||t.ff||!t.Bm||!t.hw||null===eu||iu!==t.ga.Wj?!1:!0},Et.prototype.undo=function(){var t=this.h;null!==t&&t.la.undo()},Et.prototype.canUndo=function(){var t=this.h;return null===t||t.hb||t.ff?!1:t.Jz&&t.la.canUndo()},Et.prototype.redo=function(){var t=this.h;null!==t&&t.la.redo()},Et.prototype.canRedo=function(){var t=this.h;return null===t||t.hb||t.ff?!1:t.Jz&&t.la.canRedo()},Et.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.ku),Uh.p(t,Et,"decreaseZoom:factor");var e=this.h;null!==e&&e.Fm===Du&&(t*=e.scale,t<e.Dg||t>e.Cg||(e.scale=t))},Et.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.ku),Uh.p(t,Et,"canDecreaseZoom:factor");var e=this.h;return null===e||e.Fm!==Du?!1:(t*=e.scale,t<e.Dg||t>e.Cg?!1:e.Xs)},Et.prototype.increaseZoom=function(t){void 0===t&&(t=this.ku),Uh.p(t,Et,"increaseZoom:factor");var e=this.h;null!==e&&e.Fm===Du&&(t*=e.scale,t<e.Dg||t>e.Cg||(e.scale=t))},Et.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.ku),Uh.p(t,Et,"canIncreaseZoom:factor");var e=this.h;return null===e||e.Fm!==Du?!1:(t*=e.scale,t<e.Dg||t>e.Cg?!1:e.Xs)},Et.prototype.resetZoom=function(t){void 0===t&&(t=this.it),Uh.p(t,Et,"resetZoom:newscale");var e=this.h;null===e||t<e.Dg||t>e.Cg||(e.scale=t)},Et.prototype.canResetZoom=function(t){void 0===t&&(t=this.it),Uh.p(t,Et,"canResetZoom:newscale");var e=this.h;return null===e||t<e.Dg||t>e.Cg?!1:e.Xs},Et.prototype.zoomToFit=function(){var t=this.h;if(null!==t){var e=t.scale,i=t.position;e!==this.KD||isNaN(this.Uy)?(this.Uy=e,this.DC=i.copy(),t.zoomToFit(),t.kf(),this.KD=t.scale):(t.scale=this.Uy,t.position=this.DC)}},Et.prototype.canZoomToFit=function(){var t=this.h;return null===t?!1:t.Xs},Et.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.h;if(null===e)return!1;try{e.ac("Collapse Tree");var i=new l(Cr);if(null!==t&&t.Pc)t.collapseTree(),i.add(t);else for(var n=e.selection.k;n.next();){var o=n.value;o instanceof Cr&&(t=o,t.Pc&&(t.collapseTree(),i.add(t)))}e.Ba("TreeCollapsed",i)}finally{e.$d("Collapse Tree")}},Et.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.h;if(null===e||e.hb)return!1;if(null!==t){if(!t.Pc)return!1;if(0<t.Iw().count)return!0}else for(t=e.selection.k;t.next();)if(e=t.value,e instanceof Cr&&e.Pc&&0<e.Iw().count)return!0;return!1},Et.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.h;if(null===e)return!1;try{e.ac("Expand Tree");var i=new l(Cr);if(null===t||t.Pc)for(var n=e.selection.k;n.next();){var o=n.value;o instanceof Cr&&(t=o,t.Pc||(t.expandTree(),i.add(t)))}else t.expandTree(),i.add(t);e.Ba("TreeExpanded",i)}finally{e.$d("Expand Tree")}},Et.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.h;if(null===e||e.hb)return!1;if(null!==t){if(t.Pc)return!1;if(0<t.Iw().count)return!0}else for(t=e.selection.k;t.next();)if(e=t.value,e instanceof Cr&&!e.Pc&&0<e.Iw().count)return!0;return!1},Et.prototype.groupSelection=function(){var t=this.h;if(null!==t){var e=t.ga;if(e instanceof bt){var i=this.Lz;if(null!==i){var n=null;try{t.Yb="wait",t.ac("Group"),t.Ba("ChangingSelection");for(var o=new l(er),r=t.selection.k;r.next();){var s=r.value;s.Ld()&&s.canGroup()&&o.add(s)}for(var a=new l(er),h=o.k;h.next();){for(var u=h.value,r=!1,c=o.k;c.next();)if(u.Uh(c.value)){r=!0;break}r||a.add(u)}if(0<a.count){var f=a.first().Va;if(null!==f)for(;null!==f;){for(var o=!1,d=a.k;d.next();)if(!d.value.Uh(f)){o=!0;break}if(!o)break;f=f.Va}if(i instanceof bs)bo(i),n=i.copy(),null!==n&&t.add(n);else if(e.rA(i)){var p=e.copyNodeData(i);Uh.Xa(p)&&(e.Am(p),n=t.Hw(p))}if(null!==n){null!==f&&this.isValidMember(f,n)&&(n.Va=f);for(var g=a.k;g.next();){var m=g.value;this.isValidMember(n,m)&&(m.Va=n)}t.select(n)}}t.Ba("ChangedSelection"),t.Ba("SelectionGrouped",n)}finally{t.$d("Group"),t.Yb=""}}}}},Et.prototype.canGroupSelection=function(){var t=this.h;if(null===t||t.hb||t.ff||!t.Bm||!t.Fo||!(t.ga instanceof bt)||null===this.Lz)return!1;for(t=t.selection.k;t.next();){var e=t.value;if(e.Ld()&&e.canGroup())return!0}return!1},Et.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Nr)return!1;if(null!==t){if(t===e||t.Uh(e))return!1;var i=t.Ft;if(null!==i&&!i(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return i=this.Ft,null!==i?i(t,e):!0},Et.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.h;if(null!==e){var i=e.ga;if(i instanceof bt)try{e.Yb="wait",e.ac("Ungroup"),e.Ba("ChangingSelection");var n=new l(bs);if(null!==t)n.add(t);else for(var o=e.selection.k;o.next();){var r=o.value;r instanceof bs&&(t=r,t.canUngroup()&&n.add(t))}if(0<n.count){e.nw();for(var s=n.k;s.next();){var a=s.value;a.expandSubGraph();var h=a.Va,u=null!==h&&null!==h.data?i.Bb(h.data):void 0,c=new l(er);c.Ce(a.Qc);for(var f=c.k;f.next();){var d=f.value;if(d.Za=!0,!(d instanceof Nr)){var p=d.data;null!==p?i.zx(p,u):d.Va=h}}e.remove(a)}}e.Ba("ChangedSelection"),e.Ba("SelectionUngrouped",n,c)}finally{e.$d("Ungroup"),e.Yb=""}}},Et.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.h;if(null===e||e.hb||e.ff||!e.Rj||!e.Jo||!(e.ga instanceof bt))return!1;if(null!==t){if(t.canUngroup())return!0}else for(t=e.selection.k;t.next();)if(e=t.value,e instanceof bs&&e.canUngroup())return!0;return!1},Et.prototype.addTopLevelParts=function(t,e){for(var i=!0,n=Dt(t).k;n.next();){var o=n.value;null!==o.Va&&(!e||this.isValidMember(null,o)?o.Va=null:i=!1)}return i},Et.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.h;if(null===e)return!1;try{e.ac("Collapse SubGraph");var i=new l(bs);if(null!==t&&t.Md)t.collapseSubGraph(),i.add(t);else for(var n=e.selection.k;n.next();){var o=n.value;o instanceof bs&&(t=o,t.Md&&(t.collapseSubGraph(),i.add(t)))}e.Ba("SubGraphCollapsed",i)}finally{e.$d("Collapse SubGraph")}},Et.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.h;if(null===e||e.hb)return!1;if(null!==t)return t.Md?!0:!1;for(t=e.selection.k;t.next();)if(e=t.value,e instanceof bs&&e.Md)return!0;return!1},Et.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.h;if(null===e)return!1;try{e.ac("Expand SubGraph");var i=new l(bs);if(null===t||t.Md)for(var n=e.selection.k;n.next();){var o=n.value;o instanceof bs&&(t=o,t.Md||(t.expandSubGraph(),i.add(t)))}else t.expandSubGraph(),i.add(t);e.Ba("SubGraphExpanded",i)}finally{e.$d("Expand SubGraph")}},Et.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.h;if(null===e||e.hb)return!1;if(null!==t)return t.Md?!1:!0;for(t=e.selection.k;t.next();)if(e=t.value,e instanceof bs&&!e.Md)return!0;return!1},Et.prototype.editTextBlock=function(t){void 0===t&&(t=null),null!==t&&Uh.l(t,$o,Et,"editTextBlock");var e=this.h;if(null!==e){var i=e.sb.Gx;if(null!==i){if(null===t){t=null;for(var n=e.selection.k;n.next();){var o=n.value;if(o.canEdit()){t=o;break}}if(null===t)return;t=t.lt(function(t){return t instanceof $o&&t.Aw})}null!==t&&(i.Ng=t,e.Wa=i)}}},Et.prototype.canEditTextBlock=function(t){void 0===t&&(t=null),null!==t&&Uh.l(t,$o,Et,"canEditTextBlock");var e=this.h;if(null===e||e.hb||e.ff||!e.Io||null===e.sb.Gx)return!1;if(null!==t){if(t=t.V,null!==t&&t.canEdit())return!0}else for(e=e.selection.k;e.next();)if(t=e.value,t.canEdit()&&(t=t.lt(function(t){return t instanceof $o&&t.Aw}),null!==t))return!0;return!1},Et.prototype.showContextMenu=function(t){var e=this.h;if(null!==e){var i=e.sb.rw;if(null!==i&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),t=i.findObjectWithContextMenu(t),null!==t)){var n=new it,o=null;t instanceof Sn?o=t.qb(al):e.kF||(o=e.tb,o=new b(o.x+o.width/2,o.y+o.height/2)),null!==o&&(n.We=e.PG(o),n.fa=o,e.P=n),e.Wa=i,Se(i,!1,t)}}},Et.prototype.canShowContextMenu=function(t){var e=this.h;if(null===e)return!1;var i=e.sb.rw;return null===i?!1:(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null===i.findObjectWithContextMenu(t)?!1:!0)},Uh.g(Et,"copiesConnectedLinks",Et.prototype.jE),Uh.defineProperty(Et,{jE:"copiesConnectedLinks"},function(){return this.OB},function(t){Uh.i(t,"boolean",Et,"copiesConnectedLinks"),this.OB=t}),Uh.g(Et,"copiesTree",Et.prototype.lE),Uh.defineProperty(Et,{lE:"copiesTree"},function(){return this.SB},function(t){Uh.i(t,"boolean",Et,"copiesTree"),this.SB=t}),Uh.g(Et,"deletesTree",Et.prototype.zE),Uh.defineProperty(Et,{zE:"deletesTree"},function(){return this.bC},function(t){Uh.i(t,"boolean",Et,"deletesTree"),this.bC=t}),Uh.g(Et,"copiesParentKey",Et.prototype.Vz),Uh.defineProperty(Et,{Vz:"copiesParentKey"},function(){return this.RB},function(t){Uh.i(t,"boolean",Et,"copiesParentKey"),this.RB=t}),Uh.g(Et,"copiesGroupKey",Et.prototype.Uz),Uh.defineProperty(Et,{Uz:"copiesGroupKey"},function(){return this.QB},function(t){Uh.i(t,"boolean",Et,"copiesGroupKey"),this.QB=t}),Uh.g(Et,"archetypeGroupData",Et.prototype.Lz),Uh.defineProperty(Et,{Lz:"archetypeGroupData"},function(){return this.Xx},function(t){null!==t&&Uh.l(t,Object,Et,"archetypeGroupData");var e=this.h;null!==e&&(e=e.ga,e instanceof bt&&(t instanceof bs||e.rA(t)||Uh.m("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+t))),this.Xx=t}),Uh.g(Et,"memberValidation",Et.prototype.Ft),Uh.defineProperty(Et,{Ft:"memberValidation"},function(){return this.Sk},function(t){null!==t&&Uh.i(t,"function",Et,"memberValidation"),this.Sk=t}),Uh.g(Et,"defaultScale",Et.prototype.it),Uh.defineProperty(Et,{it:"defaultScale"},function(){return this.$B},function(t){Uh.p(t,Et,"defaultScale"),t>0||Uh.m("defaultScale must be larger than zero, not: "+t),this.$B=t}),Uh.g(Et,"zoomFactor",Et.prototype.ku),Uh.defineProperty(Et,{ku:"zoomFactor"},function(){return this.JD},function(t){Uh.p(t,Et,"zoomFactor"),t>1||Uh.m("zoomFactor must be larger than 1.0, not: "+t),this.JD=t}),Uh.ja("Tool",Pt),Pt.prototype.Hc=function(t){Vh&&null!==t&&Uh.l(t,Ue,Pt,"setDiagram"),this.Y=t},Pt.prototype.toString=function(){return""!==this.name?this.name+" Tool":Uh.yg(Object.getPrototypeOf(this))},Pt.prototype.updateAdornments=function(){},Pt.prototype.canStart=function(){return this.isEnabled},Pt.prototype.doStart=function(){},Pt.prototype.doActivate=function(){this.qa=!0},Pt.prototype.doDeactivate=function(){this.qa=!1},Pt.prototype.doStop=function(){},Pt.prototype.doCancel=function(){this.stopTool()},Pt.prototype.stopTool=function(){var t=this.h;null!==t&&t.Wa===this&&(t.Wa=null,t.Yb="")},Pt.prototype.doMouseDown=function(){!this.qa&&this.canStart()&&this.doActivate()},Pt.prototype.doMouseMove=function(){},Pt.prototype.doMouseUp=function(){this.stopTool()},Pt.prototype.doMouseWheel=function(){},Pt.prototype.canStartMultiTouch=function(){return!0},Pt.prototype.standardPinchZoomStart=function(){var t=this.h;if(null!==t){var e=t.P.event,i=null,n=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;i=e.targetTouches[0],n=e.targetTouches[1]}else{if(null===t.Lf[0])return;i=t.Lf[0],n=t.Lf[1]}if(this.doCancel(),t.Vn){t.Iy=!0,t.RC=t.scale;var o=t.Fb,r=t.Eb,s=t.mb.getBoundingClientRect(),a=i.clientX-o/s.width*s.left,h=i.clientY-r/s.height*s.top,i=n,n=i.clientX-o/s.width*s.left-a,r=i.clientY-r/s.height*s.top-h,r=Math.sqrt(n*n+r*r);t.mD=r,e.preventDefault(),e.cancelBubble=!0}else ai(t)}},Pt.prototype.standardPinchZoomMove=function(){var t=this.h;if(null!==t){var e=t.P.event;this.doCancel(),ai(t);var i=null,n=null;if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;i=e.targetTouches[0],n=e.targetTouches[1]}else{if(null===t.Lf[0])return;i=t.Lf[0],n=t.Lf[1]}if(t.Vn&&t.Iy){var o=t.Fb,r=t.Eb,s=t.mb.getBoundingClientRect(),a=i,i=a.clientX-o/s.width*s.left,h=a.clientY-r/s.height*s.top,a=n,n=a.clientX-o/s.width*s.left,r=a.clientY-r/s.height*s.top,s=n-i,o=r-h,s=Math.sqrt(s*s+o*o)/t.mD,i=new b((Math.min(n,i)+Math.max(n,i))/2,(Math.min(r,h)+Math.max(r,h))/2),h=t.RC*s,n=t.zb;h!==t.scale&&n.canResetZoom(h)&&(r=t.Ll,t.Ll=i,n.resetZoom(h),t.Ll=r),e.preventDefault(),e.cancelBubble=!0}}},Pt.prototype.doKeyDown=function(){var t=this.h;null!==t&&"Esc"===t.P.key&&this.doCancel()},Pt.prototype.doKeyUp=function(){},Pt.prototype.startTransaction=Pt.prototype.ac=function(t){this.mf=null;var e=this.h;return null===e?!1:e.ac(t)},Pt.prototype.stopTransaction=Pt.prototype.jk=function(){var t=this.h;return null===t?!1:null===this.mf?t.Mp():t.$d(this.mf)},Pt.prototype.standardMouseSelect=function(){var t=this.h;if(null!==t&&t.Ee){var e=t.P,i=t.ot(e.fa,!1);if(null!==i){if(Uh.Xm?e.yp:e.control){for(t.Ba("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.Va;null!==e&&(e.Za=!e.Za),t.Ba("ChangedSelection")}else if(e.shift){if(!i.Za){for(t.Ba("ChangingSelection"),e=i;null!==e&&!e.canSelect();)e=e.Va;null!==e&&(e.Za=!0),t.Ba("ChangedSelection")}}else if(!i.Za){for(e=i;null!==e&&!e.canSelect();)e=e.Va;null!==e&&t.select(e)}}else!e.left||(Uh.Xm?e.yp:e.control)||e.shift||t.nw()}},Pt.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(t){return!t.layer.Ac});var i=this.h;if(null!==i){var n=i.P,o=i.qe(n.fa,t,e);n.he=o,Lt(o,n,i)}},Pt.prototype.standardMouseOver=function(){var t=this.h;if(null!==t){var e=t.P;if(null!==e.h&&!0!==t.Pb.qd){var i=t.$a;t.$a=!0;var n=t.qe(e.fa,null,null);e.he=n;var o=!1;if(n!==t.Cn){var r=t.Cn,s=r;for(t.Cn=n,this.doCurrentObjectChanged(r,n),e.Nc=!1;null!==r;){var a=r.CA;if(null!==a){if(n===r)break;if(null!==n&&n.sl(r))break;if(a(e,r,n),o=!0,e.Nc)break}r=r.U}for(r=s,e.Nc=!1;null!==n;){if(a=n.BA,null!==a){if(r===n)break;if(null!==r&&r.sl(n))break;if(a(e,n,r),o=!0,e.Nc)break}n=n.U}n=t.Cn}if(null!==n){for(r=n,a="";null!==r&&(a=r.cursor,""===a);)r=r.U;for(t.Yb=a,e.Nc=!1,r=n;null!==r&&(a=r.Jt,null===a||(a(e,r),o=!0,!e.Nc));)r=r.U}else t.Yb="",a=t.Jt,null!==a&&(a(e),o=!0);o&&t.Se(),t.$a=i}}},Pt.prototype.doCurrentObjectChanged=function(){},Pt.prototype.standardMouseWheel=function(){var t=this.h;if(null!==t){var e=t.P,i=e.Yj;if(0!==i&&t.Jd.J()){var n=t.zb,o=t.sb.Ep;if((o===Su&&!e.shift||o===Au&&e.control)&&(i>0?n.canIncreaseZoom():n.canDecreaseZoom()))o=t.Ll,t.Ll=e.We,i>0?n.increaseZoom():n.decreaseZoom(),t.Ll=o,e.bubbles=!1;else if(o===Su&&e.shift||o===Au&&!e.control){if(n=t.position.copy(),o=i>0?i:-i,!e.shift&&t.Fe){var r=t.Qp,o=o/40*r;i>0?t.scroll("pixel","up",o):t.scroll("pixel","down",o)}else e.shift&&t.De&&(r=t.Pp,o=o/40*r,i>0?t.scroll("pixel","left",o):t.scroll("pixel","right",o));t.position.L(n)||(e.bubbles=!1)}}}},Pt.prototype.standardWaitAfter=function(t){Uh.i(t,"number",Pt,"standardWaitAfter:delay"),this.cancelWaitAfter();var e=this;this.bw=Uh.setTimeout(function(){e.doWaitAfter()},t)},Pt.prototype.cancelWaitAfter=function(){-1!==this.bw&&Uh.clearTimeout(this.bw),this.bw=-1},Pt.prototype.doWaitAfter=function(){},Pt.prototype.findToolHandleAt=function(t,e){var i=this.h;if(null===i)return null;if(i=i.qe(t,null,function(t){return t=t.V,null===t?!1:null!==t.wc}),null===i)return null;var n=i.V;return null===n||n.Wc!==e?null:i},Pt.prototype.isBeyondDragSize=function(t,e){var i=this.h;if(null===i)return!1;void 0===t&&(t=i.xc.We),void 0===e&&(e=i.P.We);var n=i.sb.BE,o=n.width,n=n.height;return i.xc.ul&&(o+=6,n+=6),Math.abs(e.x-t.x)>o||Math.abs(e.y-t.y)>n},Uh.A(Pt,{h:"diagram"},function(){return this.Y}),Uh.g(Pt,"name",Pt.prototype.name),Uh.defineProperty(Pt,{name:"name"},function(){return this.Xb},function(t){Uh.i(t,"string",Pt,"name"),this.Xb=t}),Uh.g(Pt,"isEnabled",Pt.prototype.isEnabled),Uh.defineProperty(Pt,{isEnabled:"isEnabled"},function(){return this.Xe},function(t){Uh.i(t,"boolean",Pt,"isEnabled"),this.Xe=t}),Uh.g(Pt,"isActive",Pt.prototype.qa),Uh.defineProperty(Pt,{qa:"isActive"},function(){return this.pC},function(t){Uh.i(t,"boolean",Pt,"isActive"),this.pC=t}),Uh.g(Pt,"transactionResult",Pt.prototype.mf),Uh.defineProperty(Pt,{mf:"transactionResult"},function(){return this.ED},function(t){null!==t&&Uh.i(t,"string",Pt,"transactionResult"),this.ED=t}),Uh.Ia(Bt,Pt),Uh.ja("DraggingTool",Bt),Uh.g(Bt,"isCopyEnabled",Bt.prototype.pA),Uh.defineProperty(Bt,{pA:"isCopyEnabled"},function(){return this.tC},function(t){Uh.i(t,"boolean",Bt,"isCopyEnabled"),this.tC=t}),Uh.g(Bt,"copiesEffectiveCollection",Bt.prototype.kE),Uh.defineProperty(Bt,{kE:"copiesEffectiveCollection"},function(){return this.PB},function(t){Uh.i(t,"boolean",Bt,"copiesEffectiveCollection"),this.PB=t}),Uh.g(Bt,"dragsTree",Bt.prototype.CE),Uh.defineProperty(Bt,{CE:"dragsTree"},function(){return this.hC},function(t){Uh.i(t,"boolean",Bt,"dragsTree"),this.hC=t}),Uh.g(Bt,"isGridSnapEnabled",Bt.prototype.kp),Uh.defineProperty(Bt,{kp:"isGridSnapEnabled"},function(){return this.Wq},function(t){Uh.i(t,"boolean",Bt,"isGridSnapEnabled"),this.Wq=t}),Uh.g(Bt,"isComplexRoutingRealtime",Bt.prototype.fF),Uh.defineProperty(Bt,{fF:"isComplexRoutingRealtime"},function(){return this.sC},function(t){Uh.i(t,"boolean",Bt,"isComplexRoutingRealtime"),this.sC=t}),Uh.g(Bt,"isGridSnapRealtime",Bt.prototype.hF),Uh.defineProperty(Bt,{hF:"isGridSnapRealtime"},function(){return this.xC},function(t){Uh.i(t,"boolean",Bt,"isGridSnapRealtime"),this.xC=t}),Uh.g(Bt,"gridSnapCellSize",Bt.prototype.hA),Uh.defineProperty(Bt,{hA:"gridSnapCellSize"},function(){return this.Jy},function(t){Uh.l(t,C,Bt,"gridSnapCellSize"),this.Jy.L(t)||(this.Jy=t=t.ba())}),Uh.g(Bt,"gridSnapCellSpot",Bt.prototype.QE),Uh.defineProperty(Bt,{QE:"gridSnapCellSpot"},function(){return this.Ky},function(t){Uh.l(t,P,Bt,"gridSnapCellSpot"),this.Ky.L(t)||(this.Ky=t=t.ba())}),Uh.g(Bt,"gridSnapOrigin",Bt.prototype.RE),Uh.defineProperty(Bt,{RE:"gridSnapOrigin"},function(){return this.Ly},function(t){Uh.l(t,b,Bt,"gridSnapOrigin"),this.Ly.L(t)||(this.Ly=t=t.ba())}),Uh.g(Bt,"dragsLink",Bt.prototype.Rh),Uh.defineProperty(Bt,{Rh:"dragsLink"},function(){return this.gC},function(t){Uh.i(t,"boolean",Bt,"dragsLink"),this.gC=t}),Uh.g(Bt,"currentPart",Bt.prototype.Ro),Uh.defineProperty(Bt,{Ro:"currentPart"},function(){return this.VB},function(t){null!==t&&Uh.l(t,er,Bt,"currentPart"),this.VB=t}),Uh.g(Bt,"copiedParts",Bt.prototype.mc),Uh.defineProperty(Bt,{mc:"copiedParts"},function(){return this.NB},function(t){this.NB=t}),Uh.g(Bt,"draggedParts",Bt.prototype.Zb),Uh.defineProperty(Bt,{Zb:"draggedParts"},function(){return this.fC},function(t){this.fC=t}),Uh.A(Bt,{mK:"draggingParts"},function(){return null!==this.mc?this.mc.Yi():null!==this.Zb?this.Zb.Yi():this.oH}),Uh.g(Bt,"draggedLink",Bt.prototype.Mc),Uh.defineProperty(Bt,{Mc:"draggedLink"},function(){return this.eC},function(t){null!==t&&Uh.l(t,Nr,Bt,"draggedLink"),this.eC=t}),Uh.g(Bt,"isDragOutStarted",Bt.prototype.yt),Uh.defineProperty(Bt,{yt:"isDragOutStarted"},function(){return this.vC},function(t){this.vC=t}),Uh.g(Bt,"startPoint",Bt.prototype.Wi),Uh.defineProperty(Bt,{Wi:"startPoint"},function(){return this.Pv},function(t){Uh.l(t,b,Bt,"startPoint"),this.Pv.L(t)||(this.Pv=t=t.ba())}),Uh.g(Bt,"delay",Bt.prototype.xw),Uh.defineProperty(Bt,{xw:"delay"},function(){return this.Mn},function(t){Uh.i(t,"number",Bt,"delay"),this.Mn=t}),Bt.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;if(null===t||!t.Gi&&!t.Oh&&!t.Ws||!t.Ee)return!1;var e=t.P;return!e.left||t.Wa!==this&&(!this.isBeyondDragSize()||e.ul&&e.timestamp-t.xc.timestamp<this.Mn)?!1:null!==this.findDraggablePart();
},Bt.prototype.findDraggablePart=function(){var t=this.h;if(null===t)return null;if(t=t.ot(t.xc.fa,!1),null===t)return null;for(;null!==t&&!t.canSelect();)t=t.Va;return null!==t&&(t.canMove()||t.canCopy())?t:null},Bt.prototype.standardMouseSelect=function(){var t=this.h;if(null!==t&&t.Ee){var e=t.ot(t.xc.fa,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.Va;this.Ro=e,this.Ro.Za||(t.Ba("ChangingSelection"),e=t.P,(Uh.Xm?e.yp:e.control)||e.shift||Li(t),this.Ro.Za=!0,t.Ba("ChangedSelection"))}}},Bt.prototype.doActivate=function(){var t=this.h;if(null!==t){this.standardMouseSelect();var e=this.Ro;null!==e&&(e.canMove()||e.canCopy())&&(this.qa=!0,this.wo.set(t.position),Nt(this,t.selection),this.hj.length=0,this.Zb=this.computeEffectiveCollection(t.selection),t.Sp=!0,It(this,this.Zb),this.ac("Drag"),this.Wi=t.xc.fa,t.se=!0,t.Ws&&(this.yt=!0,this.Dq=!1,ou=this,ru=this.h,this.doSimulatedDragOut()))}},Bt.prototype.computeEffectiveCollection=function(t){var e=null!==this.h&&this.h.Wa===this,i=new v(er);if(null===t)return i;for(var n=t.k;n.next();)Rt(this,i,n.value,e);if(null!==this.Mc&&this.Rh)return i;for(n=t.k;n.next();)t=n.value,t instanceof Nr&&(e=t.Z,null===e||i.contains(e)?(e=t.da,null===e||i.contains(e)||i.remove(t)):i.remove(t));return i},Bt.prototype.doDeactivate=function(){this.qa=!1;var t=this.h;if(null!==t&&fn(t),Ot(this),zt(this,this.Zb),this.Zb=null,this.Dq=this.yt=!1,0<nu.count){for(var e=nu.length,i=0;e>i;i++){var n=nu.na(i);Wt(n),qt(n),Ot(n),null!==n.h&&fn(n.h)}nu.clear()}Wt(this),this.wo.o(NaN,NaN),ou=ru=null,qt(this),t.se=!1,t.Yb="",t.Sp=!1,this.jk()},Bt.prototype.doCancel=function(){qt(this),Ut(this);var t=this.h;null!==t&&this.wo.J()&&(t.position=this.wo),this.stopTool()},Bt.prototype.doKeyDown=function(){var t=this.h;null!==t&&(t=t.P,null!==t&&this.qa&&("Esc"===t.key?this.doCancel():this.doMouseMove()))},Bt.prototype.doKeyUp=function(){var t=this.h;null!==t&&null!==t.P&&this.qa&&this.doMouseMove()},Bt.prototype.moveParts=function(t,e,i){if(null!==t&&(Uh.l(t,v,Bt,"moveParts:parts"),0!==t.count)){var n=Uh.M(),o=Uh.M();o.assign(e),isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0);var r=this.Sv;r||It(this,t);for(var s=new l(ne),a=new l(g),h=t.k;h.next();){var u=h.key;if(u.Ld()){var c=Vt(this,u,t);if(null!==c)s.add(new ne(u,h.value,c));else if(!i||u.canMove()){c=h.value.point,n.assign(c);var f=Uh.M(),d=this.computeMove(u,n.add(o),t,f);u.location=d,Uh.B(f),h.value.xG=f.eu(c)}}else h.key instanceof Nr&&a.add(h.Gb)}for(i=s.k;i.next();)s=i.value,c=s.info.point,n.assign(c),s.Cc.location=n.add(s.OI.xG);for(c=Uh.M(),i=Uh.M(),a=a.k;a.next();)f=a.value,s=f.key,s instanceof Nr&&(s.Vp?(h=s.Z,u=s.da,null!==this.Mc&&this.Rh?(f=f.value.point,t.add(s,$t(o)),h=e.x-f.x,u=e.y-f.y,s.wl(h,u)):(null!==h&&(c.assign(h.location),d=t.Aa(h),null!==d&&c.eu(d.point)),null!==u&&(i.assign(u.location),d=t.Aa(u),null!==d&&i.eu(d.point)),null!==h&&null!==u?c.Ne(i)?(f=f.value.point,h=n,h.assign(c),h.eu(f),t.add(s,$t(c)),s.wl(h.x,h.y)):(s.Vp=!1,s.$b()):(f=f.value.point,t.add(s,$t(null!==h?c:null!==u?i:e)),h=o.x-f.x,u=o.y-f.y,s.wl(h,u)))):(null===s.Z||null===s.da)&&(f=f.value.point,t.add(s,$t(e)),h=o.x-f.x,u=o.y-f.y,s.wl(h,u)));Uh.B(n),Uh.B(o),Uh.B(c),Uh.B(i),r||zt(this,t)}},Bt.prototype.computeMove=function(t,e,i,n){if(void 0===n&&(n=new b),n.assign(e),null===t)return n;void 0===i&&(i=null);var o=e;if(this.kp&&(this.hF||null===i||this.h.P.up)&&(o=Uh.M(),i=o,i.assign(e),null!==t)){var r=this.h;if(null!==r){var s=r.ep,a=this.hA,r=a.width,a=a.height,h=this.RE,l=h.x,h=h.y,u=this.QE;if(null!==s){var c=s.rt;isNaN(r)&&(r=c.width),isNaN(a)&&(a=c.height),s=s.gA,isNaN(l)&&(l=s.x),isNaN(h)&&(h=s.y)}s=Uh.ic(0,0),s.cu(0,0,r,a,u),Bl.nt(e.x,e.y,l+s.x,h+s.y,r,a,i),Uh.B(s)}}return i=null!==t.Wz?t.Wz(t,e,o):o,a=t.EF,r=a.x,isNaN(r)&&(r=t.location.x),a=a.y,isNaN(a)&&(a=t.location.y),s=t.yF,l=s.x,isNaN(l)&&(l=t.location.x),s=s.y,isNaN(s)&&(s=t.location.y),n.o(Math.max(r,Math.min(i.x,l)),Math.max(a,Math.min(i.y,s))),o!==e&&Uh.B(o),n},Bt.prototype.doDragOver=function(){},Bt.prototype.doDropOnto=function(){},Bt.prototype.doMouseMove=function(){if(this.qa){var t=this.h;if(null!==t&&null!==this.Ro&&null!==this.Zb){var e=!1,i=!1;this.mayCopy()?(e=!0,t.Yb="copy",Ht(this,!1),It(this,this.mc),Gt(this,this.mc,!1),zt(this,this.mc)):this.mayMove()?(i=!0,t.Yb="default",qt(this),Gt(this,this.Zb,!0)):this.mayDragOut()?(t.Yb="no-drop",Ht(this,!1),Gt(this,this.mc,!1)):qt(this),Yt(this,t.P.fa,i,e)}}},Bt.prototype.doMouseUp=function(){if(this.qa){var t=this.h;if(null!==t){var e=!1,i=this.mayCopy();if(i&&null!==this.mc?(qt(this),Ht(this,!0),It(this,this.mc),Gt(this,this.mc,!1),zt(this,this.mc),null!==this.mc&&t.nG(this.mc.Yi())):(e=!0,qt(this),this.mayMove()&&(Gt(this,this.Zb,!0),this.Nv=!1,Yt(this,t.P.fa,!0,!1),this.Nv=!0)),this.Dq=!0,te(this,t.P.fa),this.qa){if(this.mc=null,e&&null!==this.Zb)for(e=this.Zb.k;e.next();){var n=e.key;n instanceof Cr&&(n=n.Va,null===n||null===n.placeholder||this.Zb.contains(n)||n.Sz&&n.T())}t.oc(),zt(this,this.Zb),this.mf=i?"Copy":"Move",t.Ba(i?"SelectionCopied":"SelectionMoved",t.selection)}this.stopTool()}}},Bt.prototype.mayCopy=function(){if(!this.pA)return!1;var t=this.h;if(null===t||t.hb||t.ff||!t.Bm||!t.Oh||(Uh.Xm?!t.P.alt:!t.P.control))return!1;for(t=t.selection.k;t.next();){var e=t.value;if(e.Ld()&&e.canCopy())return!0}return null!==this.Mc&&this.Rh&&this.Mc.canCopy()?!0:!1},Bt.prototype.mayDragOut=function(){if(!this.pA)return!1;var t=this.h;if(null===t||!t.Ws||!t.Oh||t.Gi)return!1;for(t=t.selection.k;t.next();){var e=t.value;if(e.Ld()&&e.canCopy())return!0}return null!==this.Mc&&this.Rh&&this.Mc.canCopy()?!0:!1},Bt.prototype.mayMove=function(){var t=this.h;if(null===t||t.hb||!t.Gi)return!1;for(t=t.selection.k;t.next();){var e=t.value;if(e.Ld()&&e.canMove())return!0}return null!==this.Mc&&this.Rh&&this.Mc.canMove()?!0:!1};var nu=new l(Bt),ou=null,ru=null;Bt.prototype.mayDragIn=function(){var t=this.h;if(null===t||!t.Iz||t.hb||t.ff||!t.Bm)return!1;var e=ou;return null===e||e.h.ga.Wj!==t.ga.Wj?!1:!0},Bt.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.h;t.Pb.Xi(),mi(t),t=ou,null!==t&&(t.h.Yb="copy")}},Bt.prototype.doSimulatedDragLeave=function(){var t=ou;null!==t&&t.doSimulatedDragOut(),this.doCancel()},Bt.prototype.doSimulatedDragOver=function(){var t=this.h;if(null!==t){var e=ou;null!==e&&null!==e.Zb&&this.mayDragIn()&&(t.Yb="copy",ee(this,e.Zb.Yi(),!1),Gt(this,this.mc,!1),Yt(this,t.P.fa,!1,!0))}},Bt.prototype.doSimulatedDrop=function(){var t=this.h;if(null!==t){var e=ou;null!==e&&(e.Dq=!0,qt(this),this.mayDragIn()&&(this.ac("Drop"),ee(this,e.Zb.Yi(),!0),Gt(this,this.mc,!1),null!==this.mc&&t.nG(this.mc.Yi()),this.mf="ExternalCopy",te(this,t.P.fa),t.oc(),this.mc=null,t.focus(),t.Ba("ExternalObjectsDropped",t.selection),this.jk()))}},Bt.prototype.doSimulatedDragOut=function(){var t=this.h;null!==t&&(this.mayCopy()||this.mayMove()?t.Yb="":t.Yb="no-drop")},Uh.ja("DraggingInfo",ie),Uh.Ia(oe,Pt),Uh.ja("LinkingBaseTool",oe),oe.prototype.doStop=function(){var t=this.h;null!==t&&fn(t),this.Kg=this.Jg=this.Ig=this.Hg=this.pc=null,this.Ix.clear(),this.Gf=null},Uh.g(oe,"portGravity",oe.prototype.IA),Uh.defineProperty(oe,{IA:"portGravity"},function(){return this.aD},function(t){Uh.i(t,"number",oe,"portGravity"),t>=0&&(this.aD=t)}),Uh.g(oe,"isUnconnectedLinkValid",oe.prototype.Ym),Uh.defineProperty(oe,{Ym:"isUnconnectedLinkValid"},function(){return this.BC},function(t){Uh.i(t,"boolean",oe,"isUnconnectedLinkValid"),this.BC=t}),Uh.g(oe,"temporaryLink",oe.prototype.ag),Uh.defineProperty(oe,{ag:"temporaryLink"},function(){return this.xD},function(t){Uh.l(t,Nr,oe,"temporaryLink"),this.xD=t}),Uh.g(oe,"temporaryFromNode",oe.prototype.ie),Uh.defineProperty(oe,{ie:"temporaryFromNode"},function(){return this.vD},function(t){Uh.l(t,Cr,oe,"temporaryFromNode"),this.vD=t}),Uh.g(oe,"temporaryFromPort",oe.prototype.Il),Uh.defineProperty(oe,{Il:"temporaryFromPort"},function(){return this.wD},function(t){Uh.l(t,Sn,oe,"temporaryFromPort"),this.wD=t}),Uh.g(oe,"temporaryToNode",oe.prototype.je),Uh.defineProperty(oe,{je:"temporaryToNode"},function(){return this.yD},function(t){Uh.l(t,Cr,oe,"temporaryToNode"),this.yD=t}),Uh.g(oe,"temporaryToPort",oe.prototype.Jl),Uh.defineProperty(oe,{Jl:"temporaryToPort"},function(){return this.zD},function(t){Uh.l(t,Sn,oe,"temporaryToPort"),this.zD=t}),Uh.g(oe,"originalLink",oe.prototype.pc),Uh.defineProperty(oe,{pc:"originalLink"},function(){return this.UC},function(t){null!==t&&Uh.l(t,Nr,oe,"originalLink"),this.UC=t}),Uh.g(oe,"originalFromNode",oe.prototype.Hg),Uh.defineProperty(oe,{Hg:"originalFromNode"},function(){return this.SC},function(t){null!==t&&Uh.l(t,Cr,oe,"originalFromNode"),this.SC=t}),Uh.g(oe,"originalFromPort",oe.prototype.Ig),Uh.defineProperty(oe,{Ig:"originalFromPort"},function(){return this.TC},function(t){null!==t&&Uh.l(t,Sn,oe,"originalFromPort"),this.TC=t}),Uh.g(oe,"originalToNode",oe.prototype.Jg),Uh.defineProperty(oe,{Jg:"originalToNode"},function(){return this.XC},function(t){null!==t&&Uh.l(t,Cr,oe,"originalToNode"),this.XC=t}),Uh.g(oe,"originalToPort",oe.prototype.Kg),Uh.defineProperty(oe,{Kg:"originalToPort"},function(){return this.YC},function(t){null!==t&&Uh.l(t,Sn,oe,"originalToPort"),this.YC=t}),Uh.defineProperty(oe,{ee:"isForwards"},function(){return this.wC},function(t){Uh.i(t,"boolean",oe,"isForwards"),this.wC=t}),Uh.A(oe,{Ix:"validPortsCache"},function(){return this.AH}),Uh.g(oe,"targetPort",oe.prototype.Gf),Uh.defineProperty(oe,{Gf:"targetPort"},function(){return this.rD},function(t){null!==t&&Uh.l(t,Sn,oe,"targetPort"),this.rD=t}),oe.prototype.copyPortProperties=function(t,e,i,n,o){if(null!==t&&null!==e&&null!==i&&null!==n){n.ya=e.ea.size,o?(n.xb=e.xb,n.mk=e.mk):(n.vb=e.vb,n.ek=e.ek),i.Pe=al;var r=Uh.M();i.location=e.qb(al,r),Uh.B(r),n.angle=e.ml(),null!==this.Pt&&this.Pt(t,e,i,n,o)}},oe.prototype.setNoTargetPortProperties=function(t,e,i){null!==e&&(e.ya=Bl.Px,e.vb=el,e.xb=el),null!==t&&(t.location=this.h.P.fa),null!==this.Pt&&this.Pt(null,null,t,e,i)},oe.prototype.doMouseDown=function(){this.qa&&this.doMouseMove()},oe.prototype.doMouseMove=function(){if(this.qa){var t=this.h;if(null!==t){if(this.Gf=this.findTargetPort(this.ee),null!==this.Gf){var e=this.Gf.V;if(e instanceof Cr)return void(this.ee?this.copyPortProperties(e,this.Gf,this.je,this.Jl,!0):this.copyPortProperties(e,this.Gf,this.ie,this.Il,!1))}this.ee?this.setNoTargetPortProperties(this.je,this.Jl,!0):this.setNoTargetPortProperties(this.ie,this.Il,!1),(t.De||t.Fe)&&un(t,t.P.We)}}},oe.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var i=t.V;if(!(i instanceof Cr))return null;for(;null!==t;){var n=e?t.oB:t.$z;if(!0===n&&(null!==t.xd||t instanceof Cr)&&(e?this.isValidTo(i,t):this.isValidFrom(i,t)))return t;if(!1===n)break;t=t.U}return null},oe.prototype.findTargetPort=function(t){var e=this.h,i=e.P.fa,n=this.IA;0>=n&&(n=.1);for(var o=this,r=e.Qm(i,n,function(e){return o.findValidLinkablePort(e,t)},null,!0),n=1/0,e=null,r=r.k;r.next();){var s=r.value,a=s.V;if(a instanceof Cr){var h=s.qb(al,Uh.M()),l=i.x-h.x,u=i.y-h.y;Uh.B(h),h=l*l+u*u,n>h&&(l=this.Ix.Aa(s),null!==l?l&&(e=s,n=h):t&&this.isValidLink(this.Hg,this.Ig,a,s)||!t&&this.isValidLink(a,s,this.Jg,this.Kg)?(this.Ix.add(s,!0),e=s,n=h):this.Ix.add(s,!1))}}return null!==e&&(i=e.V,i instanceof Cr&&(null===i.layer||i.layer.Cm))?e:null},oe.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.Ym;if(this.h.Wa===this&&(null!==t.layer&&!t.layer.Cm||!0!==e.$z))return!1;var i=e.LE;if(1/0>i){if(null!==this.pc&&t===this.Hg&&e===this.Ig)return!0;var n=e.xd;if(null===n&&(n=""),t.Gw(n).count>=i)return!1}return!0},oe.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.Ym;if(this.h.Wa===this&&(null!==t.layer&&!t.layer.Cm||!0!==e.oB))return!1;var i=e.JG;if(1/0>i){if(null!==this.pc&&t===this.Jg&&e===this.Kg)return!0;var n=e.xd;if(null===n&&(n=""),t.wg(n).count>=i)return!1}return!0},oe.prototype.isInSameNode=function(t,e){if(null===t||null===e)return!1;if(t===e)return!0;var i=t.V,n=e.V;return null!==i&&i===n},oe.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var i=t.V;if(!(i instanceof Cr))return!1;var n=t.xd;null===n&&(n="");var o=e.V;if(!(o instanceof Cr))return!1;var r=e.xd;for(null===r&&(r=""),o=o.wg(r);o.next();)if(r=o.value,r.Z===i&&r.Rf===n)return!0;return!1},oe.prototype.isValidLink=function(t,e,i,n){if(!this.isValidFrom(t,e)||!this.isValidTo(i,n)||!(null===e||null===n||(e.KE&&n.IG||!this.isInSameNode(e,n))&&(e.JE&&n.HG||!this.isLinked(e,n)))||null!==this.pc&&(null!==t&&this.isLabelDependentOnLink(t,this.pc)||null!==i&&this.isLabelDependentOnLink(i,this.pc))||null!==t&&null!==i&&(null===t.data&&null!==i.data||null!==t.data&&null===i.data)||!this.isValidCycle(t,i,this.pc))return!1;if(null!==t){var o=t.vp;if(null!==o&&!o(t,e,i,n,this.pc))return!1}return null===i||(o=i.vp,null===o||o(t,e,i,n,this.pc))?(o=this.vp,null!==o?o(t,e,i,n,this.pc):!0):!1},oe.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var i=t.Nd;if(null===i)return!1;if(i===e)return!0;var n=new c(Cr);return n.add(t),re(this,i,e,n)},oe.prototype.isValidCycle=function(t,e,i){if(void 0===i&&(i=null),null===t||null===e)return this.Ym;var n=this.h.XG;if(n!==Bu){if(n===Ou){if(null!==i&&!i.Bc)return!0;for(n=e.ue;n.next();){var o=n.value;if(o!==i&&o.Bc&&o.da===e)return!1}return!se(this,t,e,i,!0)}if(n===ju){if(null!==i&&!i.Bc)return!0;for(n=t.ue;n.next();)if(o=n.value,o!==i&&o.Bc&&o.Z===t)return!1;return!se(this,t,e,i,!0)}if(n===Nu)return t===e?t=!0:(n=new c(Cr),n.add(e),t=ae(this,n,t,e,i)),!t;if(n===$u)return!se(this,t,e,i,!1);if(n===Ru)return t===e?t=!0:(n=new c(Cr),n.add(e),t=he(this,n,t,e,i)),!t}return!0},Uh.g(oe,"linkValidation",oe.prototype.vp),Uh.defineProperty(oe,{vp:"linkValidation"},function(){return this.Pk},function(t){null!==t&&Uh.i(t,"function",oe,"linkValidation"),this.Pk=t}),Uh.g(oe,"portTargeted",oe.prototype.Pt),Uh.defineProperty(oe,{Pt:"portTargeted"},function(){return this.bD},function(t){null!==t&&Uh.i(t,"function",oe,"portTargeted"),this.bD=t}),Uh.Ia(le,oe),Uh.ja("LinkingTool",le);var su;le.Either=su=Uh.w(le,"Either",0);var au;le.ForwardsOnly=au=Uh.w(le,"ForwardsOnly",0);var hu;le.BackwardsOnly=hu=Uh.w(le,"BackwardsOnly",0),Uh.g(le,"archetypeLinkData",le.prototype.PD),Uh.defineProperty(le,{PD:"archetypeLinkData"},function(){return this.Zx},function(t){null!==t&&Uh.l(t,Object,le,"archetypeLinkData"),t instanceof Sn&&Uh.l(t,Nr,le,"archetypeLinkData"),this.Zx=t}),Uh.g(le,"archetypeLabelNodeData",le.prototype.Mz),Uh.defineProperty(le,{Mz:"archetypeLabelNodeData"},function(){return this.Yx},function(t){null!==t&&Uh.l(t,Object,le,"archetypeLabelNodeData"),t instanceof Sn&&Uh.l(t,Cr,le,"archetypeLabelNodeData"),this.Yx=t}),Uh.g(le,"direction",le.prototype.direction),Uh.defineProperty(le,{direction:"direction"},function(){return this.ta},function(t){Uh.za(t,le,le,"direction"),this.ta=t}),Uh.g(le,"startObject",le.prototype.lB),Uh.defineProperty(le,{lB:"startObject"},function(){return this.nD},function(t){null!==t&&Uh.l(t,Sn,le,"startObject"),this.nD=t}),Uh.A(le,{Dx:"startPort"},function(){return this.oz}),le.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;if(null===t||t.hb||t.ff||!t.Cm)return!1;var e=t.ga;return(e instanceof bt||e instanceof xt)&&t.P.left&&(t.Wa===this||this.isBeyondDragSize())?null!==this.findLinkablePort():!1},le.prototype.findLinkablePort=function(){var t=this.h;if(null===t)return null;var e=this.lB;if(null===e&&(e=t.qe(t.xc.fa,null,null)),null===e||!(e.V instanceof Cr))return null;if(t=this.direction,t===su||t===au){var i=this.findValidLinkablePort(e,!1);if(null!==i)return this.ee=!0,i}return t!==su&&t!==hu||(i=this.findValidLinkablePort(e,!0),null===i)?null:(this.ee=!1,i)},le.prototype.doActivate=function(){var t=this.h;if(null!==t&&(null===this.Dx&&(this.oz=this.findLinkablePort()),null!==this.Dx)){if(this.ac(this.name),t.se=!0,t.Yb="pointer",this.ee){this.Ig=this.Dx;var e=this.Ig.V;e instanceof Cr&&(this.Hg=e),this.copyPortProperties(this.Hg,this.Ig,this.ie,this.Il,!1)}else this.Kg=this.Dx,e=this.Kg.V,e instanceof Cr&&(this.Jg=e),this.copyPortProperties(this.Jg,this.Kg,this.je,this.Jl,!0);t.add(this.ie),t.add(this.je),null!==this.ag&&(null!==this.ie&&(this.ag.Z=this.ie),null!==this.je&&(this.ag.da=this.je),this.ag.$b(),t.add(this.ag)),this.qa=!0}},le.prototype.doDeactivate=function(){this.qa=!1;var t=this.h;null!==t&&(t.remove(this.ag),t.remove(this.ie),t.remove(this.je),t.se=!1,t.Yb="",this.jk())},le.prototype.doStop=function(){oe.prototype.doStop.call(this),this.lB=this.oz=null},le.prototype.doMouseUp=function(){if(this.qa){var t=this.h;if(null===t)return;var e=this.mf=null,i=null,n=null,o=null,r=this.Gf=this.findTargetPort(this.ee);if(null!==r){var s=r.V;s instanceof Cr&&(this.ee?(null!==this.Hg&&(e=this.Hg,i=this.Ig),n=s,o=r):(e=s,i=r,null!==this.Jg&&(n=this.Jg,o=this.Kg)))}else this.ee?null!==this.Hg&&this.Ym&&(e=this.Hg,i=this.Ig):null!==this.Jg&&this.Ym&&(n=this.Jg,o=this.Kg);(null!==e||null!==n)&&(e=this.insertLink(e,i,n,o),null!==e?(null===r&&(this.ee?e.Kn=t.P.fa.copy():e.Gn=t.P.fa.copy()),t.Ee&&t.select(e),this.mf=this.name,t.Ba("LinkDrawn",e)):t.ga.ZD())}this.stopTool()},le.prototype.insertLink=function(t,e,i,n){var o=this.h;if(null===o)return null;var r=o.ga;if(r instanceof xt){var s=t;if(e=i,o.ld||(s=i,e=t),null!==s&&null!==e)return r.kh(e.data,r.Bb(s.data)),e.pt()}else if(r instanceof bt)if(s="",null!==t&&(null===e&&(e=t),s=e.xd,null===s&&(s="")),e="",null!==i&&(null===n&&(n=i),e=n.xd,null===e&&(e="")),n=this.PD,n instanceof Nr){if(bo(n),r=n.copy(),null!==r)return r.Z=t,r.Rf=s,r.da=i,r.Og=e,o.add(r),t=this.Mz,t instanceof Cr&&(bo(t),t=t.copy(),null!==t&&(t.Nd=r,o.add(t))),r}else if(null!==n&&(n=r.mE(n),Uh.Xa(n)))return null!==t&&r.yx(n,r.Bb(t.data)),r.eB(n,s),null!==i&&r.Ax(n,r.Bb(i.data)),r.iB(n,e),r.dw(n),t=this.Mz,null===t||t instanceof Cr||(t=r.copyNodeData(t),Uh.Xa(t)&&(r.Am(t),t=r.Bb(t),void 0!==t&&r.Hz(n,t))),r=o.vg(n);return null},Uh.Ia(ue,oe),Uh.ja("RelinkingTool",ue),ue.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Nr){var e="RelinkFrom",i=null;if(t.Za&&!this.h.hb){var n=t.$t;null!==n&&t.canRelinkFrom()&&t.ea.J()&&t.Ja()&&n.ea.J()&&n.vl()&&(i=t.Vo(e),null===i&&(i=this.makeAdornment(n,!1),null!==i&&(i.Wc=e),t.bl(e,i)))}null===i&&t.Bl(e),e="RelinkTo",i=null,t.Za&&!this.h.hb&&(n=t.$t,null!==n&&t.canRelinkTo()&&t.ea.J()&&t.Ja()&&n.ea.J()&&n.vl()&&(i=t.Vo(e),null===i&&(i=this.makeAdornment(n,!0),null!==i&&(i.Wc=e),t.bl(e,i)))),null===i&&t.Bl(e)}},ue.prototype.makeAdornment=function(t,e){var i=new xr;i.type=pc;var n=e?this.cK:this.JI;return null!==n&&i.add(n.copy()),i.wc=t,i},Uh.defineProperty(ue,{JI:"fromHandleArchetype"},function(){return this.lC},function(t){null!==t&&Uh.l(t,Sn,ue,"fromHandleArchetype"),this.lC=t}),Uh.defineProperty(ue,{cK:"toHandleArchetype"},function(){return this.AD},function(t){null!==t&&Uh.l(t,Sn,ue,"toHandleArchetype"),this.AD=t}),Uh.A(ue,{handle:"handle"},function(){return this.cc}),ue.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;if(null===t||t.hb||t.ff||!t.Sj)return!1;var e=t.ga;return(e instanceof bt||e instanceof xt)&&t.P.left?(e=this.findToolHandleAt(t.xc.fa,"RelinkFrom"),null===e&&(e=this.findToolHandleAt(t.xc.fa,"RelinkTo")),null!==e):!1},ue.prototype.doActivate=function(){var t=this.h;if(null!==t){if(null===this.pc){var e=this.findToolHandleAt(t.xc.fa,"RelinkFrom");if(null===e&&(e=this.findToolHandleAt(t.xc.fa,"RelinkTo")),null===e)return;var i=e.V;if(!(i instanceof xr&&i.Nh instanceof Nr))return;this.cc=e,this.ee=null===i||"RelinkTo"===i.Wc,this.pc=i.Nh}this.ac(this.name),t.se=!0,t.Yb="pointer",this.Ig=this.pc.wd,this.Hg=this.pc.Z,this.Kg=this.pc.ke,this.Jg=this.pc.da,this.VC.set(this.pc.ea),null!==this.pc&&0<this.pc.oa&&(null===this.pc.Z&&(null!==this.Il&&(this.Il.ya=Bl.on),null!==this.ie&&(this.ie.location=this.pc.n(0))),null===this.pc.da&&(null!==this.Jl&&(this.Jl.ya=Bl.on),null!==this.je&&(this.je.location=this.pc.n(this.pc.oa-1)))),this.copyPortProperties(this.Hg,this.Ig,this.ie,this.Il,!1),this.copyPortProperties(this.Jg,this.Kg,this.je,this.Jl,!0),t.add(this.ie),t.add(this.je),null!==this.ag&&(null!==this.ie&&(this.ag.Z=this.ie),null!==this.je&&(this.ag.da=this.je),this.copyLinkProperties(this.pc,this.ag),this.ag.$b(),t.add(this.ag)),this.qa=!0}},ue.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.Eo=t.Eo,e.uw=t.uw;var i=t.Le;(i===of||i===nf)&&(i=tf),e.Le=i,e.ht=t.ht,e.Wt=t.Wt,e.kn=t.kn,e.vb=t.vb,e.ek=t.ek,e.ap=t.ap,e.bp=t.bp,e.xb=t.xb,e.mk=t.mk,e.Xp=t.Xp,e.Zp=t.Zp}},ue.prototype.doDeactivate=function(){this.qa=!1;var t=this.h;null!==t&&(t.remove(this.ag),t.remove(this.ie),t.remove(this.je),t.se=!1,t.Yb="",this.jk())},ue.prototype.doStop=function(){oe.prototype.doStop.call(this),this.cc=null},ue.prototype.doMouseUp=function(){if(this.qa){var t=this.h;if(null===t)return;this.mf=null;var e=this.Hg,i=this.Ig,n=this.Jg,o=this.Kg,r=this.pc;if(this.Gf=this.findTargetPort(this.ee),null!==this.Gf){var s=this.Gf.V;s instanceof Cr&&(this.ee?(n=s,o=this.Gf):(e=s,i=this.Gf))}else this.Ym?this.ee?o=n=null:i=e=null:r=null;null!==r&&(this.reconnectLink(r,this.ee?n:e,this.ee?o:i,this.ee),null===this.Gf&&(this.ee?r.Kn=t.P.fa.copy():r.Gn=t.P.fa.copy(),r.$b()),t.Ee&&(r.Za=!0),this.mf=this.name,t.Ba("LinkRelinked",r,this.ee?this.Kg:this.Ig)),es(this.pc,this.VC)}this.stopTool()},ue.prototype.reconnectLink=function(t,e,i,n){return null===this.h?!1:(i=null!==i&&null!==i.xd?i.xd:"",n?(t.da=e,t.Og=i):(t.Z=e,t.Rf=i),!0)},Uh.Ia(fe,Pt),Uh.ja("LinkReshapingTool",fe);var lu;fe.None=lu=Uh.w(fe,"None",0);var uu;fe.Horizontal=uu=Uh.w(fe,"Horizontal",1);var cu;fe.Vertical=cu=Uh.w(fe,"Vertical",2);var fu;fe.All=fu=Uh.w(fe,"All",3),fe.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Nr){if(t.Za&&!this.h.hb){var e=t.path;if(null!==e&&t.canReshape()&&t.ea.J()&&t.Ja()&&e.ea.J()&&e.vl()){var i=t.Vo(this.name);if((null===i||i.tH!==t.oa||i.CH!==t.Jp)&&(i=this.makeAdornment(e),null!==i&&(i.tH=t.oa,i.CH=t.Jp,t.bl(this.name,i))),null!==i)return void(i.location=t.position)}}t.Bl(this.name)}},fe.prototype.makeAdornment=function(t){var e=t.V,i=e.oa,n=e.gc,o=null;if(null!==e.points&&i>1){o=new xr,o.type=pc;var i=e.qt,r=e.ax,s=n?1:0;if(e.Jp&&e.Le!==ef)for(var a=i+s;r-s>a;a++){var h=this.makeResegmentHandle(t,a);null!==h&&(h.Df=a,h.Yt=.5,o.add(h))}for(a=i+1;r>a;a++)if(h=this.makeHandle(t,a),null!==h){if(h.Df=a,a!==i)if(a===i+1&&n){var s=e.n(i),l=e.n(i+1);Bl.I(s.x,l.x)&&Bl.I(s.y,l.y)&&(l=e.n(i-1)),Bl.I(s.x,l.x)?(pe(h,cu),h.cursor="n-resize"):Bl.I(s.y,l.y)&&(pe(h,uu),h.cursor="w-resize")}else a===r-1&&n?(s=e.n(r-1),l=e.n(r),Bl.I(s.x,l.x)&&Bl.I(s.y,l.y)&&(s=e.n(r+1)),Bl.I(s.x,l.x)?(pe(h,cu),h.cursor="n-resize"):Bl.I(s.y,l.y)&&(pe(h,uu),h.cursor="w-resize")):a!==r&&(pe(h,fu),h.cursor="move");o.add(h)}o.Wc=this.name,o.wc=t}return o},fe.prototype.makeHandle=function(){var t=this.st;return null===t?null:t.copy()},Uh.defineProperty(fe,{st:"handleArchetype"},function(){return this.Hk},function(t){null!==t&&Uh.l(t,Sn,fe,"handleArchetype"),this.Hk=t}),fe.prototype.makeResegmentHandle=function(){var t=this.pJ;return null===t?null:t.copy()},Uh.defineProperty(fe,{pJ:"midHandleArchetype"},function(){return this.HC},function(t){null!==t&&Uh.l(t,Sn,fe,"midHandleArchetype"),this.HC=t}),Uh.A(fe,{handle:"handle"},function(){return this.cc}),Uh.A(fe,{Vs:"adornedLink"},function(){return this.Wx}),fe.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;return null!==t&&!t.hb&&t.Go&&t.P.left?null!==this.findToolHandleAt(t.xc.fa,this.name):!1},fe.prototype.doActivate=function(){var t=this.h;if(null!==t&&(this.cc=this.findToolHandleAt(t.xc.fa,this.name),null!==this.cc)){var e=this.cc.V.Nh;if(e instanceof Nr){if(this.Wx=e,t.se=!0,this.ac(this.name),e.Jp&&.5===this.cc.Yt){var i=e.points.copy(),n=this.cc.qb(al);i.be(this.cc.Df+1,n),e.gc&&i.be(this.cc.Df+1,n),e.points=i,e.ce(),this.cc=this.findToolHandleAt(t.xc.fa,this.name)}this.WC=e.n(this.cc.Df),this.dz=e.points.copy(),this.qa=!0}}},fe.prototype.doDeactivate=function(){this.jk(),this.Wx=this.cc=null;var t=this.h;null!==t&&(t.se=!1),this.qa=!1},fe.prototype.doCancel=function(){var t=this.Vs;null!==t&&(t.points=this.dz),this.stopTool()},fe.prototype.doMouseMove=function(){var t=this.h;this.qa&&null!==t&&(t=this.computeReshape(t.P.fa),this.reshape(t))},fe.prototype.doMouseUp=function(){var t=this.h;if(this.qa&&null!==t){var e=this.computeReshape(t.P.fa);if(this.reshape(e),e=this.Vs,null!==e&&e.Jp){var i=this.handle.Df,n=e.n(i-1),o=e.n(i),r=e.n(i+1);if(e.gc){if(i>e.qt+1&&i<e.ax-1){var s=e.n(i-2);if(Math.abs(n.x-o.x)<this.Lg&&Math.abs(n.y-o.y)<this.Lg&&(ge(this,s,n,o,r,!0)||ge(this,s,n,o,r,!1))){var a=e.points.copy();ge(this,s,n,o,r,!0)?(a.Mg(i-2,new b(s.x,(r.y+s.y)/2)),a.Mg(i+1,new b(r.x,(r.y+s.y)/2))):(a.Mg(i-2,new b((r.x+s.x)/2,s.y)),a.Mg(i+1,new b((r.x+s.x)/2,r.y))),a.md(i),a.md(i-1),e.points=a,e.ce()}else s=e.n(i+2),Math.abs(o.x-r.x)<this.Lg&&Math.abs(o.y-r.y)<this.Lg&&(ge(this,n,o,r,s,!0)||ge(this,n,o,r,s,!1))&&(a=e.points.copy(),ge(this,n,o,r,s,!0)?(a.Mg(i-1,new b(n.x,(n.y+s.y)/2)),a.Mg(i+2,new b(s.x,(n.y+s.y)/2))):(a.Mg(i-1,new b((n.x+s.x)/2,n.y)),a.Mg(i+2,new b((n.x+s.x)/2,s.y))),a.md(i+1),a.md(i),e.points=a,e.ce())}}else s=Uh.M(),Bl.cn(n.x,n.y,r.x,r.y,o.x,o.y,s)&&s.Zj(o)<this.Lg*this.Lg&&(a=e.points.copy(),a.md(i),e.points=a,e.ce()),Uh.B(s)}t.oc(),this.mf=this.name,t.Ba("LinkReshaped",this.Vs)}this.stopTool()},Uh.g(fe,"resegmentingDistance",fe.prototype.Lg),Uh.defineProperty(fe,{Lg:"resegmentingDistance"},function(){return this.cD},function(t){Uh.i(t,"number",fe,"resegmentingDistance"),this.cD=t}),fe.prototype.reshape=function(t){var e=this.Vs;e.Fl();var i=this.handle.Df,n=de(this.handle);if(e.gc)if(i===e.qt+1)i=e.qt+1,n===cu?(e.aa(i,e.n(i-1).x,t.y),e.aa(i+1,e.n(i+2).x,t.y)):n===uu&&(e.aa(i,t.x,e.n(i-1).y),e.aa(i+1,t.x,e.n(i+2).y));else if(i===e.ax-1)i=e.ax-1,n===cu?(e.aa(i-1,e.n(i-2).x,t.y),e.aa(i,e.n(i+1).x,t.y)):n===uu&&(e.aa(i-1,t.x,e.n(i-2).y),e.aa(i,t.x,e.n(i+1).y));else{var n=i,o=e.n(n),r=e.n(n-1),s=e.n(n+1);Bl.I(r.x,o.x)&&Bl.I(o.y,s.y)?(Bl.I(r.x,e.n(n-2).x)&&!Bl.I(r.y,e.n(n-2).y)?(e.C(n,t.x,r.y),i++,n++):e.aa(n-1,t.x,r.y),Bl.I(s.y,e.n(n+2).y)&&!Bl.I(s.x,e.n(n+2).x)?e.C(n+1,s.x,t.y):e.aa(n+1,s.x,t.y)):Bl.I(r.y,o.y)&&Bl.I(o.x,s.x)?(Bl.I(r.y,e.n(n-2).y)&&!Bl.I(r.x,e.n(n-2).x)?(e.C(n,r.x,t.y),i++,n++):e.aa(n-1,r.x,t.y),Bl.I(s.x,e.n(n+2).x)&&!Bl.I(s.y,e.n(n+2).y)?e.C(n+1,t.x,s.y):e.aa(n+1,t.x,s.y)):Bl.I(r.x,o.x)&&Bl.I(o.x,s.x)?(Bl.I(r.x,e.n(n-2).x)&&!Bl.I(r.y,e.n(n-2).y)?(e.C(n,t.x,r.y),i++,n++):e.aa(n-1,t.x,r.y),Bl.I(s.x,e.n(n+2).x)&&!Bl.I(s.y,e.n(n+2).y)?e.C(n+1,t.x,s.y):e.aa(n+1,t.x,s.y)):Bl.I(r.y,o.y)&&Bl.I(o.y,s.y)&&(Bl.I(r.y,e.n(n-2).y)&&!Bl.I(r.x,e.n(n-2).x)?(e.C(n,r.x,t.y),i++,n++):e.aa(n-1,r.x,t.y),Bl.I(s.y,e.n(n+2).y)&&!Bl.I(s.x,e.n(n+2).x)?e.C(n+1,s.x,t.y):e.aa(n+1,s.x,t.y)),e.aa(i,t.x,t.y)}else e.aa(i,t.x,t.y),1===i&&e.computeSpot(!0).te()&&(o=e.Z,r=e.wd,null===o||o.Ja()||(o=o.findVisibleNode(),o!==e.Z&&(r=o.ll(""))),n=r.qb(al,Uh.M()),o=e.getLinkPointFromPoint(o,r,n,t,!0,Uh.M()),e.aa(0,o.x,o.y),Uh.B(n),Uh.B(o)),i===e.oa-2&&e.computeSpot(!1).te()&&(i=e.da,o=e.ke,null===i||i.Ja()||(i=i.findVisibleNode(),i!==e.da&&(o=i.ll(""))),n=o.qb(al,Uh.M()),o=e.getLinkPointFromPoint(i,o,n,t,!1,Uh.M()),e.aa(e.oa-1,o.x,o.y),Uh.B(n),Uh.B(o));e.Li()},fe.prototype.computeReshape=function(t){var e=this.Vs,i=this.handle.Df;switch(de(this.handle)){case fu:return t;case cu:return e=e.n(i),new b(e.x,t.y);case uu:return e=e.n(i),new b(t.x,e.y);default:case lu:return e.n(i)}},Uh.g(fe,"originalPoint",fe.prototype.yJ),Uh.A(fe,{yJ:"originalPoint"},function(){return this.WC}),Uh.g(fe,"originalPoints",fe.prototype.zJ),Uh.A(fe,{zJ:"originalPoints"},function(){return this.dz}),Uh.Ia(me,Pt),Uh.ja("ResizingTool",me),me.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Nr)){if(t.Za&&!this.h.hb){var e=t.eG;if(null!==e&&t.canResize()&&t.ea.J()&&t.Ja()&&e.ea.J()&&e.vl()){var i=t.Vo(this.name);if(null===i&&(i=this.makeAdornment(e)),null!==i){var n=e.ml();i.angle=n;var o=e.qb(i.Pe,Uh.M()),r=e.Qi();if(i.location=o,Uh.B(o),o=i.placeholder,null!==o){var e=e.Ka,s=Uh.Hl();s.o(e.width*r,e.height*r),o.ya=s,Uh.dk(s)}return ve(this,i,n),void t.bl(this.name,i)}}}t.Bl(this.name)}},me.prototype.makeAdornment=function(t){var e=null,e=t.V.WA;if(null===e){e=new xr,e.type=lc,e.Pe=al;var i=new As;i.Tf=!0,e.add(i),e.add(this.makeHandle(t,nl)),e.add(this.makeHandle(t,rl)),e.add(this.makeHandle(t,cl)),e.add(this.makeHandle(t,ll)),e.add(this.makeHandle(t,fl)),e.add(this.makeHandle(t,pl)),e.add(this.makeHandle(t,gl)),e.add(this.makeHandle(t,dl))}else if(bo(e),e=e.copy(),null===e)return null;return e.Wc=this.name,e.wc=t,e},me.prototype.makeHandle=function(t,e){var i=this.st;return null===i?null:(i=i.copy(),i.alignment=e,i)},Uh.defineProperty(me,{st:"handleArchetype"},function(){return this.Hk},function(t){null!==t&&Uh.l(t,Sn,me,"handleArchetype"),this.Hk=t}),Uh.A(me,{handle:"handle"},function(){return this.cc}),Uh.defineProperty(me,{wc:"adornedObject"},function(){return this.Jb},function(t){null!==t&&Uh.l(t,Sn,me,"adornedObject"),this.Jb=t}),me.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;return null!==t&&!t.hb&&t.Dm&&t.P.left&&null!==this.findToolHandleAt(t.xc.fa,this.name)?!0:!1},me.prototype.doActivate=function(){var t=this.h;null!==t&&(this.cc=this.findToolHandleAt(t.xc.fa,this.name),null!==this.cc&&(this.Jb=this.cc.V.wc,this.cz.set(this.Jb.V.location),this.Bv.set(this.Jb.ya),this.Ey=this.computeCellSize(),this.Gy=this.computeMinSize(),this.Fy=this.computeMaxSize(),t.se=!0,this.OC=t.Pb.isEnabled,t.Pb.isEnabled=!1,this.ac(this.name),this.qa=!0))},me.prototype.doDeactivate=function(){var t=this.h;null!==t&&(this.jk(),this.Jb=this.cc=null,this.qa=t.se=!1,t.Pb.isEnabled=this.OC)},me.prototype.doCancel=function(){this.Jb.ya=this.Bv,this.Jb.V.location=this.cz,this.stopTool()},me.prototype.doMouseMove=function(){var t=this.h;if(this.qa&&null!==t){var e=this.Gy,i=this.Fy,n=this.Ey,o=this.Jb.OE(t.P.fa,Uh.M()),r=Xu;this.Jb instanceof Fo&&(r=Do(this.Jb)),e=this.computeResize(o,this.cc.alignment,e,i,n,!(r===ic||r===nc||t.P.shift)),this.resize(e),t.kf(),Uh.B(o)}},me.prototype.doMouseUp=function(){var t=this.h;if(this.qa&&null!==t){var e=this.Gy,i=this.Fy,n=this.Ey,o=this.Jb.OE(t.P.fa,Uh.M()),r=Xu;this.Jb instanceof Fo&&(r=Do(this.Jb)),e=this.computeResize(o,this.cc.alignment,e,i,n,!(r===ic||r===nc||t.P.shift)),this.resize(e),Uh.B(o),t.oc(),this.mf=this.name,t.Ba("PartResized",this.Jb,this.Bv)}this.stopTool()},me.prototype.resize=function(t){if(null!==this.h){var e=this.wc,i=e.V,n=e.ml(),o=e.Qi(),r=Math.PI*n/180,s=Math.cos(r),r=Math.sin(r),a=n>0&&180>n?1:0,h=n>90&&270>n?1:0,n=n>180&&360>n?1:0,l=e.Ka.width,u=e.Ka.height;e.ya=t.size;var c=i.position.copy();i.vf(),l=e.Ka.width-l,u=e.Ka.height-u,(0!==l||0!==u)&&(0!==l&&(c.x+=o*((t.x+l*h)*s-(t.y+u*a)*r)),0!==u&&(c.y+=o*((t.x+l*n)*r+(t.y+u*h)*s)),i.move(c))}},me.prototype.computeResize=function(t,e,i,n,o,r){e.te()&&(e=al);var s=this.wc.Ka,a=s.x,h=s.y,l=s.x+s.width,u=s.y+s.height,c=1;if(!r){var c=s.width,f=s.height;0>=c&&(c=1),0>=f&&(f=1),c=f/c}return f=Uh.M(),Bl.nt(t.x,t.y,a,h,o.width,o.height,f),t=s.copy(),0>=e.x?0>=e.y?(t.x=Math.max(f.x,l-n.width),t.x=Math.min(t.x,l-i.width),t.width=Math.max(l-t.x,i.width),t.y=Math.max(f.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),r||(e=t.height/t.width,e>c?(t.height=c*t.width,t.y=u-t.height):(t.width=t.height/c,t.x=l-t.width))):1<=e.y?(t.x=Math.max(f.x,l-n.width),t.x=Math.min(t.x,l-i.width),t.width=Math.max(l-t.x,i.width),t.height=Math.max(Math.min(f.y-h,n.height),i.height),r||(e=t.height/t.width,e>c?t.height=c*t.width:(t.width=t.height/c,t.x=l-t.width))):(t.x=Math.max(f.x,l-n.width),t.x=Math.min(t.x,l-i.width),t.width=l-t.x,r||(t.height=c*t.width,t.y=h+.5*(u-h-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(f.x-a,n.width),i.width),t.y=Math.max(f.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=Math.max(u-t.y,i.height),r||(e=t.height/t.width,e>c?(t.height=c*t.width,t.y=u-t.height):t.width=t.height/c)):1<=e.y?(t.width=Math.max(Math.min(f.x-a,n.width),i.width),
t.height=Math.max(Math.min(f.y-h,n.height),i.height),r||(e=t.height/t.width,e>c?t.height=c*t.width:t.width=t.height/c)):(t.width=Math.max(Math.min(f.x-a,n.width),i.width),r||(t.height=c*t.width,t.y=h+.5*(u-h-t.height))):0>=e.y?(t.y=Math.max(f.y,u-n.height),t.y=Math.min(t.y,u-i.height),t.height=u-t.y,r||(t.width=t.height/c,t.x=a+.5*(l-a-t.width))):1<=e.y&&(t.height=Math.max(Math.min(f.y-h,n.height),i.height),r||(t.width=t.height/c,t.x=a+.5*(l-a-t.width))),Uh.B(f),t},me.prototype.computeMinSize=function(){var t=this.wc.Re.copy(),e=this.Re;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},me.prototype.computeMaxSize=function(){var t=this.wc.Qd.copy(),e=this.Qd;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},me.prototype.computeCellSize=function(){var t=new C(NaN,NaN),e=this.wc.V;if(null!==e){var i=e.dG;!isNaN(i.width)&&0<i.width&&(t.width=i.width),!isNaN(i.height)&&0<i.height&&(t.height=i.height)}return i=this.fl,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height),e=this.h,(isNaN(t.width)||isNaN(t.height))&&e&&(i=e.sb.vd,null!==i&&i.kp&&(i=i.hA,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height)),e=e.ep,null!==e&&e.visible&&this.kp&&(i=e.rt,isNaN(t.width)&&!isNaN(i.width)&&0<i.width&&(t.width=i.width),isNaN(t.height)&&!isNaN(i.height)&&0<i.height&&(t.height=i.height))),(isNaN(t.width)||0===t.width||1/0===t.width)&&(t.width=1),(isNaN(t.height)||0===t.height||1/0===t.height)&&(t.height=1),t},Uh.g(me,"minSize",me.prototype.Re),Uh.defineProperty(me,{Re:"minSize"},function(){return this.xj},function(t){if(Uh.l(t,C,me,"minSize"),!this.xj.L(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.xj.o(e,t)}}),Uh.g(me,"maxSize",me.prototype.Qd),Uh.defineProperty(me,{Qd:"maxSize"},function(){return this.vj},function(t){if(Uh.l(t,C,me,"maxSize"),!this.vj.L(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.vj.o(e,t)}}),Uh.g(me,"cellSize",me.prototype.fl),Uh.defineProperty(me,{fl:"cellSize"},function(){return this.cj},function(t){Uh.l(t,C,me,"cellSize"),this.cj.L(t)||this.cj.assign(t)}),Uh.g(me,"isGridSnapEnabled",me.prototype.kp),Uh.defineProperty(me,{kp:"isGridSnapEnabled"},function(){return this.Wq},function(t){Uh.i(t,"boolean",me,"isGridSnapEnabled"),this.Wq=t}),Uh.g(me,"originalDesiredSize",me.prototype.wJ),Uh.A(me,{wJ:"originalDesiredSize"},function(){return this.Bv}),Uh.g(me,"originalLocation",me.prototype.xJ),Uh.A(me,{xJ:"originalLocation"},function(){return this.cz}),Uh.Ia(ye,Pt),Uh.ja("RotatingTool",ye),ye.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Nr)){if(t.Za&&!this.h.hb){var e=t.hG;if(null!==e&&t.canRotate()&&t.ea.J()&&t.Ja()&&e.ea.J()&&e.vl()){var i=t.Vo(this.name);if(null===i&&(i=this.makeAdornment(e)),null!==i){i.angle=e.ml();var n=null,o=null;e===t||e===t.hc?(n=t.hc,o=t.Pe):(n=e,o=al);for(var r=n.Ka,o=Uh.ic(r.width*o.x+o.offsetX,r.height*o.y+o.offsetY);null!==n&&n!==e;)n.transform.fb(o),n=n.U;var n=o.y,r=Math.max(o.x-e.Ka.width,0),s=Uh.M();return i.location=e.qb(new P(1,0,50+r,n),s),Uh.B(s),Uh.B(o),void t.bl(this.name,i)}}}t.Bl(this.name)}},ye.prototype.makeAdornment=function(t){var e=null,e=t.V.gG;if(null===e){e=new xr,e.type=ac,e.Pe=al;var i=this.st;null!==i&&e.add(i.copy())}else if(bo(e),e=e.copy(),null===e)return null;return e.Wc=this.name,e.wc=t,e},Uh.defineProperty(ye,{st:"handleArchetype"},function(){return this.Hk},function(t){null!==t&&Uh.l(t,Sn,ye,"handleArchetype"),this.Hk=t}),Uh.A(ye,{handle:"handle"},function(){return this.cc}),Uh.defineProperty(ye,{wc:"adornedObject"},function(){return this.Jb},function(t){null!==t&&Uh.l(t,Sn,ye,"adornedObject"),this.Jb=t}),ye.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;return null!==t&&!t.hb&&t.Ho&&t.P.left&&null!==this.findToolHandleAt(t.xc.fa,this.name)?!0:!1},ye.prototype.doActivate=function(){var t=this.h;if(null!==t&&(this.cc=this.findToolHandleAt(t.xc.fa,this.name),null!==this.cc)){this.Jb=this.cc.V.wc;var e=this.Jb.V,i=e.hc;this.eD=this.Jb===e||this.Jb===i?i.qb(e.Pe):this.Jb.qb(al),this.Av=this.Jb.angle,t.se=!0,t.yw=!0,this.ac(this.name),this.qa=!0}},ye.prototype.doDeactivate=function(){var t=this.h;null!==t&&(this.jk(),this.Jb=this.cc=null,this.qa=t.se=!1)},ye.prototype.doCancel=function(){var t=this.h;null!==t&&(t.yw=!1),this.rotate(this.Av),this.stopTool()},ye.prototype.doMouseMove=function(){var t=this.h;this.qa&&null!==t&&(t=this.computeRotate(t.P.fa),this.rotate(t))},ye.prototype.doMouseUp=function(){var t=this.h;if(this.qa&&null!==t){t.yw=!1;var e=this.computeRotate(t.P.fa);this.rotate(e),t.oc(),this.mf=this.name,t.Ba("PartRotated",this.Jb,this.Av)}this.stopTool()},ye.prototype.rotate=function(t){Vh&&Uh.p(t,ye,"rotate:newangle"),null!==this.Jb&&(this.Jb.angle=t)},ye.prototype.computeRotate=function(t){t=this.eD.Pi(t);var e=this.Jb.U;null!==e&&(t-=e.ml(),t>=360?t-=360:0>t&&(t+=360));var e=Math.min(Math.abs(this.BG),180),i=Math.min(Math.abs(this.AG),e/2);return!this.h.P.shift&&e>0&&i>0&&(i>t%e?t=Math.floor(t/e)*e:t%e>e-i&&(t=(Math.floor(t/e)+1)*e)),t>=360?t-=360:0>t&&(t+=360),t},Uh.g(ye,"snapAngleMultiple",ye.prototype.BG),Uh.defineProperty(ye,{BG:"snapAngleMultiple"},function(){return this.kD},function(t){Uh.i(t,"number",ye,"snapAngleMultiple"),this.kD=t}),Uh.g(ye,"snapAngleEpsilon",ye.prototype.AG),Uh.defineProperty(ye,{AG:"snapAngleEpsilon"},function(){return this.jD},function(t){Uh.i(t,"number",ye,"snapAngleEpsilon"),this.jD=t}),Uh.g(ye,"originalAngle",ye.prototype.vJ),Uh.A(ye,{vJ:"originalAngle"},function(){return this.Av}),Uh.Ia(be,Pt),Uh.ja("ClickSelectingTool",be),be.prototype.canStart=function(){return!this.isEnabled||null===this.h||this.isBeyondDragSize()?!1:!0},be.prototype.doMouseUp=function(){this.qa&&(this.standardMouseSelect(),this.standardMouseClick()),this.stopTool()},Uh.Ia(we,Pt),Uh.ja("ActionTool",we),we.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;if(null===t)return!1;var e=t.P,i=t.qe(e.fa,function(t){for(;null!==t.U&&!t.Sw;)t=t.U;return t},function(t){return t.Sw});return null!==i?(this.rn=i,t.Cn=t.qe(e.fa,null,null),!0):!1},we.prototype.doMouseDown=function(){if(this.qa){var t=this.h.P,e=this.rn;null!==e&&(t.he=e,null!==e.Cz&&e.Cz(t,e))}else this.canStart()&&this.doActivate()},we.prototype.doMouseMove=function(){if(this.qa){var t=this.h.P,e=this.rn;null!==e&&(t.he=e,null!==e.Dz&&e.Dz(t,e))}},we.prototype.doMouseUp=function(){if(this.qa){var t=this.h,e=t.P,i=this.rn;if(null===i)return;e.he=i,null!==i.Ez&&i.Ez(e,i),this.isBeyondDragSize()||Lt(i,e,t)}this.stopTool()},we.prototype.doCancel=function(){var t=this.h;if(null!==t){var t=t.P,e=this.rn;if(null===e)return;t.he=e,null!==e.Bz&&e.Bz(t,e)}this.stopTool()},we.prototype.doStop=function(){this.rn=null},Uh.Ia(xe,Pt),Uh.ja("ClickCreatingTool",xe),xe.prototype.canStart=function(){if(!this.isEnabled||null===this.Ys)return!1;var t=this.h;if(null===t||t.hb||t.ff||!t.Bm||!t.P.left||this.isBeyondDragSize())return!1;if(this.gF){if(1===t.P.Je&&(this.kC=t.P.We.copy()),2!==t.P.Je||this.isBeyondDragSize(this.kC))return!1}else if(1!==t.P.Je)return!1;return t.Wa!==this&&null!==t.ot(t.P.fa,!0)?!1:!0},xe.prototype.doMouseUp=function(){var t=this.h;this.qa&&null!==t&&this.insertPart(t.P.fa),this.stopTool()},xe.prototype.insertPart=function(t){var e=this.h;if(null===e)return null;var i=this.Ys;if(null===i)return null;this.ac(this.name);var n=null;return i instanceof er?i.Ld()&&(bo(i),n=i.copy(),null!==n&&e.add(n)):null!==i&&(i=e.ga.copyNodeData(i),Uh.Xa(i)&&(e.ga.Am(i),n=e.Sh(i))),null!==n&&(n.location=t,e.Ee&&e.select(n)),e.oc(),this.mf=this.name,e.Ba("PartCreated",n),this.jk(),n},Uh.g(xe,"archetypeNodeData",xe.prototype.Ys),Uh.defineProperty(xe,{Ys:"archetypeNodeData"},function(){return this.Ak},function(t){null!==t&&Uh.l(t,Object,xe,"archetypeNodeData"),this.Ak=t}),Uh.g(xe,"isDoubleClick",xe.prototype.gF),Uh.defineProperty(xe,{gF:"isDoubleClick"},function(){return this.uC},function(t){Uh.i(t,"boolean",xe,"isDoubleClick"),this.uC=t}),Uh.Ia(ke,Pt),Uh.ja("ContextMenuTool",ke),Uh.tE=!1,Uh.ct=null,Uh.dt=null,ke.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;return null===t||this.isBeyondDragSize()||!t.P.right?!1:null!==this.Ln&&t.P.ul||null!==this.findObjectWithContextMenu()?!0:!1},ke.prototype.doStart=function(){var t=this.h;null!==t&&this.LC.set(t.xc.fa)},ke.prototype.doStop=function(){this.hideDefaultContextMenu(),this.hideContextMenu(),this.Dn=null},ke.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.h;if(null===e)return null;var i=e.P,n=null;if(t instanceof Ue||(n=t instanceof Sn?t:e.qe(i.fa,null,function(t){return!t.layer.Ac})),null!==n){for(t=n;null!==t;){if(i=t.contextMenu,null!==i)return t;t=t.U}if(null!==this.Ln&&e.P.ul)return n.V}else if(i=e.contextMenu,null!==i)return e;return null},ke.prototype.doActivate=function(){},ke.prototype.doMouseDown=function(){if(this.qa){var t=this.h;if(null!==t&&null!==this.uf){var e=t.qe(t.P.fa,null,null);null!==e&&e.sl(this.uf)?(this.standardMouseClick(null,null),this.stopTool()):(this.stopTool(),t.Wa.doMouseDown())}}},ke.prototype.doMouseUp=function(){this.qa||this.canStart()&&Se(this,!0)},ke.prototype.doMouseMove=function(){this.qa&&this.standardMouseOver()},ke.prototype.showContextMenu=function(t,e){Uh.l(t,xr,ke,"showContextMenu:contextmenu"),null!==e&&Uh.l(e,Sn,ke,"showContextMenu:obj");var i=this.h;if(null!==i){if(t!==this.uf&&this.hideContextMenu(),t.hf="Tool",t.ik=!1,t.scale=1/i.scale,t.Wc=this.name,i.add(t),null!==e){var i=null,n=e.Yo();null!==n&&(i=n.data),t.wc=e,t.data=i}else t.data=i.ga;t.vf(),this.positionContextMenu(t,e),this.uf=t}},ke.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.h;if(null!==e){var i=e.P.fa.copy(),n=t.Fa,o=e.tb;e.P.ul&&(i.x-=n.width),i.x+n.width>o.right&&(i.x-=n.width+5),i.x<o.x&&(i.x=o.x),i.y+n.height>o.bottom&&(i.y-=n.height+5),i.y<o.y&&(i.y=o.y),t.position=i}}},ke.prototype.hideContextMenu=function(){var t=this.h;null!==t&&null!==this.uf&&(this.uf.data=null,this.uf.wc=null,t.remove(this.uf),this.uf=null,this.standardMouseOver())},ke.prototype.initializeDefaultButtons=function(){if(null===this.h)return null;var t=new l(Ce);return t.add(new Ce("Copy",function(t){t.zb.copySelection()},function(t){return t.zb.canCopySelection()})),t.add(new Ce("Cut",function(t){t.zb.cutSelection()},function(t){return t.zb.canCutSelection()})),t.add(new Ce("Delete",function(t){t.zb.deleteSelection()},function(t){return t.zb.canDeleteSelection()})),t.add(new Ce("Paste",function(t){t.zb.pasteSelection(t.P.fa)},function(t){return t.zb.canPasteSelection()})),t.add(new Ce("Select All",function(t){t.zb.selectAll()},function(t){return t.zb.canSelectAll()})),t.add(new Ce("Undo",function(t){t.zb.undo()},function(t){return t.zb.canUndo()})),t.add(new Ce("Redo",function(t){t.zb.redo()},function(t){return t.zb.canRedo()})),t.add(new Ce("Zoom To Fit",function(t){t.zb.zoomToFit()},function(t){return t.zb.canZoomToFit()})),t.add(new Ce("Reset Zoom",function(t){t.zb.resetZoom()},function(t){return t.zb.canResetZoom()})),t.add(new Ce("Group Selection",function(t){t.zb.groupSelection()},function(t){return t.zb.canGroupSelection()})),t.add(new Ce("Ungroup Selection",function(t){t.zb.ungroupSelection()},function(t){return t.zb.canUngroupSelection()})),t.add(new Ce("Edit Text",function(t){t.zb.editTextBlock()},function(t){return t.zb.canEditTextBlock()})),t},ke.prototype.showDefaultContextMenu=function(){var t=this.h;if(null!==t){null===this.uy&&(this.uy=this.initializeDefaultButtons()),this.Ln!==this.uf&&this.hideContextMenu(),Uh.dt.innerHTML="",Uh.ct.addEventListener("click",this.BD,!1);var e=this,i=Uh.createElement("ul");i.className="defaultCXul",Uh.dt.appendChild(i),i.innerHTML="";for(var n=this.uy.k;n.next();){var o=n.value,r=o.text,s=o.visible;if("function"==typeof o.eE&&("function"!=typeof s||s(t))){s=Uh.createElement("li"),s.className="defaultCXli";var a=Uh.createElement("a");a.className="defaultCXa",a.href="#",a.jH=o.eE,a.addEventListener("click",function(i){return this.jH(t),e.stopTool(),i.preventDefault(),!1},!1),a.textContent=r,s.appendChild(a),i.appendChild(s)}}Uh.dt.style.display="block",Uh.ct.style.display="block",this.uf=this.Ln}},ke.prototype.hideDefaultContextMenu=function(){null!==this.uf&&this.uf===this.Ln&&(Uh.dt.style.display="none",Uh.ct.style.display="none",Uh.ct.removeEventListener("click",this.BD,!1),this.uf=null)},Uh.g(ke,"currentContextMenu",ke.prototype.uf),Uh.defineProperty(ke,{uf:"currentContextMenu"},function(){return this.TB},function(t){null!==t&&Uh.l(t,xr,ke,"currentContextMenu"),this.TB=t}),Uh.g(ke,"currentObject",ke.prototype.mI),Uh.defineProperty(ke,{mI:"currentObject"},function(){return this.Dn},function(t){null!==t&&Uh.l(t,Sn,ke,"currentObject"),this.Dn=t}),Uh.A(ke,{LK:"mouseDownPoint"},function(){return this.LC}),Uh.Ia(Fe,Pt),Uh.ja("DragSelectingTool",Fe),Fe.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;if(null===t||!t.Ee)return!1;var e=t.P;return!e.left||t.Wa!==this&&(!this.isBeyondDragSize()||e.timestamp-t.xc.timestamp<this.xw||null!==t.ot(e.fa,!0))?!1:!0},Fe.prototype.doActivate=function(){var t=this.h;null!==t&&(this.qa=!0,t.se=!0,t.$a=!0,t.add(this.Of),this.doMouseMove())},Fe.prototype.doDeactivate=function(){var t=this.h;null!==t&&(t.remove(this.Of),t.$a=!1,this.qa=t.se=!1)},Fe.prototype.doMouseMove=function(){if(null!==this.h&&this.qa&&null!==this.Of){var t=this.computeBoxBounds(),e=this.Of.pe("SHAPE");null===e&&(e=this.Of.Qf()),e.ya=t.size,this.Of.position=t.position}},Fe.prototype.doMouseUp=function(){if(this.qa){var t=this.h;t.remove(this.Of);try{t.Yb="wait",this.selectInRect(this.computeBoxBounds())}finally{t.Yb=""}}this.stopTool()},Fe.prototype.computeBoxBounds=function(){var t=this.h;return null===t?new k(0,0,0,0):new k(t.xc.fa,t.P.fa)},Fe.prototype.selectInRect=function(t){var e=this.h;if(null!==e){var i=e.P;if(e.Ba("ChangingSelection"),t=e.ck(t,null,function(t){return t instanceof er?t.canSelect():!1},this.mF),Uh.Xm?i.yp:i.control)if(i.shift)for(t=t.k;t.next();)i=t.value,i.Za&&(i.Za=!1);else for(t=t.k;t.next();)i=t.value,i.Za=!i.Za;else{if(!i.shift){for(var i=new l(er),n=e.selection.k;n.next();){var o=n.value;t.contains(o)||i.add(o)}for(i=i.k;i.next();)i.value.Za=!1}for(t=t.k;t.next();)i=t.value,i.Za||(i.Za=!0)}e.Ba("ChangedSelection")}},Uh.g(Fe,"delay",Fe.prototype.xw),Uh.defineProperty(Fe,{xw:"delay"},function(){return this.Mn},function(t){Uh.i(t,"number",Fe,"delay"),this.Mn=t}),Uh.g(Fe,"isPartialInclusion",Fe.prototype.mF),Uh.defineProperty(Fe,{mF:"isPartialInclusion"},function(){return this.zC},function(t){Uh.i(t,"boolean",Fe,"isPartialInclusion"),this.zC=t}),Uh.g(Fe,"box",Fe.prototype.Of),Uh.defineProperty(Fe,{Of:"box"},function(){return this.Ol},function(t){null!==t&&Uh.l(t,er,Fe,"box"),this.Ol=t}),Uh.Ia(Ee,Pt),Uh.ja("PanningTool",Ee),Ee.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;return null===t||!t.De&&!t.Fe||!t.P.left||t.Wa!==this&&!this.isBeyondDragSize()?!1:!0},Ee.prototype.doActivate=function(){var e=this.h;null!==e&&(this.bj?(e.P.bubbles=!0,t.document.addEventListener("scroll",this.pD,!1)):(e.Yb="move",e.se=!0,this.ez=e.position.copy()),this.qa=!0)},Ee.prototype.doDeactivate=function(){var t=this.h;null!==t&&(t.Yb="",this.qa=t.se=!1)},Ee.prototype.doCancel=function(){var t=this.h;null!==t&&(t.position=this.ez,t.se=!1),this.stopTool()},Ee.prototype.doMouseMove=function(){this.move()},Ee.prototype.doMouseUp=function(){this.move(),this.stopTool()},Ee.prototype.move=function(){var t=this.h;if(this.qa&&t)if(this.bj)t.P.bubbles=!0;else{var e=t.position,i=t.xc.fa,n=t.P.fa,o=e.x+i.x-n.x,i=e.y+i.y-n.y;t.De||(o=e.x),t.Fe||(i=e.y),t.position=new b(o,i)}},Uh.g(Ee,"bubbles",Ee.prototype.bubbles),Uh.defineProperty(Ee,{bubbles:"bubbles"},function(){return this.bj},function(t){Uh.i(t,"boolean",Ee,"bubbles"),this.bj=t}),Uh.g(Ee,"originalPosition",Ee.prototype.AJ),Uh.A(Ee,{AJ:"originalPosition"},function(){return this.ez}),Uh.ja("TextEditingTool",Te),Uh.Ia(Te,Pt);var du;Te.LostFocus=du=Uh.w(Te,"LostFocus",0);var pu;Te.MouseDown=pu=Uh.w(Te,"MouseDown",1);var gu;Te.Tab=gu=Uh.w(Te,"Tab",2);var mu;Te.Enter=mu=Uh.w(Te,"Enter",3),Te.SingleClick=Uh.w(Te,"SingleClick",0);var vu;Te.SingleClickSelected=vu=Uh.w(Te,"SingleClickSelected",1);var yu=Uh.w(Te,"StateNone",0),bu=Uh.w(Te,"StateActive",1),wu=Uh.w(Te,"StateEditing",2),xu=Uh.w(Te,"StateEditing2",3),Cu=Uh.w(Te,"StateValidating",4),ku=Uh.w(Te,"StateValidated",5);Uh.g(Te,"textBlock",Te.prototype.Ng),Uh.defineProperty(Te,{Ng:"textBlock"},function(){return this.vz},function(t){null!==t&&Uh.l(t,$o,Te,"textBlock"),this.vz=t}),Uh.g(Te,"currentTextEditor",Te.prototype.Pf),Uh.defineProperty(Te,{Pf:"currentTextEditor"},function(){return this.WB},function(t){this.WB=t}),Uh.g(Te,"defaultTextEditor",Te.prototype.uE),Uh.defineProperty(Te,{uE:"defaultTextEditor"},function(){return this.aC},function(t){Uh.l(t,Element,Te,"defaultTextEditor"),this.aC=t}),Uh.g(Te,"starting",Te.prototype.CG),Uh.defineProperty(Te,{CG:"starting"},function(){return this.oD},function(t){Uh.za(t,Te,Te,"starting"),this.oD=t}),Te.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;return null===t||t.hb||!t.P.left||this.isBeyondDragSize()?!1:(t=t.qe(t.P.fa,null,function(t){return t instanceof $o}),null!==t&&t.Aw&&t.V.canEdit()?(t=t.V,null===t||this.CG===vu&&!t.Za?!1:!0):!1)},Te.prototype.doStart=function(){this.qa||null===this.Ng||this.doActivate()},Te.prototype.doActivate=function(){if(!this.qa){var t=this.h;if(null!==t){var e=this.Ng;if(null===e&&(e=t.qe(t.P.fa,function(t){return t instanceof $o?t:null})),null!==e){this.Ng=e;var i=e.V;if(null!==i){this.qa=!0,this.bb=bu;var n=this.uE,o=!1;if(null!==e.mB&&(n=e.mB),null===n||n.GB||(o=!0),this.tD=this.Ng.copy(),t.PJ(i.ea),n.GB){var r=e.qb(al),s=t.position,a=t.scale,h=e.Qi()*a;h<this.AA&&(h=this.AA),this.Ny=e.Ka.width;var i=this.Ny*h,l=e.Ka.height*h,u=(r.x-s.x)*a,r=(r.y-s.y)*a;n.value=e.text,t.$j.style.font=e.font,n.style.font="inherit",n.style.fontSize=100*h+"%",n.style.lineHeight="normal",n.style.width=i+6+"px",n.style.height=l+2+"px",n.style.left=(u-i/2|0)-1+"px",n.style.top=(r-l/2|0)-1+"px",n.style.textAlign=e.textAlign,n.style.margin="0",n.style.padding="1px",n.style.border="0",n.style.outline="none",n.style["white-space"]="pre-wrap",n.style.overflow="hidden"}t.$j.appendChild(n),n.style.position="absolute",n.style.zIndex=100,n.className="start",n.textEditingTool=this,n.VK=h,o&&"function"==typeof n.onActivate&&n.onActivate(),this.Pf=n,"function"==typeof n.focus&&n.focus(),"function"==typeof n.select&&this.wx&&n.select()}}}}},Te.prototype.doCancel=function(){null!==this.Vk&&(this.Pf.style.border=this.Vk,this.Vk=null),this.stopTool()},Te.prototype.doMouseUp=function(){!this.qa&&this.canStart()&&this.doActivate()},Te.prototype.doMouseDown=function(){this.qa&&this.acceptText(pu)},Te.prototype.acceptText=function(t){switch(t){case pu:this.bb===ku||this.bb===xu?"function"==typeof this.Pf.focus&&this.Pf.focus():(this.bb===bu||this.bb===wu)&&(this.bb=Cu,Me(this));break;case du:case mu:case gu:if(mu===t&&!0===this.vz.Xw)break;(this.bb===bu||this.bb===wu)&&(this.bb=Cu,Me(this))}},Te.prototype.doDeactivate=function(){var t=this.h;if(null!==t){if(this.bb=yu,this.Ng=null,null!==this.Pf){var e=this.Pf;"function"==typeof e.onDeactivate&&e.onDeactivate(),null!==e&&t.$j.removeChild(e)}this.qa=!1}},Te.prototype.isValidText=function(t,e,i){Uh.l(t,$o,Te,"isValidText:textblock");var n=this.fu;return null===n||n(t,e,i)?(n=t.fu,null===n||n(t,e,i)?!0:!1):!1},Uh.g(Te,"textValidation",Te.prototype.fu),Uh.defineProperty(Te,{fu:"textValidation"},function(){return this.Zk},function(t){null!==t&&Uh.i(t,"function",Te,"textValidation"),this.Zk=t}),Uh.g(Te,"minimumEditorScale",Te.prototype.AA),Uh.defineProperty(Te,{AA:"minimumEditorScale"},function(){return this.IC},function(t){null!==t&&Uh.i(t,"number",Te,"minimumEditorScale"),this.IC=t}),Uh.g(Te,"selectsTextOnActivate",Te.prototype.wx),Uh.defineProperty(Te,{wx:"selectsTextOnActivate"},function(){return this.hD},function(t){null!==t&&Uh.i(t,"boolean",Te,"selectsTextOnActivate"),this.hD=t}),Uh.Ia(De,Pt),Uh.ja("ToolManager",De);var Au;De.WheelScroll=Au=Uh.w(De,"WheelScroll",0);var Su;De.WheelZoom=Su=Uh.w(De,"WheelZoom",1),De.WheelNone=Uh.w(De,"WheelNone",2);var Fu;De.GestureZoom=Fu=Uh.w(De,"GestureZoom",3);var Eu;De.GestureCancel=Eu=Uh.w(De,"GestureCancel",4);var Tu;De.GestureNone=Tu=Uh.w(De,"GestureNone",5),Uh.g(De,"mouseWheelBehavior",De.prototype.Ep),Uh.defineProperty(De,{Ep:"mouseWheelBehavior"},function(){return this.MC},function(t){Uh.za(t,De,De,"mouseWheelBehavior"),this.MC=t}),Uh.g(De,"gestureBehavior",De.prototype.Tm),Uh.defineProperty(De,{Tm:"gestureBehavior"},function(){return this.mC},function(t){Uh.za(t,De,De,"gestureBehavior"),this.mC=t}),De.prototype.initializeStandardTools=function(){this.LD=new we,this.QA=new ue,this.vF=new fe,this.YA=new me,this.jG=new ye,this.yA=new le,this.vd=new Bt,this.AE=new Fe,this.PF=new Ee,this.rw=new ke,this.Gx=new Te,this.$D=new xe,this.aE=new be},De.prototype.doMouseDown=function(){var t=this.h;if(null!==t){var e=t.P;if(e.ul&&this.Tm===Eu&&(e.bubbles=!1),e.At){if(this.Tm===Tu)return void(e.bubbles=!0);if(this.Tm===Eu)return;if(t.Wa.canStartMultiTouch())return void t.Wa.standardPinchZoomStart()}e=t.la,e.Qz&&0!==e.Ve&&Uh.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var e=this.lf.length,i=0;e>i;i++){var n=this.lf.na(i);if(null===n.h&&n.Hc(this.h),n.canStart())return t.Wa=n,void(t.Wa===n&&(n.qa||n.doActivate(),n.doMouseDown()))}1===t.P.button&&(this.Ep===Au?this.Ep=Su:this.Ep===Su&&(this.Ep=Au)),this.doActivate(),this.standardWaitAfter(this.iA)}},De.prototype.doMouseMove=function(){var t=this.h;if(null!==t){var e=t.P;if(e.At){if(this.Tm===Tu)return void(e.bubbles=!0);if(this.Tm===Eu)return;if(t.Wa.canStartMultiTouch())return void t.Wa.standardPinchZoomMove()}if(this.qa)for(var e=this.Uf.length,i=0;e>i;i++){var n=this.Uf.na(i);if(null===n.h&&n.Hc(this.h),n.canStart())return t.Wa=n,void(t.Wa===n&&(n.qa||n.doActivate(),n.doMouseMove()))}this.standardMouseOver(),this.isBeyondDragSize()&&this.standardWaitAfter(this.qa?this.iA:this.XE)}},De.prototype.doCurrentObjectChanged=function(t,e){var i=this.kl;null===i||null!==e&&(e===i||e.sl(i))||this.hideToolTip()},De.prototype.doWaitAfter=function(){this.h&&this.h.mb&&(this.doMouseHover(),this.qa||this.doToolTip())},De.prototype.doMouseHover=function(){var t=this.h;if(null!==t){var e=t.P;null===e.he&&(e.he=t.qe(e.fa,null,null));var i=e.he;if(null!==i)for(e.Nc=!1;null!==i&&(t=this.qa?i.Ht:i.It,null===t||(t(e,i),!e.Nc));)i=i.U;else t=this.qa?t.Ht:t.It,null!==t&&t(e)}},De.prototype.doToolTip=function(){var t=this.h;if(null!==t){var e=t.P;if(null===e.he&&(e.he=t.qe(e.fa,null,null)),e=e.he,null!==e){if(e!==this.kl&&!e.sl(this.kl)){for(;null!==e;){if(t=e.gu,null!==t)return void this.showToolTip(t,e);e=e.U}this.hideToolTip()}}else t=t.gu,null!==t?this.showToolTip(t,null):this.hideToolTip()}},De.prototype.showToolTip=function(t,e){Uh.l(t,xr,De,"showToolTip:tooltip"),null!==e&&Uh.l(e,Sn,De,"showToolTip:obj");var i=this.h;if(null!==i){if(t!==this.kl&&this.hideToolTip(),t.hf="Tool",t.ik=!1,t.scale=1/i.scale,i.add(t),null!==e&&e!==this.Ku){var i=null,n=e.Yo();null!==n&&(i=n.data),t.wc=e,t.data=i}else null===e&&(t.data=i.ga);(null===e||e!==this.Ku)&&(t.vf(),this.positionToolTip(t,e)),this.sy=t,this.Ku=e}},De.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.h;if(null!==e){var i=e.P.fa.copy(),n=t.Fa,o=e.tb;e.P.ul&&(i.x-=n.width),i.x+n.width>o.right&&(i.x-=n.width+5),i.x<o.x&&(i.x=o.x),i.y=i.y+20+n.height>o.bottom?i.y-(n.height+5):i.y+20,i.y<o.y&&(i.y=o.y),t.position=i}}},De.prototype.hideToolTip=function(){if(null!==this.kl){var t=this.h;null!==t&&(this.kl.data=null,this.kl.wc=null,t.remove(this.kl),this.Ku=this.sy=null)}},Uh.A(De,{kl:"currentToolTip"},function(){return this.sy}),De.prototype.doMouseUp=function(){if(this.cancelWaitAfter(),this.qa){var t=this.h;if(null===t)return;for(var e=this.Vf.length,i=0;e>i;i++){var n=this.Vf.na(i);if(null===n.h&&n.Hc(this.h),n.canStart())return t.Wa=n,void(t.Wa===n&&(n.qa||n.doActivate(),n.doMouseUp()))}}this.doDeactivate()},De.prototype.doMouseWheel=function(){this.standardMouseWheel()},De.prototype.doKeyDown=function(){var t=this.h;null!==t&&t.zb.doKeyDown()},De.prototype.doKeyUp=function(){var t=this.h;null!==t&&t.zb.doKeyUp()},De.prototype.doCancel=function(){null!==ou&&ou.doCancel(),Pt.prototype.doCancel.call(this)},De.prototype.findTool=function(t){Uh.i(t,"string",De,"findTool:name");for(var e=this.lf.length,i=0;e>i;i++){var n=this.lf.na(i);if(n.name===t)return n}for(e=this.Uf.length,i=0;e>i;i++)if(n=this.Uf.na(i),n.name===t)return n;for(e=this.Vf.length,i=0;e>i;i++)if(n=this.Vf.na(i),n.name===t)return n;return null},De.prototype.replaceTool=function(t,e){Uh.i(t,"string",De,"replaceTool:name"),null!==e&&(Uh.l(e,Pt,De,"replaceTool:newtool"),e.h&&e.h!==this.h&&Uh.m("Cannot share tools between Diagrams: "+e.toString()),e.Hc(this.h));for(var i=this.lf.length,n=0;i>n;n++){var o=this.lf.na(n);if(o.name===t)return null!==e?this.lf.Mg(n,e):this.lf.md(n),o}for(i=this.Uf.length,n=0;i>n;n++)if(o=this.Uf.na(n),o.name===t)return null!==e?this.Uf.Mg(n,e):this.Uf.md(n),o;for(i=this.Vf.length,n=0;i>n;n++)if(o=this.Vf.na(n),o.name===t)return null!==e?this.Vf.Mg(n,e):this.Vf.md(n),o;return null},Uh.A(De,{lf:"mouseDownTools"},function(){return this.qH}),Uh.A(De,{Uf:"mouseMoveTools"},function(){return this.rH}),Uh.A(De,{Vf:"mouseUpTools"},function(){return this.sH}),Uh.g(De,"hoverDelay",De.prototype.XE),Uh.defineProperty(De,{XE:"hoverDelay"},function(){return this.oC},function(t){Uh.i(t,"number",De,"hoverDelay"),this.oC=t}),Uh.g(De,"holdDelay",De.prototype.iA),Uh.defineProperty(De,{iA:"holdDelay"},function(){return this.nC},function(t){Uh.i(t,"number",De,"holdDelay"),this.nC=t}),Uh.g(De,"dragSize",De.prototype.BE),Uh.defineProperty(De,{BE:"dragSize"},function(){return this.dC},function(t){Uh.l(t,C,De,"dragSize"),this.dC=t.ba()}),Uh.g(De,"actionTool",De.prototype.LD),Uh.defineProperty(De,{LD:"actionTool"},function(){return this.findTool("Action")},function(t){Pe(this,"Action",t,this.lf)}),Uh.g(De,"relinkingTool",De.prototype.QA),Uh.defineProperty(De,{QA:"relinkingTool"},function(){return this.findTool("Relinking")},function(t){Pe(this,"Relinking",t,this.lf)}),Uh.g(De,"linkReshapingTool",De.prototype.vF),Uh.defineProperty(De,{vF:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(t){Pe(this,"LinkReshaping",t,this.lf)}),Uh.g(De,"resizingTool",De.prototype.YA),Uh.defineProperty(De,{YA:"resizingTool"},function(){return this.findTool("Resizing")},function(t){Pe(this,"Resizing",t,this.lf)}),Uh.g(De,"rotatingTool",De.prototype.jG),Uh.defineProperty(De,{jG:"rotatingTool"},function(){return this.findTool("Rotating")},function(t){Pe(this,"Rotating",t,this.lf)}),Uh.g(De,"linkingTool",De.prototype.yA),Uh.defineProperty(De,{yA:"linkingTool"},function(){return this.findTool("Linking")},function(t){Pe(this,"Linking",t,this.Uf)}),Uh.g(De,"draggingTool",De.prototype.vd),Uh.defineProperty(De,{vd:"draggingTool"},function(){return this.findTool("Dragging")},function(t){Pe(this,"Dragging",t,this.Uf)}),Uh.g(De,"dragSelectingTool",De.prototype.AE),Uh.defineProperty(De,{AE:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(t){Pe(this,"DragSelecting",t,this.Uf)}),Uh.g(De,"panningTool",De.prototype.PF),Uh.defineProperty(De,{PF:"panningTool"},function(){return this.findTool("Panning")},function(t){Pe(this,"Panning",t,this.Uf)}),Uh.g(De,"contextMenuTool",De.prototype.rw),Uh.defineProperty(De,{rw:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(t){Pe(this,"ContextMenu",t,this.Vf)}),Uh.g(De,"textEditingTool",De.prototype.Gx),Uh.defineProperty(De,{Gx:"textEditingTool"},function(){return this.findTool("TextEditing")},function(t){Pe(this,"TextEditing",t,this.Vf)}),Uh.g(De,"clickCreatingTool",De.prototype.$D),Uh.defineProperty(De,{$D:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(t){Pe(this,"ClickCreating",t,this.Vf)}),Uh.g(De,"clickSelectingTool",De.prototype.aE),Uh.defineProperty(De,{aE:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(t){Pe(this,"ClickSelecting",t,this.Vf)}),Uh.ja("AnimationManager",Le),Le.prototype.Hc=function(t){this.Y=t},Le.prototype.prepareAnimation=Le.prototype.zl=function(){this.Xe&&(this.nj&&this.Xi(),this.qd=!0,this.IB=!1)};var Mu={opacity:function(t,e,i,n,o,r){t.opacity=n(o,e,i-e,r)},position:function(t,e,i,n,o,r){o!==r?t.uG(n(o,e.x,i.x-e.x,r),n(o,e.y,i.y-e.y,r)):t.position=new b(n(o,e.x,i.x-e.x,r),n(o,e.y,i.y-e.y,r))},scale:function(t,e,i,n,o,r){t.scale=n(o,e,i-e,r)},visible:function(t,e,i,n,o,r){t.visible=o!==r?e:i}};Le.prototype.stopAnimation=Le.prototype.Xi=function(){!0===this.qd&&(this.qd=!1,this.IB&&this.Y.Se()),this.nj&&this.Xe&&(je(this),ze(this,this.Y,this.kH,this.UB,this.py,this.py,null!==this.Vl&&null!==this.Ul),Ie(this),_e(this))},Uh.g(Le,"isEnabled",Le.prototype.isEnabled),Uh.defineProperty(Le,{isEnabled:"isEnabled"},function(){return this.Xe},function(t){Uh.i(t,"boolean",Le,"isEnabled"),this.Xe=t}),Uh.g(Le,"duration",Le.prototype.duration),Uh.defineProperty(Le,{duration:"duration"},function(){return this.By},function(t){Uh.i(t,"number",Le,"duration"),1>t&&Uh.ka(t,">= 1",Le,"duration"),this.By=t}),Uh.A(Le,{fh:"isAnimating"},function(){return this.nj}),Uh.A(Le,{CK:"isTicking"},function(){return this.dr}),Uh.ja("Layer",Ge),Ge.prototype.Hc=function(t){this.Y=t},Ge.prototype.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var i=0,n=0,o=0,r=0,s=0,a=this.Hb.k;a.next();){var h=a.value;h instanceof bs?o++:h instanceof Cr?n++:h instanceof Nr?r++:h instanceof xr?s++:i++}if(a="",i>0&&(a+=i+" Parts "),n>0&&(a+=n+" Nodes "),o>0&&(a+=o+" Groups "),r>0&&(a+=r+" Links "),s>0&&(a+=s+" Adornments "),t>1)for(t=this.Hb.k;t.next();)i=t.value,a+="\n    "+i.toString(),n=i.data,null!==n&&Uh.Yc(n)&&(a+=" #"+Uh.Yc(n)),i instanceof Cr?a+=" "+tu(n):i instanceof Nr&&(a+=" "+tu(i.Z)+" "+tu(i.da));return e+" "+this.Hb.count+": "+a},Ge.prototype.findObjectAt=Ge.prototype.qe=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),!1===this.Xk)return null;Vh&&!t.J()&&Uh.m("findObjectAt: Point must have a real value.");var n=!1;this.h.tb.Da(t)&&(n=!0);for(var o=Uh.M(),r=this.Hb.q,s=r.length;s--;){var a=r[s];if((!0!==n||!1!==gr(a))&&a.Ja()&&(o.assign(t),x(o,a.Nf),a=a.qe(o,e,i),null!==a&&(null!==e&&(a=e(a)),null!==a&&(null===i||i(a)))))return Uh.B(o),a}return Uh.B(o),null},Ge.prototype.findObjectsAt=Ge.prototype.Wo=function(t,e,i,n){if(void 0===e&&(e=null),void 0===i&&(i=null),n instanceof l||n instanceof c||(n=new c(Sn)),!1===this.Xk)return n;Vh&&!t.J()&&Uh.m("findObjectsAt: Point must have a real value.");var o=!1;this.h.tb.Da(t)&&(o=!0);for(var r=Uh.M(),s=this.Hb.q,a=s.length;a--;){var h=s[a];!0===o&&!1===gr(h)||!h.Ja()||(r.assign(t),x(r,h.Nf),h.Wo(r,e,i,n)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||n.add(h)))}return Uh.B(r),n},Ge.prototype.findObjectsIn=Ge.prototype.ck=function(t,e,i,n,o){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),o instanceof l||o instanceof c||(o=new c(Sn)),!1===this.Xk)return o;Vh&&!t.J()&&Uh.m("findObjectsIn: Rect must have a real value.");var r=!1;this.h.tb.Vj(t)&&(r=!0);for(var s=this.Hb.q,a=s.length;a--;){var h=s[a];(!0!==r||!1!==gr(h))&&h.Ja()&&h.ck(t,e,i,n,o)&&(null!==e&&(h=e(h)),null===h||null!==i&&!i(h)||o.add(h))}return o},Ge.prototype.Yz=function(t,e,i,n,o,r,s){if(!1===this.Xk)return o;for(var a=this.Hb.q,h=a.length;h--;){var l=a[h];(!0!==s||!1!==gr(l))&&r(l)&&l.Ja()&&l.ck(t,e,i,n,o)&&(null!==e&&(l=e(l)),null===l||null!==i&&!i(l)||o.add(l))}return o},Ge.prototype.findObjectsNear=Ge.prototype.Qm=function(t,e,i,n,o,r){
if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof l||o instanceof c)&&(r=o),o=!0),r instanceof l||r instanceof c||(r=new c(Sn)),!1===this.Xk)return r;Vh&&!t.J()&&Uh.m("findObjectsNear: Point must have a real value.");var s=!1;this.h.tb.Da(t)&&(s=!0);for(var a=Uh.M(),h=Uh.M(),u=this.Hb.q,f=u.length;f--;){var d=u[f];!0===s&&!1===gr(d)||!d.Ja()||(a.assign(t),x(a,d.Nf),h.o(t.x+e,t.y),x(h,d.Nf),d.Qm(a,h,i,n,o,r)&&(null!==i&&(d=i(d)),null===d||null!==n&&!n(d)||r.add(d)))}return Uh.B(a),Uh.B(h),r},Wh=Ge.prototype,Wh.Ef=function(t,e){if(this.visible){var i;i=void 0===e?t.tb:e;for(var n=this.Hb.q,o=n.length,r=0;o>r;r++){var s=n[r];if(s.FC=r,!(s instanceof Nr&&!1===s.qg)){if(s instanceof xr){var a=s;if(null!==a.Nh)continue}if(E(s.ea,i))for(s.Ef(!0),nr(s),s=s.fw;s.next();)a=s.value,Pn(a,1/0,1/0),a.Fc(),a.Ef(!0);else s.Ef(!1),null!==s.fw&&0<s.fw.count&&nr(s)}}}},Wh.bf=function(t,e,i,n){if(this.visible&&(void 0===n&&(n=!0),n||!this.Ac)){1!==this.Kf&&(t.globalAlpha=this.Kf),i=this.Cv,i.length=0,n=e.scale;for(var o=this.Hb.q,r=o.length,s=0;r>s;s++){var a=o[s];if(gr(a)||ko(a)){if(a instanceof Nr){var h=a;if(h.gc&&i.push(h),!1===h.qg)continue}h=a.ea,1<h.width*n||1<h.height*n?a.bf(t,e):ur(a,t)}}t.globalAlpha=1}},Wh.j=function(t,e,i,n,o){var r=this.h;null!==r&&r.Gc(Kl,t,this,e,i,n,o)},Wh.gp=function(t,e,i){var n=this.Hb;if(e.kv=this,t>=n.count)t=n.count;else if(n.na(t)===e)return-1;return n.be(t,e),e.ut(i),n=this.h,null!==n&&(i?n.pa():n.gp(e)),e instanceof bs&&this.Cx(e),t},Wh.ef=function(t,e,i){var n=this.Hb;if(0>t||t>=n.length){if(t=n.indexOf(e),0>t)return-1}else if(n.na(t)!==e&&(t=n.indexOf(e),0>t))return-1;return e.vt(i),n.md(t),n=this.h,null!==n&&(i?n.pa():n.ef(e)),e.kv=null,t},Wh.Cx=function(t){for(;null!==t;){if(t.layer===this){var e=t;if(0!==e.Qc.count){for(var i=-1,n=-1,o=this.Hb.q,r=o.length,s=0;r>s;s++){var a=o[s];if(a===e&&(i=s,n>=0))break;if(0>n&&a.Va===e&&(n=s,i>=0))break}!(0>n)&&i>n&&(o=this.Hb,o.md(i),o.be(n,e))}}t=t.Va}},Wh.clear=function(){for(var t=this.Hb.Ue(),e=t.length,i=0;e>i;i++)t[i].Ef(!1),this.ef(-1,t[i],!1)},Uh.A(Ge,{hk:"parts"},function(){return this.Hb.k}),Uh.A(Ge,{RK:"partsBackwards"},function(){return this.Hb.Zm}),Uh.A(Ge,{h:"diagram"},function(){return this.Y}),Uh.g(Ge,"name",Ge.prototype.name),Uh.defineProperty(Ge,{name:"name"},function(){return this.Xb},function(t){Uh.i(t,"string",Ge,"name");var e=this.Xb;if(e!==t){var i=this.h;if(null!==i)for(""===e&&Uh.m("Cannot rename default Layer to: "+t),i=i.ex;i.next();)i.value.name===t&&Uh.m("Layer.name is already present in this diagram: "+t);for(this.Xb=t,this.j("name",e,t),t=this.Hb.k;t.next();)t.value.hf=this.Xb}}),Uh.g(Ge,"opacity",Ge.prototype.opacity),Uh.defineProperty(Ge,{opacity:"opacity"},function(){return this.Kf},function(t){var e=this.Kf;e!==t&&(Uh.i(t,"number",Ge,"opacity"),(0>t||t>1)&&Uh.ka(t,"0 <= value <= 1",Ge,"opacity"),this.Kf=t,this.j("opacity",e,t),t=this.h,null!==t&&t.pa())}),Uh.g(Ge,"isTemporary",Ge.prototype.Ac),Uh.defineProperty(Ge,{Ac:"isTemporary"},function(){return this.Ry},function(t){var e=this.Ry;e!==t&&(Uh.i(t,"boolean",Ge,"isTemporary"),this.Ry=t,this.j("isTemporary",e,t))}),Uh.g(Ge,"visible",Ge.prototype.visible),Uh.defineProperty(Ge,{visible:"visible"},function(){return this.Az},function(t){var e=this.Az;if(e!==t){for(Uh.i(t,"boolean",Ge,"visible"),this.Az=t,this.j("visible",e,t),e=this.Hb.k;e.next();)e.value.Qe(t);t=this.h,null!==t&&t.pa()}}),Uh.g(Ge,"pickable",Ge.prototype.Cf),Uh.defineProperty(Ge,{Cf:"pickable"},function(){return this.Xk},function(t){var e=this.Xk;e!==t&&(Uh.i(t,"boolean",Ge,"pickable"),this.Xk=t,this.j("pickable",e,t))}),Uh.g(Ge,"isBoundsIncluded",Ge.prototype.nA),Uh.defineProperty(Ge,{nA:"isBoundsIncluded"},function(){return this.Oy},function(t){this.Oy!==t&&(this.Oy=t,null!==this.h&&this.h.oc())}),Uh.g(Ge,"allowCopy",Ge.prototype.Oh),Uh.defineProperty(Ge,{Oh:"allowCopy"},function(){return this.ok},function(t){var e=this.ok;e!==t&&(Uh.i(t,"boolean",Ge,"allowCopy"),this.ok=t,this.j("allowCopy",e,t))}),Uh.g(Ge,"allowDelete",Ge.prototype.Rj),Uh.defineProperty(Ge,{Rj:"allowDelete"},function(){return this.pk},function(t){var e=this.pk;e!==t&&(Uh.i(t,"boolean",Ge,"allowDelete"),this.pk=t,this.j("allowDelete",e,t))}),Uh.g(Ge,"allowTextEdit",Ge.prototype.Io),Uh.defineProperty(Ge,{Io:"allowTextEdit"},function(){return this.yk},function(t){var e=this.yk;e!==t&&(Uh.i(t,"boolean",Ge,"allowTextEdit"),this.yk=t,this.j("allowTextEdit",e,t))}),Uh.g(Ge,"allowGroup",Ge.prototype.Fo),Uh.defineProperty(Ge,{Fo:"allowGroup"},function(){return this.qk},function(t){var e=this.qk;e!==t&&(Uh.i(t,"boolean",Ge,"allowGroup"),this.qk=t,this.j("allowGroup",e,t))}),Uh.g(Ge,"allowUngroup",Ge.prototype.Jo),Uh.defineProperty(Ge,{Jo:"allowUngroup"},function(){return this.zk},function(t){var e=this.zk;e!==t&&(Uh.i(t,"boolean",Ge,"allowUngroup"),this.zk=t,this.j("allowUngroup",e,t))}),Uh.g(Ge,"allowLink",Ge.prototype.Cm),Uh.defineProperty(Ge,{Cm:"allowLink"},function(){return this.rk},function(t){var e=this.rk;e!==t&&(Uh.i(t,"boolean",Ge,"allowLink"),this.rk=t,this.j("allowLink",e,t))}),Uh.g(Ge,"allowRelink",Ge.prototype.Sj),Uh.defineProperty(Ge,{Sj:"allowRelink"},function(){return this.tk},function(t){var e=this.tk;e!==t&&(Uh.i(t,"boolean",Ge,"allowRelink"),this.tk=t,this.j("allowRelink",e,t))}),Uh.g(Ge,"allowMove",Ge.prototype.Gi),Uh.defineProperty(Ge,{Gi:"allowMove"},function(){return this.sk},function(t){var e=this.sk;e!==t&&(Uh.i(t,"boolean",Ge,"allowMove"),this.sk=t,this.j("allowMove",e,t))}),Uh.g(Ge,"allowReshape",Ge.prototype.Go),Uh.defineProperty(Ge,{Go:"allowReshape"},function(){return this.uk},function(t){var e=this.uk;e!==t&&(Uh.i(t,"boolean",Ge,"allowReshape"),this.uk=t,this.j("allowReshape",e,t))}),Uh.g(Ge,"allowResize",Ge.prototype.Dm),Uh.defineProperty(Ge,{Dm:"allowResize"},function(){return this.vk},function(t){var e=this.vk;e!==t&&(Uh.i(t,"boolean",Ge,"allowResize"),this.vk=t,this.j("allowResize",e,t))}),Uh.g(Ge,"allowRotate",Ge.prototype.Ho),Uh.defineProperty(Ge,{Ho:"allowRotate"},function(){return this.wk},function(t){var e=this.wk;e!==t&&(Uh.i(t,"boolean",Ge,"allowRotate"),this.wk=t,this.j("allowRotate",e,t))}),Uh.g(Ge,"allowSelect",Ge.prototype.Ee),Uh.defineProperty(Ge,{Ee:"allowSelect"},function(){return this.xk},function(t){var e=this.xk;e!==t&&(Uh.i(t,"boolean",Ge,"allowSelect"),this.xk=t,this.j("allowSelect",e,t))}),Uh.ja("Diagram",Ue),Ue.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.id&&(e=this.id),this.$j&&this.$j.id&&(e=this.$j.id),e='Diagram "'+e+'"',0>=t)return e;for(var i=this.dc.k;i.next();)e+="\n  "+i.value.toString(t-1);return e},Ue.prototype.checkProperties=function(){return Uh.check(this)},Ue.fromDiv=function(e){var i=e;return"string"==typeof e&&(i=t.document.getElementById(e)),i instanceof HTMLDivElement&&i.Y instanceof Ue?i.Y:null},Uh.g(Ue,"div",Ue.prototype.$j),Uh.defineProperty(Ue,{$j:"div"},function(){return this.Nb},function(e){if(null!==e&&Uh.l(e,HTMLDivElement,Ue,"div"),this.Nb!==e){zc=[];var i=this.Nb;null!==i?(i.Y=void 0,i.innerHTML="",null!==this.mb&&(this.mb.removeEventListener("touchstart",this.MG,!1),this.mb.removeEventListener("touchmove",this.LG,!1),this.mb.removeEventListener("touchend",this.KG,!1),this.mb.Kd.Y=null),i=this.sb,null!==i&&(i.lf.each(function(t){t.cancelWaitAfter()}),i.Uf.each(function(t){t.cancelWaitAfter()}),i.Vf.each(function(t){t.cancelWaitAfter()})),i.cancelWaitAfter(),this.Wa.doCancel(),this.Sg=this.mb=null,t.removeEventListener("resize",this.ZG,!1),t.removeEventListener("mousemove",this.Bp,!0),t.removeEventListener("mousedown",this.Ap,!0),t.removeEventListener("mouseup",this.Dp,!0),t.removeEventListener("mousewheel",this.hh,!0),t.removeEventListener("DOMMouseScroll",this.hh,!0),t.removeEventListener("mouseout",this.Cp,!0)):this.rf=!1,this.Nb=null,null!==e&&((i=e.Y)&&(i.$j=null),vn(this,e),this.PA())}}),Ue.prototype.computePixelRatio=function(){if(null!==this.ym)return this.ym;var e=this.Sg;return(t.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},Ue.prototype.doMouseMove=function(){this.Wa.doMouseMove()},Ue.prototype.doMouseDown=function(){this.Wa.doMouseDown()},Ue.prototype.doMouseUp=function(){this.Wa.doMouseUp()},Ue.prototype.doMouseWheel=function(){this.Wa.doMouseWheel()},Ue.prototype.doKeyDown=function(){this.Wa.doKeyDown()},Ue.prototype.doKeyUp=function(){this.Wa.doKeyUp()},Ue.prototype.focus=Ue.prototype.focus=function(){this.mb&&this.mb.focus()},Ue.prototype.PC=function(){if(this.Y.isEnabled){var t=this.Y;if(t.iz&&null!==t.mb){t.Hv=!0;var e=t.Jd,i=t.tb,n=e.width,o=i.width,r=e.height,s=i.height,a=e.right,h=i.right,l=e.bottom,u=i.bottom,c=e.x,f=i.x,e=e.y,i=i.y,d=t.scale;if(n>o||r>s){var p=Uh.M();this.fD&&t.De?(p.o(this.scrollLeft/d+c,t.position.y),t.position=p):this.gD&&t.Fe&&(p.o(t.position.x,this.scrollTop/d+e),t.position=p),Uh.B(p),t.Hv=!1,t.Wl=!1}else p=Uh.M(),this.fD&&t.De&&(f>c&&(t.position=new b(this.scrollLeft+c,t.position.y)),a>h&&(t.position=new b(-(t.Ej.scrollWidth-t.Fb)+this.scrollLeft-t.Fb/d+t.Jd.right,t.position.y))),this.gD&&t.Fe&&(i>e&&(t.position=new b(t.position.x,this.scrollTop+e)),l>u&&(t.position=new b(t.position.x,-(t.Fj.scrollHeight-t.Eb)+this.scrollTop-t.Eb/d+t.Jd.bottom))),Uh.B(p),Si(t),t.Hv=!1,t.Wl=!1,e=t.Jd,i=t.tb,a=e.right,h=i.right,l=e.bottom,u=i.bottom,c=e.x,f=i.x,e=e.y,i=i.y,o>=n&&c>=f&&h>=a&&(t.jz.style.width="1px"),s>=r&&e>=i&&u>=l&&(t.kz.style.height="1px")}}else Ti(this.Y)},Ue.prototype.QC=function(){this.Y.isEnabled?this.Y.iz=!0:Ti(this.Y)},Ue.prototype.computeBounds=Ue.prototype.tg=function(){return 0<this.fg.count&&yi(this),ii(this)},Ue.prototype.computePartsBounds=function(t){var e=null;for(t=t.k;t.next();){var i=t.value;i instanceof Nr||(i.vf(),null===e?e=i.ea.copy():e.$h(i.ea))}return null===e?new k(NaN,NaN,0,0):e},Ue.prototype.zoomToFit=Ue.prototype.zoomToFit=function(){this.scale=oi(this,Pu)},Ue.prototype.zoomToRect=function(t,e){void 0===e&&(e=Pu);var i=t.width,n=t.height;if(!(0===i||0===n||isNaN(i)&&isNaN(n))){var o=1;if(e===Pu||e===Lu)if(isNaN(i))o=this.tb.height*this.scale/n;else if(isNaN(n))o=this.tb.width*this.scale/i;else var o=this.Fb,r=this.Eb,o=e===Lu?r/n>o/i?(r-(this.Ik?this.Gd:0))/n:(o-(this.Jk?this.Gd:0))/i:Math.min(r/n,o/i);this.scale=o,this.position=new b(t.x,t.y)}},Uh.g(Ue,"isAligning",Ue.prototype.Tw),Uh.defineProperty(Ue,{Tw:null},function(){return this.yc},function(t){this.yc=t}),Ue.prototype.alignDocument=function(t,e){this.mi&&Xi(this,this.tg());var i=this.Jd,n=this.tb,o=this.yc;this.yc=!0,this.position=new b(i.x+(t.x*i.width+t.offsetX)-(e.x*n.width-e.offsetX),i.y+(t.y*i.height+t.offsetY)-(e.y*n.height-e.offsetY)),this.yc=o,this.pa()},Ue.prototype.findPartAt=Ue.prototype.ot=function(t,e){var i=e?si(this,t,function(t){return t.V},function(t){return t.canSelect()}):si(this,t,function(t){return t.V});return i instanceof er?i:null},Ue.prototype.findObjectAt=Ue.prototype.qe=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),yi(this);for(var n=this.dc.Zm;n.next();){var o=n.value;if(o.visible&&(o=o.qe(t,e,i),null!==o))return o}return null},Ue.prototype.findObjectsAt=Ue.prototype.Wo=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),n instanceof l||n instanceof c||(n=new c(Sn)),yi(this);for(var o=this.dc.Zm;o.next();){var r=o.value;r.visible&&r.Wo(t,e,i,n)}return n},Ue.prototype.findObjectsIn=Ue.prototype.ck=function(t,e,i,n,o){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),o instanceof l||o instanceof c||(o=new c(Sn)),yi(this);for(var r=this.dc.Zm;r.next();){var s=r.value;s.visible&&s.ck(t,e,i,n,o)}return o},Ue.prototype.Yz=function(t,e,i,n,o,r){var s=new c(Sn);yi(this);for(var a=this.dc.Zm;a.next();){var h=a.value;h.visible&&h.Yz(t,e,i,n,s,o,r)}return s},Ue.prototype.findObjectsNear=Ue.prototype.Qm=function(t,e,i,n,o,r){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!0),!1!==o&&!0!==o&&((o instanceof l||o instanceof c)&&(r=o),o=!0),r instanceof l||r instanceof c||(r=new c(Sn)),yi(this);for(var s=this.dc.Zm;s.next();){var a=s.value;a.visible&&a.Qm(t,e,i,n,o,r)}return r},Ue.prototype.acceptEvent=function(t){var e=this.Lc;return this.Lc=this.Sb,this.Sb=e,li(this,this,t,e,t instanceof MouseEvent),e},Ue.prototype.gJ=function(t){if(!this.Y.isEnabled)return!1;var e=this.Y.Sb;switch(li(this.Y,this.Y,t,e,!1),e.key=String.fromCharCode(t.which),e.ak=!0,t.which){case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 48:e.key="0";break;case 187:case 61:case 107:e.key="Add";break;case 189:case 173:case 109:e.key="Subtract";break;case 27:e.key="Esc"}return this.Y.doKeyDown(),187!==t.which&&189!==t.which&&48!==t.which&&107!==t.which&&109!==t.which&&61!==t.which&&173!==t.which||!0!==t.ctrlKey?fi(this.Y,e,t):(t.cancelBubble=!0,t.preventDefault(),t.stopPropagation(),!1)},Ue.prototype.hJ=function(t){if(!this.Y.isEnabled)return!1;var e=this.Y.Sb;switch(li(this.Y,this.Y,t,e,!1),e.key=String.fromCharCode(t.which),e.up=!0,t.which){case 33:e.key="PageUp";break;case 34:e.key="PageDown";break;case 35:e.key="End";break;case 36:e.key="Home";break;case 37:e.key="Left";break;case 38:e.key="Up";break;case 39:e.key="Right";break;case 40:e.key="Down";break;case 45:e.key="Insert";break;case 46:e.key="Del";break;case 93:t.preventDefault()}return this.Y.doKeyUp(),fi(this.Y,e,t)},Ue.prototype.Mq=function(t){var e=this.mb;if(null===e)return new b(0,0);var i=this.Fb,n=this.Eb,e=e.getBoundingClientRect(),i=t.clientX-i/e.width*e.left;return t=t.clientY-n/e.height*e.top,null!==this.Yd?(t=new b(i,t),x(t,this.Yd),t):new b(i,t)},Ue.prototype.invalidateDocumentBounds=Ue.prototype.oc=function(){this.mi||(this.mi=!0,this.Se())},Ue.prototype.redraw=Ue.prototype.PA=function(){this.yc||this.Cd||(this.pa(),Ai(this),Si(this),this.oc(),this.kf())},Ue.prototype.isUpdateRequested=function(){return this.Mf},Ue.prototype.delayInitialization=Ue.prototype.zI=function(t){void 0===t&&(t=null);var e=this.Pb,i=e.isEnabled;e.Xi(),e.isEnabled=!1,mi(this),this.rf=!1,e.isEnabled=i,null!==t&&Uh.setTimeout(t,1)},Ue.prototype.requestUpdate=Ue.prototype.Se=function(t){if(void 0===t&&(t=!1),!0!==this.Mf&&!(this.yc||!1===t&&this.Cd)){this.Mf=!0;var e=this;requestAnimationFrame(function(){e.Mf&&e.kf()})}},Ue.prototype.maybeUpdate=Ue.prototype.kf=function(){(!this.Rn||this.Mf)&&(this.Rn&&(this.Rn=!1),mi(this))},Ue.prototype.Ef=function(t,e,i,n){var o=this.bi;if(this.Mk||o.fh)for(o=0;e>o;o++)t[o].Ef(i,n)},Ue.prototype.bf=function(t,e){void 0===t&&(t=this.Sg),void 0===e&&(e=null),null===this.Nb&&Uh.m("No div specified");var i=this.mb;if(null===i&&Uh.m("No canvas specified"),this.bi.qd)0===this.la.Ve&&this.Se(!0);else{Fi(this);var n=t!==this.Sg,o=this.dc.q,r=o.length,s=this;if(this.Ef(o,r,s),n)Ze(this,t),Si(this);else if(!this.Sd&&null===e)return;var a=this.Oa,h=this.ec,l=Math.round(a.x*h)/h,u=Math.round(a.y*h)/h,r=this.Yd;for(r.reset(),1!==h&&r.scale(h),0===a.x&&0===a.y||r.translate(-l,-u),a=this.tf,Uh.Wm?(i.width=i.width,Ze(this,t),t.scale(a,a)):(t.setTransform(1,0,0,1,0,0),t.scale(a,a),t.clearRect(0,0,this.Fb,this.Eb)),t.miterLimit=9,t.setTransform(1,0,0,1,0,0),t.scale(a,a),t.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),Vh&&Vh.Pz&&Vh.DI(this,t),i=null!==e?function(i){var n=t,o=e;if(i.visible){n.globalAlpha=i.Kf;var r=i.Cv;r.length=0;var a=s.scale;i=i.Hb.q;for(var h=i.length,l=0;h>l;l++){var u=i[l];if((gr(u)||ko(u))&&!o.contains(u)){if(u instanceof Nr){var c=u;if(c.gc&&r.push(c),!1===c.qg)continue}c=u.ea,1<c.width*a||1<c.height*a?u.bf(n,s):ur(u,n)}}n.globalAlpha=1}}:function(e){e.bf(t,s)},Ci(this,t),r=o.length,a=0;r>a;a++)i(o[a]);this.Kk?this.Kk.Kl(this)&&this.Vx():this.Mq=function(){return new b(0,0)},n?(Ze(this),Si(this)):this.Sd=this.Mk=!1}},Ue.prototype.getRenderingHint=Ue.prototype.fA=function(t){return this.Fh[t]},Ue.prototype.setRenderingHint=Ue.prototype.RJ=function(t,e){this.Fh[t]=e,this.PA()},Ue.prototype.resetRenderingHints=Ue.prototype.aG=function(){this.Fh=new n,this.Fh.drawShadows=!0,this.Fh.textGreeking=!0,this.Fh.viewportOptimizations=Uh.YI?!1:!0,this.Fh.temporaryPixelRatio=!0},Ue.prototype.getInputOption=Ue.prototype.dA=function(t){return this.Rq[t]},Ue.prototype.setInputOption=function(t,e){this.Rq[t]=e},Ue.prototype.resetInputOptions=Ue.prototype.$F=function(){this.Rq=new n,this.Rq.extraTouchArea=10,this.Rq.extraTouchThreshold=10},Ue.prototype.setProperties=function(t){Uh.au(this,t)},Ue.prototype.pa=function(t){if(void 0===t&&(t=null),null===t)this.Sd=!0,this.Se();else{var e=this.tb;null!==t&&t.J()&&e.zg(t)&&(this.Sd=!0,this.Se())}for(e=this.jm.k;e.next();)e.value.pa(t)},Ue.prototype.kA=function(t,e){if(!0!==this.Sd){this.Sd=!0;var i=!0===this.fA("temporaryPixelRatio");if(!0===this.fA("viewportOptimizations")&&this.bB!==zu&&this.aB.Dw(0,0,0,0)&&e.width===t.width&&e.height===t.height){var n=this.scale,o=Uh.$f(),r=Math.max(t.x,e.x),s=Math.max(t.y,e.y),a=Math.min(t.x+t.width,e.x+e.width),h=Math.min(t.y+t.height,e.y+e.height);if(o.x=r,o.y=s,o.width=Math.max(0,a-r)*n,o.height=Math.max(0,h-s)*n,0<o.width&&0<o.height){if(!this.Cd&&(this.Mf=!1,null!==this.Nb)){this.Cd=!0,yi(this),0!==this.Tl.count&&(ki(this),yi(this)),this.Jd.J()||Xi(this,this.tg());var l=this.mb;if(null!==l){var u=this.tf,s=this.Fb*u,a=this.Eb*u,r=this.scale*u,n=Math.round(Math.round(e.x*r)-Math.round(t.x*r)),r=Math.round(Math.round(e.y*r)-Math.round(t.y*r)),h=this.Ay,c=this.iC;h.width!==s&&(h.width=s),h.height!==a&&(h.height=a),c.clearRect(0,0,s,a);var h=190*this.tf,f=70*this.tf,d=Math.max(n,0),p=Math.max(r,0),g=Math.floor(s-d),m=Math.floor(a-p);c.YE=!1,c.drawImage(l.Kd,d,p,g,m,0,0,g,m),this.Kk.Kl(this)&&c.clearRect(0,0,h,f);var l=Uh.lb(),c=Uh.lb(),m=Math.abs(n),g=Math.abs(r),v=0===d?0:s-m,d=Uh.ic(v,0),m=Uh.ic(m+v,a);c.push(new k(Math.min(d.x,m.x),Math.min(d.y,m.y),Math.abs(d.x-m.x),Math.abs(d.y-m.y)));var y=this.Yd;y.reset(),y.scale(u,u),1!==this.ec&&y.scale(this.ec),u=this.Oa,(0!==u.x||0!==u.y)&&isFinite(u.x)&&isFinite(u.y)&&y.translate(-u.x,-u.y),x(d,y),x(m,y),l.push(new k(Math.min(d.x,m.x),Math.min(d.y,m.y),Math.abs(d.x-m.x),Math.abs(d.y-m.y))),v=0===p?0:a-g,d.o(0,v),m.o(s,g+v),c.push(new k(Math.min(d.x,m.x),Math.min(d.y,m.y),Math.abs(d.x-m.x),Math.abs(d.y-m.y))),x(d,y),x(m,y),l.push(new k(Math.min(d.x,m.x),Math.min(d.y,m.y),Math.abs(d.x-m.x),Math.abs(d.y-m.y))),this.Kk.Kl(this)&&(s=n>0?0:-n,a=r>0?0:-r,d.o(s,a),m.o(h+s,f+a),c.push(new k(Math.min(d.x,m.x),Math.min(d.y,m.y),Math.abs(d.x-m.x),Math.abs(d.y-m.y))),x(d,y),x(m,y),l.push(new k(Math.min(d.x,m.x),Math.min(d.y,m.y),Math.abs(d.x-m.x),Math.abs(d.y-m.y)))),Uh.B(d),Uh.B(m),gi(this,!1),wi(this,l,c,n,r),Uh.xa(l),Uh.xa(c),this.Cd=!1}}}else this.kf();Uh.nc(o),i&&(this.ym=1,this.kf(),Xe(this,!0))}else i?(this.ym=1,this.kf(),Xe(this,!0)):this.kf();for(i=this.jm.k;i.next();)i.value.kA()}},Ue.prototype.add=Ue.prototype.add=function(t){Uh.l(t,er,Ue,"add:part");var e=t.h;if(e!==this){null!==e&&Uh.m("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),this.sn&&(t.Ok="Tool");var i=t.hf,e=this.mt(i);null===e&&(e=this.mt("")),null===e&&Uh.m('Cannot add a Part when unable find a Layer named "'+i+'" and there is no default Layer'),t.layer!==e&&(i=e.gp(99999999,t,t.h===this),i>=0&&this.Gc(Yl,"parts",e,null,t,null,i),e.Ac||this.oc(),t.K(Hc),i=t.np,null!==i&&i(t,null,e))}},Ue.prototype.gp=function(t){if(t instanceof Cr){if(this.Pr.add(t),t instanceof bs){var e=t.Va;null===e?this.$k.add(t):e.lo.add(t),e=t.Lb,null!==e&&(e.h=this)}}else t instanceof Nr?this.rr.add(t):t instanceof xr||this.Hb.add(t);if(t.Tb&&t.T(),e=t.data,null!==e){t instanceof xr||(t instanceof Nr?this.Dk.add(e,t):this.hi.add(e,t));var i=this;lo(t,function(t){Oi(i,t)})}!0!==Yn(t)&&!0!==fr(t)||this.fg.add(t),lr(t,!0,this),wr(t)?(t.ea.J()&&this.pa(ar(t,t.ea)),this.oc()):t.Ja()&&t.ea.J()&&this.pa(ar(t,t.ea)),this.Se()},Ue.prototype.ef=function(t){if(t.bt(),t instanceof Cr){if(this.Pr.remove(t),t instanceof bs){var e=t.Va;null===e?this.$k.remove(t):e.lo.remove(t),e=t.Lb,null!==e&&(e.h=null)}}else t instanceof Nr?this.rr.remove(t):t instanceof xr||this.Hb.remove(t);if(e=t.data,null!==e){t instanceof xr||(t instanceof Nr?this.Dk.remove(e):this.hi.remove(e));var i=this;lo(t,function(t){ji(i,t)})}this.fg.remove(t),wr(t)?(t.ea.J()&&this.pa(ar(t,t.ea)),this.oc()):t.Ja()&&t.ea.J()&&this.pa(ar(t,t.ea)),this.Se()},Ue.prototype.remove=Ue.prototype.remove=function(t){Uh.l(t,er,Ue,"remove:part"),t.Za=!1,t.Ag=!1;var e=t.layer;if(null!==e&&e.h===this){t.K(qc),t.Om();var i=e.ef(-1,t,!1);i>=0&&this.Gc(Jl,"parts",e,t,null,i,null),i=t.np,null!==i&&i(t,e,null)}},Ue.prototype.removeParts=Ue.prototype.UA=function(t,e){if(Uh.isArray(t))for(var i=Uh.ub(t),n=0;i>n;n++){var o=Uh.jb(t,n);e&&!o.canDelete()||this.remove(o)}else for(o=new c(er),o.Ce(t),i=o.k;i.next();)o=i.value,e&&!o.canDelete()||this.remove(o)},Ue.prototype.copyParts=Ue.prototype.Po=function(t,e,i){return this.zb.Po(t,e,i)},Ue.prototype.moveParts=Ue.prototype.moveParts=function(t,e,i){Uh.l(e,b,Ue,"moveParts:offset");var n=this.sb;if(null!==n){n=n.vd,null===n&&(n=new Bt,n.Hc(this));var o=new v(er,Object);if(null!==t)t=t.k;else{for(t=this.hk;t.next();)Rt(n,o,t.value,i);for(t=this.Gg;t.next();)Rt(n,o,t.value,i);t=this.links}for(;t.next();)Rt(n,o,t.value,i);n.moveParts(o,e,i)}},Ue.prototype.addLayer=Ue.prototype.Ts=function(t){Mi(this,t,null),t.Hc(this);var e=this.dc,i=e.count-1;if(!t.Ac)for(;i>=0&&e.na(i).Ac;)i--;e.be(i+1,t),null!==this.Ud&&this.Gc(Yl,"layers",this,null,t,null,i+1),this.pa(),this.oc()},Ue.prototype.addLayerBefore=Ue.prototype.GH=function(t,e){Mi(this,t,e),t.Hc(this);var i=this.dc,n=i.indexOf(t);n>=0&&(i.remove(t),null!==this.Ud&&this.Gc(Jl,"layers",this,t,null,n,null));for(var o=i.count,r=0;o>r;r++)if(i.na(r)===e){i.be(r,t);break}null!==this.Ud&&this.Gc(Yl,"layers",this,null,t,null,r),this.pa(),0>n&&this.oc()},Ue.prototype.addLayerAfter=function(t,e){Mi(this,t,e),t.Hc(this);var i=this.dc,n=i.indexOf(t);n>=0&&(i.remove(t),null!==this.Ud&&this.Gc(Jl,"layers",this,t,null,n,null));for(var o=i.count,r=0;o>r;r++)if(i.na(r)===e){i.be(r+1,t);break}null!==this.Ud&&this.Gc(Yl,"layers",this,null,t,null,r+1),this.pa(),0>n&&this.oc()},Ue.prototype.removeLayer=function(t){if(Uh.l(t,Ge,Ue,"removeLayer:layer"),t.h!==this&&Uh.m("Cannot remove a Layer from another Diagram: "+t+" of "+t.h),""!==t.name){var e=this.dc,i=e.indexOf(t);if(e.remove(t)){for(e=t.Hb.copy().k;e.next();){var n=e.value,o=n.hf;n.hf=o!==t.name?o:""}null!==this.Ud&&this.Gc(Jl,"layers",this,t,null,i,null),this.pa(),this.oc()}}},Ue.prototype.findLayer=Ue.prototype.mt=function(t){for(var e=this.ex;e.next();){var i=e.value;if(i.name===t)return i}return null},Ue.prototype.addChangedListener=Ue.prototype.Fz=function(t){Uh.i(t,"function",Ue,"addChangedListener:listener"),null===this.dj&&(this.dj=new l("function")),this.dj.add(t)},Ue.prototype.removeChangedListener=Ue.prototype.RA=function(t){Uh.i(t,"function",Ue,"removeChangedListener:listener"),null!==this.dj&&(this.dj.remove(t),0===this.dj.count&&(this.dj=null))},Ue.prototype.lw=function(t){if(this.$a||this.la.UE(t),t.td!==Ul&&(this.gh=!0),null!==this.dj){var e=this.dj,i=e.length;if(1===i)(e=e.na(0))(t);else if(0!==i)for(var n=e.Ue(),o=0;i>o;o++)(e=n[o])(t)}},Ue.prototype.raiseChangedEvent=Ue.prototype.Gc=function(t,e,i,n,o,r,s){void 0===r&&(r=null),void 0===s&&(s=null);var a=new ot;a.h=this,a.td=t,a.propertyName=e,a.object=i,a.oldValue=n,a.Yf=r,a.newValue=o,a.Wf=s,this.lw(a)},Ue.prototype.raiseChanged=Ue.prototype.j=function(t,e,i,n,o){this.Gc(Kl,t,this,e,i,n,o)},Uh.A(Ue,{Pb:"animationManager"},function(){return this.bi}),Uh.A(Ue,{la:"undoManager"},function(){return this.Ud.la}),Uh.g(Ue,"skipsUndoManager",Ue.prototype.$a),Uh.defineProperty(Ue,{$a:"skipsUndoManager"},function(){return this.yi},function(t){Uh.i(t,"boolean",Ue,"skipsUndoManager"),this.yi=t,this.Ud.yi=t}),Uh.g(Ue,"delaysLayout",Ue.prototype.yw),Uh.defineProperty(Ue,{yw:"delaysLayout"},function(){return this.wy},function(t){this.wy=t}),Ue.prototype.Im=function(t,e){if(null!==t&&t.h===this){var i=t.td;if(i===Kl){var n=t.object,i=t.propertyName,o=t.Aa(e);Uh.Sa(n,i,o),n instanceof Sn&&(n=n.V,null!==n&&n.ce()),this.gh=!0}else if(i===Yl){if(o=t.object,i=t.Wf,n=t.newValue,o instanceof io)if("number"==typeof i&&n instanceof Sn){var r=o;e?r.ef(i):r.be(i,n),n=o.V,null!==n&&n.ce()}else"number"==typeof i&&n instanceof Ao&&(r=o,e?n.fe?r.ZF(i):r.VF(i):(i=n.fe?r.jd(n.index):r.hd(n.index),i.gt(n)));else o instanceof Ge?(r=!0===t.Yf,"number"==typeof i&&n instanceof er&&(e?(n.ce(),r?o.ef(i,n,r):this.remove(n)):o.gp(i,n,r))):o instanceof Ue?"number"==typeof i&&n instanceof Ge&&(o=n,e?this.dc.md(i):(o.Hc(this),this.dc.be(i,o))):Uh.m("unknown ChangedEvent.Insert object: "+t.toString());this.gh=!0}else i===Jl?(o=t.object,i=t.Yf,n=t.oldValue,o instanceof io?"number"==typeof i&&n instanceof Sn?(r=o,e?r.be(i,n):r.ef(i)):"number"==typeof i&&n instanceof Ao&&(r=o,e?(i=n.fe?r.jd(n.index):r.hd(n.index),i.gt(n)):n.fe?r.ZF(i):r.VF(i)):o instanceof Ge?(r=!0===t.Wf,"number"==typeof i&&n instanceof er&&(e?o.gp(i,n,r):(n.ce(),r?o.ef(i,n,r):this.remove(n)))):o instanceof Ue?"number"==typeof i&&n instanceof Ge&&(o=n,e?(o.Hc(this),this.dc.be(i,o)):this.dc.md(i)):Uh.m("unknown ChangedEvent.Remove object: "+t.toString()),this.gh=!0):i!==Ul&&Uh.m("unknown ChangedEvent: "+t.toString())}},Ue.prototype.startTransaction=Ue.prototype.ac=function(t){return this.la.ac(t)},Ue.prototype.commitTransaction=Ue.prototype.$d=function(t){return this.la.$d(t)},Ue.prototype.rollbackTransaction=Ue.prototype.Mp=function(){return this.la.Mp()},Ue.prototype.updateAllTargetBindings=Ue.prototype.eK=function(t){void 0===t&&(t="");for(var e=this.hk;e.next();)e.value.Rb(t);for(e=this.Gg;e.next();)e.value.Rb(t);for(e=this.links;e.next();)e.value.Rb(t)},Ue.prototype.updateAllRelationshipsFromData=function(){for(var t=this.hk;t.next();)t.value.updateRelationshipsFromData();for(t=this.Gg;t.next();)t.value.updateRelationshipsFromData();for(t=this.links;t.next();)t.value.updateRelationshipsFromData()},Ue.prototype.Nt=function(t,e,i){void 0===i&&(i=!1),i||Ai(this),Si(this);var n=this.Lb;null===n||!n.Ct||i||t.width===e.width&&t.height===e.height||n.K(),n=this.Wa,!0===this.Yl&&n instanceof De&&(this.P.fa=this.RG(this.P.We),n.doMouseMove()),this.kA(t,e),Pi(this),this.Ba("ViewportBoundsChanged",i?Uh.nh:null,t)},Ue.prototype.clearSelection=Ue.prototype.nw=function(){var t=0<this.selection.count;t&&this.Ba("ChangingSelection"),Li(this),t&&this.Ba("ChangedSelection")},Ue.prototype.select=Ue.prototype.select=function(t){null!==t&&(Uh.l(t,er,Ue,"select:part"),t.layer.h===this&&(!t.Za||1<this.selection.count)&&(this.Ba("ChangingSelection"),Li(this),t.Za=!0,this.Ba("ChangedSelection")))},Ue.prototype.selectCollection=Ue.prototype.nG=function(t){if(this.Ba("ChangingSelection"),Li(this),Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++){var n=Uh.jb(t,i);n instanceof er||Uh.m("Diagram.selectCollection given something that is not a Part: "+n),n.Za=!0}else for(t=t.k;t.next();)n=t.value,n instanceof er||Uh.m("Diagram.selectCollection given something that is not a Part: "+n),n.Za=!0;this.Ba("ChangedSelection")},Ue.prototype.clearHighlighteds=Ue.prototype.YD=function(){var t=this.Pw;if(0<t.count){for(var e=t.Ue(),i=e.length,n=0;i>n;n++)e[n].Ag=!1;t.Na(),t.clear(),t.freeze()}},Ue.prototype.highlight=function(t){null!==t&&t.layer.h===this&&(Uh.l(t,er,Ue,"highlight:part"),!t.Ag||1<this.Pw.count)&&(this.YD(),t.Ag=!0)},Ue.prototype.highlightCollection=function(t){if(this.YD(),Uh.isArray(t))for(var e=Uh.ub(t),i=0;e>i;i++){var n=Uh.jb(t,i);n instanceof er||Uh.m("Diagram.highlightCollection given something that is not a Part: "+n),n.Ag=!0}else for(t=t.k;t.next();)n=t.value,n instanceof er||Uh.m("Diagram.highlightCollection given something that is not a Part: "+n),n.Ag=!0},Ue.prototype.scroll=Ue.prototype.scroll=function(t,e,i){void 0===i&&(i=1);var n="up"===e||"down"===e,o=0;"pixel"===t?o=i:"line"===t?o=i*(n?this.Qp:this.Pp):"page"===t?(t=n?this.tb.height:this.tb.width,t*=this.scale,0!==t&&(o=Math.max(t-(n?this.Qp:this.Pp),0),o*=i)):Uh.m("scrolling unit must be 'pixel', 'line', or 'page', not: "+t),o/=this.scale,i=this.position.copy(),"up"===e?i.y=this.position.y-o:"down"===e?i.y=this.position.y+o:"left"===e?i.x=this.position.x-o:"right"===e?i.x=this.position.x+o:Uh.m("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=i},Ue.prototype.scrollToRect=Ue.prototype.PJ=function(t){var e=this.tb;e.Vj(t)||(t=t.Tj,t.x-=e.width/2,t.y-=e.height/2,this.position=t)},Ue.prototype.centerRect=function(t){var e=this.tb;t=t.Tj,t.x-=e.width/2,t.y-=e.height/2,this.position=t},Ue.prototype.transformDocToView=Ue.prototype.PG=function(t){var e=this.Yd;e.reset(),1!==this.ec&&e.scale(this.ec);var i=this.Oa;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),t.copy().transform(this.Yd)},Ue.prototype.transformViewToDoc=Ue.prototype.RG=function(t){var e=this.Yd;e.reset(),1!==this.ec&&e.scale(this.ec);var i=this.Oa;return(0!==i.x||0!==i.y)&&isFinite(i.x)&&isFinite(i.y)&&e.translate(-i.x,-i.y),x(t.copy(),this.Yd)};var Du;Ue.None=Du=Uh.w(Ue,"None",0);var Pu;Ue.Uniform=Pu=Uh.w(Ue,"Uniform",1);var Lu;Ue.UniformToFill=Lu=Uh.w(Ue,"UniformToFill",2);var Bu;Ue.CycleAll=Bu=Uh.w(Ue,"CycleAll",10);var Nu;Ue.CycleNotDirected=Nu=Uh.w(Ue,"CycleNotDirected",11);var $u;Ue.CycleNotDirectedFast=$u=Uh.w(Ue,"CycleNotDirectedFast",12);var Ru;Ue.CycleNotUndirected=Ru=Uh.w(Ue,"CycleNotUndirected",13);var Ou;Ue.CycleDestinationTree=Ou=Uh.w(Ue,"CycleDestinationTree",14);var ju;Ue.CycleSourceTree=ju=Uh.w(Ue,"CycleSourceTree",15);var Iu;Ue.DocumentScroll=Iu=Uh.w(Ue,"DocumentScroll",1);var zu;Ue.InfiniteScroll=zu=Uh.w(Ue,"InfiniteScroll",2),Uh.g(Ue,"validCycle",Ue.prototype.XG),Uh.defineProperty(Ue,{XG:"validCycle"},function(){return this.$v},function(t){var e=this.$v;e!==t&&(Uh.za(t,Ue,Ue,"validCycle"),this.$v=t,this.j("validCycle",e,t))}),Uh.g(Ue,"linkSpacing",Ue.prototype.sp),Uh.defineProperty(Ue,{sp:"linkSpacing"},function(){return this.qj},function(t){var e=this.qj;e!==t&&(Uh.p(t,Ue,"linkSpacing"),0>t&&Uh.ka(t,">= zero",Ue,"linkSpacing"),this.qj=t,this.j("linkSpacing",e,t))}),Uh.A(Ue,{ex:"layers"},function(){return this.dc.k}),Uh.g(Ue,"isModelReadOnly",Ue.prototype.ff),Uh.defineProperty(Ue,{ff:"isModelReadOnly"},function(){var t=this.Ud;return null===t?!1:t.hb},function(t){var e=this.Ud;null!==e&&(e.hb=t)}),Uh.g(Ue,"isReadOnly",Ue.prototype.hb),Uh.defineProperty(Ue,{hb:"isReadOnly"},function(){return this.Nk},function(t){var e=this.Nk;e!==t&&(Uh.i(t,"boolean",Ue,"isReadOnly"),this.Nk=t,this.j("isReadOnly",e,t))}),Uh.g(Ue,"isEnabled",Ue.prototype.isEnabled),Uh.defineProperty(Ue,{isEnabled:"isEnabled"},function(){return this.Xe},function(t){var e=this.Xe;e!==t&&(Uh.i(t,"boolean",Ue,"isEnabled"),this.Xe=t,this.j("isEnabled",e,t))}),Uh.g(Ue,"allowClipboard",Ue.prototype.hw),Uh.defineProperty(Ue,{hw:"allowClipboard"},function(){return this.pu},function(t){var e=this.pu;e!==t&&(Uh.i(t,"boolean",Ue,"allowClipboard"),this.pu=t,this.j("allowClipboard",e,t))}),Uh.g(Ue,"allowCopy",Ue.prototype.Oh),Uh.defineProperty(Ue,{Oh:"allowCopy"},function(){return this.ok},function(t){var e=this.ok;e!==t&&(Uh.i(t,"boolean",Ue,"allowCopy"),this.ok=t,this.j("allowCopy",e,t))}),Uh.g(Ue,"allowDelete",Ue.prototype.Rj),Uh.defineProperty(Ue,{Rj:"allowDelete"},function(){return this.pk},function(t){var e=this.pk;e!==t&&(Uh.i(t,"boolean",Ue,"allowDelete"),this.pk=t,this.j("allowDelete",e,t))}),Uh.g(Ue,"allowDragOut",Ue.prototype.Ws),Uh.defineProperty(Ue,{Ws:"allowDragOut"},function(){return this.qu},function(t){var e=this.qu;e!==t&&(Uh.i(t,"boolean",Ue,"allowDragOut"),this.qu=t,this.j("allowDragOut",e,t))}),Uh.g(Ue,"allowDrop",Ue.prototype.Iz),Uh.defineProperty(Ue,{Iz:"allowDrop"},function(){return this.ru},function(t){var e=this.ru;e!==t&&(Uh.i(t,"boolean",Ue,"allowDrop"),this.ru=t,this.j("allowDrop",e,t));
}),Uh.g(Ue,"allowTextEdit",Ue.prototype.Io),Uh.defineProperty(Ue,{Io:"allowTextEdit"},function(){return this.yk},function(t){var e=this.yk;e!==t&&(Uh.i(t,"boolean",Ue,"allowTextEdit"),this.yk=t,this.j("allowTextEdit",e,t))}),Uh.g(Ue,"allowGroup",Ue.prototype.Fo),Uh.defineProperty(Ue,{Fo:"allowGroup"},function(){return this.qk},function(t){var e=this.qk;e!==t&&(Uh.i(t,"boolean",Ue,"allowGroup"),this.qk=t,this.j("allowGroup",e,t))}),Uh.g(Ue,"allowUngroup",Ue.prototype.Jo),Uh.defineProperty(Ue,{Jo:"allowUngroup"},function(){return this.zk},function(t){var e=this.zk;e!==t&&(Uh.i(t,"boolean",Ue,"allowUngroup"),this.zk=t,this.j("allowUngroup",e,t))}),Uh.g(Ue,"allowInsert",Ue.prototype.Bm),Uh.defineProperty(Ue,{Bm:"allowInsert"},function(){return this.tu},function(t){var e=this.tu;e!==t&&(Uh.i(t,"boolean",Ue,"allowInsert"),this.tu=t,this.j("allowInsert",e,t))}),Uh.g(Ue,"allowLink",Ue.prototype.Cm),Uh.defineProperty(Ue,{Cm:"allowLink"},function(){return this.rk},function(t){var e=this.rk;e!==t&&(Uh.i(t,"boolean",Ue,"allowLink"),this.rk=t,this.j("allowLink",e,t))}),Uh.g(Ue,"allowRelink",Ue.prototype.Sj),Uh.defineProperty(Ue,{Sj:"allowRelink"},function(){return this.tk},function(t){var e=this.tk;e!==t&&(Uh.i(t,"boolean",Ue,"allowRelink"),this.tk=t,this.j("allowRelink",e,t))}),Uh.g(Ue,"allowMove",Ue.prototype.Gi),Uh.defineProperty(Ue,{Gi:"allowMove"},function(){return this.sk},function(t){var e=this.sk;e!==t&&(Uh.i(t,"boolean",Ue,"allowMove"),this.sk=t,this.j("allowMove",e,t))}),Uh.g(Ue,"allowReshape",Ue.prototype.Go),Uh.defineProperty(Ue,{Go:"allowReshape"},function(){return this.uk},function(t){var e=this.uk;e!==t&&(Uh.i(t,"boolean",Ue,"allowReshape"),this.uk=t,this.j("allowReshape",e,t))}),Uh.g(Ue,"allowResize",Ue.prototype.Dm),Uh.defineProperty(Ue,{Dm:"allowResize"},function(){return this.vk},function(t){var e=this.vk;e!==t&&(Uh.i(t,"boolean",Ue,"allowResize"),this.vk=t,this.j("allowResize",e,t))}),Uh.g(Ue,"allowRotate",Ue.prototype.Ho),Uh.defineProperty(Ue,{Ho:"allowRotate"},function(){return this.wk},function(t){var e=this.wk;e!==t&&(Uh.i(t,"boolean",Ue,"allowRotate"),this.wk=t,this.j("allowRotate",e,t))}),Uh.g(Ue,"allowSelect",Ue.prototype.Ee),Uh.defineProperty(Ue,{Ee:"allowSelect"},function(){return this.xk},function(t){var e=this.xk;e!==t&&(Uh.i(t,"boolean",Ue,"allowSelect"),this.xk=t,this.j("allowSelect",e,t))}),Uh.g(Ue,"allowUndo",Ue.prototype.Jz),Uh.defineProperty(Ue,{Jz:"allowUndo"},function(){return this.uu},function(t){var e=this.uu;e!==t&&(Uh.i(t,"boolean",Ue,"allowUndo"),this.uu=t,this.j("allowUndo",e,t))}),Uh.g(Ue,"allowZoom",Ue.prototype.Xs),Uh.defineProperty(Ue,{Xs:"allowZoom"},function(){return this.wu},function(t){var e=this.wu;e!==t&&(Uh.i(t,"boolean",Ue,"allowZoom"),this.wu=t,this.j("allowZoom",e,t))}),Uh.g(Ue,"hasVerticalScrollbar",Ue.prototype.Ow),Uh.defineProperty(Ue,{Ow:"hasVerticalScrollbar"},function(){return this.Zu},function(t){var e=this.Zu;e!==t&&(Uh.i(t,"boolean",Ue,"hasVerticalScrollbar"),this.Zu=t,Ai(this),this.pa(),this.j("hasVerticalScrollbar",e,t),ni(this,!1))}),Uh.g(Ue,"hasHorizontalScrollbar",Ue.prototype.Nw),Uh.defineProperty(Ue,{Nw:"hasHorizontalScrollbar"},function(){return this.Yu},function(t){var e=this.Yu;e!==t&&(Uh.i(t,"boolean",Ue,"hasHorizontalScrollbar"),this.Yu=t,Ai(this),this.pa(),this.j("hasHorizontalScrollbar",e,t),ni(this,!1))}),Uh.g(Ue,"allowHorizontalScroll",Ue.prototype.De),Uh.defineProperty(Ue,{De:"allowHorizontalScroll"},function(){return this.su},function(t){var e=this.su;e!==t&&(Uh.i(t,"boolean",Ue,"allowHorizontalScroll"),this.su=t,this.j("allowHorizontalScroll",e,t),ni(this,!1))}),Uh.g(Ue,"allowVerticalScroll",Ue.prototype.Fe),Uh.defineProperty(Ue,{Fe:"allowVerticalScroll"},function(){return this.vu},function(t){var e=this.vu;e!==t&&(Uh.i(t,"boolean",Ue,"allowVerticalScroll"),this.vu=t,this.j("allowVerticalScroll",e,t),ni(this,!1))}),Uh.g(Ue,"scrollHorizontalLineChange",Ue.prototype.Pp),Uh.defineProperty(Ue,{Pp:"scrollHorizontalLineChange"},function(){return this.Iv},function(t){var e=this.Iv;e!==t&&(Uh.i(t,"number",Ue,"scrollHorizontalLineChange"),0>t&&Uh.ka(t,">= 0",Ue,"scrollHorizontalLineChange"),this.Iv=t,this.j("scrollHorizontalLineChange",e,t))}),Uh.g(Ue,"scrollVerticalLineChange",Ue.prototype.Qp),Uh.defineProperty(Ue,{Qp:"scrollVerticalLineChange"},function(){return this.Jv},function(t){var e=this.Jv;e!==t&&(Uh.i(t,"number",Ue,"scrollVerticalLineChange"),0>t&&Uh.ka(t,">= 0",Ue,"scrollVerticalLineChange"),this.Jv=t,this.j("scrollVerticalLineChange",e,t))}),Uh.g(Ue,"lastInput",Ue.prototype.P),Uh.defineProperty(Ue,{P:"lastInput"},function(){return this.Sb},function(t){Vh&&Uh.l(t,it,Ue,"lastInput"),this.Sb=t}),Uh.g(Ue,"firstInput",Ue.prototype.xc),Uh.defineProperty(Ue,{xc:"firstInput"},function(){return this.Fk},function(t){Vh&&Uh.l(t,it,Ue,"firstInput"),this.Fk=t}),Uh.g(Ue,"currentCursor",Ue.prototype.Yb),Uh.defineProperty(Ue,{Yb:"currentCursor"},function(){return this.oy},function(t){""===t&&(t=this.Bq),this.oy!==t&&(Uh.i(t,"string",Ue,"currentCursor"),null!==this.mb&&(this.oy=t,this.mb.style.cursor=t,this.Nb.style.cursor=t))}),Uh.g(Ue,"defaultCursor",Ue.prototype.qI),Uh.defineProperty(Ue,{qI:"defaultCursor"},function(){return this.Bq},function(t){""===t&&(t="auto");var e=this.Bq;e!==t&&(Uh.i(t,"string",Ue,"defaultCursor"),this.Bq=t,this.j("defaultCursor",e,t))}),Uh.g(Ue,"hasGestureZoom",Ue.prototype.RI),Uh.defineProperty(Ue,{RI:"hasGestureZoom"},function(){return this.Vn},function(t){var e=this.Vn;e!==t&&(Uh.i(t,"boolean",Ue,"hasGestureZoom"),this.Vn=t,this.j("hasGestureZoom",e,t))}),Uh.g(Ue,"click",Ue.prototype.click),Uh.defineProperty(Ue,{click:"click"},function(){return this.di},function(t){var e=this.di;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"click"),this.di=t,this.j("click",e,t))}),Uh.g(Ue,"doubleClick",Ue.prototype.Pm),Uh.defineProperty(Ue,{Pm:"doubleClick"},function(){return this.ki},function(t){var e=this.ki;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"doubleClick"),this.ki=t,this.j("doubleClick",e,t))}),Uh.g(Ue,"contextClick",Ue.prototype.ft),Uh.defineProperty(Ue,{ft:"contextClick"},function(){return this.fi},function(t){var e=this.fi;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"contextClick"),this.fi=t,this.j("contextClick",e,t))}),Uh.g(Ue,"mouseOver",Ue.prototype.Jt),Uh.defineProperty(Ue,{Jt:"mouseOver"},function(){return this.ui},function(t){var e=this.ui;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"mouseOver"),this.ui=t,this.j("mouseOver",e,t))}),Uh.g(Ue,"mouseHover",Ue.prototype.It),Uh.defineProperty(Ue,{It:"mouseHover"},function(){return this.ti},function(t){var e=this.ti;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"mouseHover"),this.ti=t,this.j("mouseHover",e,t))}),Uh.g(Ue,"mouseHold",Ue.prototype.Ht),Uh.defineProperty(Ue,{Ht:"mouseHold"},function(){return this.si},function(t){var e=this.si;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"mouseHold"),this.si=t,this.j("mouseHold",e,t))}),Uh.g(Ue,"mouseDragOver",Ue.prototype.HF),Uh.defineProperty(Ue,{HF:"mouseDragOver"},function(){return this.wv},function(t){var e=this.wv;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"mouseDragOver"),this.wv=t,this.j("mouseDragOver",e,t))}),Uh.g(Ue,"mouseDrop",Ue.prototype.Gt),Uh.defineProperty(Ue,{Gt:"mouseDrop"},function(){return this.ri},function(t){var e=this.ri;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"mouseDrop"),this.ri=t,this.j("mouseDrop",e,t))}),Uh.g(Ue,"toolTip",Ue.prototype.gu),Uh.defineProperty(Ue,{gu:"toolTip"},function(){return this.Bi},function(t){var e=this.Bi;e!==t&&(null!==t&&Uh.l(t,xr,Ue,"toolTip"),this.Bi=t,this.j("toolTip",e,t))}),Uh.g(Ue,"contextMenu",Ue.prototype.contextMenu),Uh.defineProperty(Ue,{contextMenu:"contextMenu"},function(){return this.gi},function(t){var e=this.gi;e!==t&&(null!==t&&Uh.l(t,xr,Ue,"contextMenu"),this.gi=t,this.j("contextMenu",e,t))}),Uh.g(Ue,"commandHandler",Ue.prototype.zb),Uh.defineProperty(Ue,{zb:"commandHandler"},function(){return this.ey},function(t){var e=this.ey;e!==t&&(Uh.l(t,Et,Ue,"commandHandler"),null!==t.h&&Uh.m("Cannot share CommandHandlers between Diagrams: "+t.toString()),null!==e&&e.Hc(null),this.ey=t,t.Hc(this))}),Uh.g(Ue,"toolManager",Ue.prototype.sb),Uh.defineProperty(Ue,{sb:"toolManager"},function(){return this.xz},function(t){var e=this.xz;e!==t&&(Uh.l(t,De,Ue,"toolManager"),null!==t.h&&Uh.m("Cannot share ToolManagers between Diagrams: "+t.toString()),null!==e&&e.Hc(null),this.xz=t,t.Hc(this))}),Uh.g(Ue,"defaultTool",Ue.prototype.ww),Uh.defineProperty(Ue,{ww:"defaultTool"},function(){return this.vy},function(t){var e=this.vy;e!==t&&(Uh.l(t,Pt,Ue,"defaultTool"),this.vy=t,this.Wa===e&&(this.Wa=t))}),Uh.g(Ue,"currentTool",Ue.prototype.Wa),Uh.defineProperty(Ue,{Wa:"currentTool"},function(){return this.qy},function(t){var e=this.qy;if(null!==e)for(e.qa&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop(),e=this.jm.k;e.next();)e.value.pa();null===t&&(t=this.ww),null!==t&&(Uh.l(t,Pt,Ue,"currentTool"),this.qy=t,t.Hc(this),t.doStart())}),Uh.A(Ue,{selection:"selection"},function(){return this.Mv}),Uh.g(Ue,"maxSelectionCount",Ue.prototype.zF),Uh.defineProperty(Ue,{zF:"maxSelectionCount"},function(){return this.rv},function(t){var e=this.rv;if(e!==t)if(Uh.i(t,"number",Ue,"maxSelectionCount"),t>=0&&!isNaN(t)){if(this.rv=t,this.j("maxSelectionCount",e,t),!this.la.Cb&&(t=this.selection.count-t,t>0)){this.Ba("ChangingSelection");for(var e=this.selection.Ue(),i=0;t>i;i++)e[i].Za=!1;this.Ba("ChangedSelection")}}else Uh.ka(t,">= 0",Ue,"maxSelectionCount")}),Uh.g(Ue,"nodeSelectionAdornmentTemplate",Ue.prototype.MF),Uh.defineProperty(Ue,{MF:"nodeSelectionAdornmentTemplate"},function(){return this.yv},function(t){var e=this.yv;e!==t&&(Uh.l(t,xr,Ue,"nodeSelectionAdornmentTemplate"),this.yv=t,this.j("nodeSelectionAdornmentTemplate",e,t))}),Uh.g(Ue,"groupSelectionAdornmentTemplate",Ue.prototype.SE),Uh.defineProperty(Ue,{SE:"groupSelectionAdornmentTemplate"},function(){return this.Wu},function(t){var e=this.Wu;e!==t&&(Uh.l(t,xr,Ue,"groupSelectionAdornmentTemplate"),this.Wu=t,this.j("groupSelectionAdornmentTemplate",e,t))}),Uh.g(Ue,"linkSelectionAdornmentTemplate",Ue.prototype.wF),Uh.defineProperty(Ue,{wF:"linkSelectionAdornmentTemplate"},function(){return this.mv},function(t){var e=this.mv;e!==t&&(Uh.l(t,xr,Ue,"linkSelectionAdornmentTemplate"),this.mv=t,this.j("linkSelectionAdornmentTemplate",e,t))}),Uh.A(Ue,{Pw:"highlighteds"},function(){return this.$u}),Uh.g(Ue,"isModified",Ue.prototype.gh),Uh.defineProperty(Ue,{gh:"isModified"},function(){var t=this.la;return t.isEnabled?null!==t.Ni?!0:this.Qy&&this.Ug!==t.Ri:this.Qy},function(t){if(this.Qy!==t){Uh.i(t,"boolean",Ue,"isModified"),this.Qy=t;var e=this.la;!t&&e.isEnabled&&(this.Ug=e.Ri),t||Bi(this)}}),Uh.g(Ue,"model",Ue.prototype.ga),Uh.defineProperty(Ue,{ga:"model"},function(){return this.Ud},function(t){var e=this.Ud;if(e!==t){Uh.l(t,rt,Ue,"model"),this.Wa.doCancel(),null!==e&&e.la!==t.la&&e.la.iF&&Uh.m("Do not replace a Diagram.model while a transaction is in progress."),this.Pb.Xi(),this.nw(),this.rf=!1,this.Rn=!0,this.Ug=-2,this.Mf=!1;var i=this.Cd;this.Cd=!0,this.Pb.zl(),null!==e&&(e.RA(this.KC),e instanceof bt&&Ui(this,e.Ui),Ui(this,e.Fg)),this.Ud=t,t.Fz(this.JC),Ii(this,t.Fg),t instanceof bt&&Wi(this,t.Ui),t.RA(this.JC),t.Fz(this.KC),this.Cd=i,this.yc||this.pa(),null!==e&&(t.la.isEnabled=e.la.isEnabled)}}),Uh.defineProperty(Ue,{Pa:null},function(){return this.CC},function(t){this.CC=t}),Uh.g(Ue,"skipsModelSourceBindings",Ue.prototype.du),Uh.defineProperty(Ue,{du:"skipsModelSourceBindings"},function(){return this.iD},function(t){this.iD=t}),Uh.g(Ue,"skipsBoundsUpdates",Ue.prototype.Sp),Uh.defineProperty(Ue,{Sp:null},function(){return this.nz},function(t){this.nz=t}),Ue.prototype.clear=Ue.prototype.clear=function(){var t=null;null!==this.ed&&(t=this.ed.V),this.ga.clear();for(var e=this.dc.length,i=0;e>i;i++)this.dc.q[i].clear();this.fg.clear(),this.Tl.clear(),this.Pr.clear(),this.$k.clear(),this.rr.clear(),this.Hb.clear(),this.hi.clear(),this.Dk.clear(),this.am.clear(),this.Mv.Na(),this.Mv.clear(),this.Mv.freeze(),this.$u.Na(),this.$u.clear(),this.$u.freeze(),eu=this.Cn=null,iu="",this.Ou=new k(NaN,NaN,NaN,NaN).freeze(),null!==t&&(this.add(t),this.Hb.remove(t)),this.pa()},Ue.prototype.reset=Ue.prototype.reset=function(){this.yc=!0,this.clear(),this.dc=new l(Ge),this.aG(),this.$F(),this.Oa=new b(NaN,NaN).freeze(),this.ec=1,this.bv=new b(NaN,NaN).freeze(),this.cv=NaN,this.tv=1e-4,this.qv=100,this.cw=new b(NaN,NaN).freeze(),this.Uu=new k(NaN,NaN,NaN,NaN).freeze(),this.Ml=Du,this.Bn=il,this.Lk=Du,this.Xn=il,this.dv=this.av=nl,this.zu=new M(16,16,16,16).freeze(),this.hv=!0,this.$v=Bu,this.Bq="auto",this.gi=this.Bi=this.ri=this.wv=this.si=this.ti=this.ui=this.fi=this.ki=this.di=null,this.Nk=!1,this.pk=this.ok=this.pu=this.Xe=!0,this.ru=this.qu=!1,this.vu=this.su=this.Zu=this.Yu=this.wu=this.uu=this.xk=this.wk=this.vk=this.uk=this.sk=this.tk=this.rk=this.tu=this.zk=this.qk=this.yk=!0,this.Jv=this.Iv=16,this.$e=new M(5).freeze(),this.rv=999999999,this.Td=null,Ke(this),this.ed=null,this.yi=!0,ti(this),this.Lb=new Ss,this.yi=!1,this.ga=new bt,this.rf=!1,this.Rn=!0,this.yc=this.Mf=!1,this.pa()},Ue.prototype.rebuildParts=Ue.prototype.Al=function(){for(var t=this.kx.k;t.next();){var e=t.value,i=t.key;(!e.Ld()||e instanceof bs)&&Uh.m('Invalid node template in Diagram.nodeTemplateMap: template for "'+i+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.Lw.k;t.next();)e=t.value,i=t.key,e instanceof bs||Uh.m('Invalid group template in Diagram.groupTemplateMap: template for "'+i+'" must be a Group, not a normal Node or Link: '+e);for(t=this.hx.k;t.next();)e=t.value,i=t.key,e instanceof Nr||Uh.m('Invalid link template in Diagram.linkTemplateMap: template for "'+i+'" must be a Link, not a normal Node or simple Part: '+e);for(t=Uh.lb(),e=this.selection.k;e.next();)(i=e.value.data)&&t.push(i);for(var e=Uh.lb(),n=this.Pw.k;n.next();)(i=n.value.data)&&e.push(i);for(i=Uh.lb(),n=this.Gg.k;n.next();){var o=n.value;null!==o.data&&(i.push(o.data),i.push(o.location))}for(n=this.links.k;n.next();)o=n.value,null!==o.data&&(i.push(o.data),i.push(o.location));for(n=this.hk.k;n.next();)o=n.value,null!==o.data&&(i.push(o.data),i.push(o.location));for(n=this.ga,n instanceof bt&&Ui(this,n.Ui),Ui(this,n.Fg),Ii(this,n.Fg),n instanceof bt&&Wi(this,n.Ui),n=0;n<t.length;n++)o=this.Sh(t[n]),null!==o&&(o.Za=!0);for(n=0;n<e.length;n++)o=this.Sh(e[n]),null!==o&&(o.Ag=!0);for(n=0;n<i.length;n+=2)o=this.Sh(i[n]),null!==o&&(o.location=i[n+1]);Uh.xa(t),Uh.xa(e),Uh.xa(i)},Ue.prototype.cA=function(t){return this.ga.cA(t)};var _u=!1,Hu=!1;Ue.prototype.Kw=function(t){var e=this.ga,i="";return e instanceof bt?i=e.Kw(t):e instanceof xt&&(i=e.MI(t)),i};var qu=!1;Ue.prototype.findPartForKey=Ue.prototype.II=function(t){return null===t||void 0===t?null:(t=this.ga.wf(t),null===t?null:this.hi.Aa(t))},Ue.prototype.findNodeForKey=Ue.prototype.cf=function(t){return null===t||void 0===t?null:(t=this.ga.wf(t),null===t?null:(t=this.hi.Aa(t),t instanceof Cr?t:null))},Ue.prototype.findPartForData=Ue.prototype.Sh=function(t){if(null===t)return null;var e=this.hi.Aa(t);return null!==e?e:e=this.Dk.Aa(t)},Ue.prototype.findNodeForData=Ue.prototype.Hw=function(t){return null===t?null:(t=this.hi.Aa(t),t instanceof Cr?t:null)},Ue.prototype.findLinkForData=Ue.prototype.vg=function(t){return null===t?null:this.Dk.Aa(t)},Ue.prototype.findNodesByExample=function(t){for(var e=new c,i=this.Pr.k;i.next();){var n=i.value,o=n.data;if(null!==o)for(var r=0;r<arguments.length;r++){var s=arguments[r];if(Uh.Xa(s)&&Yi(this,o,s)){e.add(n);break}}}return e.k},Ue.prototype.findLinksByExample=function(t){for(var e=new c,i=this.rr.k;i.next();){var n=i.value,o=n.data;if(null!==o)for(var r=0;r<arguments.length;r++){var s=arguments[r];if(Uh.Xa(s)&&Yi(this,o,s)){e.add(n);break}}}return e.k},Uh.g(Ue,"nodeTemplate",Ue.prototype.tJ),Uh.defineProperty(Ue,{tJ:"nodeTemplate"},function(){return this.vi.Aa("")},function(t){var e=this.vi.Aa("");e!==t&&(Uh.l(t,er,Ue,"nodeTemplate"),this.vi.add("",t),this.j("nodeTemplate",e,t),this.la.Cb||this.Al())}),Uh.g(Ue,"nodeTemplateMap",Ue.prototype.kx),Uh.defineProperty(Ue,{kx:"nodeTemplateMap"},function(){return this.vi},function(t){var e=this.vi;e!==t&&(Uh.l(t,v,Ue,"nodeTemplateMap"),this.vi=t,this.j("nodeTemplateMap",e,t),this.la.Cb||this.Al())}),Uh.g(Ue,"groupTemplate",Ue.prototype.QI),Uh.defineProperty(Ue,{QI:"groupTemplate"},function(){return this.Gk.Aa("")},function(t){var e=this.Gk.Aa("");e!==t&&(Uh.l(t,bs,Ue,"groupTemplate"),this.Gk.add("",t),this.j("groupTemplate",e,t),this.la.Cb||this.Al())}),Uh.g(Ue,"groupTemplateMap",Ue.prototype.Lw),Uh.defineProperty(Ue,{Lw:"groupTemplateMap"},function(){return this.Gk},function(t){var e=this.Gk;e!==t&&(Uh.l(t,v,Ue,"groupTemplateMap"),this.Gk=t,this.j("groupTemplateMap",e,t),this.la.Cb||this.Al())}),Uh.g(Ue,"linkTemplate",Ue.prototype.kJ),Uh.defineProperty(Ue,{kJ:"linkTemplate"},function(){return this.rj.Aa("")},function(t){var e=this.rj.Aa("");e!==t&&(Uh.l(t,Nr,Ue,"linkTemplate"),this.rj.add("",t),this.j("linkTemplate",e,t),this.la.Cb||this.Al())}),Uh.g(Ue,"linkTemplateMap",Ue.prototype.hx),Uh.defineProperty(Ue,{hx:"linkTemplateMap"},function(){return this.rj},function(t){var e=this.rj;e!==t&&(Uh.l(t,v,Ue,"linkTemplateMap"),this.rj=t,this.j("linkTemplateMap",e,t),this.la.Cb||this.Al())}),Uh.g(Ue,"isMouseOverDiagram",Ue.prototype.kF),Uh.defineProperty(Ue,{kF:null},function(){return this.Yl},function(t){this.Yl=t}),Uh.g(Ue,"isMouseCaptured",Ue.prototype.se),Uh.defineProperty(Ue,{se:"isMouseCaptured"},function(){return this.yC},function(e){var i=this.mb;null!==i&&(e?(this.P.bubbles=!1,i.removeEventListener("mousemove",this.Bp,!1),i.removeEventListener("mousedown",this.Ap,!1),i.removeEventListener("mouseup",this.Dp,!1),i.removeEventListener("mousewheel",this.hh,!1),i.removeEventListener("DOMMouseScroll",this.hh,!1),i.removeEventListener("mouseout",this.Cp,!1),t.addEventListener("mousemove",this.Bp,!0),t.addEventListener("mousedown",this.Ap,!0),t.addEventListener("mouseup",this.Dp,!0),t.addEventListener("mousewheel",this.hh,!0),t.addEventListener("DOMMouseScroll",this.hh,!0),t.addEventListener("mouseout",this.Cp,!0),t.addEventListener("selectstart",this.preventDefault,!1)):(t.removeEventListener("mousemove",this.Bp,!0),t.removeEventListener("mousedown",this.Ap,!0),t.removeEventListener("mouseup",this.Dp,!0),t.removeEventListener("mousewheel",this.hh,!0),t.removeEventListener("DOMMouseScroll",this.hh,!0),t.removeEventListener("mouseout",this.Cp,!0),t.removeEventListener("selectstart",this.preventDefault,!1),i.addEventListener("mousemove",this.Bp,!1),i.addEventListener("mousedown",this.Ap,!1),i.addEventListener("mouseup",this.Dp,!1),i.addEventListener("mousewheel",this.hh,!1),i.addEventListener("DOMMouseScroll",this.hh,!1),i.addEventListener("mouseout",this.Cp,!1)),this.yC=e)}),Uh.g(Ue,"position",Ue.prototype.position),Uh.defineProperty(Ue,{position:"position"},function(){return this.Oa},function(t){var e=this.Oa;if(!e.L(t)){Uh.l(t,b,Ue,"position");var i=this.tb.copy();if(t=t.copy(),!this.yc&&null!==this.mb){this.yc=!0;var n=this.scale;ri(this,t,this.Jd,this.Fb/n,this.Eb/n,this.Bn,!1),this.yc=!1}this.Oa=t.ba(),t=this.Pb,t.qd&&qe(t,e,this.Oa),this.yc||this.Nt(i,this.tb)}}),Uh.g(Ue,"initialPosition",Ue.prototype.aF),Uh.defineProperty(Ue,{aF:"initialPosition"},function(){return this.bv},function(t){this.bv.L(t)||(Uh.l(t,b,Ue,"initialPosition"),this.bv=t.ba())}),Uh.g(Ue,"initialScale",Ue.prototype.bF),Uh.defineProperty(Ue,{bF:"initialScale"},function(){return this.cv},function(t){this.cv!==t&&(Uh.i(t,"number",Ue,"initialScale"),this.cv=t)}),Uh.g(Ue,"grid",Ue.prototype.ep),Uh.defineProperty(Ue,{ep:"grid"},function(){return null===this.ed&&ei(this),this.ed},function(t){var e=this.ed;if(e!==t){null===e&&(ei(this),e=this.ed),Uh.l(t,io,Ue,"grid"),t.type!==gc&&Uh.m("Diagram.grid must be a Panel of type Panel.Grid");var i=e.U;null!==i&&i.remove(e),this.ed=t,t.name="GRID",null!==i&&i.add(t),Pi(this),this.pa(),this.j("grid",e,t)}}),Uh.A(Ue,{tb:"viewportBounds"},function(){var t=this.GD;if(null===this.mb)return t;var e=this.Oa,i=this.ec;return t.o(e.x,e.y,Math.max(this.Fb,0)/i,Math.max(this.Eb,0)/i),t}),Uh.g(Ue,"fixedBounds",Ue.prototype.Zz),Uh.defineProperty(Ue,{Zz:"fixedBounds"},function(){return this.Uu},function(t){var e=this.Uu;e.L(t)||(Uh.l(t,k,Ue,"fixedBounds"),(Vh&&1/0===t.width||-(1/0)===t.width||1/0===t.height||-(1/0)===t.height)&&Uh.m("fixedBounds width/height must not be Infinity"),this.Uu=t=t.ba(),this.oc(),this.j("fixedBounds",e,t))}),Uh.g(Ue,"scrollMargin",Ue.prototype.aB),Uh.defineProperty(Ue,{aB:"scrollMargin"},function(){return this.lz},function(t){"number"==typeof t?t=new M(t):Uh.l(t,M,Ue,"scrollMargin");var e=this.lz;e.L(t)||(this.lz=t=t.ba(),this.oc(),this.j("scrollMargin",e,t))}),Uh.g(Ue,"scrollMode",Ue.prototype.bB),Uh.defineProperty(Ue,{bB:"scrollMode"},function(){return this.mz},function(t){var e=this.mz;e!==t&&(Uh.za(t,Ue,Ue,"scrollMode"),this.mz=t,t===Iu&&ni(this,!1),this.j("scrollMode",e,t))}),Uh.g(Ue,"positionComputation",Ue.prototype.JA),Uh.defineProperty(Ue,{JA:"positionComputation"},function(){return this.fz},function(t){var e=this.fz;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"positionComputation"),this.fz=t,ni(this,!1),this.j("positionComputation",e,t))}),Uh.g(Ue,"scaleComputation",Ue.prototype.$A),Uh.defineProperty(Ue,{$A:"scaleComputation"},function(){return this.hz},function(t){var e=this.hz;e!==t&&(null!==t&&Uh.i(t,"function",Ue,"scaleComputation"),this.hz=t,Di(this,this.scale,this.scale),this.j("scaleComputation",e,t))}),Uh.A(Ue,{Jd:"documentBounds"},function(){return this.Ou}),Uh.g(Ue,"scale",Ue.prototype.scale),Uh.defineProperty(Ue,{scale:"scale"},function(){return this.ec},function(t){var e=this.ec;Uh.p(t,Ue,"scale"),e!==t&&Di(this,e,t)}),Uh.g(Ue,"autoScale",Ue.prototype.Fm),Uh.defineProperty(Ue,{Fm:"autoScale"},function(){return this.Ml},function(t){var e=this.Ml;e!==t&&(Uh.za(t,Ue,Ue,"autoScale"),this.Ml=t,this.j("autoScale",e,t),t!==Du&&ni(this,!1))}),Uh.g(Ue,"initialAutoScale",Ue.prototype.UI),Uh.defineProperty(Ue,{UI:"initialAutoScale"},function(){return this.Lk},function(t){var e=this.Lk;e!==t&&(Uh.za(t,Ue,Ue,"initialAutoScale"),this.Lk=t,this.j("initialAutoScale",e,t))}),Uh.g(Ue,"initialViewportSpot",Ue.prototype.cF),Uh.defineProperty(Ue,{cF:"initialViewportSpot"},function(){return this.dv},function(t){var e=this.dv;e!==t&&(Uh.l(t,P,Ue,"initialViewportSpot"),t.kd()||Uh.m("initialViewportSpot must be a real Spot: "+t),this.dv=t,this.j("initialViewportSpot",e,t))}),Uh.g(Ue,"initialDocumentSpot",Ue.prototype.$E),Uh.defineProperty(Ue,{$E:"initialDocumentSpot"},function(){return this.av},function(t){var e=this.av;e!==t&&(Uh.l(t,P,Ue,"initialDocumentSpot"),t.kd()||Uh.m("initialViewportSpot must be a real Spot: "+t),this.av=t,this.j("initialDocumentSpot",e,t))}),Uh.g(Ue,"minScale",Ue.prototype.Dg),Uh.defineProperty(Ue,{Dg:"minScale"},function(){return this.tv},function(t){Uh.p(t,Ue,"minScale");var e=this.tv;e!==t&&(t>0?(this.tv=t,this.j("minScale",e,t),t>this.scale&&(this.scale=t)):Uh.ka(t,"> 0",Ue,"minScale"))}),Uh.g(Ue,"maxScale",Ue.prototype.Cg),Uh.defineProperty(Ue,{Cg:"maxScale"},function(){return this.qv},function(t){Uh.p(t,Ue,"maxScale");var e=this.qv;e!==t&&(t>0?(this.qv=t,this.j("maxScale",e,t),t<this.scale&&(this.scale=t)):Uh.ka(t,"> 0",Ue,"maxScale"))}),Uh.g(Ue,"zoomPoint",Ue.prototype.Ll),Uh.defineProperty(Ue,{Ll:"zoomPoint"},function(){return this.cw},function(t){this.cw.L(t)||(Uh.l(t,b,Ue,"zoomPoint"),this.cw=t=t.ba())}),Uh.g(Ue,"contentAlignment",Ue.prototype.qw),Uh.defineProperty(Ue,{qw:"contentAlignment"},function(){return this.Bn},function(t){var e=this.Bn;e.L(t)||(Uh.l(t,P,Ue,"contentAlignment"),this.Bn=t=t.ba(),this.j("contentAlignment",e,t),ni(this,!1))}),Uh.g(Ue,"initialContentAlignment",Ue.prototype.VI),Uh.defineProperty(Ue,{VI:"initialContentAlignment"},function(){return this.Xn},function(t){var e=this.Xn;e.L(t)||(Uh.l(t,P,Ue,"initialContentAlignment"),this.Xn=t=t.ba(),this.j("initialContentAlignment",e,t))}),Uh.g(Ue,"padding",Ue.prototype.padding),Uh.defineProperty(Ue,{padding:"padding"},function(){return this.$e},function(t){"number"==typeof t?t=new M(t):Uh.l(t,M,Ue,"padding");var e=this.$e;e.L(t)||(this.$e=t=t.ba(),this.oc(),this.j("padding",e,t))}),Uh.A(Ue,{Gg:"nodes"},function(){return this.Pr.k}),Uh.A(Ue,{links:"links"},function(){return this.rr.k}),Uh.A(Ue,{hk:"parts"},function(){return this.Hb.k}),Ue.prototype.findTopLevelGroups=function(){return this.$k.k},Uh.g(Ue,"layout",Ue.prototype.Lb),Uh.defineProperty(Ue,{Lb:"layout"},function(){return this.Td},function(t){var e=this.Td;e!==t&&(Uh.l(t,Ss,Ue,"layout"),null!==e&&(e.h=null,e.group=null),this.Td=t,t.h=this,t.group=null,this.xu=!0,this.j("layout",e,t),this.Se())}),Ue.prototype.layoutDiagram=function(t){yi(this),t&&Qi(this,!0),tn(this,!1)},Uh.g(Ue,"isTreePathToChildren",Ue.prototype.ld),Uh.defineProperty(Ue,{ld:"isTreePathToChildren"},function(){return this.hv},function(t){var e=this.hv;if(e!==t&&(Uh.i(t,"boolean",Ue,"isTreePathToChildren"),this.hv=t,this.j("isTreePathToChildren",e,t),!this.la.Cb))for(t=this.Gg;t.next();)Er(t.value)}),Ue.prototype.findTreeRoots=function(){for(var t=new l(Cr),e=this.Gg;e.next();){var i=e.value;i.Yw&&null===i.pt()&&t.add(i)}return t.k},Uh.g(Ue,"isCollapsingExpanding",Ue.prototype.de),Uh.defineProperty(Ue,{de:null},function(){return this.qC},function(t){this.qC=t}),Ue.prototype.addDiagramListener=Ue.prototype.Gz=function(t,e){Uh.i(t,"string",Ue,"addDiagramListener:name"),Uh.i(e,"function",Ue,"addDiagramListener:listener");var i=rn(this,t);null!==i&&i.add(e)},Ue.prototype.removeDiagramListener=Ue.prototype.WF=function(t,e){Uh.i(t,"string",Ue,"removeDiagramListener:name"),Uh.i(e,"function",Ue,"addDiagramListener:listener");var i=rn(this,t);null!==i&&i.remove(e)},Ue.prototype.raiseDiagramEvent=Ue.prototype.Ba=function(t,e,i){Vh&&Uh.i(t,"string",Ue,"raiseDiagramEvent:name");var n=rn(this,t),o=new nt;if(o.h=this,o.name=on(this,t),void 0!==e&&(o.Fx=e),void 0!==i&&(o.sx=i),t=n.length,1===t)(n=n.na(0))(o);else if(0!==t)for(e=n.Ue(),i=0;t>i;i++)(n=e[i])(o);return o.cancel},Ue.prototype.isUnoccupied=Ue.prototype.mp=function(t,e){return void 0===e&&(e=null),an(this,!1,null,e).mp(t.x,t.y,t.width,t.height)},Ue.prototype.simulatedMouseMove=Ue.prototype.Bx=function(t,e,i){if(null!==ou){var n=ou.h;i instanceof Ue||(i=null);var o=ru;return i!==o&&(null!==o&&o!==n&&null!==o.sb.vd&&(fn(o),ou.yt=!1,o.sb.vd.doSimulatedDragLeave()),ru=i,null!==i&&i!==n&&null!==i.sb.vd&&(jt(),o=i.sb.vd,nu.contains(o)||nu.add(o),i.sb.vd.doSimulatedDragEnter())),null!==i&&i!==n&&i.Iz&&!i.hb&&i.Bm?(n=i.sb.vd,null!==n&&(null!==t?e=i.Mq(t):null===e&&(e=new b),i.Sb.fa=e,i.Sb.ak=!1,i.Sb.up=!1,n.doSimulatedDragOver()),!0):!1}return!1},Ue.prototype.simulatedMouseUp=Ue.prototype.yG=function(t,e,i,n){if(null!==ou){null===n&&(n=e),e=ru;var o=ou.h;if(n!==e){if(null!==e&&e!==o&&null!==e.sb.vd)return fn(e),ou.yt=!1,e.sb.vd.doSimulatedDragLeave(),!1;ru=n,null!==n&&null!==n.sb.vd&&(jt(),e=n.sb.vd,nu.contains(e)||nu.add(e),n.sb.vd.doSimulatedDragEnter())}if(null===n)return ou.doCancel(),!0;if(n!==this)return null!==t&&(i=n.Mq(t)),n.Sb.fa=i,n.Sb.ak=!1,n.Sb.up=!0,t=n.sb.vd,null!==t&&t.doSimulatedDrop(),t=ou,null!==t&&(n=t.mayCopy(),t.mf=n?"Copy":"Move",t.stopTool()),!0}return!1},Uh.g(Ue,"autoScrollRegion",Ue.prototype.TD),Uh.defineProperty(Ue,{TD:"autoScrollRegion"},function(){return this.zu},function(t){"number"==typeof t?t=new M(t):Uh.l(t,M,Ue,"autoScrollRegion");var e=this.zu;e.L(t)||(this.zu=t=t.ba(),this.oc(),this.j("autoScrollRegion",e,t))}),Ue.prototype.makeSVG=Ue.prototype.makeSvg=function(t){return void 0===t&&(t=new n),t.context="svg",t=pn(this,t),null!==t?t.Gl:null},Ue.prototype.makeImage=function(t){void 0===t&&(t=new n);var e=(t.document||document).createElement("img");return e.src=this.lJ(t),e},Ue.prototype.makeImageData=Ue.prototype.lJ=function(t){void 0===t&&(t=new n);var e=pn(this,t);return null!==e?e.toDataURL(t.type,t.details):""};var Wu=!1;Ue.inherit=function(t,e){Uh.i(t,"function",Ue,"inherit"),Uh.i(e,"function",Ue,"inherit"),e.wH&&Uh.m("Cannot inherit from "+Uh.yg(e)),Uh.Ia(t,e)},gn.prototype.Kl=function(t){return t.Sg.setTransform(t.tf,0,0,t.tf,0,0),null===this.wh&&mn(this,!0),0<this.wh&&this!==this.xH?!0:!1},gn.prototype.t=function(){this.xH=null},Uh.Ia(yn,Ue),Uh.ja("Palette",yn),Uh.Ia(bn,Ue),Uh.ja("Overview",bn),bn.prototype.computePixelRatio=function(){return 1},bn.prototype.bf=function(){if(null===this.Nb&&Uh.m("No div specified"),null===this.mb&&Uh.m("No canvas specified"),this.Sd){var t=this.Bj;if(null!==t&&!t.Pb.fh&&!t.Pb.qd){if(!this.nH){var e=t.sb.vd;if(null!==e&&e.qa)return}e=t.ep,(null!==e&&e.visible&&isNaN(e.width)||isNaN(e.height))&&Pi(t);var i=this.mb,e=this.Sg,n=this.sz,o=this.yH;n.width=i.width,n.height=i.height,e.nu="",e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.mb.width,this.mb.height);var r=this.Yd;r.reset(),1!==this.ec&&r.scale(this.scale),0===this.position.x&&0===this.position.y||r.translate(-this.Oa.x,-this.Oa.y),e.setTransform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy);for(var r=this.Ru,s=this.tb,a=t.dc.q,h=a.length,t=0;h>t;t++){var l=a[t],u=e,c=s,f=r;if(void 0===f&&(f=!0),f||!l.Ac)for(var f=this.scale,l=l.Hb.q,d=l.length,p=0;d>p;p++){var g=l[p],m=g.ea;m.zg(c)&&(1<m.width*f||1<m.height*f?g.bf(u,this):ur(g,u))}}for(o.drawImage(i.Kd,0,0),Vh&&Vh.Pz&&(o.fillStyle="red",o.fillRect(0,n.height/2,n.width,4)),i=this.dc.q,n=i.length,t=0;n>t;t++)i[t].bf(e,this);this.Sd=this.Mk=!1}}},Uh.g(bn,"observed",bn.prototype.lx),Uh.defineProperty(bn,{lx:"observed"},function(){return this.Bj},function(t){var e=this.Bj;null!==t&&Uh.l(t,Ue,bn,"observed"),t instanceof bn&&Uh.m("Overview.observed Diagram may not be an Overview itself: "+t),e!==t&&(null!==e&&(this.remove(this.Of),e.WF("ViewportBoundsChanged",this.OF),e.WF("DocumentBoundsChanged",this.NF),e.jm.remove(this)),this.Bj=t,null!==t&&(t.Gz("ViewportBoundsChanged",this.OF),t.Gz("DocumentBoundsChanged",this.NF),t.jm.add(this),this.add(this.Of),xn(this)),this.oc(),this.j("observed",e,t))}),Uh.g(bn,"box",bn.prototype.Of),Uh.defineProperty(bn,{Of:"box"},function(){return this.Ol},function(t){var e=this.Ol;e!==t&&(this.Ol=t,this.remove(e),this.add(this.Ol),xn(this),this.j("box",e,t))}),Uh.g(bn,"drawsTemporaryLayers",bn.prototype.FI),Uh.defineProperty(bn,{FI:"drawsTemporaryLayers"},function(){return this.Ru},function(t){this.Ru!==t&&(this.Ru=t,this.PA())}),bn.prototype.tg=function(){var t=this.Bj;return null===t?Bl.gH:t.Jd},bn.prototype.kA=function(){!0!==this.Sd&&(this.Sd=!0,wn(this))},bn.prototype.Nt=function(t){this.yc||(Si(this),this.pa(),Ai(this),this.oc(),xn(this),this.Ba("ViewportBoundsChanged",null,t))},Uh.Ia(Cn,Bt),Cn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.h;if(null===t||!t.Gi||!t.Ee)return!1;var e=t.lx;if(null===e)return!1;if(null===this.findDraggablePart()){var i=e.tb;this.Uk=new b(i.width/2,i.height/2),t=t.xc.fa,e.position=new b(t.x-this.Uk.x,t.y-this.Uk.y)}return!0},Cn.prototype.doActivate=function(){this.Uk=null,Bt.prototype.doActivate.call(this)},Cn.prototype.moveParts=function(){var t=this.h,e=t.lx;if(null!==e){var i=t.Of;if(null!==i){if(null===this.Uk){var n=t.xc.fa,i=i.location;this.Uk=new b(n.x-i.x,n.y-i.y)}t=t.P.fa,e.position=new b(t.x-this.Uk.x,t.y-this.Uk.y)}}},Uh.Ia(kn,me),kn.prototype.resize=function(t){var e=this.h.lx;if(null!==e){var i=e.tb.copy();e.position=t.position,(i.width!==t.width||i.height!==t.height)&&0<t.width&&0<t.height&&(e.scale=Math.min(i.width/t.width,i.height/t.height))}},Uh.ja("Brush",An);var Gu;An.Solid=Gu=Uh.w(An,"Solid",0);var Vu;An.Linear=Vu=Uh.w(An,"Linear",1);var Uu;An.Radial=Uu=Uh.w(An,"Radial",2);var Ku;An.Pattern=Ku=Uh.w(An,"Pattern",4),An.prototype.copy=function(){var t=new An;return t.ha=this.ha,t.An=this.An,t.vo=this.vo.ba(),t.Pn=this.Pn.ba(),t.Qv=this.Qv,t.Su=this.Su,null!==this.Qg&&(t.Qg=this.Qg.copy()),t.Ev=this.Ev,t},An.prototype.Ma=function(){return this.freeze(),Object.freeze(this),this},An.prototype.freeze=function(){return this.Qa=!0,null!==this.Qg&&this.Qg.freeze(),this},An.prototype.Na=function(){return Object.isFrozen(this)&&Uh.m("cannot thaw constant: "+this),
this.Qa=!1,null!==this.Qg&&this.Qg.Na(),this},An.prototype.toString=function(){var t="Brush(";if(this.type===Gu)t+=this.color;else if(t=this.type===Vu?t+"Linear ":this.type===Uu?t+"Radial ":this.type===Ku?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.Oo)for(var e=this.Oo.k;e.next();)t+=" "+e.key+":"+e.value;return t+")"},An.prototype.addColorStop=An.prototype.addColorStop=function(t,e){Uh.N(this),("number"!=typeof t||!isFinite(t)||t>1||0>t)&&Uh.ka(t,"0 <= loc <= 1",An,"addColorStop:loc"),Uh.i(e,"string",An,"addColorStop:color"),null===this.Qg&&(this.Qg=new v("number","string")),this.Qg.add(t,e),this.ha===Gu&&(this.type=Vu),this.Rg=null},Uh.g(An,"type",An.prototype.type),Uh.defineProperty(An,{type:"type"},function(){return this.ha},function(t){Uh.N(this,t),Uh.za(t,An,An,"type"),this.ha=t,this.start.te()&&(t===Vu?this.start=ol:t===Uu&&(this.start=al)),this.end.te()&&(t===Vu?this.end=ul:t===Uu&&(this.end=al)),this.Rg=null}),Uh.g(An,"color",An.prototype.color),Uh.defineProperty(An,{color:"color"},function(){return this.An},function(t){Uh.N(this,t),Uh.i(t,"string",An,"color"),this.An=t,this.Rg=null}),Uh.g(An,"start",An.prototype.start),Uh.defineProperty(An,{start:"start"},function(){return this.vo},function(t){Uh.N(this,t),Uh.l(t,P,An,"start"),this.vo=t.ba(),this.Rg=null}),Uh.g(An,"end",An.prototype.end),Uh.defineProperty(An,{end:"end"},function(){return this.Pn},function(t){Uh.N(this,t),Uh.l(t,P,An,"end"),this.Pn=t.ba(),this.Rg=null}),Uh.g(An,"startRadius",An.prototype.Up),Uh.defineProperty(An,{Up:"startRadius"},function(){return this.Qv},function(t){Uh.N(this,t),Uh.p(t,An,"startRadius"),0>t&&Uh.ka(t,">= zero",An,"startRadius"),this.Qv=t,this.Rg=null}),Uh.g(An,"endRadius",An.prototype.Uo),Uh.defineProperty(An,{Uo:"endRadius"},function(){return this.Su},function(t){Uh.N(this,t),Uh.p(t,An,"endRadius"),0>t&&Uh.ka(t,">= zero",An,"endRadius"),this.Su=t,this.Rg=null}),Uh.g(An,"colorStops",An.prototype.Oo),Uh.defineProperty(An,{Oo:"colorStops"},function(){return this.Qg},function(t){Uh.N(this,t),Vh&&Uh.l(t,v,An,"colorStops"),this.Qg=t,this.Rg=null}),Uh.g(An,"pattern",An.prototype.pattern),Uh.defineProperty(An,{pattern:"pattern"},function(){return this.Ev},function(t){Uh.N(this,t),this.Ev=t,this.Rg=null}),An.randomColor=function(t,e){void 0===t&&(t=128),Vh&&(Uh.p(t,An,"randomColor:min"),(0>t||t>255)&&Uh.ka(t,"0 <= min <= 255",An,"randomColor:min")),void 0===e&&(e=Math.max(t,255)),Vh&&(Uh.p(e,An,"randomColor:max"),(t>e||e>255)&&Uh.ka(e,"min <= max <= 255",An,"randomColor:max"));var i=Math.abs(e-t),n=Math.floor(t+Math.random()*i).toString(16),o=Math.floor(t+Math.random()*i).toString(16),i=Math.floor(t+Math.random()*i).toString(16);return 2>n.length&&(n="0"+n),2>o.length&&(o="0"+o),2>i.length&&(i="0"+i),"#"+n+o+i};var Yu,Ju=Uh.createElement("canvas").getContext("2d");An.isValidColor=Yu=function(t){if("black"===t)return!0;if(""===t)return!1;Vh&&Uh.i(t,"string",An,"isValidColor"),Ju.fillStyle="#000000";var e=Ju.fillStyle;return Ju.fillStyle=t,Ju.fillStyle!==e?!0:(Ju.fillStyle="#FFFFFF",e=Ju.fillStyle,Ju.fillStyle=t,Ju.fillStyle!==e)},Uh.Ph(Sn),Uh.ja("GraphObject",Sn),Sn.prototype.cloneProtected=function(t){if(t.ia=6144|this.ia,t.Kf=this.Kf,t.Xb=this.Xb,t.Mb=this.Mb,t.tc=this.tc,t.Oa.assign(this.Oa),t.pf.assign(this.pf),t.xj=this.xj.ba(),t.vj=this.vj.ba(),t.Qk=this.Qk.copy(),t.ec=this.ec,t.vn=this.vn,t.Kh=this.Kh,t.ur=this.ur.ba(),t.Tc.assign(this.Tc),t.bc.assign(this.bc),t.Kc.assign(this.Kc),t.Zr=this.Zr,t.S=null!==this.S?this.S.copy():null,t.Iq=this.Iq,t.Jq=this.Jq,t.Is=this.Is,t.Js=this.Js,t.xe=this.xe.ba(),t.hq=this.hq.ba(),t.ns=this.ns,t.Dj=this.Dj,t.oq=this.oq,t.fj=this.fj,t.rs=this.rs,t.qs=this.qs,t.ss=this.ss.ba(),t.ts=this.ts,t.vq=this.vq,t.R=null!==this.R?this.R.copy():null,t.Jc=this.Jc,t.xn=this.xn,null!==this.Ql){t.Ql=Uh.il(this.Ql);for(var e=0;e<this.Ql.length;e++){var i=this.Ql[e];t[i]=this[i]}}null!==this.ei&&(t.ei=this.ei.copy())},Sn.prototype.Qh=function(t){t.$r=null,t.lm=null,t.T()},Sn.prototype.clone=function(){var t=new this.constructor;return this.cloneProtected(t),t},Sn.prototype.copy=function(){return this.clone()},Sn.prototype.toString=function(){return Uh.yg(Object.getPrototypeOf(this))+"#"+Uh.Yc(this)};var Xu;Sn.None=Xu=Uh.w(Sn,"None",0);var Qu;Sn.Default=Qu=Uh.w(Sn,"Default",0);var Zu;Sn.Vertical=Zu=Uh.w(Sn,"Vertical",4);var tc;Sn.Horizontal=tc=Uh.w(Sn,"Horizontal",5);var ec;Sn.Fill=ec=Uh.w(Sn,"Fill",3);var ic;Sn.Uniform=ic=Uh.w(Sn,"Uniform",1);var nc;Sn.UniformToFill=nc=Uh.w(Sn,"UniformToFill",2),Sn.prototype.Oe=function(){var t=new ys;t.mj=el,t.Nj=el,t.kj=10,t.Lj=10,t.jj=Yc,t.Kj=Yc,t.lj=0,t.Mj=0,this.S=t},Sn.prototype.raiseChangedEvent=Sn.prototype.Gc=function(t,e,i,n,o,r,s){var a=this.V;null!==a&&(a.fn(t,e,i,n,o,r,s),0!==(1024&this.ia)&&i===this&&t===Kl&&Tn(this,a,e))},Sn.prototype.Fw=function(t){return this.xn===t?this:null},Sn.prototype.raiseChanged=Sn.prototype.j=function(t,e,i){this.Gc(Kl,t,this,e,i)},Sn.prototype.HE=function(t,e,i){if(!1===this.Cf)return!1;var n=this.Ka;e=t.Zj(e);var o=!1;return i&&(o=Jh(t.x,t.y,0,0,0,n.height)<e||Jh(t.x,t.y,0,n.height,n.width,n.height)<e||Jh(t.x,t.y,n.width,n.height,n.width,0)<e||Jh(t.x,t.y,n.width,0,0,0)<e),i||(o=Jh(t.x,t.y,0,0,0,n.height)<e&&Jh(t.x,t.y,0,n.height,n.width,n.height)<e&&Jh(t.x,t.y,n.width,n.height,n.width,0)<e&&Jh(t.x,t.y,n.width,0,0,0)<e),o},Sn.prototype.bg=function(){return!0},Sn.prototype.containsPoint=Sn.prototype.Da=function(t){Vh&&Uh.l(t,b,Sn,"containsPoint:p");var e=Uh.M();e.assign(t),this.transform.fb(e);var i=this.ea;if(!i.J())return!1;var n=this.h;if(null!==n&&n.Sy){var o=n.dA("extraTouchThreshold"),r=n.dA("extraTouchArea"),s=r/2,a=this.Ka,n=this.Qi()*n.scale,h=1/n;if(a.width*n<o&&a.height*n<o)return t=Zh(i.x-s*h,i.y-s*h,i.width+r*h,i.height+r*h,e.x,e.y),Uh.B(e),t}return(this instanceof xr||this instanceof Fo?Zh(i.x-5,i.y-5,i.width+10,i.height+10,e.x,e.y):i.Da(e))?this.ei&&!this.ei.Da(e)?!1:null!==this.tc&&i.Da(e)||null!==this.Mb&&this.Kc.Da(t)?!0:(Uh.B(e),this.Uj(t)):(Uh.B(e),!1)},Sn.prototype.Uj=function(t){var e=this.Ka;return Zh(0,0,e.width,e.height,t.x,t.y)},Sn.prototype.containsRect=Sn.prototype.Vj=function(t){if(Vh&&Uh.l(t,k,Sn,"containsRect:r"),0===this.angle)return this.ea.Vj(t);var e=this.Ka,e=Uh.lk(0,0,e.width,e.height),i=this.transform,n=!1,o=Uh.ic(t.x,t.y);return e.Da(i.Th(o))&&(o.o(t.x,t.bottom),e.Da(i.Th(o))&&(o.o(t.right,t.bottom),e.Da(i.Th(o))&&(o.o(t.right,t.y),e.Da(i.Th(o))&&(n=!0)))),Uh.B(o),Uh.nc(e),n},Sn.prototype.containedInRect=Sn.prototype.Lm=function(t,e){if(Vh&&Uh.l(t,k,Sn,"containedInRect:r"),void 0===e)return t.Vj(this.ea);var i=this.Ka,n=!1,o=Uh.ic(0,0);return t.Da(e.fb(o))&&(o.o(0,i.height),t.Da(e.fb(o))&&(o.o(i.width,i.height),t.Da(e.fb(o))&&(o.o(i.width,0),t.Da(e.fb(o))&&(n=!0)))),n},Sn.prototype.intersectsRect=Sn.prototype.zg=function(t,e){if(Vh&&Uh.l(t,k,Sn,"intersectsRect:r"),void 0===e&&(e=this.transform,0===this.angle))return t.zg(this.ea);var i=this.Ka,n=e,o=Uh.ic(0,0),r=Uh.ic(0,i.height),s=Uh.ic(i.width,i.height),a=Uh.ic(i.width,0),h=!1;if(t.Da(n.fb(o))||t.Da(n.fb(r))||t.Da(n.fb(s))||t.Da(n.fb(a)))h=!0;else{var i=Uh.lk(0,0,i.width,i.height),l=Uh.ic(t.x,t.y);i.Da(n.Th(l))?h=!0:(l.o(t.x,t.bottom),i.Da(n.Th(l))?h=!0:(l.o(t.right,t.bottom),i.Da(n.Th(l))?h=!0:(l.o(t.right,t.y),i.Da(n.Th(l))&&(h=!0)))),Uh.B(l),Uh.nc(i),!h&&(Bl.Rw(t,o,r)||Bl.Rw(t,r,s)||Bl.Rw(t,s,a)||Bl.Rw(t,a,o))&&(h=!0)}return Uh.B(o),Uh.B(r),Uh.B(s),Uh.B(a),h},Sn.prototype.getDocumentPoint=Sn.prototype.qb=function(t,e){void 0===e&&(e=new b),t.te()&&Uh.m("getDocumentPoint:s Spot must be real: "+t.toString());var i=this.Ka;return e.o(t.x*i.width+t.offsetX,t.y*i.height+t.offsetY),this.Nf.fb(e),e},Sn.prototype.getDocumentAngle=Sn.prototype.ml=function(){var t=this.Nf,t=180/Math.PI*Math.atan2(t.m12,t.m11);return 0>t&&(t+=360),t},Sn.prototype.getDocumentScale=Sn.prototype.Qi=function(){if(0!==(4096&this.ia)==!1)return this.Pu;var t=this.ec;return null!==this.U?t*this.U.Qi():t},Sn.prototype.getLocalPoint=Sn.prototype.OE=function(t,e){return void 0===e&&(e=new b),e.assign(t),this.Nf.Th(e),e},Sn.prototype.getNearestIntersectionPoint=Sn.prototype.pl=function(t,e,i){return this.dp(t.x,t.y,e.x,e.y,i)},Wh=Sn.prototype,Wh.dp=function(t,e,i,n,o){var r=this.transform,s=1/(r.m11*r.m22-r.m12*r.m21),a=r.m22*s,h=-r.m12*s,l=-r.m21*s,u=r.m11*s,c=s*(r.m21*r.dy-r.m22*r.dx),f=s*(r.m12*r.dx-r.m11*r.dy);return null!==this.el?(r=this.ea,Bl.pl(r.left,r.top,r.right,r.bottom,t,e,i,n,o)):(s=t*a+e*l+c,t=t*h+e*u+f,e=i*a+n*l+c,i=i*h+n*u+f,o.o(0,0),n=this.Ka,i=Bl.pl(0,0,n.width,n.height,s,t,e,i,o),o.transform(r),i)},Wh.Fc=function(t,e,i,n,o){this.Vg();var r=Uh.$f();if(r.assign(this.bc),this.bc.Na(),!1===Yn(this)){var s=this.bc;s.x=t,s.y=e,s.width=i,s.height=n}else this.Hi(t,e,i,n);this.bc.freeze(),this.ei=void 0===o?null:o,i=!1,void 0!==o?i=!0:null!==this.U&&(o=this.U.Kc,n=this.Fa,null!==this.el&&(n=this.bc),i=e+n.height,n=t+n.width,i=!(t+.05>=0&&n<=o.width+.05&&e+.05>=0&&i<=o.height+.05),this instanceof $o&&(t=this.Kc,this.pv>t.height||this.oj.Ze>t.width))&&(i=!0),this.ia=i?256|this.ia:-257&this.ia,this.bc.J()||Uh.m("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.bc.toString()),this.nx(r,this.bc),Uh.nc(r)},Wh.Hi=function(){},Wh.nx=function(){Jn(this,!1);var t=this.V;null!==t&&null!==t.h&&(t.rl(),this.zv(t),this.pa(),t=this.V,null!==t&&(t.$t!==this&&t.eG!==this&&t.hG!==this||pr(t,!0)))},Wh.zv=function(t){null!==this.xd&&pr(t,!0)},Wh.bf=function(t,e){if(this.visible){var i=this.opacity,n=1;if(1!==i){if(0===i)return;n=t.globalAlpha,t.globalAlpha=n*i}if(t instanceof O){t:if(this.visible){var o=null,r=t.$w;if(this instanceof io&&(this.type===fc||this.type===dc))Bn(this,t,e);else{var s=this.bc;if(0!==s.width&&0!==s.height&&!isNaN(s.x)&&!isNaN(s.y)){var a=this.transform,h=this.U;0!==(4096&this.ia)==!0&&On(this);var l=0!==(256&this.ia),u=!1;if(this instanceof $o&&Ro(this,t),l){if(u=h.bg()?h.Ka:h.ea,this.ei)var c=this.ei,f=c.x,d=c.y,p=c.width,c=c.height;else f=Math.max(s.x,u.x),d=Math.max(s.y,u.y),p=Math.min(s.right,u.right)-f,c=Math.min(s.bottom,u.bottom)-d;if(f>s.width+s.x||s.x>u.width+u.x||d>s.height+s.y||s.y>u.height+u.y)break t;u=!0,W(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(f,d,p,c),t.clip()}if(f=!1,this instanceof er&&(f=!0,!this.Ja()))break t;if(d=!1,p=e.Fh,this.V&&p.drawShadows&&(d=this.V.Ti),t.Oi.jf=[1,0,0,1,0,0],null!==this.tc&&(Rn(this,t,this.tc,!0,!0),this.tc instanceof An&&this.tc.type===Uu?(t.beginPath(),t.rect(s.x,s.y,s.width,s.height),Nn(t,this.tc)):t.fillRect(s.x,s.y,s.width,s.height)),f&&this.Ti&&p.drawShadows&&(W(t,1,0,0,1,0,0),s=this.um,t.shadowOffsetX=s.x,t.shadowOffsetY=s.y,t.shadowColor=this.tm,t.shadowBlur=this.sm/e.scale,t.eb()),this instanceof io?W(t,a.m11,a.m12,a.m21,a.m22,a.dx,a.dy):t.Oi.jf=[a.m11,a.m12,a.m21,a.m22,a.dx,a.dy],null!==this.Mb){var c=this.Ka,s=a=0,p=c.width,c=c.height,g=0;this instanceof Fo&&(c=this.Ta.kb,a=c.x,s=c.y,p=c.width,c=c.height,g=this.dh),Rn(this,t,this.Mb,!0,!1),this.Mb instanceof An&&this.Mb.type===Uu?(t.beginPath(),t.rect(a-g/2,s-g/2,p+g,c+g),Nn(t,this.Mb)):t.fillRect(a-g/2,s-g/2,p+g,c+g)}p=s=a=0,d&&(null!==this.Mb||null!==this.tc||null!==h&&0!==(512&h.ia)||null!==h&&h.type===uc&&h.Qf()!==this)?(qn(this,!0),a=t.shadowOffsetX,s=t.shadowOffsetY,p=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0):qn(this,!1),this.bk(t,e),d&&0!==(512&this.ia)==!0&&(t.shadowOffsetX=a,t.shadowOffsetY=s,t.shadowBlur=p),f&&d&&(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),l&&(t.restore(),u&&t.xf.pop(),Ze(e,t)),this instanceof io&&(o=t.xf.pop()),f&&d&&t.xf.pop(),null!==t.DE&&(null===o&&(r===t.$w?(W(t,1,0,0,1,0,0),o=t.xf.pop()):o=t.$w),t.DE(this,o))}}}}else{if(this instanceof io&&(this.type===fc||this.type===dc))return Bn(this,t,e),void(1!==i&&(t.globalAlpha=n));if(f=this.bc,0!==f.width&&0!==f.height&&!isNaN(f.x)&&!isNaN(f.y)){if(o=this.transform,r=this.U,0!==(4096&this.ia)==!0&&On(this),h=0!==(256&this.ia),this instanceof $o&&Ro(this,t),h){if(Vh&&Vh.EI&&Uh.trace("clip"+this.toString()),l=r.bg()?r.Ka:r.ea,this.ei?(s=this.ei,u=s.x,d=s.y,a=s.width,s=s.height):(u=Math.max(f.x,l.x),d=Math.max(f.y,l.y),a=Math.min(f.right,l.right)-u,s=Math.min(f.bottom,l.bottom)-d),u>f.width+f.x||f.x>l.width+l.x||d>f.height+f.y||f.y>l.height+l.y)return void(1!==i&&(t.globalAlpha=n));t.save(),t.beginPath(),t.rect(u,d,a,s),t.clip()}if(d=e.Fh,l=!1,this instanceof er){if(l=!0,!this.Ja())return void(1!==i&&(t.globalAlpha=n));this.Ti&&d.drawShadows&&(u=this.um,t.shadowOffsetX=u.x*e.scale*e.tf,t.shadowOffsetY=u.y*e.scale*e.tf,t.shadowColor=this.tm,t.shadowBlur=this.sm)}u=!1,this.V&&d.drawShadows&&(u=this.V.Ti),null!==this.tc&&(Rn(this,t,this.tc,!0,!0),this.tc instanceof An&&this.tc.type===Uu?(t.beginPath(),t.rect(f.x,f.y,f.width,f.height),Nn(t,this.tc)):t.fillRect(f.x,f.y,f.width,f.height)),o.zt()||t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),null!==this.Mb&&(s=this.Ka,d=f=0,a=s.width,s=s.height,p=0,this instanceof Fo&&(s=this.Ta.kb,f=s.x,d=s.y,a=s.width,s=s.height,p=this.dh),Rn(this,t,this.Mb,!0,!1),this.Mb instanceof An&&this.Mb.type===Uu?(t.beginPath(),t.rect(f-p/2,d-p/2,a+p,s+p),Nn(t,this.Mb)):t.fillRect(f-p/2,d-p/2,a+p,s+p)),a=d=f=0,u&&(null!==this.Mb||null!==this.tc||null!==r&&0!==(512&r.ia)||null!==r&&(r.type===uc||r.type===lc)&&r.Qf()!==this)?(qn(this,!0),f=t.shadowOffsetX,d=t.shadowOffsetY,a=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0):qn(this,!1),this.bk(t,e),u&&0!==(512&this.ia)==!0&&(t.shadowOffsetX=f,t.shadowOffsetY=d,t.shadowBlur=a),l&&u&&(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),h?(t.restore(),this instanceof io?Ze(e,t,!0):Ze(e,t,!1)):o.zt()||(r=1/(o.m11*o.m22-o.m12*o.m21),t.transform(o.m22*r,-o.m12*r,-o.m21*r,o.m11*r,r*(o.m21*o.dy-o.m22*o.dx),r*(o.m12*o.dx-o.m11*o.dy)))}}1!==i&&(t.globalAlpha=n)}},Wh.bk=function(){},Sn.prototype.isContainedBy=Sn.prototype.sl=function(t){if(t instanceof io)t:{if(this!==t&&null!==t)for(var e=this.U;null!==e;){if(e===t){t=!0;break t}e=e.U}t=!1}else t=!1;return t},Sn.prototype.isVisibleObject=Sn.prototype.vl=function(){if(!this.visible)return!1;var t=this.U;return null!==t?t.vl():!0},Wh=Sn.prototype,Wh.T=function(t){if(void 0===t&&(t=!1),!0!==Un(this)){Kn(this,!0),Jn(this,!0);var e=this.U;if(null!==e?t||e.T():(t=this.h,null!==t&&(t.fg.add(this),this instanceof Cr&&(t.la.Cb||this.yf(),null!==this.Nd&&In(this.Nd)),t.Se())),this instanceof io){(this.ha===uc||this.ha===pc)&&(t=this.Qf(),null!==t&&t.T(!0)),t=this.Ga.q;for(var e=t.length,i=0;e>i;i++){var n=t[i];!0!==Un(n)&&(n.ya.J()||(n instanceof As||n instanceof io||n instanceof $o||zn(n,!1)!==Xu)&&n.T(!0))}}}},Wh.hp=function(){!1===Un(this)&&(Kn(this,!0),Jn(this,!0))},Wh.Vg=function(){0!==(2048&this.ia)==!1&&(Gn(this,!0),Vn(this,!0))},Wh.jA=function(){Vn(this,!0)},Wh.pa=function(){var t=this.V;null!==t&&t.pa()},Uh.g(Sn,"segmentOrientation",Sn.prototype.Zt),Uh.defineProperty(Sn,{Zt:"segmentOrientation"},function(){return this.ts},function(t){var e=this.ts;e!==t&&(Vh&&Uh.za(t,Nr,Sn,"segmentOrientation"),this.ts=t,this.T(),this.j("segmentOrientation",e,t))}),Uh.g(Sn,"segmentIndex",Sn.prototype.Df),Uh.defineProperty(Sn,{Df:"segmentIndex"},function(){return this.rs},function(t){Vh&&Uh.i(t,"number",Sn,"segmentIndex"),t=Math.round(t);var e=this.rs;e!==t&&(this.rs=t,this.T(),this.j("segmentIndex",e,t))}),Uh.g(Sn,"segmentFraction",Sn.prototype.Yt),Uh.defineProperty(Sn,{Yt:"segmentFraction"},function(){return this.qs},function(t){Vh&&Uh.i(t,"number",Sn,"segmentFraction"),isNaN(t)?t=0:0>t?t=0:t>1&&(t=1);var e=this.qs;e!==t&&(this.qs=t,this.T(),this.j("segmentFraction",e,t))}),Uh.g(Sn,"segmentOffset",Sn.prototype.cB),Uh.defineProperty(Sn,{cB:"segmentOffset"},function(){return this.ss},function(t){var e=this.ss;e.L(t)||(Vh&&Uh.l(t,b,Sn,"segmentOffset"),this.ss=t=t.ba(),this.T(),this.j("segmentOffset",e,t))}),Uh.g(Sn,"stretch",Sn.prototype.stretch),Uh.defineProperty(Sn,{stretch:"stretch"},function(){return this.Kh},function(t){var e=this.Kh;e!==t&&(Vh&&Uh.za(t,Sn,Sn,"stretch"),this.Kh=t,this.T(),this.j("stretch",e,t))}),Uh.g(Sn,"name",Sn.prototype.name),Uh.defineProperty(Sn,{name:"name"},function(){return this.Xb},function(t){var e=this.Xb;e!==t&&(Vh&&Uh.i(t,"string",Sn,"name"),this.Xb=t,null!==this.V&&(this.V.Tk=null),this.j("name",e,t))}),Uh.g(Sn,"opacity",Sn.prototype.opacity),Uh.defineProperty(Sn,{opacity:"opacity"},function(){return this.Kf},function(t){var e=this.Kf;e!==t&&(Uh.i(t,"number",Sn,"opacity"),(0>t||t>1)&&Uh.ka(t,"0 <= value <= 1",Sn,"opacity"),this.Kf=t,this.j("opacity",e,t),t=this.h,e=this.V,null!==t&&null!==e&&t.pa(ar(e,e.ea)))}),Uh.g(Sn,"visible",Sn.prototype.visible),Uh.defineProperty(Sn,{visible:"visible"},function(){return 0!==(1&this.ia)},function(t){var e=0!==(1&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"visible"),this.ia^=1,this.j("visible",e,t),e=this.U,null!==e?e.T():this instanceof er&&(this.rl(),this.Qe(t)),this.pa(),Zn(this))}),Uh.g(Sn,"pickable",Sn.prototype.Cf),Uh.defineProperty(Sn,{Cf:"pickable"},function(){return 0!==(2&this.ia)},function(t){var e=0!==(2&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"pickable"),this.ia^=2,this.j("pickable",e,t))}),Uh.g(Sn,"fromLinkableDuplicates",Sn.prototype.JE),Uh.defineProperty(Sn,{JE:"fromLinkableDuplicates"},function(){return 0!==(4&this.ia)},function(t){var e=0!==(4&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"fromLinkableDuplicates"),this.ia^=4,this.j("fromLinkableDuplicates",e,t))}),Uh.g(Sn,"fromLinkableSelfNode",Sn.prototype.KE),Uh.defineProperty(Sn,{KE:"fromLinkableSelfNode"},function(){return 0!==(8&this.ia)},function(t){var e=0!==(8&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"fromLinkableSelfNode"),this.ia^=8,this.j("fromLinkableSelfNode",e,t))}),Uh.g(Sn,"toLinkableDuplicates",Sn.prototype.HG),Uh.defineProperty(Sn,{HG:"toLinkableDuplicates"},function(){return 0!==(16&this.ia)},function(t){var e=0!==(16&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"toLinkableDuplicates"),this.ia^=16,this.j("toLinkableDuplicates",e,t))}),Uh.g(Sn,"toLinkableSelfNode",Sn.prototype.IG),Uh.defineProperty(Sn,{IG:"toLinkableSelfNode"},function(){return 0!==(32&this.ia)},function(t){var e=0!==(32&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"toLinkableSelfNode"),this.ia^=32,this.j("toLinkableSelfNode",e,t))}),Uh.g(Sn,"isPanelMain",Sn.prototype.Tf),Uh.defineProperty(Sn,{Tf:"isPanelMain"},function(){return 0!==(64&this.ia)},function(t){var e=0!==(64&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"isPanelMain"),this.ia^=64,this.T(),this.j("isPanelMain",e,t))}),Uh.g(Sn,"isActionable",Sn.prototype.Sw),Uh.defineProperty(Sn,{Sw:"isActionable"},function(){return 0!==(128&this.ia)},function(t){var e=0!==(128&this.ia);e!==t&&(Vh&&Uh.i(t,"boolean",Sn,"isActionable"),this.ia^=128,this.j("isActionable",e,t))}),Uh.g(Sn,"areaBackground",Sn.prototype.el),Uh.defineProperty(Sn,{el:"areaBackground"},function(){return this.tc},function(t){var e=this.tc;e!==t&&(Vh&&null!==t&&Uh.Mo(t,"GraphObject.areaBackground"),t instanceof An&&t.freeze(),this.tc=t,this.pa(),this.j("areaBackground",e,t))}),Uh.g(Sn,"background",Sn.prototype.background),Uh.defineProperty(Sn,{background:"background"},function(){return this.Mb},function(t){var e=this.Mb;e!==t&&(Vh&&null!==t&&Uh.Mo(t,"GraphObject.background"),t instanceof An&&t.freeze(),this.Mb=t,this.pa(),this.j("background",e,t))}),Uh.A(Sn,{V:"part"},function(){if(this instanceof er)return this;if(this.lm)return this.lm;var t;for(t=this.U;t;){if(t instanceof er)return this.lm=t;t=t.U}return null}),Uh.A(Sn,{U:"panel"},function(){return this.ah}),Sn.prototype.Cl=function(t){this.ah=t},Uh.A(Sn,{layer:"layer"},function(){var t=this.V;return null!==t?t.layer:null}),Uh.A(Sn,{h:"diagram"},function(){var t=this.V;return null!==t?t.h:null},{configurable:!0}),Uh.g(Sn,"position",Sn.prototype.position),Uh.defineProperty(Sn,{position:"position"},function(){return this.Oa},function(t){var e=this.Oa;e.L(t)||(Vh&&Uh.l(t,b,Sn,"position"),t=t.ba(),this.hB(t,e)&&this.j("position",e,t))}),Sn.prototype.hB=function(t){return this.Oa=t,In(this),this.Vg(),!0},Sn.prototype.uG=function(t,e){this.Oa.o(t,e),or(this,!0),this.Vg()},Uh.A(Sn,{ea:"actualBounds"},function(){return this.bc}),Uh.g(Sn,"scale",Sn.prototype.scale),Uh.defineProperty(Sn,{scale:"scale"},function(){return this.ec},function(t){var e=this.ec;e!==t&&(Vh&&Uh.p(t,Sn,"scale"),0>=t&&Uh.m("GraphObject.scale must be greater than zero"),this.ec=t,this.Vg(),this.T(),this.j("scale",e,t))}),Uh.g(Sn,"angle",Sn.prototype.angle),Uh.defineProperty(Sn,{angle:"angle"},function(){return this.vn},function(t){var e=this.vn;e!==t&&(Vh&&Uh.p(t,Sn,"angle"),t%=360,0>t&&(t+=360),e!==t&&(this.vn=t,this.T(),this.Vg(),this.j("angle",e,t)))}),Uh.g(Sn,"desiredSize",Sn.prototype.ya),Uh.defineProperty(Sn,{ya:"desiredSize"},function(){return this.pf},function(t){var e=this.pf;e.L(t)||(Vh&&Uh.l(t,C,Sn,"desiredSize"),this.pf=t=t.ba(),this.T(),this instanceof Fo&&this.re(),this.j("desiredSize",e,t),t=this.V,null!==t&&0!==(1024&this.ia)&&(Tn(this,t,"width"),Tn(this,t,"height")))}),Uh.g(Sn,"width",Sn.prototype.width),Uh.defineProperty(Sn,{width:"width"},function(){return this.pf.width},function(t){if(this.pf.width!==t){Vh&&Uh.i(t,"number",Sn,"width");var e=this.pf;this.pf=t=new C(t,this.pf.height).freeze(),this.T(),this instanceof Fo&&this.re(),this.j("desiredSize",e,t),e=this.V,null!==e&&0!==(1024&this.ia)&&Tn(this,e,"width")}}),Uh.g(Sn,"height",Sn.prototype.height),Uh.defineProperty(Sn,{height:"height"},function(){return this.pf.height},function(t){if(this.pf.height!==t){Vh&&Uh.i(t,"number",Sn,"height");var e=this.pf;this.pf=t=new C(this.pf.width,t).freeze(),this.T(),this instanceof Fo&&this.re(),this.j("desiredSize",e,t),e=this.V,null!==e&&0!==(1024&this.ia)&&Tn(this,e,"height")}}),Uh.g(Sn,"minSize",Sn.prototype.Re),Uh.defineProperty(Sn,{Re:"minSize"},function(){return this.xj},function(t){var e=this.xj;e.L(t)||(Vh&&Uh.l(t,C,Sn,"minSize"),t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.xj=t,this.T(),this.j("minSize",e,t))}),Uh.g(Sn,"maxSize",Sn.prototype.Qd),Uh.defineProperty(Sn,{Qd:"maxSize"},function(){return this.vj},function(t){var e=this.vj;e.L(t)||(Vh&&Uh.l(t,C,Sn,"maxSize"),t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.vj=t,this.T(),this.j("maxSize",e,t))}),Uh.A(Sn,{Fa:"measuredBounds"},function(){return this.Tc}),Uh.A(Sn,{Ka:"naturalBounds"},function(){return this.Kc},{configurable:!0}),Uh.g(Sn,"margin",Sn.prototype.margin),Uh.defineProperty(Sn,{margin:"margin"},function(){return this.ur},function(t){"number"==typeof t?t=new M(t):Vh&&Uh.l(t,M,Sn,"margin");var e=this.ur;e.L(t)||(this.ur=t=t.ba(),this.T(),this.j("margin",e,t))}),Uh.A(Sn,{transform:null},function(){return 0!==(2048&this.ia)==!0&&On(this),this.Yd}),Uh.A(Sn,{Nf:null},function(){return 0!==(4096&this.ia)==!0&&On(this),this.un}),Uh.g(Sn,"alignment",Sn.prototype.alignment),Uh.defineProperty(Sn,{alignment:"alignment"},function(){return this.xe},function(t){var e=this.xe;e.L(t)||(Vh?Uh.l(t,P,Sn,"alignment"):t.te()&&!t.Oc()&&Uh.m("alignment must be a real Spot or Spot.Default"),this.xe=t=t.ba(),In(this),this.j("alignment",e,t))}),Uh.g(Sn,"column",Sn.prototype.column),Uh.defineProperty(Sn,{column:"column"},function(){return this.oq},function(t){Vh&&Uh.p(t,Sn,"column"),t=Math.round(t);var e=this.oq;e!==t&&(0>t&&Uh.ka(t,">= 0",Sn,"column"),this.oq=t,this.T(),this.j("column",e,t))}),Uh.g(Sn,"columnSpan",Sn.prototype.dE),Uh.defineProperty(Sn,{dE:"columnSpan"},function(){return this.fj},function(t){Vh&&Uh.i(t,"number",Sn,"columnSpan"),t=Math.round(t);var e=this.fj;e!==t&&(1>t&&Uh.ka(t,">= 1",Sn,"columnSpan"),this.fj=t,this.T(),this.j("columnSpan",e,t))}),Uh.g(Sn,"row",Sn.prototype.qc),Uh.defineProperty(Sn,{qc:"row"},function(){return this.ns},function(t){Vh&&Uh.p(t,Sn,"row"),t=Math.round(t);var e=this.ns;e!==t&&(0>t&&Uh.ka(t,">= 0",Sn,"row"),this.ns=t,this.T(),this.j("row",e,t))}),Uh.g(Sn,"rowSpan",Sn.prototype.rowSpan),Uh.defineProperty(Sn,{rowSpan:"rowSpan"},function(){return this.Dj},function(t){Vh&&Uh.i(t,"number",Sn,"rowSpan"),t=Math.round(t);var e=this.Dj;e!==t&&(1>t&&Uh.ka(t,">= 1",Sn,"rowSpan"),this.Dj=t,this.T(),this.j("rowSpan",e,t))}),Uh.g(Sn,"alignmentFocus",Sn.prototype.Fi),Uh.defineProperty(Sn,{Fi:"alignmentFocus"},function(){return this.hq},function(t){var e=this.hq;e.L(t)||(Vh?Uh.l(t,P,Sn,"alignmentFocus"):t.te()&&!t.Oc()&&Uh.m("alignmentFocus must be a real Spot or Spot.Default"),this.hq=t=t.ba(),this.T(),this.j("alignmentFocus",e,t))}),Uh.g(Sn,"portId",Sn.prototype.xd),Uh.defineProperty(Sn,{xd:"portId"},function(){return this.Zr},function(t){var e=this.Zr;if(e!==t){Vh&&null!==t&&Uh.i(t,"string",Sn,"portId");var i=this.V;if(null===i||i instanceof Cr||(Uh.m("portID being set on a Link: "+t),i=null),null!==e&&null!==i&&Mr(i,this),this.Zr=t,null!==t&&i){i.yh=!0,null===i.Wd&&Tr(i);var n=this.xd;null!==n&&i.Wd.add(n,this)}this.j("portId",e,t)}}),Uh.g(Sn,"toSpot",Sn.prototype.xb),Uh.defineProperty(Sn,{xb:"toSpot"},function(){return null!==this.S?this.S.Nj:el},function(t){null===this.S&&this.Oe();var e=this.S.Nj;e.L(t)||(Vh&&Uh.l(t,P,Sn,"toSpot"),t=t.ba(),this.S.Nj=t,this.j("toSpot",e,t),Zn(this))}),Uh.g(Sn,"toEndSegmentLength",Sn.prototype.mk),Uh.defineProperty(Sn,{mk:"toEndSegmentLength"},function(){return null!==this.S?this.S.Lj:10},function(t){null===this.S&&this.Oe();var e=this.S.Lj;e!==t&&(Vh&&Uh.i(t,"number",Sn,"toEndSegmentLength"),0>t&&Uh.ka(t,">= 0",Sn,"toEndSegmentLength"),this.S.Lj=t,this.j("toEndSegmentLength",e,t),Zn(this))}),Uh.g(Sn,"toEndSegmentDirection",Sn.prototype.Xp),Uh.defineProperty(Sn,{Xp:"toEndSegmentDirection"},function(){return null!==this.S?this.S.Kj:Yc},function(t){null===this.S&&this.Oe();var e=this.S.Kj;e!==t&&(Vh&&Uh.za(t,Cr,Sn,"toEndSegmentDirection"),this.S.Kj=t,this.j("toEndSegmentDirection",e,t),Zn(this))}),Uh.g(Sn,"toShortLength",Sn.prototype.Zp),Uh.defineProperty(Sn,{Zp:"toShortLength"},function(){return null!==this.S?this.S.Mj:0},function(t){null===this.S&&this.Oe();var e=this.S.Mj;e!==t&&(Vh&&Uh.i(t,"number",Sn,"toShortLength"),this.S.Mj=t,this.j("toShortLength",e,t),Zn(this))}),Uh.g(Sn,"toLinkable",Sn.prototype.oB),Uh.defineProperty(Sn,{oB:"toLinkable"},function(){return this.Is},function(t){var e=this.Is;e!==t&&(Vh&&null!==t&&Uh.i(t,"boolean",Sn,"toLinkable"),this.Is=t,this.j("toLinkable",e,t))}),Uh.g(Sn,"toMaxLinks",Sn.prototype.JG),Uh.defineProperty(Sn,{JG:"toMaxLinks"},function(){return this.Js},function(t){var e=this.Js;e!==t&&(Vh&&Uh.i(t,"number",Sn,"toMaxLinks"),0>t&&Uh.ka(t,">= 0",Sn,"toMaxLinks"),this.Js=t,this.j("toMaxLinks",e,t))}),Uh.g(Sn,"fromSpot",Sn.prototype.vb),Uh.defineProperty(Sn,{vb:"fromSpot"},function(){return null!==this.S?this.S.mj:el},function(t){null===this.S&&this.Oe();var e=this.S.mj;e.L(t)||(Vh&&Uh.l(t,P,Sn,"fromSpot"),t=t.ba(),this.S.mj=t,this.j("fromSpot",e,t),Zn(this))}),Uh.g(Sn,"fromEndSegmentLength",Sn.prototype.ek),Uh.defineProperty(Sn,{ek:"fromEndSegmentLength"},function(){return null!==this.S?this.S.kj:10},function(t){null===this.S&&this.Oe();var e=this.S.kj;e!==t&&(Vh&&Uh.i(t,"number",Sn,"fromEndSegmentLength"),0>t&&Uh.ka(t,">= 0",Sn,"fromEndSegmentLength"),this.S.kj=t,this.j("fromEndSegmentLength",e,t),Zn(this))}),Uh.g(Sn,"fromEndSegmentDirection",Sn.prototype.ap),Uh.defineProperty(Sn,{ap:"fromEndSegmentDirection"},function(){return null!==this.S?this.S.jj:Yc},function(t){null===this.S&&this.Oe();var e=this.S.jj;e!==t&&(Vh&&Uh.za(t,Cr,Sn,"fromEndSegmentDirection"),this.S.jj=t,this.j("fromEndSegmentDirection",e,t),Zn(this))}),Uh.g(Sn,"fromShortLength",Sn.prototype.bp),Uh.defineProperty(Sn,{bp:"fromShortLength"},function(){return null!==this.S?this.S.lj:0},function(t){null===this.S&&this.Oe();var e=this.S.lj;e!==t&&(Vh&&Uh.i(t,"number",Sn,"fromShortLength"),this.S.lj=t,this.j("fromShortLength",e,t),Zn(this))}),Uh.g(Sn,"fromLinkable",Sn.prototype.$z),Uh.defineProperty(Sn,{$z:"fromLinkable"},function(){return this.Iq},function(t){var e=this.Iq;e!==t&&(Vh&&null!==t&&Uh.i(t,"boolean",Sn,"fromLinkable"),this.Iq=t,this.j("fromLinkable",e,t))}),Uh.g(Sn,"fromMaxLinks",Sn.prototype.LE),Uh.defineProperty(Sn,{LE:"fromMaxLinks"},function(){return this.Jq},function(t){var e=this.Jq;e!==t&&(Vh&&Uh.i(t,"number",Sn,"fromMaxLinks"),0>t&&Uh.ka(t,">= 0",Sn,"fromMaxLinks"),this.Jq=t,this.j("fromMaxLinks",e,t))}),Uh.g(Sn,"cursor",Sn.prototype.cursor),Uh.defineProperty(Sn,{cursor:"cursor"},function(){return this.vq},function(t){var e=this.vq;e!==t&&(Uh.i(t,"string",Sn,"cursor"),this.vq=t,this.j("cursor",e,t))}),Uh.g(Sn,"click",Sn.prototype.click),Uh.defineProperty(Sn,{click:"click"},function(){return null!==this.R?this.R.di:null},function(t){null===this.R&&Fn(this);var e=this.R.di;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"click"),this.R.di=t,this.j("click",e,t))}),Uh.g(Sn,"doubleClick",Sn.prototype.Pm),Uh.defineProperty(Sn,{Pm:"doubleClick"},function(){return null!==this.R?this.R.ki:null},function(t){null===this.R&&Fn(this);var e=this.R.ki;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"doubleClick"),this.R.ki=t,this.j("doubleClick",e,t))}),Uh.g(Sn,"contextClick",Sn.prototype.ft),Uh.defineProperty(Sn,{ft:"contextClick"},function(){return null!==this.R?this.R.fi:null},function(t){null===this.R&&Fn(this);var e=this.R.fi;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"contextClick"),this.R.fi=t,this.j("contextClick",e,t))}),Uh.g(Sn,"mouseEnter",Sn.prototype.BA),Uh.defineProperty(Sn,{BA:"mouseEnter"},function(){return null!==this.R?this.R.Fr:null},function(t){null===this.R&&Fn(this);var e=this.R.Fr;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseEnter"),this.R.Fr=t,this.j("mouseEnter",e,t))}),Uh.g(Sn,"mouseLeave",Sn.prototype.CA),Uh.defineProperty(Sn,{CA:"mouseLeave"},function(){return null!==this.R?this.R.Gr:null},function(t){null===this.R&&Fn(this);var e=this.R.Gr;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseLeave"),this.R.Gr=t,this.j("mouseLeave",e,t))}),Uh.g(Sn,"mouseOver",Sn.prototype.Jt),Uh.defineProperty(Sn,{Jt:"mouseOver"},function(){return null!==this.R?this.R.ui:null},function(t){null===this.R&&Fn(this);var e=this.R.ui;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseOver"),this.R.ui=t,this.j("mouseOver",e,t))}),Uh.g(Sn,"mouseHover",Sn.prototype.It),Uh.defineProperty(Sn,{It:"mouseHover"},function(){return null!==this.R?this.R.ti:null},function(t){null===this.R&&Fn(this);var e=this.R.ti;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseHover"),this.R.ti=t,this.j("mouseHover",e,t))}),Uh.g(Sn,"mouseHold",Sn.prototype.Ht),Uh.defineProperty(Sn,{Ht:"mouseHold"},function(){return null!==this.R?this.R.si:null},function(t){null===this.R&&Fn(this);var e=this.R.si;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseHold"),this.R.si=t,this.j("mouseHold",e,t))}),Uh.g(Sn,"mouseDragEnter",Sn.prototype.FF),Uh.defineProperty(Sn,{FF:"mouseDragEnter"},function(){return null!==this.R?this.R.Dr:null},function(t){null===this.R&&Fn(this);var e=this.R.Dr;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseDragEnter"),this.R.Dr=t,this.j("mouseDragEnter",e,t))}),Uh.g(Sn,"mouseDragLeave",Sn.prototype.GF),Uh.defineProperty(Sn,{GF:"mouseDragLeave"},function(){return null!==this.R?this.R.Er:null},function(t){null===this.R&&Fn(this);var e=this.R.Er;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseDragLeave"),this.R.Er=t,this.j("mouseDragLeave",e,t))}),Uh.g(Sn,"mouseDrop",Sn.prototype.Gt),Uh.defineProperty(Sn,{Gt:"mouseDrop"},function(){return null!==this.R?this.R.ri:null},function(t){null===this.R&&Fn(this);var e=this.R.ri;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"mouseDrop"),this.R.ri=t,this.j("mouseDrop",e,t))}),Uh.g(Sn,"actionDown",Sn.prototype.Cz),Uh.defineProperty(Sn,{Cz:"actionDown"},function(){return null!==this.R?this.R.dq:null},function(t){null===this.R&&Fn(this);var e=this.R.dq;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"actionDown"),this.R.dq=t,this.j("actionDown",e,t))}),Uh.g(Sn,"actionMove",Sn.prototype.Dz),Uh.defineProperty(Sn,{Dz:"actionMove"},function(){return null!==this.R?this.R.eq:null},function(t){null===this.R&&Fn(this);var e=this.R.eq;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"actionMove"),this.R.eq=t,this.j("actionMove",e,t))}),Uh.g(Sn,"actionUp",Sn.prototype.Ez),Uh.defineProperty(Sn,{Ez:"actionUp"},function(){return null!==this.R?this.R.fq:null},function(t){null===this.R&&Fn(this);
var e=this.R.fq;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"actionUp"),this.R.fq=t,this.j("actionUp",e,t))}),Uh.g(Sn,"actionCancel",Sn.prototype.Bz),Uh.defineProperty(Sn,{Bz:"actionCancel"},function(){return null!==this.R?this.R.cq:null},function(t){null===this.R&&Fn(this);var e=this.R.cq;e!==t&&(null!==t&&Uh.i(t,"function",Sn,"actionCancel"),this.R.cq=t,this.j("actionCancel",e,t))}),Uh.g(Sn,"toolTip",Sn.prototype.gu),Uh.defineProperty(Sn,{gu:"toolTip"},function(){return null!==this.R?this.R.Bi:null},function(t){null===this.R&&Fn(this);var e=this.R.Bi;e!==t&&(null!==t&&Uh.l(t,xr,Sn,"toolTip"),this.R.Bi=t,this.j("toolTip",e,t))}),Uh.g(Sn,"contextMenu",Sn.prototype.contextMenu),Uh.defineProperty(Sn,{contextMenu:"contextMenu"},function(){return null!==this.R?this.R.gi:null},function(t){null===this.R&&Fn(this);var e=this.R.gi;e!==t&&(null!==t&&Uh.l(t,xr,Sn,"contextMenu"),this.R.gi=t,this.j("contextMenu",e,t))}),Sn.prototype.bind=Sn.prototype.bind=function(t){t.og=this;var e=this.Yo();null!==e&&yo(e)&&Uh.m("Cannot add a Binding to a template that has already been copied: "+t),null===this.Jc&&(this.Jc=new l(Ct)),this.Jc.add(t)},Sn.prototype.findTemplateBinder=Sn.prototype.Yo=function(){for(var t=this instanceof io?this:this.U;null!==t;){if(null!==t.Nl)return t;t=t.U}return null},Sn.fromSvg=Sn.fromSVG=function(t){return Lh(t)},Sn.prototype.setProperties=function(t){Uh.au(this,t)};var oc;Sn.make=oc=function(e,i){var n=arguments,o=null,r=null;if("function"==typeof e)r=e;else if("string"==typeof e){var s=rc.Aa(e);"function"==typeof s?(n=Uh.il(arguments),o=s(n)):r=Gh[e]}if(null===o&&(void 0===r&&(o=t.$,void 0!==o&&void 0!==o.noop&&Uh.m("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),Uh.m("GraphObject.make failed to complete, it may be conflicting with another var.")),null!==r&&r.constructor||Uh.m("GraphObject.make requires a class function or class name, not: "+e),o=new r),s=1,o instanceof Ue&&1<n.length){var a=o,r=n[1];("string"==typeof r||r instanceof HTMLDivElement)&&(vn(a,r),s++)}for(;s<n.length;s++)r=n[s],void 0===r?Uh.m("Undefined value at argument "+s+" for object being constructed by GraphObject.make: "+o):to(o,r);return o};var rc=new v("string","function");Sn.getBuilders=function(){var t,e=new v("string","function");for(t in rc)if(t!==t.toLowerCase()){var i=rc[t];"function"==typeof i&&e.add(t,i)}return e.freeze(),e};var sc;Sn.defineBuilder=sc=function(t,e){Uh.i(t,"string",Sn,"defineBuilder:name"),Uh.i(e,"function",Sn,"defineBuilder:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Uh.m("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t),rc.add(t,e)},sc("Button",function(){var t=new An(Vu);t.addColorStop(0,"white"),t.addColorStop(1,"lightgray");var e=new An(Vu);return e.addColorStop(0,"white"),e.addColorStop(1,"dodgerblue"),t=oc(io,uc,{Sw:!0},{_buttonFillNormal:t,_buttonStrokeNormal:"gray",_buttonFillOver:e,_buttonStrokeOver:"blue"},oc(Fo,{name:"ButtonBorder",Ab:"Rectangle",G:new P(0,0,2.761423749153968,2.761423749153968),H:new P(1,1,-2.761423749153968,-2.761423749153968),fill:t,stroke:"gray"})),t.BA=function(t,e){var i=e.pe("ButtonBorder");if(i instanceof Fo){var n=e._buttonFillOver;e._buttonFillNormal=i.fill,i.fill=n,n=e._buttonStrokeOver,e._buttonStrokeNormal=i.stroke,i.stroke=n}},t.CA=function(t,e){var i=e.pe("ButtonBorder");i instanceof Fo&&(i.fill=e._buttonFillNormal,i.stroke=e._buttonStrokeNormal)},t}),sc("TreeExpanderButton",function(){var t=oc("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},oc(Fo,{name:"ButtonIcon",Ab:"MinusLine",ya:Bl.aq},new Ct("figure","isTreeExpanded",function(t,e){var i=e.U;return t?i._treeExpandedFigure:i._treeCollapsedFigure}).mx()),{visible:!1},new Ct("visible","isTreeLeaf",function(t){return!t}).mx());return t.click=function(t,e){var i=e.V;if(i instanceof xr&&(i=i.Nh),i instanceof Cr){var n=i.h;if(null!==n){if(n=n.zb,i.Pc){if(!n.canCollapseTree(i))return}else if(!n.canExpandTree(i))return;t.Nc=!0,i.Pc?n.collapseTree(i):n.expandTree(i)}}},t}),sc("SubGraphExpanderButton",function(){var t=oc("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},oc(Fo,{name:"ButtonIcon",Ab:"MinusLine",ya:Bl.aq},new Ct("figure","isSubGraphExpanded",function(t,e){var i=e.U;return t?i._subGraphExpandedFigure:i._subGraphCollapsedFigure}).mx()));return t.click=function(t,e){var i=e.V;if(i instanceof xr&&(i=i.Nh),i instanceof bs){var n=i.h;if(null!==n){if(n=n.zb,i.Md){if(!n.canCollapseSubGraph(i))return}else if(!n.canExpandSubGraph(i))return;t.Nc=!0,i.Md?n.collapseSubGraph(i):n.expandSubGraph(i)}}},t}),sc("ContextMenuButton",function(){var t=oc("Button");t.stretch=tc;var e=t.pe("ButtonBorder");return e instanceof Fo&&(e.Ab="Rectangle",e.G=new P(0,0,2,3),e.H=new P(1,1,-2,-2)),t}),sc("PanelExpanderButton",function(t){var e="COLLAPSIBLE";"string"==typeof t[1]&&(e=t[1],t.splice(1,1)),t=oc("Button",oc(Fo,"TriangleUp",{ya:new C(6,4)},new Ct("figure","visible",function(t){return t?"TriangleUp":"TriangleDown"}).mx(e)));var i=t.pe("ButtonBorder");return i instanceof Fo&&(i.stroke=null,i.fill="transparent"),t.click=function(t,i){var n=i.h;if(null!==n){var o=i.V.pe(e);null!==o&&(n.ac("Collapse/Expand Panel"),o.visible=!o.visible,n.$d("Collapse/Expand Panel"))}},t}),eo.prototype.copy=function(){var t=new eo;return t.di=this.di,t.ki=this.ki,t.fi=this.fi,t.Fr=this.Fr,t.Gr=this.Gr,t.ui=this.ui,t.ti=this.ti,t.si=this.si,t.Dr=this.Dr,t.Er=this.Er,t.ri=this.ri,t.dq=this.dq,t.eq=this.eq,t.fq=this.fq,t.cq=this.cq,t.Bi=this.Bi,t.gi=this.gi,t},Uh.Ia(io,Sn),Uh.Ph(io),Uh.ja("Panel",io),io.prototype.cloneProtected=function(t){if(Sn.prototype.cloneProtected.call(this,t),t.ha=this.ha,t.$e=this.$e.ba(),t.Wg=this.Wg,t.Uq=this.Uq,t.yq=this.yq.ba(),t.ji=this.ji,t.ha===cc){t.gj=this.gj.ba(),t.uh=this.uh,t.ii=this.ii,t.Sl=this.Sl,t.th=this.th,t.sh=this.sh,t.Rl=this.Rl;var e=[];if(0<this.Fd.length)for(var i=this.Fd,n=i.length,o=0;n>o;o++)if(void 0!==i[o]){var r=i[o].copy();r.Cl(t),e[o]=r}if(t.Fd=e,e=[],0<this.yd.length)for(i=this.yd,n=i.length,o=0;n>o;o++)void 0!==i[o]&&(r=i[o].copy(),r.Cl(t),e[o]=r);t.yd=e,t.qm=this.qm,t.Pl=this.Pl,t.Ci=this.Ci,t.pi=this.pi}t.Co=this.Co,t.Nq.assign(this.Nq),t.Oq=this.Oq.ba(),t.rh=this.rh,t.Nl=this.Nl,t.ir=this.ir,t.oi=this.oi,t.hg=this.hg,t.co=this.co,t.Di.assign(this.Di),t.yh=this.yh,null!==this.os&&(t.os=this.os)},io.prototype.Qh=function(t){Sn.prototype.Qh.call(this,t),t.Ga=this.Ga;for(var e=t.Ga.q,i=e.length,n=0;i>n;n++)e[n].ah=t;t.xm=null},io.prototype.copy=function(){var t=Sn.prototype.copy.call(this);if(null!==t){for(var e=this.Ga.q,i=e.length,n=0;i>n;n++){var o=e[n].copy(),r=t;o.Cl(r),o.lm=null;var s=r.Ga,a=s.count;if(s.be(a,o),s=r.V,null!==s){s.Tk=null,null!==o.xd&&s instanceof Cr&&(s.yh=!0);var h=r.h;null!==h&&h.la.Cb||s.Gc(Yl,"elements",r,null,o,null,a)}}return t}return null},io.prototype.toString=function(){return"Panel("+this.type+")#"+Uh.Yc(this)};var ac;io.Position=ac=Uh.w(io,"Position",0),io.Horizontal=Uh.w(io,"Horizontal",1);var hc;io.Vertical=hc=Uh.w(io,"Vertical",2);var lc;io.Spot=lc=Uh.w(io,"Spot",3);var uc;io.Auto=uc=Uh.w(io,"Auto",4);var cc;io.Table=cc=Uh.w(io,"Table",5),io.Viewbox=Uh.w(io,"Viewbox",6);var fc;io.TableRow=fc=Uh.w(io,"TableRow",7);var dc;io.TableColumn=dc=Uh.w(io,"TableColumn",8);var pc;io.Link=pc=Uh.w(io,"Link",9);var gc;io.Grid=gc=Uh.w(io,"Grid",10),Uh.g(io,"type",io.prototype.type),Uh.defineProperty(io,{type:"type"},function(){return this.ha},function(t){var e=this.ha;e!==t&&(Vh&&Uh.za(t,io,io,"type"),e!==fc&&e!==dc||Uh.m("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+t),this.ha=t,this.ha===gc?this.Wg=!0:this.ha===cc&&no(this),this.T(),this.j("type",e,t))}),Uh.A(io,{elements:"elements"},function(){return this.Ga.k}),Uh.A(io,{Ka:"naturalBounds"},function(){return this.Kc}),Uh.g(io,"padding",io.prototype.padding),Uh.defineProperty(io,{padding:"padding"},function(){return this.$e},function(t){"number"==typeof t?(0>t&&Uh.ka(t,">= 0",io,"padding"),t=new M(t)):(Uh.l(t,M,io,"padding"),0>t.left&&Uh.ka(t.left,">= 0",io,"padding:value.left"),0>t.right&&Uh.ka(t.right,">= 0",io,"padding:value.right"),0>t.top&&Uh.ka(t.top,">= 0",io,"padding:value.top"),0>t.bottom&&Uh.ka(t.bottom,">= 0",io,"padding:value.bottom"));var e=this.$e;e.L(t)||(this.$e=t=t.ba(),this.T(),this.j("padding",e,t))}),Uh.g(io,"defaultAlignment",io.prototype.Xj),Uh.defineProperty(io,{Xj:"defaultAlignment"},function(){return this.yq},function(t){var e=this.yq;e.L(t)||(Vh&&Uh.l(t,P,io,"defaultAlignment"),this.yq=t=t.ba(),this.T(),this.j("defaultAlignment",e,t))}),Uh.g(io,"defaultStretch",io.prototype.ud),Uh.defineProperty(io,{ud:"defaultStretch"},function(){return this.ji},function(t){var e=this.ji;e!==t&&(Uh.za(t,Sn,io,"defaultStretch"),this.ji=t,this.T(),this.j("defaultStretch",e,t))}),Uh.g(io,"defaultSeparatorPadding",io.prototype.wI),Uh.defineProperty(io,{wI:"defaultSeparatorPadding"},function(){return void 0===this.gj?Bl.bq:this.gj},function(t){if(void 0!==this.gj){"number"==typeof t?t=new M(t):Vh&&Uh.l(t,M,io,"defaultSeparatorPadding");var e=this.gj;e.L(t)||(this.gj=t=t.ba(),this.j("defaultSeparatorPadding",e,t))}}),Uh.g(io,"defaultRowSeparatorStroke",io.prototype.uI),Uh.defineProperty(io,{uI:"defaultRowSeparatorStroke"},function(){return void 0===this.ii?null:this.ii},function(t){var e=this.ii;e!==t&&(null===t||"string"==typeof t||t instanceof An)&&(t instanceof An&&t.freeze(),this.ii=t,this.j("defaultRowSeparatorStroke",e,t))}),Uh.g(io,"defaultRowSeparatorStrokeWidth",io.prototype.vI),Uh.defineProperty(io,{vI:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.uh?1:this.uh},function(t){if(void 0!==this.uh){var e=this.uh;e!==t&&isFinite(t)&&t>=0&&(this.uh=t,this.j("defaultRowSeparatorStrokeWidth",e,t))}}),Uh.g(io,"defaultRowSeparatorDashArray",io.prototype.tI),Uh.defineProperty(io,{tI:"defaultRowSeparatorDashArray"},function(){return void 0===this.Sl?null:this.Sl},function(t){if(void 0!==this.Sl){var e=this.Sl;if(e!==t){if(null===t||Array.isArray(t)||Uh.sc(t,"Array",io,"defaultRowSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;i>o;o++){var r=t[o];"number"==typeof r&&r>=0&&isFinite(r)||Uh.m("defaultRowSeparatorDashArray:value "+r+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.Sl=t,this.pa(),this.j("defaultRowSeparatorDashArray",e,t)}}}),Uh.g(io,"defaultColumnSeparatorStroke",io.prototype.oI),Uh.defineProperty(io,{oI:"defaultColumnSeparatorStroke"},function(){return void 0===this.sh?null:this.sh},function(t){if(void 0!==this.sh){var e=this.sh;e!==t&&(null===t||"string"==typeof t||t instanceof An)&&(t instanceof An&&t.freeze(),this.sh=t,this.j("defaultColumnSeparatorStroke",e,t))}}),Uh.g(io,"defaultColumnSeparatorStrokeWidth",io.prototype.pI),Uh.defineProperty(io,{pI:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.th?1:this.th},function(t){if(void 0!==this.th){var e=this.th;e!==t&&isFinite(t)&&t>=0&&(this.th=t,this.j("defaultColumnSeparatorStrokeWidth",e,t))}}),Uh.g(io,"defaultColumnSeparatorDashArray",io.prototype.nI),Uh.defineProperty(io,{nI:"defaultColumnSeparatorDashArray"},function(){return void 0===this.Rl?null:this.Rl},function(t){if(void 0!==this.Rl){var e=this.Rl;if(e!==t){if(null===t||Array.isArray(t)||Uh.sc(t,"Array",io,"defaultColumnSeparatorDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;i>o;o++){var r=t[o];"number"==typeof r&&r>=0&&isFinite(r)||Uh.m("defaultColumnSeparatorDashArray:value "+r+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.Rl=t,this.pa(),this.j("defaultColumnSeparatorDashArray",e,t)}}}),Uh.g(io,"viewboxStretch",io.prototype.fK),Uh.defineProperty(io,{fK:"viewboxStretch"},function(){return this.Co},function(t){var e=this.Co;e!==t&&(Uh.za(t,Sn,io,"viewboxStretch"),this.Co=t,this.j("viewboxStretch",e,t))}),Uh.g(io,"gridCellSize",io.prototype.rt),Uh.defineProperty(io,{rt:"gridCellSize"},function(){return this.Nq},function(t){var e=this.Nq;e.L(t)||(Uh.l(t,C,io,"gridCellSize"),t.J()&&0!==t.width&&0!==t.height||Uh.m("Invalid Panel.gridCellSize: "+t),this.Nq=t.ba(),null!==this.h&&this===this.h.ep&&Pi(this.h),this.pa(),this.j("gridCellSize",e,t))}),Uh.g(io,"gridOrigin",io.prototype.gA),Uh.defineProperty(io,{gA:"gridOrigin"},function(){return this.Oq},function(t){var e=this.Oq;e.L(t)||(Uh.l(t,b,io,"gridOrigin"),t.J()||Uh.m("Invalid Panel.gridOrigin: "+t),this.Oq=t.ba(),null!==this.h&&Pi(this.h),this.pa(),this.j("gridOrigin",e,t))}),Wh=io.prototype,Wh.zv=function(t){Sn.prototype.zv.call(this,t);for(var e=this.Ga.q,i=e.length,n=0;i>n;n++)e[n].zv(t)},Wh.bk=function(t,e){if(this.ha===gc){var i=this.Qi()*e.scale;0>=i&&(i=1);var n=this.rt,o=n.width,n=n.height,r=this.Ka,s=r.width,r=r.height,a=Math.ceil(s/o),h=Math.ceil(r/n),l=this.gA;t.save(),t.beginPath(),t.rect(0,0,s,r),t.clip();for(var u=[],c=this.Ga.q,f=c.length,d=0;f>d;d++){var p=c[d],g=[];if(u.push(g),p.visible)for(var p=ao(p.Ab),m=d+1;f>m;m++){var v=c[m];v.visible&&ao(v.Ab)===p&&(v=v.interval,v>=2&&g.push(v))}}for(c=this.Ga.q,f=c.length,d=0;f>d;d++){var y=c[d];if(y.visible){var g=u[d],p=y.interval,m=!1,b=!0,w=y.Ex;if(null!==w&&(m=!0,void 0!==t.setLineDash?(t.setLineDash(w),t.lineDashOffset=y.gd):void 0!==t.webkitLineDash?(t.webkitLineDash=w,t.webkitLineDashOffset=y.gd):void 0!==t.mozDash?(t.mozDash=w,t.mozDashOffset=y.gd):b=!1),"LineV"===y.Ab){t.lineWidth=y.ib,Rn(this,t,y.stroke,!1,!1),t.beginPath();for(var x=v=Math.floor(-l.x/o);v+a>=x;x++){var C=x*o+l.x;if(C>=0&&s>C&&so(x,p,g)&&(m&&!b?En(t,C,0,C,r,w,y.gd):(t.moveTo(C,0),t.lineTo(C,r)),2>o*p*i))break}t.stroke()}else if("LineH"===y.Ab){for(t.lineWidth=y.ib,Rn(this,t,y.stroke,!1,!1),t.beginPath(),x=v=Math.floor(-l.y/n);v+h>=x&&(C=x*n+l.y,!(C>=0&&r>=C&&so(x,p,g)&&(m&&!b?En(t,0,C,s,C,w,y.gd):(t.moveTo(0,C),t.lineTo(s,C)),2>n*p*i)));x++);t.stroke()}else if("BarV"===y.Ab)for(Rn(this,t,y.fill,!0,!1),y=y.width,isNaN(y)&&(y=o),x=v=Math.floor(-l.x/o);v+a>=x&&(C=x*o+l.x,!(C>=0&&s>C&&so(x,p,g)&&(t.fillRect(C,0,y,r),2>o*p*i)));x++);else if("BarH"===y.Ab)for(Rn(this,t,y.fill,!0,!1),y=y.height,isNaN(y)&&(y=n),x=v=Math.floor(-l.y/n);v+h>=x&&(C=x*n+l.y,!(C>=0&&r>=C&&so(x,p,g)&&(t.fillRect(0,C,s,y),2>n*p*i)));x++);m&&(void 0!==t.setLineDash?(t.setLineDash(Uh.nh),t.lineDashOffset=0):void 0!==t.webkitLineDash?(t.webkitLineDash=Uh.nh,t.webkitLineDashOffset=0):void 0!==t.mozDash&&(t.mozDash=null,t.mozDashOffset=0))}}t.restore(),Ze(e,t,!1)}else{for(this.ha===cc&&(t.lineCap="butt",ro(this,t,!0,this.Fd,!0),ro(this,t,!1,this.yd,!0),oo(this,t,!0,this.Fd),oo(this,t,!1,this.yd),ro(this,t,!0,this.Fd,!1),ro(this,t,!1,this.yd,!1)),(i=this.oA)&&t.save(),o=this.Qf(),n=this.Ga.q,s=n.length,r=0;s>r;r++)a=n[r],i&&a===o&&(t.ou=!0),a.bf(t,e),i&&a===o&&(t.ou=!1);i&&(t.restore(),Ze(e,t,!1)),Vh&&Vh.xK&&this instanceof Nr&&Vh.wK(t,e,this)}},Wh.dp=function(t,e,i,n,o){var r=this.bg(),s=this.transform,a=1/(s.m11*s.m22-s.m12*s.m21),h=s.m22*a,l=-s.m12*a,u=-s.m21*a,c=s.m11*a,f=a*(s.m21*s.dy-s.m22*s.dx),d=a*(s.m12*s.dx-s.m11*s.dy);if(null!==this.el)return s=this.ea,Bl.pl(s.left,s.top,s.right,s.bottom,t,e,i,n,o);if(null!==this.background)r=t*h+e*u+f,a=t*l+e*c+d,t=i*h+n*u+f,i=i*l+n*c+d,o.o(0,0),n=this.Ka,i=Bl.pl(0,0,n.width,n.height,r,a,t,i,o),o.transform(s);else{for(r||(h=1,u=l=0,c=1,d=f=0),a=t*h+e*u+f,t=t*l+e*c+d,h=i*h+n*u+f,n=i*l+n*c+d,o.o(h,n),l=(h-a)*(h-a)+(n-t)*(n-t),i=!1,c=this.Ga.q,d=c.length,u=Uh.M(),f=0;d>f;f++)e=c[f],e.visible&&e.dp(a,t,h,n,u)&&(i=!0,e=(a-u.x)*(a-u.x)+(t-u.y)*(t-u.y),l>e&&(l=e,o.set(u)));Uh.B(u),r&&o.transform(s)}return i},Wh.T=function(t){Sn.prototype.T.call(this,t),this.ha===uc&&(t=this.Qf(),null!==t&&t.T(!0)),t=this.Ga.q;for(var e=t.length,i=0;e>i;i++){var n=t[i];!0!==Un(n)&&(n.ya.J()||(n instanceof As||n instanceof io||n instanceof $o||zn(n,!1)!==Xu)&&n.T(!0))}},Wh.hp=function(){if(!1===Un(this)){Kn(this,!0),Jn(this,!0);for(var t=this.Ga.q,e=t.length,i=0;e>i;i++)t[i].hp()}},Wh.Vg=function(){if(0!==(2048&this.ia)==!1){Gn(this,!0),Vn(this,!0);for(var t=this.Ga.q,e=t.length,i=0;e>i;i++)t[i].jA()}},Wh.jA=function(){Vn(this,!0);for(var t=this.Ga.q,e=t.length,i=0;e>i;i++)t[i].jA()},Wh.xp=function(t,e,i,n){var o=this.Di;o.width=0,o.height=0;var r=this.ya,s=this.Re;void 0===i&&(i=s.width,n=s.height),i=Math.max(i,s.width),n=Math.max(n,s.height);var a=this.Qd;isNaN(r.width)||(t=Math.min(r.width,a.width)),isNaN(r.height)||(e=Math.min(r.height,a.height)),t=Math.max(i,t),e=Math.max(n,e);var h=this.padding;t=Math.max(t-h.left-h.right,0),e=Math.max(e-h.top-h.bottom,0);var l=this.Ga.q;if(0!==l.length){var u=this.ha.Xb;switch(u){case"Position":var c=t,f=e,d=i,p=n,g=l.length;o.x=0,o.y=0,o.width=0;for(var m=o.height=0;g>m;m++){var v=l[m];if(v.visible||v===this.hc){var y=v.margin,b=y.right+y.left,w=y.top+y.bottom;Pn(v,c,f,d,p);var x=v.Fa,C=Math.max(x.width+b,0),S=Math.max(x.height+w,0),F=v.position.x,E=v.position.y;if(isFinite(F)||(F=0),isFinite(E)||(E=0),v instanceof Fo){var M=v;if(M.qA)var D=M.ib/2,F=F-D,E=E-D}T(o,F,E,C,S)}}break;case"Vertical":for(var P=t,L=i,B=l.length,N=Uh.lb(),$=0;B>$;$++){var R=l[$];if(R.visible||R===this.hc){var O=zn(R,!1);if(O!==Xu&&O!==Zu)N.push(R);else{var j=R.margin,I=j.right+j.left,z=j.top+j.bottom;Pn(R,P,1/0,L,0);var _=R.Fa,H=Math.max(_.width+I,0),q=Math.max(_.height+z,0);o.width=Math.max(o.width,H),o.height+=q}}}var W=N.length;if(0!==W){for(this.ya.width?P=Math.min(this.ya.width,this.Qd.width):0!==o.width&&(P=Math.min(o.width,this.Qd.width)),$=0;W>$;$++)R=N[$],(R.visible||R===this.hc)&&(j=R.margin,I=j.right+j.left,z=j.top+j.bottom,Pn(R,P,1/0,L,0),_=R.Fa,H=Math.max(_.width+I,0),q=Math.max(_.height+z,0),o.width=Math.max(o.width,H),o.height+=q);Uh.xa(N)}break;case"Horizontal":for(var G=e,V=n,U=l.length,K=Uh.lb(),Y=0;U>Y;Y++){var J=l[Y];if(J.visible||J===this.hc){var X=zn(J,!1);if(X!==Xu&&X!==tc)K.push(J);else{var Q=J.margin,Z=Q.right+Q.left,tt=Q.top+Q.bottom;Pn(J,1/0,G,0,V);var et=J.Fa,it=Math.max(et.width+Z,0),nt=Math.max(et.height+tt,0);o.width+=it,o.height=Math.max(o.height,nt)}}}var ot=K.length;if(0!==ot){for(this.ya.height?G=Math.min(this.ya.height,this.Qd.height):0!==o.height&&(G=Math.min(o.height,this.Qd.height)),Y=0;ot>Y;Y++)J=K[Y],(J.visible||J===this.hc)&&(Q=J.margin,Z=Q.right+Q.left,tt=Q.top+Q.bottom,Pn(J,1/0,G,0,V),et=J.Fa,it=Math.max(et.width+Z,0),nt=Math.max(et.height+tt,0),o.width+=it,o.height=Math.max(o.height,nt));Uh.xa(K)}break;case"Spot":t:{var rt=t,st=e,at=i,ht=n,lt=l.length,ut=this.Qf(),ct=ut.margin,ft=0,dt=0,pt=ct.right+ct.left,gt=ct.top+ct.bottom;Pn(ut,rt,st,at,ht);var mt=ut.Fa,vt=mt.width,yt=mt.height,bt=Math.max(vt+pt,0),wt=Math.max(yt+gt,0);o.x=-ct.left,o.y=-ct.top,o.width=bt,o.height=wt;for(var xt=0;lt>xt;xt++){var Ct=l[xt];if(Ct!==ut&&(Ct.visible||Ct===this.hc)){ct=Ct.margin,ft=ct.right+ct.left,dt=ct.top+ct.bottom,Pn(Ct,rt,st,0,0);var mt=Ct.Fa,bt=Math.max(mt.width+ft,0),wt=Math.max(mt.height+dt,0),kt=Ct.alignment;kt.Oc()&&(kt=this.Xj),kt.kd()||(kt=al);var At=Ct.Fi;At.Oc()&&(At=al),T(o,kt.x*vt+kt.offsetX-(At.x*mt.width-At.offsetX)-ct.left,kt.y*yt+kt.offsetY-(At.y*mt.height-At.offsetY)-ct.top,bt,wt)}}var St=ut.stretch;switch(St===Qu&&(St=zn(ut,!1)),St){case Xu:break t;case ec:if(!isFinite(rt)&&!isFinite(st))break t;break;case tc:if(!isFinite(rt))break t;break;case Zu:if(!isFinite(st))break t}for(mt=ut.Fa,vt=mt.width,yt=mt.height,bt=Math.max(vt+pt,0),wt=Math.max(yt+gt,0),ct=ut.margin,o.x=-ct.left,o.y=-ct.top,o.width=bt,o.height=wt,xt=0;lt>xt;xt++)Ct=l[xt],Ct===ut||!Ct.visible&&Ct!==this.hc||(ct=Ct.margin,ft=ct.right+ct.left,dt=ct.top+ct.bottom,mt=Ct.Fa,bt=Math.max(mt.width+ft,0),wt=Math.max(mt.height+dt,0),kt=Ct.alignment,kt.Oc()&&(kt=this.Xj),kt.kd()||(kt=al),At=Ct.Fi,At.Oc()&&(At=al),T(o,kt.x*vt+kt.offsetX-(At.x*mt.width-At.offsetX)-ct.left,kt.y*yt+kt.offsetY-(At.y*mt.height-At.offsetY)-ct.top,bt,wt))}break;case"Auto":var Ft=t,Et=e,Tt=i,Mt=n,Dt=l.length,Pt=this.Qf(),Lt=Pt.margin,Bt=Lt.right+Lt.left,Nt=Lt.top+Lt.bottom;Pn(Pt,Ft,Et,Tt,Mt);var $t=Pt.Fa,Rt=Math.max($t.width+Bt,0),Ot=Math.max($t.height+Nt,0),jt=mo(Pt),It=jt.x*Rt+jt.offsetX,zt=jt.y*Ot+jt.offsetY,jt=vo(Pt),_t=jt.x*Rt+jt.offsetX,Ht=jt.y*Ot+jt.offsetY,qt=Ft,Wt=Et;isFinite(Ft)&&(qt=Math.abs(It-_t)),isFinite(Et)&&(Wt=Math.abs(zt-Ht));var Gt=Uh.Hl();Gt.o(0,0);for(var Vt=0;Dt>Vt;Vt++){var Ut=l[Vt];if(Ut!==Pt&&(Ut.visible||Ut===this.hc)){var Lt=Ut.margin,Kt=Lt.right+Lt.left,Yt=Lt.top+Lt.bottom;Pn(Ut,qt,Wt,0,0),$t=Ut.Fa,Rt=Math.max($t.width+Kt,0),Ot=Math.max($t.height+Yt,0),Gt.o(Math.max(Rt,Gt.width),Math.max(Ot,Gt.height))}}if(1===Dt)o.width=Rt,o.height=Ot,Uh.dk(Gt);else{var Jt=mo(Pt),Xt=vo(Pt),Qt=0,Zt=0;Xt.x!==Jt.x&&Xt.y!==Jt.y&&(Qt=Gt.width/Math.abs(Xt.x-Jt.x),Zt=Gt.height/Math.abs(Xt.y-Jt.y)),Uh.dk(Gt);var te=0;if(Pt instanceof Fo){var ee=Pt,te=ee.ib*ee.scale;Do(ee)===ic&&(Qt=Zt=Math.max(Qt,Zt))}var Qt=Qt+(Math.abs(Jt.offsetX)+Math.abs(Xt.offsetX)+te),Zt=Zt+(Math.abs(Jt.offsetY)+Math.abs(Xt.offsetY)+te),ie=Pt.stretch;switch(ie===Qu&&(ie=zn(Pt,!1)),ie){case Xu:Mt=Tt=0;break;case ec:isFinite(Ft)&&(Qt=Ft),isFinite(Et)&&(Zt=Et);break;case tc:isFinite(Ft)&&(Qt=Ft),Mt=0;break;case Zu:Tt=0,isFinite(Et)&&(Zt=Et)}Pt instanceof Fo&&!Pt.ya.J()&&(ee=Pt,ee.bh?ee.Bk=null:ee.Ta=null),Pt.hp(),Pn(Pt,Qt,Zt,Tt,Mt),o.width=Pt.Fa.width+Bt,o.height=Pt.Fa.height+Nt}break;case"Table":for(var ne=t,oe=e,re=i,se=n,ae=l.length,he=Uh.lb(),le=Uh.lb(),ue=0;ae>ue;ue++){var ce=l[ue],fe=ce instanceof io?ce:null;if(null===fe||fe.type!==fc&&fe.type!==dc||!ce.visible)he.push(ce);else{Vh&&(fe.ya.J()&&Uh.m(fe.toString()+" TableRow/TableColumn Panels cannot have a desiredSize set: "+fe.ya.toString()),fe.Re.L(Bl.on)||Uh.m(fe.toString()+" TableRow/TableColumn Panels cannot have a minSize set: "+fe.Re.toString()),fe.Qd.L(Bl.BB)||Uh.m(fe.toString()+" TableRow/TableColumn Panels cannot have a maxSize set: "+fe.Qd.toString())),le.push(ce);for(var de=fe.Ga.q,pe=de.length,ge=0;pe>ge;ge++){var me=de[ge];fe.type===fc?me.qc=ce.qc:fe.type===dc&&(me.column=ce.column),he.push(me)}}}ae=he.length,0===ae&&(this.jd(0),this.hd(0));for(var ve=[],ue=0;ae>ue;ue++)ce=he[ue],Kn(ce,!0),Jn(ce,!0),ve[ce.qc]||(ve[ce.qc]=[]),ve[ce.qc][ce.column]||(ve[ce.qc][ce.column]=[]),ve[ce.qc][ce.column].push(ce);Uh.xa(he);for(var ye=Uh.lb(),be=Uh.lb(),we=Uh.lb(),xe={count:0},Ce={count:0},ke=ne,Ae=oe,Se=this.Fd,ae=Se.length,ue=0;ae>ue;ue++){var Fe=Se[ue];void 0!==Fe&&(Fe.Ua=0)}for(Se=this.yd,ae=Se.length,ue=0;ae>ue;ue++)Fe=Se[ue],void 0!==Fe&&(Fe.Ua=0);for(var Ee=ve.length,Te=0,ue=0;Ee>ue;ue++)ve[ue]&&(Te=Math.max(Te,ve[ue].length));for(var Me=Math.min(this.Ci,Ee-1),De=Math.min(this.pi,Te-1),Pe=0,Ee=ve.length,ue=Me;Ee>ue;ue++)if(ve[ue]){var Te=ve[ue].length,Le=this.jd(ue);for(Le.Ua=0,ge=De;Te>ge;ge++)if(ve[ue][ge]){var Be=this.hd(ge);void 0===ye[ge]&&(Be.Ua=0,ye[ge]=!0);for(var Ne=ve[ue][ge],$e=Ne.length,Re=0;$e>Re;Re++)if(ce=Ne[Re],ce.visible||ce===this.hc){var Oe=1<ce.Dj||1<ce.fj;Oe&&be.push(ce);var je=ce.margin,Ie=je.right+je.left,ze=je.top+je.bottom,_e=_n(ce,Le,Be,!1),He=ce.ya,qe=!isNaN(He.height),We=!isNaN(He.width)&&qe;Oe||_e===Xu||We||(void 0===xe[ge]&&(xe[ge]=-1,xe.count++),void 0===Ce[ue]&&(Ce[ue]=-1,Ce.count++),we.push(ce)),Pn(ce,1/0,1/0,0,0);var Ge=ce.Fa,Ve=Math.max(Ge.width+Ie,0),Ue=Math.max(Ge.height+ze,0);1!==ce.Dj||_e!==Xu&&_e!==tc||(Fe=this.jd(ue),Pe=Math.max(Ue-Fe.Ua,0),Pe>Ae&&(Pe=Ae),Fe.Ua+=Pe,Ae=Math.max(Ae-Pe,0)),1!==ce.fj||_e!==Xu&&_e!==Zu||(Fe=this.hd(ge),Pe=Math.max(Ve-Fe.Ua,0),Pe>ke&&(Pe=ke),Fe.Ua+=Pe,ke=Math.max(ke-Pe,0)),Oe&&ce.hp()}}}Uh.xa(ye);for(var Ke=0,Ye=0,ae=this.et,ue=0;ae>ue;ue++)void 0!==this.yd[ue]&&(Ke+=this.hd(ue).Db);for(ae=this.Xt,ue=0;ae>ue;ue++)void 0!==this.Fd[ue]&&(Ye+=this.jd(ue).Db);for(var ke=Math.max(ne-Ke,0),Je=Ae=Math.max(oe-Ye,0),Xe=ke,ae=we.length,ue=0;ae>ue;ue++){var ce=we[ue],Le=this.jd(ce.qc),Be=this.hd(ce.column),Qe=ce.Fa,je=ce.margin,Ie=je.right+je.left,ze=je.top+je.bottom;xe[ce.column]=0===Be.Ua?Math.max(Qe.width+Ie,xe[ce.column]):null,Ce[ce.qc]=0===Le.Ua?Math.max(Qe.height+ze,Ce[ce.qc]):null}var Ze=0,ti=0;for(ue in Ce)"count"!==ue&&(Ze+=Ce[ue]);for(ue in xe)"count"!==ue&&(ti+=xe[ue]);for(var ei=Uh.Hl(),ue=0;ae>ue;ue++)if(ce=we[ue],ce.visible||ce===this.hc){var Le=this.jd(ce.qc),Be=this.hd(ce.column),ii=0;isFinite(Be.width)?ii=Be.width:(ii=isFinite(ke)&&null!==xe[ce.column]?0===ti?Be.Ua+ke:xe[ce.column]/ti*Xe:null!==xe[ce.column]?ke:Be.Ua||ke,ii=Math.max(0,ii-Be.ug()));var ni=0;switch(isFinite(Le.height)?ni=Le.height:(ni=isFinite(Ae)&&null!==Ce[ce.qc]?0===Ze?Le.Ua+Ae:Ce[ce.qc]/Ze*Je:null!==Ce[ce.qc]?Ae:Le.Ua||Ae,ni=Math.max(0,ni-Le.ug())),ei.o(Math.max(Be.Wh,Math.min(ii,Be.Af)),Math.max(Le.Wh,Math.min(ni,Le.Af))),_e=_n(ce,Le,Be,!1)){case tc:ei.height=1/0;break;case Zu:ei.width=1/0}je=ce.margin,Ie=je.right+je.left,ze=je.top+je.bottom,ce.hp(),Pn(ce,ei.width,ei.height,Be.Wh,Le.Wh),Ge=ce.Fa,Ve=Math.max(Ge.width+Ie,0),Ue=Math.max(Ge.height+ze,0),isFinite(ke)&&(Ve=Math.min(Ve,ei.width)),isFinite(Ae)&&(Ue=Math.min(Ue,ei.height));var oi=0,oi=Le.Ua;Le.Ua=Math.max(Le.Ua,Ue),Pe=Le.Ua-oi,Ae=Math.max(Ae-Pe,0),oi=Be.Ua,Be.Ua=Math.max(Be.Ua,Ve),Pe=Be.Ua-oi,ke=Math.max(ke-Pe,0)}Uh.xa(we);for(var ri=Uh.Hl(),ae=be.length,ue=0;ae>ue;ue++)if(ce=be[ue],ce.visible||ce===this.hc){switch(Le=this.jd(ce.qc),Be=this.hd(ce.column),ei.o(Math.max(Be.Wh,Math.min(ne,Be.Af)),Math.max(Le.Wh,Math.min(oe,Le.Af))),_e=_n(ce,Le,Be,!1)){case ec:0!==Be.Ua&&(ei.width=Math.min(ei.width,Be.Ua)),0!==Le.Ua&&(ei.height=Math.min(ei.height,Le.Ua));break;case tc:0!==Be.Ua&&(ei.width=Math.min(ei.width,Be.Ua));break;case Zu:0!==Le.Ua&&(ei.height=Math.min(ei.height,Le.Ua))}isFinite(Be.width)&&(ei.width=Be.width),isFinite(Le.height)&&(ei.height=Le.height),ri.o(0,0);for(var si=1;si<ce.Dj&&!(ce.qc+si>=this.Xt);si++)Fe=this.jd(ce.qc+si),ri.height+=Math.max(Fe.Wh,isNaN(Fe.af)?Fe.Af:Math.min(Fe.af,Fe.Af));for(si=1;si<ce.fj&&!(ce.column+si>=this.et);si++)Fe=this.hd(ce.column+si),ri.width+=Math.max(Fe.Wh,isNaN(Fe.af)?Fe.Af:Math.min(Fe.af,Fe.Af));ei.width+=ri.width,ei.height+=ri.height,je=ce.margin,Ie=je.right+je.left,ze=je.top+je.bottom,Pn(ce,ei.width,ei.height,re,se);for(var Ge=ce.Fa,Ve=Math.max(Ge.width+Ie,0),Ue=Math.max(Ge.height+ze,0),ai=0,si=0;si<ce.Dj&&!(ce.qc+si>=this.Xt);si++)Fe=this.jd(ce.qc+si),ai+=Fe.total||0;if(Ue>ai)for(var hi=Ue-ai;hi>0;){var li=Fe.Db||0;if(isNaN(Fe.height)&&Fe.Af>li&&(Fe.Ua=Math.min(Fe.Af,li+hi),Fe.Db!==li&&(hi-=Fe.Db-li)),-1===Fe.index-1)break;Fe=this.jd(Fe.index-1)}for(var ui=0,si=0;si<ce.fj&&!(ce.column+si>=this.et);si++)Fe=this.hd(ce.column+si),ui+=Fe.total||0;if(Ve>ui)for(hi=Ve-ui;hi>0&&(li=Fe.Db||0,isNaN(Fe.width)&&Fe.Af>li&&(Fe.Ua=Math.min(Fe.Af,li+hi),Fe.Db!==li&&(hi-=Fe.Db-li)),-1!==Fe.index-1);)Fe=this.hd(Fe.index-1)}Uh.xa(be),Uh.dk(ri),Uh.dk(ei);for(var ci=0,fi=0,_e=zn(this,!0),di=this.ya,pi=this.Qd,gi=Ye=Ke=0,mi=0,ae=this.et,ue=0;ae>ue;ue++)void 0!==this.yd[ue]&&(Fe=this.hd(ue),isFinite(Fe.width)?(gi+=Fe.width,gi+=Fe.ug()):So(Fe)===wc?(gi+=Fe.Db,gi+=Fe.ug()):0!==Fe.Db&&(Ke+=Fe.Db,Ke+=Fe.ug()));var ci=isFinite(di.width)?Math.min(di.width,pi.width):_e!==Xu&&isFinite(ne)?ne:Ke,ci=Math.max(ci,this.Re.width),ci=Math.max(ci-gi,0),vi=Math.max(ci/Ke,1);for(isFinite(vi)||(vi=1),ue=0;ae>ue;ue++)void 0!==this.yd[ue]&&(Fe=this.hd(ue),isFinite(Fe.width)||So(Fe)===wc||(Fe.Ua=Fe.Db*vi),Fe.position=o.width,0!==Fe.Db&&(o.width+=Fe.Db,o.width+=Fe.ug()));for(ae=this.Xt,ue=0;ae>ue;ue++)void 0!==this.Fd[ue]&&(Fe=this.jd(ue),isFinite(Fe.height)?(mi+=Fe.height,mi+=Fe.ug()):So(Fe)===wc?(mi+=Fe.Db,mi+=Fe.ug()):0!==Fe.Db&&(Ye+=Fe.Db,Ye+=Fe.ug()));var fi=isFinite(di.height)?Math.min(di.height,pi.height):_e!==Xu&&isFinite(oe)?oe:Ye,fi=Math.max(fi,this.Re.height),fi=Math.max(fi-mi,0),yi=Math.max(fi/Ye,1);for(isFinite(yi)||(yi=1),ue=0;ae>ue;ue++)void 0!==this.Fd[ue]&&(Fe=this.jd(ue),isFinite(Fe.height)||So(Fe)===wc||(Fe.Ua=Fe.Db*yi),Fe.position=o.height,0!==Fe.Db&&(o.height+=Fe.Db,o.height+=Fe.ug()));for(ae=le.length,ue=0;ae>ue;ue++){var bi=le[ue];bi.type===fc?(ii=o.width,Fe=this.jd(bi.qc),ni=Fe.Ua):(Fe=this.hd(bi.column),ii=Fe.Ua,ni=o.height),bi.Tc.o(0,0,ii,ni),Kn(bi,!1),ve[bi.qc]||(ve[bi.qc]=[]),ve[bi.qc][bi.column]||(ve[bi.qc][bi.column]=[]),ve[bi.qc][bi.column].push(bi)}Uh.xa(le),this.os=ve;break;case"Viewbox":var wi=t,xi=e,Ci=i,ki=n;1<l.length&&Uh.m("Viewbox Panel cannot contain more than one GraphObject.");var Ai=l[0];Ai.ec=1,Ai.hp(),Pn(Ai,1/0,1/0,Ci,ki);var Si=Ai.Fa,Fi=Ai.margin,Ei=Fi.right+Fi.left,Ti=Fi.top+Fi.bottom;if(isFinite(wi)||isFinite(xi)){var Mi=Ai.scale,Di=Si.width,Pi=Si.height,Li=Math.max(wi-Ei,0),Bi=Math.max(xi-Ti,0),Ni=1;this.Co===ic?0!==Di&&0!==Pi&&(Ni=Math.min(Li/Di,Bi/Pi)):0!==Di&&0!==Pi&&(Ni=Math.max(Li/Di,Bi/Pi)),0===Ni&&(Ni=1e-4),Ai.ec*=Ni,Mi!==Ai.scale&&(Kn(Ai,!0),Pn(Ai,1/0,1/0,Ci,ki))}Si=Ai.Fa,o.width=isFinite(wi)?wi:Math.max(Si.width+Ei,0),o.height=isFinite(xi)?xi:Math.max(Si.height+Ti,0);break;case"Link":var $i=l.length,Ri=this instanceof xr?this.Nh:this;if(Ri instanceof Nr)if(0===$i){var Oi=this.Kc;A(Oi,0,0);var ji=this.Fa;ji.o(0,0,0,0)}else{var Ii=this instanceof xr?null:Ri.path,zi=Ri.gn,_i=this.Di;_i.assign(zi),_i.x=0;var Hi=_i.y=0,qi=Ri.points,Hi=void 0!==this.oa?this.oa:qi.count;this.Yg.o(zi.x,zi.y),this.ej.clear(),null!==Ii&&(Mo(Ii,zi.width,zi.height),ji=Ii.Fa,_i.$h(ji),this.ej.add(ji));for(var Wi=Uh.mh(),Gi=Uh.M(),Vi=Uh.M(),Ui=0;$i>Ui;Ui++){var Ki=l[Ui];if(Ki!==Ii)if(Ki.Tf&&Ki instanceof Fo)Mo(Ki,zi.width,zi.height),ji=Ki.Fa,_i.$h(ji),this.ej.add(ji);else if(2>Hi)Pn(Ki,1/0,1/0),ji=Ki.Fa,_i.$h(ji),this.ej.add(ji);else{var Yi=Ki.Df,Ji=Ki.Yt,Xi=Ki.Fi;Xi.te()&&(Xi=al);var Qi=Ki.Zt,Zi=Ki.cB,tn=0,en=0,nn=0;if(-Hi>Yi||Yi>=Hi){var on=Ri.DF,rn=Ri.CF;Qi!==tf&&(nn=Ri.computeAngle(Ki,Qi,rn),Ki.angle=nn),tn=on.x-zi.x,en=on.y-zi.y}else{var sn,an;if(Yi>=0)sn=qi.na(Yi),an=Hi-1>Yi?qi.na(Yi+1):sn;else{var hn=Hi+Yi;sn=qi.na(hn),an=hn>0?qi.na(hn-1):sn}rn=Yi>=0?sn.Pi(an):an.Pi(sn),Qi!==tf&&(nn=Ri.computeAngle(Ki,Qi,rn),Ki.vn=nn),tn=sn.x+(an.x-sn.x)*Ji-zi.x,en=sn.y+(an.y-sn.y)*Ji-zi.y}Pn(Ki,1/0,1/0);var ji=Ki.Fa,Oi=Ki.Ka,ln=0;Ki instanceof Fo&&(ln=Ki.ib);var un=Oi.width+ln,cn=Oi.height+ln;Wi.reset(),Wi.translate(-ji.x,-ji.y),Wi.scale(Ki.scale,Ki.scale),Wi.rotate(Qi===tf?Ki.angle:rn,un/2,cn/2);var fn=new k(0,0,un,cn);Gi.bu(fn,Xi),Wi.fb(Gi);var dn=-Gi.x+ln/2,pn=-Gi.y+ln/2;Vi.assign(Zi),isNaN(Vi.x)&&(Vi.x=Yi>=0?un/2+3:-(un/2+3)),isNaN(Vi.y)&&(Vi.y=-(cn/2+3)),Vi.rotate(rn),tn+=Vi.x,en+=Vi.y,fn.set(ji),fn.x=tn+dn,fn.y=en+pn,this.ej.add(fn),_i.$h(fn)}}if(this.ze)for(var gn=this.Bg;gn.next();)Pn(gn.value,1/0,1/0);this.Di=_i;var mn=this.Yg;mn.o(mn.x+_i.x,mn.y+_i.y),A(o,_i.width||0,_i.height||0),Uh.df(Wi),Uh.B(Gi),Uh.B(Vi)}break;case"Grid":break;case"TableRow":case"TableColumn":Uh.m(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:Uh.m("Unknown panel type: "+u)}}var vn=o.width,yn=o.height,bn=this.padding,wn=bn.top+bn.bottom,vn=vn+(bn.left+bn.right),yn=yn+wn;isFinite(r.width)&&(vn=r.width),isFinite(r.height)&&(yn=r.height),vn=Math.min(a.width,vn),yn=Math.min(a.height,yn),vn=Math.max(s.width,vn),yn=Math.max(s.height,yn),vn=Math.max(i,vn),yn=Math.max(n,yn),o.width=vn,o.height=yn,A(this.Kc,vn,yn),Mn(this,0,0,vn,yn)},io.prototype.findMainElement=io.prototype.Qf=function(){if(null===this.xm){var t=this.Ga.q,e=t.length;if(0===e)return null;for(var i=0;e>i;i++){var n=t[i];if(!0===n.Tf)return this.xm=n}this.xm=t[0]}return this.xm},io.prototype.Hi=function(t,e,i,n){var o=this.Di,r=this.Ga.q,s=Uh.lk(0,0,0,0);if(0===r.length){var a=this.ea;a.x=t,a.y=e,a.width=i,a.height=n}else{if(!this.ya.J()){var h=zn(this,!0),l=this.Tc,u=l.width,c=l.height,f=this.margin,d=f.left+f.right,p=f.top+f.bottom;switch(u===i&&c===n&&(h=Xu),h){case Xu:(u>i||c>n)&&(this.T(),Pn(this,u>i?i:u,c>n?n:c));break;case ec:this.T(!0),Pn(this,i+d,n+p,0,0);break;case tc:this.T(!0),Pn(this,i+d,c+p,0,0);break;case Zu:this.T(!0),Pn(this,u+d,n+p,0,0)}}a=this.ea,a.x=t,a.y=e,a.width=i,a.height=n;var g=this.ha.Xb;switch(g){case"Position":for(var m=r.length,v=o.x-this.padding.left,y=o.y-this.padding.top,b=0;m>b;b++){var w=r[b],x=w.Fa,C=w.margin,A=w.position.x,S=w.position.y;if(s.x=isNaN(A)?-v:A-v,s.y=isNaN(S)?-y:S-y,w instanceof Fo){var F=w;if(F.qA){var E=F.ib/2;s.x-=E,s.y-=E}}s.x+=C.left,s.y+=C.top,s.width=x.width,s.height=x.height,
w.visible&&w.Fc(s.x,s.y,s.width,s.height)}break;case"Vertical":for(var M=r.length,D=this.padding.left,P=this.padding.top,L=0;M>L;L++){var B=D,N=r[L];if(N.visible){var $=N.Fa,R=N.margin,O=R.left+R.right,j=D+this.padding.right,I=$.width,z=zn(N,!1);(isNaN(N.ya.width)&&z===ec||z===tc)&&(I=Math.max(o.width-O-j,0));var _=I+O+j,H=N.alignment;H.Oc()&&(H=this.Xj),H.kd()||(H=al),N.Fc(B+H.offsetX+R.left+(o.width*H.x-_*H.x),P+H.offsetY+R.top,I,$.height),P+=$.height+R.bottom+R.top}}break;case"Horizontal":for(var q=r.length,W=this.padding.top,G=this.padding.left,V=0;q>V;V++){var U=W,K=r[V];if(K.visible){var Y=K.Fa,J=K.margin,X=J.top+J.bottom,Q=W+this.padding.bottom,Z=Y.height,tt=zn(K,!1);(isNaN(K.ya.height)&&tt===ec||tt===Zu)&&(Z=Math.max(o.height-X-Q,0));var et=Z+X+Q,it=K.alignment;it.Oc()&&(it=this.Xj),it.kd()||(it=al),K.Fc(G+it.offsetX+J.left,U+it.offsetY+J.top+(o.height*it.y-et*it.y),Y.width,Z),G+=Y.width+J.left+J.right}}break;case"Spot":var nt=r.length,ot=this.Qf(),rt=ot.Fa,st=rt.width,at=rt.height,ht=this.padding,lt=ht.left,ut=ht.top;s.x=lt-o.x,s.y=ut-o.y,ot.Fc(s.x,s.y,st,at);for(var ct=0;nt>ct;ct++){var ft=r[ct];if(ft!==ot){var dt=ft.Fa,pt=dt.width,gt=dt.height,mt=ft.alignment;mt.Oc()&&(mt=this.Xj),mt.kd()||(mt=al);var vt=ft.Fi;vt.Oc()&&(vt=al),s.x=mt.x*st+mt.offsetX-(vt.x*pt-vt.offsetX),s.y=mt.y*at+mt.offsetY-(vt.y*gt-vt.offsetY),s.x-=o.x,s.y-=o.y,ft.visible&&ft.Fc(lt+s.x,ut+s.y,pt,gt)}}break;case"Auto":var yt=r.length,bt=this.Qf(),wt=bt.Fa,xt=Uh.$f();xt.o(0,0,1,1);var Ct=bt.margin,kt=Ct.left,At=Ct.top,St=this.padding,Ft=St.left,Et=St.top;s.x=kt,s.y=At,s.width=wt.width,s.height=wt.height,bt.Fc(Ft+s.x,Et+s.y,s.width,s.height);var Tt=mo(bt),Mt=vo(bt),Dt=0+Tt.y*wt.height+Tt.offsetY,Pt=0+Mt.x*wt.width+Mt.offsetX,Lt=0+Mt.y*wt.height+Mt.offsetY;xt.x=0+Tt.x*wt.width+Tt.offsetX,xt.y=Dt,T(xt,Pt,Lt,0,0),xt.x+=kt+Ft,xt.y+=At+Et;for(var Bt=0;yt>Bt;Bt++){var Nt=r[Bt];if(Nt!==bt){var $t=Nt.Fa,Ct=Nt.margin,Rt=Math.max($t.width+Ct.right+Ct.left,0),Ot=Math.max($t.height+Ct.top+Ct.bottom,0),jt=Nt.alignment;jt.Oc()&&(jt=this.Xj),jt.kd()||(jt=al),s.x=xt.width*jt.x+jt.offsetX-Rt*jt.x+Ct.left+xt.x,s.y=xt.height*jt.y+jt.offsetY-Ot*jt.y+Ct.top+xt.y,s.width=xt.width,s.height=xt.height,Nt.visible&&(Zh(xt.x,xt.y,xt.width,xt.height,s.x,s.y,$t.width,$t.height)?Nt.Fc(s.x,s.y,$t.width,$t.height):Nt.Fc(s.x,s.y,$t.width,$t.height,new k(xt.x,xt.y,xt.width,xt.height)))}}Uh.nc(xt);break;case"Table":for(var It=r.length,zt=this.padding,_t=zt.left,Ht=zt.top,qt=this.os,Wt=0,Gt=0,Vt=qt.length,Ut=0,Kt=0;Vt>Kt;Kt++)qt[Kt]&&(Ut=Math.max(Ut,qt[Kt].length));for(var Yt=Math.min(this.Ci,Vt-1);Yt!==Vt&&(void 0===this.Fd[Yt]||0===this.Fd[Yt].Db);)Yt++;for(var Yt=Math.min(Yt,Vt-1),Jt=-this.Fd[Yt].Oa,Xt=Math.min(this.pi,Ut-1);Xt!==Ut&&(void 0===this.yd[Xt]||0===this.yd[Xt].Db);)Xt++;for(var Xt=Math.min(Xt,Ut-1),Qt=-this.yd[Xt].Oa,Zt=Uh.Hl(),Kt=0;Vt>Kt;Kt++)if(qt[Kt])for(var Ut=qt[Kt].length,te=this.jd(Kt),Gt=te.Oa+Jt+Ht+te.fE(),ee=0;Ut>ee;ee++)if(qt[Kt][ee])for(var ie=this.hd(ee),Wt=ie.Oa+Qt+_t+ie.fE(),ne=qt[Kt][ee],oe=ne.length,re=0;oe>re;re++){var se=ne[re],ae=se.Fa,he=se instanceof io?se:null;if(null===he||he.type!==fc&&he.type!==dc){Zt.o(0,0);for(var le=1;le<se.rowSpan&&!(Kt+le>=this.Xt);le++){var ue=this.jd(Kt+le);Zt.height+=ue.total}for(le=1;le<se.dE&&!(ee+le>=this.et);le++){var ce=this.hd(ee+le);Zt.width+=ce.total}var fe=ie.Db+Zt.width,de=te.Db+Zt.height;s.x=Wt,s.y=Gt,s.width=fe,s.height=de;var pe=Wt,ge=Gt,me=fe,ve=de;Wt+fe>o.width&&(me=Math.max(o.width-Wt,0)),Gt+de>o.height&&(ve=Math.max(o.height-Gt,0));var ye=se.alignment,be=0,we=0,xe=0,Ce=0;if(ye.Oc()){ye=this.Xj,ye.kd()||(ye=al);var be=ye.x,we=ye.y,xe=ye.offsetX,Ce=ye.offsetY,ke=ie.alignment,Ae=te.alignment;ke.kd()&&(be=ke.x,xe=ke.offsetX),Ae.kd()&&(we=Ae.y,Ce=Ae.offsetY)}else be=ye.x,we=ye.y,xe=ye.offsetX,Ce=ye.offsetY;(isNaN(be)||isNaN(we))&&(we=be=.5,Ce=xe=0);var Se=ae.width,Fe=ae.height,Ee=se.margin,Te=Ee.left+Ee.right,Me=Ee.top+Ee.bottom,De=_n(se,te,ie,!1);!isNaN(se.ya.width)||De!==ec&&De!==tc||(Se=Math.max(fe-Te,0)),!isNaN(se.ya.height)||De!==ec&&De!==Zu||(Fe=Math.max(de-Me,0));var Pe=se.Qd,Le=se.Re,Se=Math.min(Pe.width,Se),Fe=Math.min(Pe.height,Fe),Se=Math.max(Le.width,Se),Fe=Math.max(Le.height,Fe),Be=Fe+Me;s.x+=s.width*be-(Se+Te)*be+xe+Ee.left,s.y+=s.height*we-Be*we+Ce+Ee.top,se.visible&&(Zh(pe,ge,me,ve,s.x,s.y,ae.width,ae.height)?se.Fc(s.x,s.y,Se,Fe):se.Fc(s.x,s.y,Se,Fe,new k(pe,ge,me,ve)))}else{se.Vg(),se.bc.Na();var Ne=se.bc;Ne.x=he.type===fc?_t:Wt,Ne.y=he.type===dc?Ht:Gt,Ne.width=ae.width,Ne.height=ae.height,se.bc.freeze(),Jn(se,!1)}}for(Uh.dk(Zt),Kt=0;It>Kt;Kt++)se=r[Kt],he=se instanceof io?se:null,null===he||he.type!==fc&&he.type!==dc||(Ne=se.bc,se.Kc.Na(),se.Kc.o(0,0,Ne.width,Ne.height),se.Kc.freeze());break;case"Viewbox":var $e=r[0],Re=$e.Fa,Oe=$e.margin,je=Oe.top+Oe.bottom,Ie=Math.max(Re.width+(Oe.right+Oe.left),0),ze=Math.max(Re.height+je,0),_e=$e.alignment;_e.Oc()&&(_e=this.Xj),_e.kd()||(_e=al),s.x=o.width*_e.x-Ie*_e.x+_e.offsetX,s.y=o.height*_e.y-ze*_e.y+_e.offsetY,s.width=Re.width,s.height=Re.height,$e.Fc(s.x,s.y,s.width,s.height);break;case"Link":var He=r.length,qe=this instanceof xr?this.Nh:this;if(qe instanceof Nr){var We=this instanceof xr?null:qe.path,Ge=this.ej.q,Ve=0;if(null!==We&&Ve<this.ej.count){var Ue=Ge[Ve];Ve++,We.Fc(Ue.x-this.Di.x,Ue.y-this.Di.y,Ue.width,Ue.height)}for(var Ke=0;He>Ke;Ke++){var Ye=r[Ke];Ye!==We&&Ve<this.ej.count&&(Ue=Ge[Ve],Ve++,Ye.Fc(Ue.x-this.Di.x,Ue.y-this.Di.y,Ue.width,Ue.height))}var Je=qe.points,Xe=Je.count;if(Xe>=2&&this.ze)for(var Qe=this.Bg;Qe.next();){var Ze=Qe.value,ti=Xe,ei=Je,ii=Ze.Df,ni=Ze.Yt,oi=Ze.Fi;oi.te()&&(oi=al);var ri=Ze.Zt,si=Ze.cB,ai=0,hi=0,li=0;if(-ti>ii||ii>=ti){var ui=this.DF,ci=this.CF;ri!==tf&&(li=this.computeAngle(Ze,ri,ci),Ze.angle=li),ai=ui.x,hi=ui.y}else{var fi=void 0,di=void 0;if(ii>=0)fi=ei.q[ii],di=ti-1>ii?ei.q[ii+1]:fi;else var pi=ti+ii,fi=ei.q[pi],di=pi>0?ei.q[pi-1]:fi;ci=ii>=0?fi.Pi(di):di.Pi(fi),ri!==tf&&(li=this.computeAngle(Ze,ri,ci),Ze.angle=li),ai=fi.x+(di.x-fi.x)*ni,hi=fi.y+(di.y-fi.y)*ni}var gi=Uh.mh();gi.reset(),gi.scale(Ze.scale,Ze.scale),gi.rotate(Ze.angle,0,0);var mi=Ze.Ka,vi=Uh.lk(0,0,mi.width,mi.height),yi=Uh.M();yi.bu(vi,oi),gi.fb(yi);var bi=-yi.x,wi=-yi.y,xi=si.copy();isNaN(xi.x)&&(xi.x=ii>=0?yi.x+3:-(yi.x+3)),isNaN(xi.y)&&(xi.y=-(yi.y+3)),xi.rotate(ci),ai+=xi.x,hi+=xi.y,gi.QG(vi);var bi=bi+vi.x,wi=wi+vi.y,Ci=Uh.ic(ai+bi,hi+wi);Ze.move(Ci),Uh.B(Ci),Uh.B(yi),Uh.nc(vi),Uh.df(gi)}this instanceof xr?this.Et():qe.Et()}break;case"Grid":break;case"TableRow":case"TableColumn":Uh.m(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:Uh.m("Unknown panel type: "+g)}Uh.nc(s)}},io.prototype.Uj=function(t){var e=this.Ka;if(Zh(0,0,e.width,e.height,t.x,t.y)){for(var e=this.Ga.q,i=e.length,n=Uh.ic(0,0);i--;){var o=e[i];if((o.visible||o===this.hc)&&(x(n.set(t),o.transform),o.Da(n)))return Uh.B(n),!0}return Uh.B(n),null===this.Mb&&null===this.tc?!1:!0}return!1},io.prototype.Fw=function(t){if(this.xn===t)return this;for(var e=this.Ga.q,i=e.length,n=0;i>n;n++){var o=e[n].Fw(t);if(null!==o)return o}return null},io.prototype.walkVisualTree=function(t){co(this,this,t)},io.prototype.findInVisualTree=io.prototype.lt=function(t){return fo(this,this,t)},io.prototype.findObject=io.prototype.pe=function(t){if(this.name===t)return this;for(var e=this.Ga.q,i=e.length,n=0;i>n;n++){var o=e[n];if(o.name===t)return o;if(o instanceof io)if(null===o.oi&&null===o.hg){if(o=o.pe(t),null!==o)return o}else if(wo(o)&&(o=o.Ga.first(),null!==o&&(o=o.pe(t),null!==o)))return o}return null},Wh=io.prototype,Wh.bg=function(){return!(this.type===fc||this.type===dc)},Wh.qe=function(t,e,i){if(!1===this.Cf)return null;if(void 0===e&&(e=null),void 0===i&&(i=null),Yn(this))return null;var n=this.Ka,o=1/this.Qi(),r=this.bg(),s=r?t:x(Uh.ic(t.x,t.y),this.transform),a=this.h,h=10,l=5;if(null!==a&&(h=a.dA("extraTouchArea"),l=h/2),Zh(-(l*o),-(l*o),n.width+h*o,n.height+h*o,s.x,s.y)){if(!this.Wg){var o=this.Ga.q,u=o.length,a=Uh.M(),l=(h=this.oA)?this.Qf():null;if(h&&(l.bg()?x(a.set(t),l.transform):a.set(t),!l.Da(a)))return Uh.B(a),r||Uh.B(s),null;for(;u--;){var c=o[u];if((c.visible||c===this.hc)&&(c.bg()?x(a.set(t),c.transform):a.set(t),!h||c!==l)){var f=null;if(c instanceof io?f=c.qe(a,e,i):!0===c.Cf&&c.Da(a)&&(f=c),null!==f&&(null!==e&&(f=e(f)),null!==f&&(null===i||i(f))))return Uh.B(a),r||Uh.B(s),f}}Uh.B(a)}return null===this.background&&null===this.el?(r||Uh.B(s),null):(t=Zh(0,0,n.width,n.height,s.x,s.y)?this:null,r||Uh.B(s),t)}return r||Uh.B(s),null},Wh.Wo=function(t,e,i,n){if(!1===this.Cf)return!1;void 0===e&&(e=null),void 0===i&&(i=null),n instanceof l||n instanceof c||(n=new l(Sn));var o=this.Ka,r=this.bg(),s=r?t:x(Uh.ic(t.x,t.y),this.transform);if(Zh(0,0,o.width,o.height,s.x,s.y)){if(!this.Wg){for(var o=this.Ga.q,a=o.length,h=Uh.M();a--;){var u=o[a];if(u.visible||u===this.hc){u.bg()?x(h.set(t),u.transform):h.set(t);var f=u,u=u instanceof io?u:null;(null!==u?u.Wo(h,e,i,n):f.Da(h))&&!1!==f.Cf&&(null!==e&&(f=e(f)),null===f||null!==i&&!i(f)||n.add(f))}}Uh.B(h)}return r||Uh.B(s),null!==this.background||null!==this.el}return r||Uh.B(s),!1},Wh.ck=function(t,e,i,n,o,r){if(!1===this.Cf)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=r;if(void 0===r&&(s=Uh.mh(),s.reset()),s.multiply(this.transform),this.Lm(t,s))return go(this,e,i,o),void 0===r&&Uh.df(s),!0;if(this.zg(t,s)){if(!this.Wg)for(var a=this.Ga.q,h=a.length;h--;){var l=a[h];if(l.visible||l===this.hc){var u=l.ea,c=this.Ka;u.x>c.width||u.y>c.height||0>u.x+u.width||0>u.y+u.height||(u=l,l=l instanceof io?l:null,c=Uh.mh(),c.set(s),(null!==l?l.ck(t,e,i,n,o,c):Dn(u,t,n,c))&&(null!==e&&(u=e(u)),null===u||null!==i&&!i(u)||o.add(u)),Uh.df(c))}}return void 0===r&&Uh.df(s),n}return void 0===r&&Uh.df(s),!1},Wh.Qm=function(t,e,i,n,o,r){if(!1===this.Cf)return!1;void 0===i&&(i=null),void 0===n&&(n=null);var s=this.Ka,a=this.bg(),h=a?t:x(Uh.ic(t.x,t.y),this.transform),l=a?e:x(Uh.ic(e.x,e.y),this.transform),u=h.Zj(l),c=0<h.x&&h.x<s.width&&0<h.y&&h.y<s.height||Jh(h.x,h.y,0,0,0,s.height)<u||Jh(h.x,h.y,0,s.height,s.width,s.height)<u||Jh(h.x,h.y,s.width,s.height,s.width,0)<u||Jh(h.x,h.y,s.width,0,0,0)<u,s=0<h.x&&h.x<s.width&&0<h.y&&h.y<s.height&&Jh(h.x,h.y,0,0,0,s.height)<u&&Jh(h.x,h.y,0,s.height,s.width,s.height)<u&&Jh(h.x,h.y,s.width,s.height,s.width,0)<u&&Jh(h.x,h.y,s.width,0,0,0)<u;if(a||(Uh.B(h),Uh.B(l)),c){if(!this.Wg){for(a=Uh.M(),h=Uh.M(),l=this.Ga.q,u=l.length;u--;){var f=l[u];if(f.visible||f===this.hc){var d=f.ea,p=this.Ka;d.x>p.width||d.y>p.height||0>d.x+d.width||0>d.y+d.height||(f.bg()?(d=f.transform,x(a.set(t),d),x(h.set(e),d)):(a.set(t),h.set(e)),d=f,f=f instanceof io?f:null,null!==f?!f.Qm(a,h,i,n,o,r):!d.HE(a,h,o))||(null!==i&&(d=i(d)),null===d||null!==n&&!n(d)||r.add(d))}}Uh.B(a),Uh.B(h)}return o?c:s}return!1},io.prototype.add=io.prototype.add=function(t){Uh.l(t,Sn,io,"add:element"),this.be(this.Ga.count,t)},io.prototype.elt=io.prototype.na=function(t){return this.Ga.na(t)},io.prototype.insertAt=io.prototype.be=function(t,e){e instanceof er&&Uh.m("Cannot add a Part to a Panel: "+e),(this===e||this.sl(e))&&(this===e&&Uh.m("Cannot make a Panel contain itself: "+this.toString()),Uh.m("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var i=e.U;if(null!==i&&i!==this&&Uh.m("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+i.toString()+", cannot be shared by this Panel: "+this.toString()),this.ha!==gc||e instanceof Fo||Uh.m("Can only add Shapes to a Grid Panel, not: "+e),e.Cl(this),e.lm=null,null!==this.Zw){var n=e.data;null!==n&&"object"==typeof n&&(null===this.gg&&(this.gg=new v(Object,io)),this.gg.add(n,e))}var o=this.Ga,n=-1;if(i===this){for(var r=-1,s=this.Ga.q,a=s.length,h=0;a>h;h++)if(s[h]===e){r=h;break}if(-1!==r){if(r===t||r+1>=o.count&&t>=o.count)return;o.md(r),n=r}else Uh.m("element "+e.toString()+" has panel "+i.toString()+" but is not contained by it.")}(0>t||t>o.count)&&(t=o.count),o.be(t,e),this.T(),e.T(),null!==e.xd?this.yh=!0:e instanceof io&&!0===e.yh&&(this.yh=!0),i=this.V,null!==i&&(i.Tk=null,i.uj=NaN,this.yh&&i instanceof Cr&&(i.yh=!0),i.yh&&(i.Wd=null),o=this.h,null!==o&&o.la.Cb||(-1!==n&&i.Gc(Jl,"elements",this,e,null,n,null),i.Gc(Yl,"elements",this,null,e,null,t)))},io.prototype.remove=io.prototype.remove=function(t){Uh.l(t,Sn,io,"remove:element");for(var e=this.Ga.q,i=e.length,n=-1,o=0;i>o;o++)if(e[o]===t){n=o;break}-1!==n&&this.ef(n)},io.prototype.removeAt=io.prototype.md=function(t){Vh&&Uh.p(t,io,"removeAt:idx"),t>=0&&this.ef(t)},io.prototype.ef=function(t){var e=this.Ga,i=e.na(t);if(i.lm=null,i.Cl(null),null!==this.gg){var n=i.data;"object"==typeof n&&this.gg.remove(n)}e.md(t),Kn(this,!1),this.T(),this.xm===i&&(this.xm=null),e=this.V,null!==e&&(e.Tk=null,e.uj=NaN,n=this.h,null!==n&&n.la.Cb||e.Gc(Jl,"elements",this,i,null,t,null))},Uh.A(io,{Xt:"rowCount"},function(){return void 0===this.Fd?0:this.Fd.length}),io.prototype.getRowDefinition=io.prototype.jd=function(t){Vh&&Uh.p(t,io,"getRowDefinition:idx"),0>t&&Uh.ka(t,">= 0",io,"getRowDefinition:idx"),t=Math.round(t);var e=this.Fd;if(void 0===e[t]){var i=new Ao;i.Cl(this),i.fe=!0,i.index=t,e[t]=i}return e[t]},io.prototype.removeRowDefinition=io.prototype.ZF=function(t){Vh&&Uh.p(t,io,"removeRowDefinition:idx"),0>t&&Uh.ka(t,">= 0",io,"removeRowDefinition:idx"),t=Math.round(t);var e=this.Fd;this.Gc(Jl,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.T()},Uh.A(io,{et:"columnCount"},function(){return void 0===this.yd?0:this.yd.length}),io.prototype.getColumnDefinition=io.prototype.hd=function(t){Vh&&Uh.p(t,io,"getColumnDefinition:idx"),0>t&&Uh.ka(t,">= 0",io,"getColumnDefinition:idx"),t=Math.round(t);var e=this.yd;if(void 0===e[t]){var i=new Ao;i.Cl(this),i.fe=!1,i.index=t,e[t]=i}return e[t]},io.prototype.removeColumnDefinition=io.prototype.VF=function(t){Vh&&Uh.p(t,io,"removeColumnDefinition:idx"),0>t&&Uh.ka(t,">= 0",io,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.yd;this.Gc(Jl,"coldefs",this,e[t],null,t,null),e[t]&&delete e[t],this.T()},Uh.g(io,"rowSizing",io.prototype.kG),Uh.defineProperty(io,{kG:"rowSizing"},function(){return void 0===this.qm?xc:this.qm},function(t){if(void 0!==this.qm){var e=this.qm;e!==t&&(t!==xc&&t!==wc&&Uh.m("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.qm=t,this.T(),this.j("rowSizing",e,t))}}),Uh.g(io,"columnSizing",io.prototype.cE),Uh.defineProperty(io,{cE:"columnSizing"},function(){return void 0===this.Pl?xc:this.Pl},function(t){if(void 0!==this.Pl){var e=this.Pl;e!==t&&(t!==xc&&t!==wc&&Uh.m("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Pl=t,this.T(),this.j("columnSizing",e,t))}}),Uh.g(io,"topIndex",io.prototype.dK),Uh.defineProperty(io,{dK:"topIndex"},function(){return void 0===this.Ci?0:this.Ci},function(t){if(void 0!==this.Ci){var e=this.Ci;e!==t&&((!isFinite(t)||0>t)&&Uh.m("topIndex must be greater than zero and a real number. Was "+t),this.Ci=t,this.T(),this.j("topIndex",e,t))}}),Uh.g(io,"leftIndex",io.prototype.iJ),Uh.defineProperty(io,{iJ:"leftIndex"},function(){return void 0===this.pi?0:this.pi},function(t){if(void 0!==this.pi){var e=this.pi;e!==t&&((!isFinite(t)||0>t)&&Uh.m("leftIndex must be greater than zero and a real number. Was "+t),this.pi=t,this.T(),this.j("leftIndex",e,t))}}),io.prototype.findRowForLocalY=function(t){if(0>t)return-1;if(this.type!==cc)return NaN;for(var e=0,i=this.Fd,n=i.length,o=this.Ci;n>o;o++){var r=i[o];if(void 0!==r&&(e+=r.total,e>t))return o}return-1},io.prototype.findColumnForLocalX=function(t){if(0>t)return-1;if(this.type!==cc)return NaN;for(var e=0,i=this.yd,n=i.length,o=this.pi;n>o;o++){var r=i[o];if(void 0!==r&&(e+=r.total,e>t))return o}return-1},Uh.g(io,"data",io.prototype.data),Uh.defineProperty(io,{data:"data"},function(){return this.rh},function(t){var e=this.rh;if(e!==t){var i=this instanceof er&&!(this instanceof xr);i&&Uh.i(t,"object",io,"data"),bo(this),this.rh=t;var n=this.h;null!==n&&(i?this instanceof Nr?(null!==e&&n.Dk.remove(e),null!==t&&n.Dk.add(t,this)):(null!==e&&n.hi.remove(e),null!==t&&n.hi.add(t,this)):(i=this.U,null!==i&&null!==i.gg&&(null!==e&&i.gg.remove(e),null!==t&&i.gg.add(t,this)))),this.j("data",e,t),null!==n&&n.la.Cb||null!==t&&this.Rb()}}),Uh.g(io,"itemIndex",io.prototype.nF),Uh.defineProperty(io,{nF:"itemIndex"},function(){return this.ir},function(t){var e=this.ir;e!==t&&(this.ir=t,this.j("itemIndex",e,t))});var mc=!1;io.prototype.updateTargetBindings=io.prototype.Rb=function(t){var e=this.Nl;if(null!==e)for(void 0===t&&(t=""),e=e.k;e.next();){var i=e.value,n=i.kB;if((""===t||""===n||n===t)&&(n=i.Wp,null!==i.iE||""!==n)){var n=this.data,o=i.El;if(null!==o)n=""===o?this:"."===o?this:".."===o?this:this.pe(o);else{var r=this.h;null!==r&&i.Yp&&(n=r.ga.zp)}if(null===n)Vh&&Uh.trace("Binding error: missing GraphObject named "+o+" in "+this.toString());else{var r=this,s=i.kk;if(-1!==s){if(r=this.Fw(s),null===r)continue}else null!==i.og&&(r=i.og);if("."===o?n=r:".."===o&&(n=r.U),o=i.qz,0!==o){if(!(r instanceof io))continue;s=r,1===o?r=s.hd(i.Vv):2===o&&(r=s.jd(i.Vv))}void 0!==r&&i.WG(r,n)}}}},Uh.g(io,"itemArray",io.prototype.Zw),Uh.defineProperty(io,{Zw:"itemArray"},function(){return this.oi},function(t){var e=this.oi;if(e!==t){Vh&&null!==t&&!Uh.isArray(t)&&Uh.m("Panel.itemArray must be an Array-like object or null, not: "+t);var i=this.h;null!==i&&null!==e&&ji(i,this),this.oi=t,null!==i&&null!==t&&Oi(i,this),this.j("itemArray",e,t),null!==i&&i.la.Cb||this.OA()}}),io.prototype.rebuildItemElements=io.prototype.OA=function(){var t=0;for(wo(this)&&(t=1);this.Ga.length>t;)this.ef(t);if(t=this.Zw,null!==t)for(var e=Uh.ub(t),i=0;e>i;i++)xo(this,Uh.jb(t,i),i)},Uh.g(io,"itemTemplate",io.prototype.eJ),Uh.defineProperty(io,{eJ:"itemTemplate"},function(){return null===this.hg?null:this.hg.Aa("")},function(t){if(null===this.hg){if(null===t)return;this.hg=new v("string",io)}var e=this.hg.Aa("");e!==t&&(Uh.l(t,io,io,"itemTemplate"),(t instanceof er||t.Tf)&&Uh.m("itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.hg.add("",t),this.j("itemTemplate",e,t),t=this.h,null!==t&&t.la.Cb||this.OA())}),Uh.g(io,"itemTemplateMap",io.prototype.oF),Uh.defineProperty(io,{oF:"itemTemplateMap"},function(){return this.hg},function(t){var e=this.hg;if(e!==t){Uh.l(t,v,io,"itemTemplateMap");for(var i=t.k;i.next();){var n=i.value;(n instanceof er||n.Tf)&&Uh.m("Template in itemTemplateMap must not be a Part or be Panel.isPanelMain: "+n)}this.hg=t,this.j("itemTemplateMap",e,t),t=this.h,null!==t&&t.la.Cb||this.OA()}}),Uh.g(io,"itemCategoryProperty",io.prototype.dJ),Uh.defineProperty(io,{dJ:"itemCategoryProperty"},function(){return this.co},function(t){var e=this.co;e!==t&&("string"!=typeof t&&"function"!=typeof t&&Uh.sc(t,"string or function",io,"itemCategoryProperty"),this.co=t,this.j("itemCategoryProperty",e,t))}),io.prototype.getCategoryForItemData=function(t){if(null===t)return"";var e=this.co,i="";if("function"==typeof e)i=e(t);else{if("string"!=typeof e||"object"!=typeof t)return"";if(""===e)return"";i=Uh.wb(t,e)}return void 0===i?"":"string"==typeof i?i:(Uh.m("Panel.getCategoryForItemData found a non-string category for "+t+": "+i),"")};var vc=!1,yc=null;io.prototype.findTemplateForItemData=function(t,e,i){return t=this.oF,e=null,null!==t&&(e=t.Aa(i)),null===e&&(vc||(vc=!0,Uh.trace('No item template Panel found for category "'+i+'" on '+this),Uh.trace("  Using default item template."),i=new io,t=new $o,t.bind(new Ct("text","",tu)),i.add(t),yc=i),e=yc),e},Uh.g(io,"isAtomic",io.prototype.XI),Uh.defineProperty(io,{XI:"isAtomic"},function(){return this.Wg},function(t){var e=this.Wg;e!==t&&(Uh.i(t,"boolean",io,"isAtomic"),this.Wg=t,this.j("isAtomic",e,t))}),Uh.g(io,"isClipping",io.prototype.oA),Uh.defineProperty(io,{oA:"isClipping"},function(){return this.Uq},function(t){var e=this.Uq;e!==t&&(Uh.i(t,"boolean",io,"isClipping"),this.Uq=t,this.j("isClipping",e,t))}),Uh.ja("RowColumnDefinition",Ao),Ao.prototype.copy=function(){var t=new Ao;return t.gv=this.gv,t.Bd=this.Bd,t.af=this.af,t.yj=this.yj,t.wj=this.wj,t.xe=this.xe,t.Db=this.Db,t.Oa=this.Oa,t.Kh=this.Kh,t.As=this.As,t.Gj=null===this.Gj?null:this.Gj.ba(),t.xs=this.xs,t.ys=this.ys,t.Gh=null,null!==this.Gh&&(t.Gh=Uh.il(this.Gh)),t.Mb=this.Mb,t.uq=this.uq,t.Jc=this.Jc,t},Ao.prototype.gt=function(t){Uh.l(t,Ao,Ao,"copyFrom:pd"),t.fe?this.height=t.height:this.width=t.width,this.Wh=t.Wh,this.Af=t.Af,this.alignment=t.alignment,this.stretch=t.stretch,this.Rp=t.Rp,this.Gj=null===t.Gj?null:t.Gj.ba(),this.hn=t.hn,this.jn=t.jn,this.Gh=null,t.Gh&&(this.Gh=Uh.il(t.Gh)),this.background=t.background,this.vw=t.vw,this.Jc=t.Jc},Ao.prototype.toString=function(){return"RowColumnDefinition "+(this.fe?"(Row ":"(Column ")+this.index+") #"+Uh.Yc(this)};var bc;Ao.Default=bc=Uh.w(Ao,"Default",0);var wc;Ao.None=wc=Uh.w(Ao,"None",1);var xc;Ao.ProportionalExtra=xc=Uh.w(Ao,"ProportionalExtra",2),Ao.prototype.Cl=function(t){this.ah=t},Ao.prototype.computeEffectiveSpacingTop=Ao.prototype.fE=function(){var t=0;if(0!==this.index){var e=this.ah,i=this.hn;null===i&&null!==e&&(i=this.fe?e.ii:e.sh),null!==i&&(t=this.jn,isNaN(t)&&(t=null!==e?this.fe?e.uh:e.th:0))}if(e=this.dB,null===e){if(e=this.ah,null===e)return t;e=e.gj}return t+(this.fe?e.top:e.left)},Ao.prototype.computeEffectiveSpacing=Ao.prototype.ug=function(){var t=0;if(0!==this.index){var e=this.ah,i=this.hn;null===i&&null!==e&&(i=this.fe?e.ii:e.sh),null!==i&&(t=this.jn,isNaN(t)&&(t=null!==e?this.fe?e.uh:e.th:0))}if(e=this.dB,null===e){if(e=this.ah,null===e)return t;e=e.gj}return t+(this.fe?e.top+e.bottom:e.left+e.right)},Ao.prototype.Vc=function(t,e,i,n,o){var r=this.ah;if(null!==r&&(r.Gc(Kl,t,this,e,i,n,o),null!==this.Jc&&(e=r.Yo(),null!==e&&(e=e.data,null!==e))))for(i=this.Jc.k;i.next();)i.value.Hx(this,e,t,null)},Uh.A(Ao,{U:"panel"},function(){return this.ah}),Uh.defineProperty(Ao,{fe:"isRow"},function(){return this.gv},function(t){this.gv=t}),Uh.defineProperty(Ao,{index:"index"},function(){return this.Bd},function(t){this.Bd=t}),Uh.g(Ao,"height",Ao.prototype.height),Uh.defineProperty(Ao,{height:"height"},function(){return this.af},function(t){var e=this.af;e!==t&&(Vh&&Uh.i(t,"number",Ao,"height"),0>t&&Uh.ka(t,">= 0",Ao,"height"),this.af=t,this.Ua=this.Db,null!==this.U&&this.U.T(),this.Vc("height",e,t))}),Uh.g(Ao,"width",Ao.prototype.width),Uh.defineProperty(Ao,{width:"width"},function(){return this.af},function(t){var e=this.af;e!==t&&(Vh&&Uh.i(t,"number",Ao,"width"),0>t&&Uh.ka(t,">= 0",Ao,"width"),this.af=t,this.Ua=this.Db,null!==this.U&&this.U.T(),this.Vc("width",e,t))}),Uh.g(Ao,"minimum",Ao.prototype.Wh),Uh.defineProperty(Ao,{Wh:"minimum"},function(){return this.yj},function(t){var e=this.yj;e!==t&&(Vh&&Uh.i(t,"number",Ao,"minimum"),(0>t||!isFinite(t))&&Uh.ka(t,">= 0",Ao,"minimum"),this.yj=t,this.Ua=this.Db,null!==this.U&&this.U.T(),this.Vc("minimum",e,t))}),Uh.g(Ao,"maximum",Ao.prototype.Af),Uh.defineProperty(Ao,{Af:"maximum"},function(){return this.wj},function(t){var e=this.wj;e!==t&&(Vh&&Uh.i(t,"number",Ao,"maximum"),0>t&&Uh.ka(t,">= 0",Ao,"maximum"),this.wj=t,this.Ua=this.Db,null!==this.U&&this.U.T(),this.Vc("maximum",e,t))}),Uh.g(Ao,"alignment",Ao.prototype.alignment),Uh.defineProperty(Ao,{alignment:"alignment"},function(){return this.xe},function(t){var e=this.xe;e.L(t)||(Vh&&Uh.l(t,P,Ao,"alignment"),this.xe=t.ba(),null!==this.U&&this.U.T(),this.Vc("alignment",e,t))}),Uh.g(Ao,"stretch",Ao.prototype.stretch),Uh.defineProperty(Ao,{stretch:"stretch"},function(){return this.Kh},function(t){var e=this.Kh;e!==t&&(Vh&&Uh.za(t,Sn,Ao,"stretch"),this.Kh=t,null!==this.U&&this.U.T(),this.Vc("stretch",e,t))}),Uh.g(Ao,"separatorPadding",Ao.prototype.dB),Uh.defineProperty(Ao,{dB:"separatorPadding"},function(){return this.Gj},function(t){"number"==typeof t?t=new M(t):null!==t&&Vh&&Uh.l(t,M,Ao,"separatorPadding");var e=this.Gj;null!==t&&null!==e&&e.L(t)||(null!==t&&(t=t.ba()),this.Gj=t,null!==this.U&&this.U.T(),this.Vc("separatorPadding",e,t))}),Uh.g(Ao,"separatorStroke",Ao.prototype.hn),Uh.defineProperty(Ao,{hn:"separatorStroke"},function(){return this.xs},function(t){var e=this.xs;e!==t&&(null===t||"string"==typeof t||t instanceof An)&&(t instanceof An&&t.freeze(),this.xs=t,null!==this.U&&this.U.T(),this.Vc("separatorStroke",e,t))}),Uh.g(Ao,"separatorStrokeWidth",Ao.prototype.jn),Uh.defineProperty(Ao,{jn:"separatorStrokeWidth"},function(){return this.ys},function(t){var e=this.ys;e!==t&&(this.ys=t,null!==this.U&&this.U.T(),this.Vc("separatorStrokeWidth",e,t))}),Uh.g(Ao,"separatorDashArray",Ao.prototype.rG),Uh.defineProperty(Ao,{rG:"separatorDashArray"},function(){return this.Gh},function(t){var e=this.Gh;if(e!==t){if(null===t||Array.isArray(t)||Uh.sc(t,"Array",Ao,"separatorDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;i>o;o++){var r=t[o];"number"==typeof r&&r>=0&&isFinite(r)||Uh.m("separatorDashArray:value "+r+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.Gh=t,null!==this.U&&this.U.pa(),this.Vc("separatorDashArray",e,t)}}),Uh.g(Ao,"background",Ao.prototype.background),Uh.defineProperty(Ao,{background:"background"},function(){return this.Mb},function(t){var e=this.Mb;e!==t&&(null===t||"string"==typeof t||t instanceof An)&&(t instanceof An&&t.freeze(),this.Mb=t,null!==this.U&&this.U.pa(),this.Vc("background",e,t))}),Uh.g(Ao,"coversSeparators",Ao.prototype.vw),Uh.defineProperty(Ao,{vw:"coversSeparators"},function(){return this.uq},function(t){var e=this.uq;e!==t&&(Uh.i(t,"boolean",Ao,"coversSeparators"),this.uq=t,null!==this.U&&this.U.pa(),this.Vc("coversSeparators",e,t))}),Uh.g(Ao,"sizing",Ao.prototype.Rp),Uh.defineProperty(Ao,{Rp:"sizing"},function(){return this.As},function(t){var e=this.As;e!==t&&(Vh&&Uh.za(t,Ao,Ao,"sizing"),this.As=t,null!==this.U&&this.U.T(),this.Vc("sizing",e,t))}),Uh.defineProperty(Ao,{Ua:"actual"},function(){return this.Db},function(t){this.Db=isNaN(this.af)?Math.max(Math.min(this.wj,t),this.yj):Math.max(Math.min(this.wj,this.af),this.yj)}),Uh.defineProperty(Ao,{total:"total"},function(){return this.Db+this.ug()},function(t){this.Db=isNaN(this.af)?Math.max(Math.min(this.wj,t),this.yj):Math.max(Math.min(this.wj,this.af),this.yj),this.Db=Math.max(0,this.Db-this.ug())}),Uh.defineProperty(Ao,{position:"position"},function(){return this.Oa},function(t){this.Oa=t}),Ao.prototype.bind=Ao.prototype.bind=function(t){t.og=this;var e=this.U;null!==e&&(e=e.Yo(),null!==e&&yo(e)&&Uh.m("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t)),null===this.Jc&&(this.Jc=new l(Ct)),this.Jc.add(t)},Uh.Ia(Fo,Sn),Uh.ja("Shape",Fo),Fo.prototype.cloneProtected=function(t){Sn.prototype.cloneProtected.call(this,t),t.Ta=this.Ta,t.Qn=this.Qn,t.bh=this.bh,t.Lq=this.Lq,t.Bk=this.Bk,t.od=this.od,t.Ec=this.Ec,t.dh=this.dh,t.xo=this.xo,t.yo=this.yo,t.wm=this.wm,t.vm=null,null!==this.vm&&(t.vm=Uh.il(this.vm)),t.gd=this.gd,t.zi=this.zi.ba(),t.Ai=this.Ai.ba(),t.Tr=this.Tr,t.Ur=this.Ur,t.Vq=this.Vq,t.ar=this.ar,t.Xr=this.Xr,t.zo=this.zo,t.Tn=this.Tn,t.Sq=this.Sq},Fo.prototype.toString=function(){return"Shape("+("None"!==this.Ab?this.Ab:"None"!==this.ln?this.ln:this.Jw)+")#"+Uh.Yc(this)},Fo.prototype.bk=function(t,e){if(null!==this.Ec||null!==this.od){null!==this.od&&Rn(this,t,this.od,!0,!1),null!==this.Ec&&Rn(this,t,this.Ec,!1,!1);var i=this.dh;if(0===i){var n=this.V;n instanceof xr&&n.type===pc&&n.wc instanceof Fo&&(i=n.wc.ib)}t.lineWidth=i,t.lineJoin=this.yo,t.lineCap=this.xo,t.miterLimit=this.wm;var o=!1;this.V&&e.Fh.drawShadows&&(o=this.V.Ti);var r=!0;null!==this.Ec&&null===this.od&&(r=!1);var n=!1,s=!0,a=this.Ex;null!==a&&(n=!0,void 0!==t.setLineDash?(t.setLineDash(a),t.lineDashOffset=this.gd):void 0!==t.webkitLineDash?(t.webkitLineDash=a,t.webkitLineDashOffset=this.gd):void 0!==t.mozDash?(t.mozDash=a,t.mozDashOffset=this.gd):s=!1);var h=this.Ta;if(null!==h){if(h.ha===Nl)t.beginPath(),n&&!s?En(t,h.lc,h.vc,h.nb,h.yb,a,this.gd):(t.moveTo(h.lc,h.vc),t.lineTo(h.nb,h.yb)),null!==this.od&&Nn(t,this.od),0!==i&&null!==this.Ec&&$n(t);else if(h.ha===$l){var l=h.lc,u=h.vc,c=h.nb,f=h.yb,h=Math.min(l,c),d=Math.min(u,f),l=Math.abs(c-l),u=Math.abs(f-u);if(null!==this.od&&(t.beginPath(),t.rect(h,d,l,u),Nn(t,this.od)),null!==this.Ec){var p=c=0,g=0;r&&o&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s?(s=Uh.lb(),s.push(h),s.push(d),s.push(h+l),s.push(d),s.push(h+l),s.push(d+u),s.push(h),s.push(d+u),s.push(h),s.push(d),t.beginPath(),To(t,s,a,this.gd),$n(t),Uh.xa(s)):0!==i&&(t.beginPath(),t.rect(h,d,l,u),$n(t)),r&&o&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g)}}else if(h.ha===Rl)l=h.lc,u=h.vc,c=h.nb,f=h.yb,h=Math.abs(c-l)/2,d=Math.abs(f-u)/2,l=Math.min(l,c)+h,u=Math.min(u,f)+d,t.beginPath(),t.moveTo(l,u-d),t.bezierCurveTo(l+Bl.wa*h,u-d,l+h,u-Bl.wa*d,l+h,u),t.bezierCurveTo(l+h,u+Bl.wa*d,l+Bl.wa*h,u+d,l,u+d),t.bezierCurveTo(l-Bl.wa*h,u+d,l-h,u+Bl.wa*d,l-h,u),t.bezierCurveTo(l-h,u-Bl.wa*d,l-Bl.wa*h,u-d,l,u-d),t.closePath(),null!==this.od&&Nn(t,this.od),n&&!s&&(s=Uh.lb(),Bl.He(l,u-d,l+Bl.wa*h,u-d,l+h,u-Bl.wa*d,l+h,u,.5,s),Bl.He(l+h,u,l+h,u+Bl.wa*d,l+Bl.wa*h,u+d,l,u+d,.5,s),Bl.He(l,u+d,l-Bl.wa*h,u+d,l-h,u+Bl.wa*d,l-h,u,.5,s),Bl.He(l-h,u,l-h,u-Bl.wa*d,l-Bl.wa*h,u-d,l,u-d,.5,s),t.beginPath(),To(t,s,a,this.gd),Uh.xa(s)),0!==i&&null!==this.Ec&&(g=p=c=0,r&&o&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),$n(t),r&&o&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g));else if(h.ha===Ol){for(d=h.ij,u=d.length,f=0;u>f;f++){l=d.q[f],t.beginPath(),t.moveTo(l.ra,l.sa);for(var c=l.Ea.q,p=c.length,m=null,g=0;p>g;g++){var v=c[g];switch(v.ha){case _l:t.moveTo(v.D,v.F);break;case Hl:t.lineTo(v.D,v.F);break;case ql:t.bezierCurveTo(v.fd,v.Be,v.mg,v.ng,v.nb,v.yb);break;case Wl:t.quadraticCurveTo(v.fd,v.Be,v.nb,v.yb);break;case Gl:if(v.radiusX===v.radiusY)m=Math.PI/180,t.arc(v.fd,v.Be,v.radiusX,v.lh*m,(v.lh+v.Yh)*m,0>v.Yh);else for(var m=tt(v,l),y=m.length,b=0;y>b;b++){var w=m[b];0===b&&t.lineTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7])}break;case Vl:for(b=y=0,null!==m&&m.type===Gl?(m=tt(m,l),m=m[m.length-1]||null,null!==m&&(y=m[6],b=m[7])):(y=null!==m?m.D:l.ra,b=null!==m?m.F:l.sa),m=et(v,l,y,b),y=m.length,b=0;y>b;b++)w=m[b],t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]);break;default:Uh.m("Segment not of valid type")}v.Ah&&t.closePath(),m=v}o?(g=p=c=0,l.ao?(!0===l.Xl&&null!==this.od?(Nn(t,this.od),r=!0):r=!1,0!==i&&null!==this.Ec&&(r&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),n&&!s||$n(t),r&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g))):(r&&(c=t.shadowOffsetX,p=t.shadowOffsetY,g=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),!0===l.Xl&&null!==this.od&&Nn(t,this.od),0!==i&&null!==this.Ec&&(n&&!s||$n(t)),r&&(t.shadowOffsetX=c,t.shadowOffsetY=p,t.shadowBlur=g))):(!0===l.Xl&&null!==this.od&&Nn(t,this.od),0===i||null===this.Ec||n&&!s||$n(t))}if(n&&!s)for(i=r,r=h.ij,s=r.length,h=0;s>h;h++){for(d=r.q[h],t.beginPath(),u=Uh.lb(),u.push(d.ra),u.push(d.sa),f=d.ra,l=d.sa,c=f,p=l,g=d.Ea.q,v=g.length,m=0;v>m;m++){switch(y=g[m],y.ha){case _l:To(t,u,a,this.gd),u.length=0,u.push(y.D),u.push(y.F),f=y.D,l=y.F,c=f,p=l;break;case Hl:u.push(y.D),u.push(y.F),f=y.D,l=y.F;break;case ql:Bl.He(f,l,y.fd,y.Be,y.mg,y.ng,y.nb,y.yb,.5,u),f=y.D,l=y.F;break;case Wl:Bl.Ip(f,l,y.fd,y.Be,y.nb,y.yb,.5,u),f=y.D,l=y.F;break;case Gl:for(var b=tt(y,d),w=b.length,x=0;w>x;x++){var C=b[x];Bl.He(f,l,C[2],C[3],C[4],C[5],C[6],C[7],.5,u),f=C[6],l=C[7]}break;case Vl:for(b=et(y,d,f,l),w=b.length,x=0;w>x;x++)C=b[x],Bl.He(f,l,C[2],C[3],C[4],C[5],C[6],C[7],.5,u),f=C[6],l=C[7];break;default:Uh.m("Segment not of valid type")}y.Ah&&(u.push(c),u.push(p),To(t,u,a,this.gd))}To(t,u,a,this.gd),Uh.xa(u),null!==this.Ec&&(f=u=d=0,i&&o&&(d=t.shadowOffsetX,u=t.shadowOffsetY,f=t.shadowBlur,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),$n(t),i&&o&&(t.shadowOffsetX=d,t.shadowOffsetY=u,
t.shadowBlur=f))}}if(n&&(void 0!==t.setLineDash?(t.setLineDash(Uh.nh),t.lineDashOffset=0):void 0!==t.webkitLineDash?(t.webkitLineDash=Uh.nh,t.webkitLineDashOffset=0):void 0!==t.mozDash&&(t.mozDash=null,t.mozDashOffset=0)),null!==this.HA){for(n=this.HA,Pn(n,1/0,1/0),a=n.Fa,n.Fc(0,0,a.width,a.height),t.save(),a=this.Xc.pb.first(),t.beginPath(),i=Uh.lb(),i.push(a.ra),i.push(a.sa),o=a.ra,r=a.sa,s=o,h=r,d=a.Ea.q,u=d.length,f=0;u>f;f++){switch(l=d[f],l.ha){case _l:Eo(t,e,i,n),i.length=0,i.push(l.D),i.push(l.F),o=l.D,r=l.F,s=o,h=r;break;case Hl:i.push(l.D),i.push(l.F),o=l.D,r=l.F;break;case ql:Bl.He(o,r,l.fd,l.Be,l.mg,l.ng,l.nb,l.yb,.5,i),o=l.D,r=l.F;break;case Wl:Bl.Ip(o,r,l.fd,l.Be,l.nb,l.yb,.5,i),o=l.D,r=l.F;break;case Gl:for(c=tt(l,a),p=c.length,g=0;p>g;g++)v=c[g],Bl.He(o,r,v[2],v[3],v[4],v[5],v[6],v[7],.5,i),o=v[6],r=v[7];break;case Vl:for(c=et(l,a,o,r),p=c.length,g=0;p>g;g++)v=c[g],Bl.He(o,r,v[2],v[3],v[4],v[5],v[6],v[7],.5,i),o=v[6],r=v[7];break;default:Uh.m("Segment not of valid type")}l.Ah&&(i.push(s),i.push(h),Eo(t,e,i,n))}Eo(t,e,i,n),Uh.xa(i),t.restore()}}}},Fo.prototype.getDocumentPoint=Fo.prototype.qb=function(t,e){void 0===e&&(e=new b),t.te()&&Uh.m("getDocumentPoint:s Spot must be real: "+t.toString());var i=this.Ka,n=this.ib;return e.o(t.x*(i.width+n)-n/2+i.x+t.offsetX,t.y*(i.height+n)-n/2+i.y+t.offsetY),this.Nf.fb(e),e},Fo.prototype.Uj=function(t,e){var i=this.Ta;if(null===i||null===this.fill&&null===this.stroke)return!1;var n=i.kb,o=this.ib/2;i.type!==Nl||e||(o+=2);var r=Uh.$f();if(r.assign(n),r.Sf(o+2,o+2),!r.Da(t))return Uh.nc(r),!1;if(n=o+1e-4,i.type===Nl)return null===this.stroke?!1:(n=(i.D-i.ra)*(t.x-i.ra)+(i.F-i.sa)*(t.y-i.sa),0>(i.ra-i.D)*(t.x-i.D)+(i.sa-i.F)*(t.y-i.F)||0>n?!1:(Uh.nc(r),Bl.Pd(i.ra,i.sa,i.D,i.F,o,t.x,t.y)));if(i.type===$l){var s=i.ra,a=i.sa,h=i.D,l=i.F,i=Math.min(s,h),u=Math.min(a,l),s=Math.abs(h-s),a=Math.abs(l-a);if(r.x=i,r.y=u,r.width=s,r.height=a,null===this.fill){if(r.Sf(-n,-n),r.Da(t))return Uh.nc(r),!1;r.Sf(n,n)}return null!==this.stroke&&r.Sf(o,o),o=r.Da(t),Uh.nc(r),o}if(i.type===Rl){if(s=i.ra,a=i.sa,h=i.D,l=i.F,i=Math.min(s,h),u=Math.min(a,l),s=Math.abs(h-s),a=Math.abs(l-a),s/=2,a/=2,i=t.x-(i+s),u=t.y-(u+a),null===this.fill){if(s-=n,a-=n,0>=s||0>=a||1>=i*i/(s*s)+u*u/(a*a))return Uh.nc(r),!1;s+=n,a+=n}return null!==this.stroke&&(s+=o,a+=o),Uh.nc(r),0>=s||0>=a?!1:1>=i*i/(s*s)+u*u/(a*a)}return i.type===Ol?(Uh.nc(r),null===this.fill?X(i,t.x,t.y,o):i.Da(t,o,1<this.ib,e)):(Uh.m("Unknown Geometry type"),!1)},Fo.prototype.xp=function(t,e,i,n){var o=this.ya,r=this.dh;t=Math.max(t,0),e=Math.max(e,0);var s;if(this.bh)s=this.Ta.kb;else{var a=this.Ab,h=Bl.Qx[a];if(void 0===h){var l=Bl.xg[a];"string"==typeof l&&(l=Bl.xg[l]),"function"==typeof l?(h=l(null,100,100),Bl.Qx[a]=h):Uh.m("Unsupported Figure:"+a)}s=h.kb}var a=s.width,h=s.height,l=s.width,u=s.height;switch(zn(this,!0)){case Xu:n=i=0;break;case ec:l=Math.max(t-r,0),u=Math.max(e-r,0);break;case tc:l=Math.max(t-r,0),n=0;break;case Zu:i=0,u=Math.max(e-r,0)}switch(isFinite(o.width)&&(l=o.width),isFinite(o.height)&&(u=o.height),o=this.Qd,s=this.Re,i=Math.max(i,s.width)-r,n=Math.max(n,s.height)-r,l=Math.min(o.width,l),u=Math.min(o.height,u),l=isFinite(l)?Math.max(i,l):Math.max(a,i),u=isFinite(u)?Math.max(n,u):Math.max(h,n),i=Do(this)){case Xu:break;case ec:a=l,h=u;break;case ic:i=Math.min(l/a,u/h),isFinite(i)||(i=1),a*=i,h*=i;break;default:Uh.m(i+" is not a valid geometryStretch.")}if(this.bh){if(s=this.Xc,n=a,o=h,i=s.copy(),s=s.kb,n/=s.width,o/=s.height,isFinite(n)||(n=1),isFinite(o)||(o=1),1!==n||1!==o)switch(i.type){case Nl:case $l:case Rl:i.ra*=n,i.sa*=o,i.D*=n,i.F*=o;break;case Ol:s=i.pb.q;for(var c=s.length,f=0;c>f;f++){var d=s[f];d.ra*=n,d.sa*=o;for(var d=d.Ea.q,p=d.length,g=0;p>g;g++){var m=d[g];switch(m.type){case Hl:case _l:m.D*=n,m.F*=o;break;case ql:m.Ib*=n,m.Ub*=o,m.ve*=n,m.we*=o,m.D*=n,m.F*=o;break;case Wl:m.Ib*=n,m.Ub*=o,m.D*=n,m.F*=o;break;case Gl:m.Ca*=n,m.Ra*=o,m.radiusX*=n,void 0!==m.radiusY&&(m.radiusY*=o);break;case Vl:m.D*=n,m.F*=o,m.radiusX*=n,m.radiusY*=o;break;default:Uh.m("Unknown Segment type: "+m.type)}}}}this.Ta=i}else(null===this.Ta||this.Ta.$n!==t-r||this.Ta.Zn!==e-r)&&(this.Ta=Bl.makeGeometry(this,a,h));s=this.Ta.kb,1/0===t||1/0===e?Mn(this,s.x-r/2,s.y-r/2,0===t&&0===a?0:s.width+r,0===e&&0===h?0:s.height+r):Mn(this,-(r/2),-(r/2),l+r,u+r)},Fo.prototype.Hi=function(t,e,i,n){Ln(this,t,e,i,n)},Fo.prototype.getNearestIntersectionPoint=Fo.prototype.pl=function(t,e,i){return this.dp(t.x,t.y,e.x,e.y,i)},Fo.prototype.dp=function(t,e,i,n,o){var r=this.transform,s=1/(r.m11*r.m22-r.m12*r.m21),a=r.m22*s,h=-r.m12*s,l=-r.m21*s,u=r.m11*s,c=s*(r.m21*r.dy-r.m22*r.dx),f=s*(r.m12*r.dx-r.m11*r.dy),r=t*a+e*l+c,s=t*h+e*u+f,a=i*a+n*l+c,h=i*h+n*u+f,l=this.ib/2,c=this.Ta;if(null===c&&(Pn(this,1/0,1/0),c=this.Ta),f=c.kb,u=!1,c.type===Nl)if(1.5>=this.ib)u=Bl.ih(c.lc,c.vc,c.nb,c.yb,r,s,a,h,o);else{var d=0,p=0;if(c.lc===c.nb?(d=l,p=0):(e=(c.yb-c.vc)/(c.nb-c.lc),p=l/Math.sqrt(1+e*e),d=p*e),n=Uh.lb(),e=new b,Bl.ih(c.lc+d,c.vc+p,c.nb+d,c.yb+p,r,s,a,h,e)&&n.push(e),e=new b,Bl.ih(c.lc-d,c.vc-p,c.nb-d,c.yb-p,r,s,a,h,e)&&n.push(e),e=new b,Bl.ih(c.lc+d,c.vc+p,c.lc-d,c.vc-p,r,s,a,h,e)&&n.push(e),e=new b,Bl.ih(c.nb+d,c.yb+p,c.nb-d,c.yb-p,r,s,a,h,e)&&n.push(e),e=n.length,0===e)return Uh.xa(n),!1;for(u=!0,p=1/0,d=0;e>d;d++){var a=n[d],g=(a.x-r)*(a.x-r)+(a.y-s)*(a.y-s);p>g&&(p=g,o.x=a.x,o.y=a.y)}Uh.xa(n)}else if(c.type===$l)e=f.x-l,u=Bl.pl(e,f.y-l,f.x+f.width+l,f.y+f.height+l,r,s,a,h,o);else if(c.type===Rl)t:if(e=f.copy().Sf(l,l),0===e.width)u=Bl.ih(e.x,e.y,e.x,e.y+e.height,r,s,a,h,o);else if(0===e.height)u=Bl.ih(e.x,e.y,e.x+e.width,e.y,r,s,a,h,o);else{t=e.width/2;var m=e.height/2;if(n=e.x+t,e=e.y+m,i=9999,r!==a&&(i=(s-h)/(r-a)),9999>Math.abs(i)){if(u=s-e-i*(r-n),0>t*t*i*i+m*m-u*u){o.x=NaN,o.y=NaN,u=!1;break t}l=Math.sqrt(t*t*i*i+m*m-u*u),a=(-(t*t*i*u)+t*m*l)/(m*m+t*t*i*i)+n,t=(-(t*t*i*u)-t*m*l)/(m*m+t*t*i*i)+n,h=i*(a-n)+u+e,e=i*(t-n)+u+e,n=Math.abs((r-a)*(r-a))+Math.abs((s-h)*(s-h)),s=Math.abs((r-t)*(r-t))+Math.abs((s-e)*(s-e)),s>n?(o.x=a,o.y=h):(o.x=t,o.y=e)}else{if(a=m*m,h=r-n,a-=a/(t*t)*h*h,0>a){o.x=NaN,o.y=NaN,u=!1;break t}l=Math.sqrt(a),h=e+l,e-=l,n=Math.abs(h-s),s=Math.abs(e-s),s>n?(o.x=r,o.y=h):(o.x=r,o.y=e)}u=!0}else if(c.type===Ol){var v=0,y=0,w=g=0,f=Uh.M(),d=a-r,p=h-s,p=d*d+p*p;for(o.x=a,o.y=h,d=0;d<c.pb.count;d++)for(var x=c.pb.q[d],C=x.Ea,v=x.ra,y=x.sa,k=v,A=y,S=0;S<C.count;S++){var F=C.q[S],E=F.type,g=F.D,w=F.F,T=!1;switch(E){case _l:k=g,A=w;break;case Hl:T=Lo(v,y,g,w,r,s,a,h,f);break;case ql:var T=F.Ib,E=F.Ub,M=F.ve,D=F.we,T=Bl.Zs(v,y,T,E,M,D,g,w,r,s,a,h,.5,f);break;case Wl:T=(v+2*F.Ib)/3,E=(y+2*F.Ub)/3,M=(2*F.Ib+g)/3,D=(2*F.Ib+g)/3,T=Bl.Zs(v,y,T,E,M,D,g,w,r,s,a,h,.5,f);break;case Gl:case Vl:for(w=F.type===Gl?tt(F,x):et(F,x,v,y),E=w.length,M=0;E>M;M++)m=w[M],0===M&&Lo(v,y,m[0],m[1],r,s,a,h,f)&&(g=Po(r,s,f,p,o),p>g&&(p=g,u=!0)),Bl.Zs(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],r,s,a,h,.5,f)&&(g=Po(r,s,f,p,o),p>g&&(p=g,u=!0));g=m[6],w=m[7];break;default:Uh.m("Unknown Segment type: "+F.type)}v=g,y=w,T&&(g=Po(r,s,f,p,o),p>g&&(p=g,u=!0)),F.xt&&(g=k,w=A,Lo(v,y,g,w,r,s,a,h,f)&&(g=Po(r,s,f,p,o),p>g&&(p=g,u=!0)))}r=i-t,s=n-e,e=Math.sqrt(r*r+s*s),0!==e&&(r/=e,s/=e),o.x-=r*l,o.y-=s*l,Uh.B(f)}else Uh.m("Invalid Geometry type");return u?(this.transform.fb(o),!0):!1},Fo.prototype.containedInRect=Fo.prototype.Lm=function(t,e){if(void 0===e)return t.Vj(this.ea);var i=this.Ta;null===i&&(Pn(this,1/0,1/0),i=this.Ta);var i=i.kb,n=this.ib/2,o=!1,r=Uh.M();return r.o(i.x-n,i.y-n),t.Da(e.fb(r))&&(r.o(i.x-n,i.bottom+n),t.Da(e.fb(r))&&(r.o(i.right+n,i.bottom+n),t.Da(e.fb(r))&&(r.o(i.right+n,i.y-n),t.Da(e.fb(r))&&(o=!0)))),Uh.B(r),o},Fo.prototype.intersectsRect=Fo.prototype.zg=function(t,e){if(this.Lm(t,e)||void 0===e&&(e=this.transform,t.Vj(this.ea)))return!0;var i=Uh.mh();i.set(e),i.lA();var n=t.left,o=t.right,r=t.top,s=t.bottom,a=Uh.M();if(a.o(n,r),i.fb(a),this.Uj(a,!0))return Uh.B(a),!0;if(a.o(o,r),i.fb(a),this.Uj(a,!0))return Uh.B(a),!0;if(a.o(n,s),i.fb(a),this.Uj(a,!0))return Uh.B(a),!0;if(a.o(o,s),i.fb(a),this.Uj(a,!0))return Uh.B(a),!0;var h=Uh.M(),l=Uh.M();i.set(e),i.JF(this.transform),i.lA(),h.x=o,h.y=r,h.transform(i),a.x=n,a.y=r,a.transform(i);var u=!1;return Bo(this,a,h,l)?u=!0:(a.x=o,a.y=s,a.transform(i),Bo(this,a,h,l)?u=!0:(h.x=n,h.y=s,h.transform(i),Bo(this,a,h,l)?u=!0:(a.x=n,a.y=r,a.transform(i),Bo(this,a,h,l)&&(u=!0)))),Uh.B(a),Uh.df(i),Uh.B(h),Uh.B(l),u},Fo.prototype.HE=function(t,e,i){function n(t,e){for(var i=t.length,n=0;i>n;n+=2)if(e.jt(t[n],t[n+1])>o)return!0;return!1}if(i&&null!==this.fill&&this.Uj(t,!0))return!0;var o=t.Zj(e);e=o,1.5<this.ib&&(o=this.ib/2+Math.sqrt(o),o*=o);var r=this.Ta;if(null===r&&(Pn(this,1/0,1/0),r=this.Ta),!i){var s=r.kb,a=s.x,h=s.y,l=s.x+s.width,s=s.y+s.height;if(Xh(t.x,t.y,a,h)<=o&&Xh(t.x,t.y,l,h)<=o&&Xh(t.x,t.y,a,s)<=o&&Xh(t.x,t.y,l,s)<=o)return!0}if(a=r.lc,h=r.vc,l=r.nb,s=r.yb,r.type===Nl){if(i=Jh(t.x,t.y,a,h,l,s),r=(a-l)*(t.x-l)+(h-s)*(t.y-s),i<=(0<=(l-a)*(t.x-a)+(s-h)*(t.y-h)&&r>=0?o:e))return!0}else{if(r.type===$l)return e=!1,i&&(e=Jh(t.x,t.y,a,h,a,s)<=o||Jh(t.x,t.y,a,h,l,h)<=o||Jh(t.x,t.y,l,h,l,s)<=o||Jh(t.x,t.y,a,s,l,s)<=o),e;if(r.type===Rl){e=t.x-(a+l)/2;var r=t.y-(h+s)/2,u=Math.abs(l-a)/2,c=Math.abs(s-h)/2;if(0===u||0===c)return i=Jh(t.x,t.y,a,h,l,s),o>=i?!0:!1;if(!i)return Xh(e,r,-u,0)>=o||Xh(e,r,0,-c)>=o||Xh(e,r,0,c)>=o||Xh(e,r,u,0)>=o?!1:!0;if(t=Bl.BI(u,c,e,r),o>=t*t)return!0}else if(r.type===Ol){if(s=r.kb,a=s.x,h=s.y,l=s.x+s.width,s=s.y+s.height,t.x>l&&t.x<a&&t.y>s&&t.y<h&&Jh(t.x,t.y,a,h,a,s)>o&&Jh(t.x,t.y,a,h,l,h)>o&&Jh(t.x,t.y,l,s,a,s)>o&&Jh(t.x,t.y,l,s,l,h)>o)return!1;if(e=Math.sqrt(o),!i){for(i=r.pb,e=0;e<i.count;e++){if(a=i.q[e],u=a.ra,c=a.sa,t.jt(u,c)>o)return!1;for(h=a.Ea.q,l=h.length,s=0;l>s;s++){var f=h[s];switch(f.type){case _l:case Hl:if(u=f.D,c=f.F,t.jt(u,c)>o)return!1;break;case ql:if(r=Uh.lb(),Bl.He(u,c,f.Ib,f.Ub,f.ve,f.we,f.D,f.F,.8,r),u=n(r,t),Uh.xa(r),u)return!1;if(u=f.D,c=f.F,t.jt(u,c)>o)return!1;break;case Wl:if(r=Uh.lb(),Bl.Ip(u,c,f.Ib,f.Ub,f.D,f.F,.8,r),u=n(r,t),Uh.xa(r),u)return!1;if(u=f.D,c=f.F,t.jt(u,c)>o)return!1;break;case Gl:case Vl:var f=f.type===Gl?tt(f,a):et(f,a,u,c),d=f.length,p=null,r=Uh.lb();for(e=0;d>e;e++)if(p=f[e],r.length=0,Bl.He(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],.8,r),n(r,t))return Uh.xa(r),!1;Uh.xa(r),null!==p&&(u=p[6],c=p[7]);break;default:Uh.m("Unknown Segment type: "+f.type)}}}return!0}if(null===this.fill?X(r,t.x,t.y,e):r.Da(t,e,!0))return!0}}return!1},Uh.g(Fo,"geometry",Fo.prototype.Xc),Uh.defineProperty(Fo,{Xc:"geometry"},function(){return this.Bk?this.Bk:this.Ta},function(t){var e=this.Ta;if(e!==t){null!==t?(Vh&&Uh.l(t,V,Fo,"geometry"),this.Bk=this.Ta=t.freeze()):this.Bk=this.Ta=null;var i=this.V;null!==i&&(i.uj=NaN),this.bh=!0,this.T(),this.j("geometry",e,t),t=this.V,null!==t&&0!==(1024&this.ia)&&Tn(this,t,"geometryString")}}),Uh.g(Fo,"geometryString",Fo.prototype.NE),Uh.defineProperty(Fo,{NE:"geometryString"},function(){return null===this.Xc?"":this.Xc.toString()},function(t){var e=zl(t);t=e.normalize(),this.Xc=e;var e=Uh.M(),i=this.position;i.J()?e.o(i.x-t.x,i.y-t.y):e.o(-t.x,-t.y),this.position=e,Uh.B(e)}),Uh.defineProperty(Fo,{qA:"isGeometryPositioned"},function(){return this.Vq},function(t){Vh&&Uh.i(t,"boolean",Fo,"isGeometryPositioned");var e=this.Vq;e!==t&&(this.Vq=t,this.T(),this.j("isGeometryPositioned",e,t))}),Fo.prototype.re=function(){this.bh?this.Bk=null:this.Ta=null,this.T()},Uh.g(Fo,"fill",Fo.prototype.fill),Uh.defineProperty(Fo,{fill:"fill"},function(){return this.od},function(t){var e=this.od;e!==t&&(Vh&&null!==t&&Uh.Mo(t,"Shape.fill"),t instanceof An&&t.freeze(),this.od=t,this.pa(),this.j("fill",e,t))}),Uh.g(Fo,"stroke",Fo.prototype.stroke),Uh.defineProperty(Fo,{stroke:"stroke"},function(){return this.Ec},function(t){var e=this.Ec;e!==t&&(Vh&&null!==t&&Uh.Mo(t,"Shape.stroke"),t instanceof An&&t.freeze(),this.Ec=t,this.pa(),this.j("stroke",e,t))}),Uh.g(Fo,"strokeWidth",Fo.prototype.ib),Uh.defineProperty(Fo,{ib:"strokeWidth"},function(){return this.dh},function(t){var e=this.dh;if(e!==t)if(Vh&&Uh.p(t,Fo,"strokeWidth"),t>=0){this.dh=t,this.T();var i=this.V;null!==i&&(i.uj=NaN),this.j("strokeWidth",e,t)}else Uh.ka(t,"value >= 0",Fo,"strokeWidth:value")}),Uh.g(Fo,"strokeCap",Fo.prototype.DG),Uh.defineProperty(Fo,{DG:"strokeCap"},function(){return this.xo},function(t){var e=this.xo;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Uh.ka(t,'"butt", "round", or "square"',Fo,"strokeCap"):(this.xo=t,this.pa(),this.j("strokeCap",e,t)))}),Uh.g(Fo,"strokeJoin",Fo.prototype.YJ),Uh.defineProperty(Fo,{YJ:"strokeJoin"},function(){return this.yo},function(t){var e=this.yo;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Uh.ka(t,'"miter", "bevel", or "round"',Fo,"strokeJoin"):(this.yo=t,this.pa(),this.j("strokeJoin",e,t)))}),Uh.g(Fo,"strokeMiterLimit",Fo.prototype.ZJ),Uh.defineProperty(Fo,{ZJ:"strokeMiterLimit"},function(){return this.wm},function(t){var e=this.wm;if(e!==t)if(Vh&&Uh.p(t,Fo,"strokeMiterLimit"),t>0){this.wm=t,this.pa();var i=this.V;null!==i&&(i.uj=NaN),this.j("strokeMiterLimit",e,t)}else Uh.ka(t,"value > 0",Fo,"strokeWidth:value")}),Uh.g(Fo,"strokeDashArray",Fo.prototype.Ex),Uh.defineProperty(Fo,{Ex:"strokeDashArray"},function(){return this.vm},function(t){var e=this.vm;if(e!==t){if(null===t||Array.isArray(t)||Uh.sc(t,"Array",Fo,"strokeDashArray:value"),null!==t){for(var i=t.length,n=0,o=0;i>o;o++){var r=t[o];"number"==typeof r&&r>=0&&isFinite(r)||Uh.m("strokeDashArray:value "+r+" must be a positive number or zero."),n+=r}if(0===n){if(null===e)return;t=null}}this.vm=t,this.pa(),this.j("strokeDashArray",e,t)}}),Uh.g(Fo,"strokeDashOffset",Fo.prototype.EG),Uh.defineProperty(Fo,{EG:"strokeDashOffset"},function(){return this.gd},function(t){var e=this.gd;e!==t&&(Vh&&Uh.p(t,Fo,"strokeDashOffset"),t>=0&&(this.gd=t,this.pa(),this.j("strokeDashOffset",e,t)))}),Uh.g(Fo,"figure",Fo.prototype.Ab),Uh.defineProperty(Fo,{Ab:"figure"},function(){return this.Qn},function(t){var e=this.Qn;if(e!==t){Vh&&Uh.i(t,"string",Fo,"figure");var i=Bl.xg[t];"function"==typeof i?i=t:(i=Bl.xg[t.toLowerCase()])||Uh.m("Unknown Shape.figure: "+t),e!==i&&(t=this.V,null!==t&&(t.uj=NaN),this.Qn=i,this.bh=!1,this.re(),this.j("figure",e,i))}}),Uh.g(Fo,"toArrow",Fo.prototype.ln),Uh.defineProperty(Fo,{ln:"toArrow"},function(){return this.zo},function(t){var e=this.zo;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){Vh&&Uh.i(t,"string",Fo,"toArrow");var i=Bl.WD(t);null===i?Uh.m("Unknown Shape.toArrow: "+t):e!==i&&(this.zo=i,this.bh=!1,this.re(),No(this),this.j("toArrow",e,i))}}),Uh.g(Fo,"fromArrow",Fo.prototype.Jw),Uh.defineProperty(Fo,{Jw:"fromArrow"},function(){return this.Tn},function(t){var e=this.Tn;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){Vh&&Uh.i(t,"string",Fo,"fromArrow");var i=Bl.WD(t);null===i?Uh.m("Unknown Shape.fromArrow: "+t):e!==i&&(this.Tn=i,this.bh=!1,this.re(),No(this),this.j("fromArrow",e,i))}}),Uh.defineProperty(Fo,{G:"spot1"},function(){return this.zi},function(t){Uh.l(t,P,Fo,"spot1");var e=this.zi;e.L(t)||(this.zi=t=t.ba(),this.T(),this.j("spot1",e,t))}),Uh.defineProperty(Fo,{H:"spot2"},function(){return this.Ai},function(t){Uh.l(t,P,Fo,"spot2");var e=this.Ai;e.L(t)||(this.Ai=t=t.ba(),this.T(),this.j("spot2",e,t))}),Uh.defineProperty(Fo,{Dc:"parameter1"},function(){return this.Tr},function(t){var e=this.Tr;e!==t&&(this.Tr=t,this.re(),this.j("parameter1",e,t))}),Uh.defineProperty(Fo,{Ot:"parameter2"},function(){return this.Ur},function(t){var e=this.Ur;e!==t&&(this.Ur=t,this.re(),this.j("parameter2",e,t))}),Uh.A(Fo,{Ka:"naturalBounds"},function(){if(null!==this.Ta)return this.Kc.assign(this.Ta.kb),this.Kc;var t=this.ya;return new k(0,0,t.width,t.height)}),Uh.g(Fo,"isRectangular",Fo.prototype.$I),Uh.defineProperty(Fo,{$I:"isRectangular"},function(){return this.ar},function(t){var e=this.ar;e!==t&&(Vh&&Uh.i(t,"boolean",Fo,"isRectangular"),this.ar=t,this.T(),this.j("isRectangular",e,t))}),Uh.g(Fo,"pathObject",Fo.prototype.HA),Uh.defineProperty(Fo,{HA:"pathObject"},function(){return this.Xr},function(t){var e=this.Xr;e!==t&&(Vh&&Uh.l(t,Sn,Fo,"pathObject"),this.Xr=t,this.pa(),this.j("pathObject",e,t))}),Uh.g(Fo,"geometryStretch",Fo.prototype.bA),Uh.defineProperty(Fo,{bA:"geometryStretch"},function(){return this.Lq},function(t){var e=this.Lq;e!==t&&(Uh.za(t,Sn,Fo,"geometryStretch"),this.Lq=t,this.j("geometryStretch",e,t))}),Uh.g(Fo,"interval",Fo.prototype.interval),Uh.defineProperty(Fo,{interval:"interval"},function(){return this.Sq},function(t){var e=this.Sq;Vh&&Uh.p(t,Fo,"interval"),t=Math.floor(t),e!==t&&t>=0&&(this.Sq=t,null!==this.h&&Pi(this.h),this.T(),this.j("interval",e,t))}),Fo.getFigureGenerators=function(){var t,e=new v("string","function");for(t in Bl.xg)if(t!==t.toLowerCase()){var i=Bl.xg[t];"function"==typeof i&&e.add(t,i)}return e.freeze(),e},Fo.defineFigureGenerator=function(t,e){Uh.i(t,"string",Fo,"defineFigureGenerator:name"),"string"==typeof e?""!==e&&Bl.xg[e]||Uh.m("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+e):Uh.i(e,"function",Fo,"defineFigureGenerator:func");var i=t.toLowerCase();""!==t&&"none"!==i&&t!==i||Uh.m("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+t);var n=Bl.xg;n[t]=e,n[i]=t},Fo.getArrowheadGeometries=function(){var t,e=new v("string",V);for(t in Bl.$i)if(t!==t.toLowerCase()){var i=Bl.$i[t];i instanceof V&&e.add(t,i)}return e.freeze(),e},Fo.defineArrowheadGeometry=function(t,e){Uh.i(t,"string",Fo,"defineArrowheadGeometry:name");var i=null;"string"==typeof e?(Uh.i(e,"string",Fo,"defineArrowheadGeometry:pathstr"),i=zl(e,!1)):(Uh.l(e,V,Fo,"defineArrowheadGeometry:pathstr"),i=e);var n=t.toLowerCase();""!==t&&"none"!==n&&t!==n||Uh.m("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var o=Bl.$i;o[t]=i,o[n]=t},Uh.Ia($o,Sn),Uh.ja("TextBlock",$o);var Cc=new n,kc=0,Ac=new n,Sc=0,Fc="...",Ec="",Tc=Uh.createElement("canvas").getContext("2d");$o.getEllipsis=function(){return Fc},$o.setEllipsis=function(t){Fc=t,Ac=new n,Sc=0},$o.prototype.cloneProtected=function(t){Sn.prototype.cloneProtected.call(this,t),t.ne=this.ne,t.Ec=this.Ec,t.Tg=this.Tg,t.Xd=this.Xd,t.Yq=this.Yq,t.$l=this.$l,t.Zl=this.Zl,t.zm=this.zm,t.Wk=this.Wk,t.Ye=this.Ye,t.pv=this.pv,t.Wy=this.Wy,t.Vy=this.Vy,t.Sn=this.Sn,t.oj.gt(this.oj),t.Fq=this.Fq,t.Hs=this.Hs,t.Zk=this.Zk,t.qf=this.qf,t.Ij=this.Ij,t.Jj=this.Jj,t.qi=this.qi},$o.prototype.toString=function(){return 22<this.ne.length?'TextBlock("'+this.ne.substring(0,20)+'"...)':'TextBlock("'+this.ne+'")'};var Mc;$o.None=Mc=Uh.w($o,"None",0);var Dc;$o.WrapFit=Dc=Uh.w($o,"WrapFit",1);var Pc;$o.WrapDesiredSize=Pc=Uh.w($o,"WrapDesiredSize",2);var Lc;$o.OverflowClip=Lc=Uh.w($o,"OverflowClip",0);var Bc;$o.OverflowEllipsis=Bc=Uh.w($o,"OverflowEllipsis",1),$o.prototype.T=function(){Sn.prototype.T.call(this),this.Vy=this.Wy=null},Uh.g($o,"font",$o.prototype.font),Uh.defineProperty($o,{font:"font"},function(){return this.Tg},function(t){var e=this.Tg;e!==t&&(Vh&&(Uh.i(t,"string",$o,"font"),Nc(t)||Uh.m('Not a valid font: "'+t+'"')),this.Tg=t,this.Sn=null,this.T(),this.j("font",e,t))});var Nc;$o.isValidFont=Nc=function(t){var e=Tc.font;if(t===e||"10px sans-serif"===t)return!0;Tc.font="10px sans-serif";var i;Tc.font=t;var n=Tc.font;return"10px sans-serif"!==n?(Tc.font=e,!0):(Tc.font="19px serif",i=Tc.font,Tc.font=t,n=Tc.font,Tc.font=e,n!==i)},Uh.g($o,"text",$o.prototype.text),Uh.defineProperty($o,{text:"text"},function(){return this.ne},function(t){var e=this.ne;t=null!==t&&void 0!==t?t.toString():"",e!==t&&(this.ne=t,this.T(),this.j("text",e,t))}),Uh.g($o,"textAlign",$o.prototype.textAlign),Uh.defineProperty($o,{textAlign:"textAlign"},function(){return this.Xd},function(t){var e=this.Xd;e!==t&&(Vh&&Uh.i(t,"string",$o,"textAlign"),"start"===t||"end"===t||"left"===t||"right"===t||"center"===t?(this.Xd=t,this.pa(),this.j("textAlign",e,t)):Uh.ka(t,'"start", "end", "left", "right", or "center"',$o,"textAlign"))}),Uh.A($o,{Ka:"naturalBounds"},function(){if(!this.Kc.J()){var t=Oo(this,this.ne,this.oj,999999).width,e=Ho(this,t,this.oj),i=this.ya;isNaN(i.width)||(t=i.width),isNaN(i.height)||(e=i.height),A(this.Kc,t,e)}return this.Kc}),Uh.g($o,"isMultiline",$o.prototype.Xw),Uh.defineProperty($o,{Xw:"isMultiline"},function(){return this.Yq},function(t){var e=this.Yq;e!==t&&(Vh&&Uh.i(t,"boolean",$o,"isMultiline"),this.Yq=t,this.T(),this.j("isMultiline",e,t))}),Uh.g($o,"isUnderline",$o.prototype.cJ),Uh.defineProperty($o,{cJ:"isUnderline"},function(){return this.$l},function(t){var e=this.$l;e!==t&&(Vh&&Uh.i(t,"boolean",$o,"isUnderline"),this.$l=t,this.pa(),this.j("isUnderline",e,t))}),Uh.g($o,"isStrikethrough",$o.prototype.aJ),Uh.defineProperty($o,{aJ:"isStrikethrough"},function(){return this.Zl},function(t){var e=this.Zl;e!==t&&(Vh&&Uh.i(t,"boolean",$o,"isStrikethrough"),this.Zl=t,this.pa(),this.j("isStrikethrough",e,t))}),Uh.g($o,"wrap",$o.prototype.sB),Uh.defineProperty($o,{sB:"wrap"},function(){return this.zm},function(t){var e=this.zm;e!==t&&(Vh&&Uh.za(t,$o,$o,"wrap"),this.zm=t,this.T(),this.j("wrap",e,t))}),Uh.g($o,"overflow",$o.prototype.overflow),Uh.defineProperty($o,{overflow:"overflow"},function(){return this.Wk},function(t){var e=this.Wk;e!==t&&(Vh&&Uh.za(t,$o,$o,"overflow"),this.Wk=t,this.T(),this.j("overflow",e,t))}),Uh.g($o,"stroke",$o.prototype.stroke),Uh.defineProperty($o,{stroke:"stroke"},function(){return this.Ec},function(t){var e=this.Ec;e!==t&&(Vh&&null!==t&&Uh.Mo(t,"TextBlock.stroke"),t instanceof An&&t.freeze(),this.Ec=t,this.pa(),this.j("stroke",e,t))}),Uh.A($o,{jJ:"lineCount"},function(){return this.Ye}),Uh.g($o,"editable",$o.prototype.Aw),Uh.defineProperty($o,{Aw:"editable"},function(){return this.Fq},function(t){var e=this.Fq;e!==t&&(Vh&&Uh.i(t,"boolean",$o,"editable"),this.Fq=t,this.j("editable",e,t))}),Uh.g($o,"textEditor",$o.prototype.mB),Uh.defineProperty($o,{mB:"textEditor"},function(){return this.Hs},function(t){var e=this.Hs;e!==t&&(t instanceof HTMLElement||Uh.m("textEditor must be an HTMLElement"),this.Hs=t,this.j("textEditor",e,t))}),Uh.g($o,"errorFunction",$o.prototype.kt),Uh.defineProperty($o,{kt:"errorFunction"},function(){return this.qf},function(t){var e=this.qf;e!==t&&(null!==t&&Uh.i(t,"function",$o,"errorFunction"),this.qf=t,this.j("errorFunction",e,t))}),$o.prototype.bk=function(t,e){if(null!==this.Ec&&0!==this.ne.length&&null!==this.Tg){var i=this.Ka.width,n=zo(this);t.textAlign=this.Xd,Rn(this,t,this.Ec,!0,!1),(this.$l||this.Zl)&&Rn(this,t,this.Ec,!1,!1);var o=this.oj,r=0,s=!1,a=Uh.ic(0,0);this.Nf.fb(a);var h=Uh.ic(0,n);this.Nf.fb(h);var l=a.Zj(h);Uh.B(a),Uh.B(h),a=e.scale,8>l*a*a&&(s=!0),e.Sg!==t&&(s=!1),!1===e.fA("textGreeking")&&(s=!1);for(var l=this.Ij,a=this.Jj,h=this.Ye,u=0;h>u;u++){var c=o.nf[u],f=o.ye[u];c>i&&(c=i);var r=r+l,d=f,f=t,p=r,g=i,m=n,v=0;s?("start"===this.Xd||"left"===this.Xd?v=0:"end"===this.Xd||"right"===this.Xd?v=g-c:"center"===this.Xd?v=(g-c)/2:Uh.m("textAlign must be start, end, left, right, or center"),f.fillRect(0+v,p+.25*m,c,1)):("start"===this.Xd||"left"===this.Xd?v=0:"end"===this.Xd||"right"===this.Xd?v=g:"center"===this.Xd?v=g/2:Uh.m("textAlign must be start, end, left, right, or center"),f.fillText(d,0+v,p+m-.25*m),d=m/20|0,0===d&&(d=1),this.$l&&("end"===this.Xd||"right"===this.Xd?v-=c:"center"===this.Xd&&(v-=c/2),f.beginPath(),f.lineWidth=d,f.moveTo(0+v,p+m-.2*m),f.lineTo(0+v+c,p+m-.2*m),f.stroke()),this.Zl&&(f.beginPath(),f.lineWidth=d,p=p+m-m/2.2|0,0!==d%2&&(p+=.5),f.moveTo(0,p),f.lineTo(0+c,p),f.stroke())),r+=n+a}}},$o.prototype.xp=function(t,e,i,n){var o=this.oj;o.reset();var r=0,s=0;if(isNaN(this.ya.width)){if(r=this.ne.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),0===r.length)r=0;else if(this.Xw){for(var a=s=0,h=!1;!h;){var l=r.indexOf("\n",a);-1===l&&(l=r.length,h=!0),a=Io(r.substr(a,l-a).replace(/^\s+|\s+$/g,""),this.Tg),a>s&&(s=a),a=l+1}r=s}else s=r.indexOf("\n",0),s>=0&&(r=r.substr(0,s)),r=a=Io(r,this.Tg);r=Math.min(r,t/this.scale),r=Math.max(8,r)}else r=this.ya.width;if(null!==this.U&&(r=Math.min(r,this.U.Qd.width),r=Math.max(r,this.U.Re.width)),s=Ho(this,r,o),l=s=isNaN(this.ya.height)?Math.min(s,e/this.scale):this.ya.height,0!==o.Ze&&1!==o.ye.length&&this.Wk===Bc&&(e=this.Tg,h=this.Wk===Bc?_o(e):0,a=this.Ij+this.Jj,a=Math.max(0,zo(this)+a),l=Math.max(Math.floor(l/a)-1,0),!(l+1>=o.ye.length))){for(a=o.ye[l],t=Math.max(1,t-h);Io(a,e)>t&&1<a.length;)a=a.substr(0,a.length-1);a+=Fc,t=Io(a,e),o.ye[l]=a,o.ye=o.ye.slice(0,l+1),o.nf[l]=t,o.nf=o.nf.slice(0,l+1),o.Pj=o.ye.length,o.Ze=Math.max(o.Ze,t)}(this.sB===Dc||isNaN(this.ya.width))&&(r=o.Ze,isNaN(this.ya.width)&&(r=Math.max(8,r))),r=Math.max(i,r),s=Math.max(n,s),A(this.Kc,r,s),Mn(this,0,0,r,s)},$o.prototype.Hi=function(t,e,i,n){Ln(this,t,e,i,n)},Uh.g($o,"textValidation",$o.prototype.fu),Uh.defineProperty($o,{fu:"textValidation"},function(){return this.Zk},function(t){var e=this.Zk;e!==t&&(null!==t&&Uh.i(t,"function",$o,"textValidation"),this.Zk=t,this.j("textValidation",e,t))}),Uh.g($o,"spacingAbove",$o.prototype.VJ),Uh.defineProperty($o,{VJ:"spacingAbove"},function(){return this.Ij},function(t){var e=this.Ij;e!==t&&(Vh&&Uh.i(t,"number",$o,"spacingAbove"),this.Ij=t,this.j("spacingAbove",e,t))}),Uh.g($o,"spacingBelow",$o.prototype.WJ),Uh.defineProperty($o,{WJ:"spacingBelow"},function(){return this.Jj},function(t){var e=this.Jj;e!==t&&(Vh&&Uh.i(t,"number",$o,"spacingBelow"),this.Jj=t,this.j("spacingBelow",e,t))}),Uh.g($o,"maxLines",$o.prototype.oJ),Uh.defineProperty($o,{oJ:"maxLines"},function(){return this.qi},function(t){var e=this.qi;e!==t&&(Vh&&Uh.i(t,"number",$o,"maxLines"),t=Math.floor(t),0>=t&&Uh.ka(t,"> 0",$o,"maxLines"),this.qi=t,this.j("maxLines",e,t),this.T())}),Uh.A($o,{JK:"metrics"},function(){return this.oj}),qo.prototype.reset=function(){this.Ze=this.Pj=0,this.nf=[],this.ye=[]},qo.prototype.gt=function(t){this.Pj=t.Pj,this.Ze=t.Ze,this.nf=Uh.il(t.nf),this.ye=Uh.il(t.ye)},Uh.A(qo,{hK:"arrSize"},function(){return this.nf}),Uh.A(qo,{iK:"arrText"},function(){return this.ye}),Uh.A(qo,{IK:"maxLineWidth"},function(){return this.Ze}),Uh.Ia(Wo,Sn),Uh.ja("Picture",Wo);var $c,Rc=new n,Oc=0,jc=[],Ic=-1,zc=[];Wo.clearCache=$c=function(t){void 0===t&&(t=""),Uh.i(t,"string",Wo,"clearCache:url"),""!==t?Rc[t]&&(delete Rc[t],Oc--):(Rc=new n,Oc=0)},Wo.prototype.cloneProtected=function(t){Sn.prototype.cloneProtected.call(this,t),t.element=this.nd,t.Cs=this.Cs,t.Hj.assign(this.Hj),t.Wn=this.Wn,t.qf=this.qf,t.to=this.to},Wo.prototype.toString=function(){return"Picture("+this.source+")#"+Uh.Yc(this)},Uh.g(Wo,"element",Wo.prototype.element),Uh.defineProperty(Wo,{element:"element"},function(){return this.nd},function(e){var i=this.nd;if(i!==e){e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||Uh.m("Picture.element must be an instance of Image, Canvas, or Video."),this.Pq=!1;var n=this;e instanceof HTMLCanvasElement?this.ev=!0:(this.ev=!1,e.onerror=function(t){n.Pq=!0,null!==n.qf&&n.qf(n,t)}),this.nd=e,!0===e.complete||void 0===e.complete?(this.gm=!0,this.ya.J()||(Kn(this,!1),this.T())):(jc.push(this),-1===Ic&&(Ic=Uh.setInterval(function(){for(var e=[],i=jc,n=i.length,o=0;n>o;o++){var r,s=i[o];r=s;var a=r.nd;if(null===a)r=!0;else if(a.complete){if(r.gm=!0,r.ya.J()||(Kn(r,!1),r.T()),null!==r.h)r.ya.J()||r.h.oc(),r.h.pa();else{r=zc;var h=r.length;if(0===h)for(var h=t.document.getElementsByTagName("canvas"),l=h.length,a=0;l>a;a++){var u=h[a];u.parentElement&&u.parentElement.Y&&r.push(u.parentElement.Y)}for(h=r.length,a=0;h>a;a++)r[a].pa()}r=!0}else r=!1;r||e.push(s)}0===e.length&&(Uh.clearInterval(Ic),Ic=-1),jc=e},200))),this.j("element",i,e),this.pa()}}),Uh.g(Wo,"source",Wo.prototype.source),Uh.defineProperty(Wo,{source:"source"},function(){return this.Cs},function(t){var e=this.Cs;if(e!==t){Uh.i(t,"string",Wo,"source"),this.Cs=t,this.Pq=!1;var i=Rc;if(void 0!==i[t])this.element=i[t].Ko[0].source;else{Oc>30&&($c(),i=Rc);var n=Uh.createElement("img");n.src=t;var o=this.to;null!==o&&(n.crossOrigin=o(this)),i[t]=new Go(n),Oc++,n instanceof HTMLImageElement&&(this.element=n)}this.pa(),this.j("source",e,t)}}),Uh.g(Wo,"sourceCrossOrigin",Wo.prototype.TJ),Uh.defineProperty(Wo,{TJ:"sourceCrossOrigin"},function(){return this.to},function(t){if(this.to!==t&&(null!==t&&Uh.i(t,"function",Wo,"sourceCrossOrigin"),this.to=t,null!==this.element)){var e=this.element.src;null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this))}}),Uh.g(Wo,"sourceRect",Wo.prototype.Xh),Uh.defineProperty(Wo,{Xh:"sourceRect"},function(){return this.Hj},function(t){var e=this.Hj;e.L(t)||(Uh.l(t,k,Wo,"sourceRect"),this.Hj=t=t.ba(),this.pa(),this.j("sourceRect",e,t))}),Uh.g(Wo,"imageStretch",Wo.prototype.ZE),Uh.defineProperty(Wo,{ZE:"imageStretch"},function(){return this.Wn},function(t){var e=this.Wn;e!==t&&(Uh.za(t,Sn,Wo,"imageStretch"),this.Wn=t,this.pa(),this.j("imageStretch",e,t))}),Uh.g(Wo,"errorFunction",Wo.prototype.kt),Uh.defineProperty(Wo,{kt:"errorFunction"},function(){return this.qf},function(t){var e=this.qf;if(e!==t){if(null!==t&&Uh.i(t,"function",Wo,"errorFunction"),this.qf=t,null!==this.nd){var i=this;this.nd.onerror=function(t){null!==i.qf&&i.qf(i,t)}}this.j("errorFunction",e,t)}}),Wo.prototype.bk=function(t,e){if(!e.Nn){if(null===this.Gs)if(null===this.nd)this.Gs=!1;else{var i=Uh.createElement("canvas").getContext("2d");0!==this.nd.width&&0!==this.nd.height&&i.drawImage(this.nd,0,0);try{i.getImageData(0,0,1,1),this.Gs=!1}catch(n){this.Gs=!0}}if(this.Gs)return}if(this.gm&&(i=this.nd,null!==i)){var o=i.src;if(null!==o&&""!==o||Uh.m("Element has no source attribute: "+i),this.Pq){if(!i.complete)return;this.Pq=!1}var o=this.Ka,r=0,s=0,a=this.ev,h=a?+i.width:i.naturalWidth,a=a?+i.height:i.naturalHeight;if(void 0===h&&i.videoWidth&&(h=i.videoWidth),void 0===a&&i.videoHeight&&(a=i.videoHeight),h=h||o.width,a=a||o.height,0!==h&&0!==a){this.Xh.J()&&(r=this.Hj.x,s=this.Hj.y,h=this.Hj.width,a=this.Hj.height);var l=h,u=a,c=this.Wn;switch(c){case Xu:if(this.Xh.J())break;r+=Math.max((l-o.width)/2,0),s+=Math.max((u-o.height)/2,0),h=Math.min(o.width,l),a=Math.min(o.height,u);break;case ec:l=o.width,u=o.height;break;case ic:case nc:var f=0;c===ic?(f=Math.min(o.height/u,o.width/l),l*=f,u*=f):c===nc&&(f=Math.max(o.height/u,o.width/l),l*=f,u*=f,r+=(l-o.width)/2,s+=(u-o.height)/2,h*=1/(l/o.width),a*=1/(u/o.height),l=o.width,u=o.height)}this.NC=h*a;var c=this.Qi()*e.scale,c=this.NC/(l*c*u*c),f=Rc[this.source],d=null;if(void 0!==f&&c>16){2>f.Ko.length&&(Vo(f,4,h,a),Vo(f,16,h,a));for(var p=f.Ko,g=p.length,d=p[0],m=0;g>m&&p[m].Rt*p[m].Rt<c;m++)d=p[m]}e.Py||void 0===f||null===d||1===d.Rt?t.drawImage(i,r,s,h,a,Math.max((o.width-l)/2,0),Math.max((o.height-u)/2,0),Math.min(o.width,l),Math.min(o.height,u)):(t.save(),t.drawImage(d.source,Math.max((o.width-l)/2,0),Math.max((o.height-u)/2,0),Math.min(o.width,l),Math.min(o.height,u)),t.restore())}}},Uh.A(Wo,{Ka:"naturalBounds"},function(){return this.Kc}),Wo.prototype.xp=function(t,e,i,n){var o=this.ya,r=zn(this,!0),s=this.nd,a=this.ev;(a||!this.gm&&s&&s.complete)&&(this.gm=!0),null===s&&(isFinite(t)||(t=0),isFinite(e)||(e=0)),isFinite(o.width)||r===ec||r===tc?(isFinite(t)||(t=this.Xh.J()?this.Xh.width:a?+s.width:s.naturalWidth),i=0):null!==s&&!1!==this.gm&&(t=this.Xh.J()?this.Xh.width:a?+s.width:s.naturalWidth),isFinite(o.height)||r===ec||r===Zu?(isFinite(e)||(e=this.Xh.J()?this.Xh.height:a?+s.height:s.naturalHeight),n=0):null!==s&&!1!==this.gm&&(e=this.Xh.J()?this.Xh.height:a?+s.height:s.naturalHeight),isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(e=o.height),o=this.Qd,r=this.Re,i=Math.max(i,r.width),n=Math.max(n,r.height),t=Math.min(o.width,t),e=Math.min(o.height,e),t=Math.max(i,t),e=Math.max(n,e),null===s||s.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),A(this.Kc,t,e),Mn(this,0,0,t,e)},Wo.prototype.Hi=function(t,e,i,n){Ln(this,t,e,i,n)},Wh=Ko.prototype,Wh.reset=function(){this.s=new V,this.Wb=null},Wh.eb=function(t){null===this.s&&Uh.m("StreamGeometryContext has been closed"),null===this.Wb&&Uh.m("Need to call beginFigure first"),this.Wb.Ti=t},Wh.moveTo=function(t,e,i){
void 0===i&&(i=!1),null===this.s&&Uh.m("StreamGeometryContext has been closed"),null===this.Wb&&Uh.m("Need to call beginFigure first");var n=new Z(_l);n.D=t,n.F=e,i&&n.close(),this.Wb.Ea.add(n)},Wh.lineTo=function(t,e,i){void 0===i&&(i=!1),null===this.s&&Uh.m("StreamGeometryContext has been closed"),null===this.Wb&&Uh.m("Need to call beginFigure first");var n=new Z(Hl);n.D=t,n.F=e,i&&n.close(),this.Wb.Ea.add(n)},Wh.arcTo=function(t,e,i,n,o,r,s){void 0===r&&(r=0),void 0===s&&(s=!1),null===this.s&&Uh.m("StreamGeometryContext has been closed"),null===this.Wb&&Uh.m("Need to call beginFigure first");var a=new Z(Gl);a.lh=t,a.Yh=e,a.Ca=i,a.Ra=n,a.radiusX=o,a.radiusY=0!==r?r:o,s&&a.close(),this.Wb.Ea.add(a)},Bl.makeGeometry=function(t,e,i){var n=t.ya,o=n.width,n=n.height;return void 0!==e&&!isNaN(e)&&isFinite(e)&&(o=e),void 0!==i&&!isNaN(i)&&isFinite(i)&&(n=i),isFinite(o)||(o=100),isFinite(n)||(n=100),e=null,"None"!==t.ln?e=Bl.$i[t.ln]:"None"!==t.Jw?e=Bl.$i[t.Jw]:(i=Bl.xg[t.Ab],"string"==typeof i&&(i=Bl.xg[i]),void 0===i&&Uh.m("Unknown Shape.figure: "+t.Ab),e=i(t,o,n),e.$n=o,e.Zn=n),null===e&&(i=Bl.xg.Rectangle,"function"==typeof i&&(e=i(t,o,n))),e},Bl.Ki=function(t,e,i,n,o,r,s,a,h,l,u,c,f,d){var p=1-h;t=t*p+i*h,e=e*p+n*h,i=i*p+o*h,n=n*p+r*h,o=o*p+s*h,r=r*p+a*h,a=t*p+i*h,s=e*p+n*h,i=i*p+o*h,n=n*p+r*h,l.x=t,l.y=e,u.x=a,u.y=s,c.x=a*p+i*h,c.y=s*p+n*h,f.x=i,f.y=n,d.x=o,d.y=r},Bl.Qo=function(t){t=Bl.Nm(t);var e=Uh.lb();e[0]=t[0];for(var i=1,n=1;n<t.length;)e[i]=t[n],e[i+1]=t[n],e[i+2]=t[n+1],n+=2,i+=3;return Uh.xa(t),e},Bl.Nm=function(t){var e=Bl.jl(t),i=Uh.lb(),n=Math.floor(e.length/2),o=e.length-1;t=0===t%2?2:1;for(var r=0;o>r;r++){var s=e[r],a=e[r+1],h=e[(n+r-1)%o],l=e[(n+r+t)%o];i[2*r]=s,i[2*r+1]=Bl.ol(s.x,s.y,h.x,h.y,a.x,a.y,l.x,l.y,new b)}return i[i.length]=i[0],Uh.xa(e),i},Bl.ol=function(t,e,i,n,o,r,s,a,h){i=t-i;var l=o-s,u=s=0;return 0===i||0===l?0===i?(a=(r-a)/l,s=t,u=a*s+(r-a*o)):(n=(e-n)/i,s=o,u=n*s+(e-n*t)):(n=(e-n)/i,a=(r-a)/l,t=e-n*t,s=(r-a*o-t)/(n-a),u=n*s+t),h.o(s,u),h},Bl.jl=function(t){for(var e=Uh.lb(),i=1.5*Math.PI,n=0,o=0;t>o;o++)n=2*Math.PI/t*o+i,e[o]=new b(.5+.5*Math.cos(n),.5+.5*Math.sin(n));return e.push(e[0]),e},Bl.xB=new P(.156,.156).Ma(),Bl.yB=new P(.844,.844).Ma(),Bl.xg={None:"Rectangle",Rectangle:function(t,e,i){return t=new V,t.type=$l,t.ra=0,t.sa=0,t.D=e,t.F=i,t},Square:function(t,e,i){return t=new V,t.ud=ic,t.type=$l,t.ra=0,t.sa=0,t.D=Math.min(e,i),t.F=Math.min(e,i),t},Ellipse:function(t,e,i){return t=new V,t.type=Rl,t.ra=0,t.sa=0,t.D=e,t.F=i,t.G=Bl.xB,t.H=Bl.yB,t},Circle:function(t,e,i){return t=new V,t.ud=ic,t.type=Rl,t.ra=0,t.sa=0,t.D=Math.min(e,i),t.F=Math.min(e,i),t.G=Bl.xB,t.H=Bl.yB,t},Connector:"Ellipse",TriangleRight:function(t,e,i){t=new V;var n=new Q,o=new Z;return o.D=e,o.F=.5*i,n.Ea.add(o),e=new Z,e.D=0,e.F=i,n.Ea.add(e.close()),t.pb.add(n),t.G=new P(0,.25),t.H=new P(.5,.75),t},TriangleDown:function(t,e,i){t=new V;var n=new Q,o=new Z;return o.D=e,o.F=0,n.Ea.add(o),o=new Z,o.D=.5*e,o.F=i,n.Ea.add(o.close()),t.pb.add(n),t.G=new P(.25,0),t.H=new P(.75,.5),t},TriangleLeft:function(t,e,i){t=new V;var n=new Q;n.ra=e,n.sa=i;var o=new Z;return o.D=0,o.F=.5*i,n.Ea.add(o),i=new Z,i.D=e,i.F=0,n.Ea.add(i.close()),t.pb.add(n),t.G=new P(.5,.25),t.H=new P(1,.75),t},TriangleUp:function(t,e,i){t=new V;var n=new Q;n.ra=e,n.sa=i;var o=new Z;return o.D=0,o.F=i,n.Ea.add(o),i=new Z,i.D=.5*e,i.F=0,n.Ea.add(i.close()),t.pb.add(n),t.G=new P(.25,.5),t.H=new P(.75,1),t},Line1:function(t,e,i){return t=new V,t.type=Nl,t.ra=0,t.sa=0,t.D=e,t.F=i,t},Line2:function(t,e,i){return t=new V,t.type=Nl,t.ra=e,t.sa=0,t.D=0,t.F=i,t},MinusLine:"LineH",LineH:function(t,e,i){return t=new V,t.type=Nl,t.ra=0,t.sa=i/2,t.D=e,t.F=i/2,t},LineV:function(t,e,i){return t=new V,t.type=Nl,t.ra=e/2,t.sa=0,t.D=e/2,t.F=i,t},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(t,e,i){var n=Bl.wa;return t=Uh.u(),Yo(t,0,0,!1),Qo(t,n*e,0,1*e,(1-n)*i,e,i),e=t.s,Uh.v(t),e},Curve2:function(t,e,i){var n=Bl.wa;return t=Uh.u(),Yo(t,0,0,!1),Qo(t,0,n*i,(1-n)*e,i,e,i),e=t.s,Uh.v(t),e},Curve3:function(t,e,i){var n=Bl.wa;return t=Uh.u(),Yo(t,1*e,0,!1),Qo(t,1*e,n*i,n*e,1*i,0,1*i),e=t.s,Uh.v(t),e},Curve4:function(t,e,i){var n=Bl.wa;return t=Uh.u(),Yo(t,1*e,0,!1),Qo(t,(1-n)*e,0,0,(1-n)*i,0,1*i),e=t.s,Uh.v(t),e},Alternative:"Triangle",Merge:"Triangle",Triangle:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0*i,!0),t.lineTo(0*e,1*i),t.lineTo(1*e,1*i,!0),e=t.s,e.G=new P(.25,.5),e.H=new P(.75,1),Uh.v(t),e},Decision:"Diamond",Diamond:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0,!0),t.lineTo(0,.5*i),t.lineTo(.5*e,1*i),t.lineTo(1*e,.5*i,!0),e=t.s,e.G=new P(.25,.25),e.H=new P(.75,.75),Uh.v(t),e},Pentagon:function(t,e,i){var n=Bl.jl(5);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;5>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.2,.22),e.H=new P(.8,.9),Uh.v(t),e},DataTransmission:"Hexagon",Hexagon:function(t,e,i){var n=Bl.jl(6);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;6>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.07,.25),e.H=new P(.93,.75),Uh.v(t),e},Heptagon:function(t,e,i){var n=Bl.jl(7);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;7>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.2,.15),e.H=new P(.8,.85),Uh.v(t),e},Octagon:function(t,e,i){var n=Bl.jl(8);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;8>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.15,.15),e.H=new P(.85,.85),Uh.v(t),e},Nonagon:function(t,e,i){var n=Bl.jl(9);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;9>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.17,.13),e.H=new P(.82,.82),Uh.v(t),e},Decagon:function(t,e,i){var n=Bl.jl(10);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;10>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.16,.16),e.H=new P(.84,.84),Uh.v(t),e},Dodecagon:function(t,e,i){var n=Bl.jl(12);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;12>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.16,.16),e.H=new P(.84,.84),Uh.v(t),e},FivePointedStar:function(t,e,i){var n=Bl.Nm(5);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;10>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.312,.383),e.H=new P(.693,.765),Uh.v(t),e},SixPointedStar:function(t,e,i){var n=Bl.Nm(6);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;12>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.17,.251),e.H=new P(.833,.755),Uh.v(t),e},SevenPointedStar:function(t,e,i){var n=Bl.Nm(7);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;14>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.363,.361),e.H=new P(.641,.709),Uh.v(t),e},EightPointedStar:function(t,e,i){var n=Bl.Nm(8);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;16>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.252,.255),e.H=new P(.75,.75),Uh.v(t),e},NinePointedStar:function(t,e,i){var n=Bl.Nm(9);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;18>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.355,.361),e.H=new P(.645,.651),Uh.v(t),e},TenPointedStar:function(t,e,i){var n=Bl.Nm(10);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;20>o;o++)t.lineTo(n[o].x*e,n[o].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.281,.261),e.H=new P(.723,.748),Uh.v(t),e},FivePointedBurst:function(t,e,i){var n=Bl.Qo(5);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)Qo(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.312,.383),e.H=new P(.693,.765),Uh.v(t),e},SixPointedBurst:function(t,e,i){var n=Bl.Qo(6);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)Qo(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.17,.251),e.H=new P(.833,.755),Uh.v(t),e},SevenPointedBurst:function(t,e,i){var n=Bl.Qo(7);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)Qo(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.363,.361),e.H=new P(.641,.709),Uh.v(t),e},EightPointedBurst:function(t,e,i){var n=Bl.Qo(8);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)Qo(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.252,.255),e.H=new P(.75,.75),Uh.v(t),e},NinePointedBurst:function(t,e,i){var n=Bl.Qo(9);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)Qo(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.355,.361),e.H=new P(.645,.651),Uh.v(t),e},TenPointedBurst:function(t,e,i){var n=Bl.Qo(10);t=Uh.u(),Yo(t,n[0].x*e,n[0].y*i,!0);for(var o=1;o<n.length;o+=3)Qo(t,n[o].x*e,n[o].y*i,n[o+1].x*e,n[o+1].y*i,n[o+2].x*e,n[o+2].y*i);return Uh.xa(n),Jo(t),e=t.s,e.G=new P(.281,.261),e.H=new P(.723,.748),Uh.v(t),e},Cloud:function(t,e,i){return t=Uh.u(),Yo(t,.08034461*e,.1944299*i,!0),Qo(t,-.09239631*e,.07836421*i,.1406031*e,-.0542823*i,.2008615*e,.05349299*i),Qo(t,.2450511*e,-.00697547*i,.3776197*e,-.01112067*i,.4338609*e,.074219*i),Qo(t,.4539471*e,0,.6066018*e,-.02526587*i,.6558228*e,.07004196*i),Qo(t,.6914277*e,-.01904177*i,.8921095*e,-.01220843*i,.8921095*e,.08370865*i),Qo(t,1.036446*e,.04105738*i,1.020377*e,.3022052*i,.9147671*e,.3194596*i),Qo(t,1.04448*e,.360238*i,.992256*e,.5219009*i,.9082935*e,.562044*i),Qo(t,1.032337*e,.5771781*i,1.018411*e,.8120651*i,.9212406*e,.8217117*i),Qo(t,1.028411*e,.9571472*i,.8556702*e,1.052487*i,.7592566*e,.9156953*i),Qo(t,.7431877*e,1.009325*i,.5624123*e,1.021761*i,.5101666*e,.9310455*i),Qo(t,.4820677*e,1.031761*i,.3030112*e,1.002796*i,.2609328*e,.9344623*i),Qo(t,.2329994*e,1.01518*i,.03213784*e,1.01518*i,.08034461*e,.870098*i),Qo(t,-.02812061*e,.9032597*i,-.01205169*e,.6835638*i,.06829292*e,.6545475*i),Qo(t,-.01812061*e,.6089503*i,-.00606892*e,.4555777*i,.06427569*e,.4265613*i),Qo(t,-.01606892*e,.3892545*i,-.01205169*e,.1944299*i,.08034461*e,.1944299*i),Jo(t),e=t.s,e.G=new P(.1,.1),e.H=new P(.9,.9),Uh.v(t),e},Gate:"Crescent",Crescent:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),Qo(t,1*e,0,1*e,1*i,0,1*i),Qo(t,.5*e,.75*i,.5*e,.25*i,0,0),Jo(t),e=t.s,e.G=new P(.511,.19),e.H=new P(.776,.76),Uh.v(t),e},FramedRectangle:function(t,e,i){var n=Uh.u(),o=t?t.Dc:NaN;return t=t?t.Ot:NaN,isNaN(o)&&(o=.1),isNaN(t)&&(t=.1),Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i,!0),Yo(n,o*e,t*i,!1,!0),n.lineTo(o*e,(1-t)*i),n.lineTo((1-o)*e,(1-t)*i),n.lineTo((1-o)*e,t*i,!0),e=n.s,e.G=new P(o,t),e.H=new P(1-o,1-t),Uh.v(n),e},Delay:"HalfEllipse",HalfEllipse:function(t,e,i){var n=Bl.wa;return t=Uh.u(),Yo(t,0,0,!0),Qo(t,n*e,0,1*e,(.5-n/2)*i,1*e,.5*i),Qo(t,1*e,(.5+n/2)*i,n*e,1*i,0,1*i),Jo(t),e=t.s,e.G=new P(0,.2),e.H=new P(.75,.8),Uh.v(t),e},Heart:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,1*i,!0),Qo(t,.1*e,.8*i,0,.5*i,0*e,.3*i),Qo(t,0*e,0,.45*e,0,.5*e,.3*i),Qo(t,.55*e,0,1*e,0,1*e,.3*i),Qo(t,e,.5*i,.9*e,.8*i,.5*e,1*i),Jo(t),e=t.s,e.G=new P(.15,.29),e.H=new P(.86,.68),Uh.v(t),e},Spade:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0,!0),t.lineTo(.51*e,.01*i),Qo(t,.6*e,.2*i,e,.25*i,e,.5*i),Qo(t,e,.8*i,.6*e,.8*i,.55*e,.7*i),Qo(t,.5*e,.75*i,.55*e,.95*i,.75*e,i),t.lineTo(.25*e,i),Qo(t,.45*e,.95*i,.5*e,.75*i,.45*e,.7*i),Qo(t,.4*e,.8*i,0,.8*i,0,.5*i),Qo(t,0,.25*i,.4*e,.2*i,.49*e,.01*i),Jo(t),e=t.s,e.G=new P(.19,.26),e.H=new P(.8,.68),Uh.v(t),e},Club:function(t,e,i){t=Uh.u(),Yo(t,.4*e,.6*i,!0),Qo(t,.5*e,.75*i,.45*e,.95*i,.15*e,1*i),t.lineTo(.85*e,i),Qo(t,.55*e,.95*i,.5*e,.75*i,.6*e,.6*i);var n=.2,o=.3,r=0,s=4*(Math.SQRT2-1)/3*n;return Qo(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),Qo(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),Qo(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o+.05)*e,(.5-s+r-.02)*i,.65*e,.36771243*i),n=.2,o=0,r=-.3,s=4*(Math.SQRT2-1)/3*n,Qo(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),Qo(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),Qo(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,.35*e,.36771243*i),n=.2,o=-.3,r=0,s=4*(Math.SQRT2-1)/3*n,Qo(t,(.5+n+o-.05)*e,(.5-s+r-.02)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),Qo(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),Qo(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,.4*e,.6*i),Jo(t),e=t.s,e.G=new P(.06,.39),e.H=new P(.93,.58),Uh.v(t),e},Ring:function(t,e,i){t=Uh.u();var n=4*(Math.SQRT2-1)/3*.5;return Yo(t,e,.5*i,!0),Qo(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),Qo(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),Qo(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),Qo(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,Yo(t,.5*e,.1*i,!0,!0),Qo(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),Qo(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),Qo(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),Qo(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i),e=t.s,e.G=new P(.146,.146),e.H=new P(.853,.853),e.ud=ic,Uh.v(t),e},YinYang:function(t,e,i){var n=.5;t=Uh.u(),n=.5,Yo(t,.5*e,0,!0),t.arcTo(270,180,.5*e,.5*e,.5*e),Qo(t,1*e,n*i,0,n*i,n*e,0,!0);var n=.1,o=.25;return Yo(t,(.5+n)*e,o*i,!0,!0),t.arcTo(0,-360,.5*e,i*o,n*e),Jo(t),Yo(t,.5*e,0,!1),t.arcTo(270,-180,.5*e,.5*e,.5*e),t.eb(!1),o=.75,Yo(t,(.5+n)*e,o*i,!0),t.arcTo(0,360,.5*e,i*o,n*e),Jo(t),e=t.s,e.ud=ic,Uh.v(t),e},Peace:function(t,e,i){t=Uh.u();var n=4*(Math.SQRT2-1)/3*.5;Yo(t,e,.5*i,!0),Qo(t,e,(.5-n)*i,(.5+n)*e,0,.5*e,0),Qo(t,(.5-n)*e,0,0,(.5-n)*i,0,.5*i),Qo(t,0,(.5+n)*i,(.5-n)*e,i,.5*e,i),Qo(t,(.5+n)*e,i,e,(.5+n)*i,e,.5*i),n=4*(Math.SQRT2-1)/3*.4,Yo(t,.5*e,.1*i,!0,!0),Qo(t,(.5+n)*e,.1*i,.9*e,(.5-n)*i,.9*e,.5*i),Qo(t,.9*e,(.5+n)*i,(.5+n)*e,.9*i,.5*e,.9*i),Qo(t,(.5-n)*e,.9*i,.1*e,(.5+n)*i,.1*e,.5*i),Qo(t,.1*e,(.5-n)*i,(.5-n)*e,.1*i,.5*e,.1*i);var n=.07,o=0,r=.11*-.707,s=4*(Math.SQRT2-1)/3*n;return Yo(t,(.5+n+o)*e,(.5+r)*i,!0),Qo(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),Qo(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),Qo(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),n=.07,o=.11*-.707,r=.707*.11,s=4*(Math.SQRT2-1)/3*n,Yo(t,(.5+n+o)*e,(.5+r)*i,!0),Qo(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),Qo(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),Qo(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),n=.07,o=.707*.11,r=.707*.11,s=4*(Math.SQRT2-1)/3*n,Yo(t,(.5+n+o)*e,(.5+r)*i,!0),Qo(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),Qo(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),Qo(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),e=t.s,e.G=new P(.146,.146),e.H=new P(.853,.853),e.ud=ic,Uh.v(t),e},NotAllowed:function(t,e,i){var n=Bl.wa,o=.5*n,r=.5;t=Uh.u(),Yo(t,.5*e,(.5-r)*i,!0),Qo(t,(.5-o)*e,(.5-r)*i,(.5-r)*e,(.5-o)*i,(.5-r)*e,.5*i),Qo(t,(.5-r)*e,(.5+o)*i,(.5-o)*e,(.5+r)*i,.5*e,(.5+r)*i),Qo(t,(.5+o)*e,(.5+r)*i,(.5+r)*e,(.5+o)*i,(.5+r)*e,.5*i),Qo(t,(.5+r)*e,(.5-o)*i,(.5+o)*e,(.5-r)*i,.5*e,(.5-r)*i);var r=.4,o=.4*n,n=Uh.M(),s=Uh.M(),a=Uh.M(),h=Uh.M();Bl.Ki(.5,.5-r,.5+o,.5-r,.5+r,.5-o,.5+r,.5,.42,n,s,a,h,h);var l=Uh.M(),u=Uh.M(),c=Uh.M();Bl.Ki(.5,.5-r,.5+o,.5-r,.5+r,.5-o,.5+r,.5,.58,h,h,c,l,u);var f=Uh.M(),d=Uh.M(),p=Uh.M();Bl.Ki(.5,.5+r,.5-o,.5+r,.5-r,.5+o,.5-r,.5,.42,f,d,p,h,h);var g=Uh.M(),m=Uh.M(),v=Uh.M();return Bl.Ki(.5,.5+r,.5-o,.5+r,.5-r,.5+o,.5-r,.5,.58,h,h,v,g,m),Yo(t,v.x*e,v.y*i,!0,!0),Qo(t,g.x*e,g.y*i,m.x*e,m.y*i,(.5-r)*e,.5*i),Qo(t,(.5-r)*e,(.5-o)*i,(.5-o)*e,(.5-r)*i,.5*e,(.5-r)*i),Qo(t,n.x*e,n.y*i,s.x*e,s.y*i,a.x*e,a.y*i),t.lineTo(v.x*e,v.y*i),Jo(t),Yo(t,p.x*e,p.y*i,!0,!0),t.lineTo(c.x*e,c.y*i),Qo(t,l.x*e,l.y*i,u.x*e,u.y*i,(.5+r)*e,.5*i),Qo(t,(.5+r)*e,(.5+o)*i,(.5+o)*e,(.5+r)*i,.5*e,(.5+r)*i),Qo(t,f.x*e,f.y*i,d.x*e,d.y*i,p.x*e,p.y*i),Jo(t),Uh.B(n),Uh.B(s),Uh.B(a),Uh.B(h),Uh.B(l),Uh.B(u),Uh.B(c),Uh.B(f),Uh.B(d),Uh.B(p),Uh.B(g),Uh.B(m),Uh.B(v),e=t.s,Uh.v(t),e.ud=ic,e},Fragile:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(.25*e,0),t.lineTo(.2*e,.15*i),t.lineTo(.3*e,.25*i),t.lineTo(.29*e,.33*i),t.lineTo(.35*e,.25*i),t.lineTo(.3*e,.15*i),t.lineTo(.4*e,0),t.lineTo(1*e,0),Qo(t,1*e,.25*i,.75*e,.5*i,.55*e,.5*i),t.lineTo(.55*e,.9*i),t.lineTo(.7*e,.9*i),t.lineTo(.7*e,1*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.9*i),t.lineTo(.45*e,.9*i),t.lineTo(.45*e,.5*i),Qo(t,.25*e,.5*i,0,.25*i,0,0),Jo(t),e=t.s,e.G=new P(.25,0),e.H=new P(.75,.4),Uh.v(t),e},HourGlass:function(t,e,i){return t=Uh.u(),Yo(t,.65*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.35*e,.5*i),t.lineTo(0,0),t.lineTo(1*e,0),Jo(t),e=t.s,Uh.v(t),e},Lightning:function(t,e,i){return t=Uh.u(),Yo(t,0*e,.55*i,!0),t.lineTo(.75*e,0),t.lineTo(.25*e,.45*i),t.lineTo(.9*e,.48*i),t.lineTo(.4*e,1*i),t.lineTo(.65*e,.55*i),Jo(t),e=t.s,Uh.v(t),e},Parallelogram1:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var n=Uh.u();return Yo(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),Jo(n),e=n.s,e.G=new P(t,0),e.H=new P(1-t,1),Uh.v(n),e},Input:"Output",Output:function(t,e,i){return t=Uh.u(),Yo(t,0,1*i,!0),t.lineTo(.1*e,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),Jo(t),e=t.s,e.G=new P(.1,0),e.H=new P(.9,1),Uh.v(t),e},Parallelogram2:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.25);var n=Uh.u();return Yo(n,t*e,0,!0),n.lineTo(1*e,0),n.lineTo((1-t)*e,1*i),n.lineTo(0,1*i),Jo(n),e=n.s,e.G=new P(t,0),e.H=new P(1-t,1),Uh.v(n),e},ThickCross:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.25);var n=Uh.u();return Yo(n,(.5-t/2)*e,0,!0),n.lineTo((.5+t/2)*e,0),n.lineTo((.5+t/2)*e,(.5-t/2)*i),n.lineTo(1*e,(.5-t/2)*i),n.lineTo(1*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,(.5+t/2)*i),n.lineTo((.5+t/2)*e,1*i),n.lineTo((.5-t/2)*e,1*i),n.lineTo((.5-t/2)*e,(.5+t/2)*i),n.lineTo(0,(.5+t/2)*i),n.lineTo(0,(.5-t/2)*i),n.lineTo((.5-t/2)*e,(.5-t/2)*i),Jo(n),e=n.s,e.G=new P(.5-t/2,.5-t/2),e.H=new P(.5+t/2,.5+t/2),Uh.v(n),e},ThickX:function(t,e,i){t=.25/Math.SQRT2;var n=Uh.u();return Yo(n,.3*e,0,!0),n.lineTo(.5*e,.2*i),n.lineTo(.7*e,0),n.lineTo(1*e,.3*i),n.lineTo(.8*e,.5*i),n.lineTo(1*e,.7*i),n.lineTo(.7*e,1*i),n.lineTo(.5*e,.8*i),n.lineTo(.3*e,1*i),n.lineTo(0,.7*i),n.lineTo(.2*e,.5*i),n.lineTo(0,.3*i),Jo(n),e=n.s,e.G=new P(.5-t,.5-t),e.H=new P(.5+t,.5+t),Uh.v(n),e},ThinCross:function(t,e,i){var n=t?t.Dc:NaN;return isNaN(n)&&(n=.1),t=Uh.u(),Yo(t,(.5-n/2)*e,0,!0),t.lineTo((.5+n/2)*e,0),t.lineTo((.5+n/2)*e,(.5-n/2)*i),t.lineTo(1*e,(.5-n/2)*i),t.lineTo(1*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,(.5+n/2)*i),t.lineTo((.5+n/2)*e,1*i),t.lineTo((.5-n/2)*e,1*i),t.lineTo((.5-n/2)*e,(.5+n/2)*i),t.lineTo(0,(.5+n/2)*i),t.lineTo(0,(.5-n/2)*i),t.lineTo((.5-n/2)*e,(.5-n/2)*i),Jo(t),e=t.s,Uh.v(t),e},ThinX:function(t,e,i){return t=Uh.u(),Yo(t,.1*e,0,!0),t.lineTo(.5*e,.4*i),t.lineTo(.9*e,0),t.lineTo(1*e,.1*i),t.lineTo(.6*e,.5*i),t.lineTo(1*e,.9*i),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.6*i),t.lineTo(.1*e,1*i),t.lineTo(0,.9*i),t.lineTo(.4*e,.5*i),t.lineTo(0,.1*i),Jo(t),t.s},RightTriangle:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),Jo(t),e=t.s,e.G=new P(0,.5),e.H=new P(.5,1),Uh.v(t),e},RoundedIBeam:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(1*e,0),Qo(t,.5*e,.25*i,.5*e,.75*i,1*e,1*i),t.lineTo(0,1*i),Qo(t,.5*e,.75*i,.5*e,.25*i,0,0),Jo(t),e=t.s,Uh.v(t),e},RoundedRectangle:function(t,e,i){var n=t?t.Dc:NaN;isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=n*Bl.wa;var o=Uh.u();return Yo(o,n,0,!0),o.lineTo(e-n,0),Qo(o,e-t,0,e,t,e,n),o.lineTo(e,i-n),Qo(o,e,i-t,e-t,i,e-n,i),o.lineTo(n,i),Qo(o,t,i,0,i-t,0,i-n),o.lineTo(0,n),Qo(o,0,t,t,0,n,0),Jo(o),e=o.s,t>1?(e.G=new P(0,0,t,t),e.H=new P(1,1,-t,-t)):(e.G=nl,e.H=cl),Uh.v(o),e},Border:function(t,e,i){var n=t?t.Dc:NaN;return isNaN(n)&&(n=5),n=Math.min(n,e/3),n=Math.min(n,i/3),t=Uh.u(),Yo(t,n,0,!0),t.lineTo(e-n,0),Qo(t,e-0,0,e,0,e,n),t.lineTo(e,i-n),Qo(t,e,i-0,e-0,i,e-n,i),t.lineTo(n,i),Qo(t,0,i,0,i-0,0,i-n),t.lineTo(0,n),Qo(t,0,0,0,0,n,0),Jo(t),e=t.s,e.G=nl,e.H=cl,Uh.v(t),e},SquareIBeam:function(t,e,i){var n=t?t.Dc:NaN;return isNaN(n)&&(n=.2),t=Uh.u(),Yo(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,n*i),t.lineTo((.5+n/2)*e,n*i),t.lineTo((.5+n/2)*e,(1-n)*i),t.lineTo(1*e,(1-n)*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,(1-n)*i),t.lineTo((.5-n/2)*e,(1-n)*i),t.lineTo((.5-n/2)*e,n*i),t.lineTo(0,n*i),Jo(t),e=t.s,Uh.v(t),e},Trapezoid:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.2);var n=Uh.u();return Yo(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Jo(n),e=n.s,e.G=new P(t,0),e.H=new P(1-t,1),Uh.v(n),e},ManualLoop:"ManualOperation",ManualOperation:function(t,e,i){var n=t?t.Dc:NaN;return isNaN(n)&&(n=0),t=Uh.u(),Yo(t,n,0,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),Jo(t),e=t.s,e.G=new P(.1,0),e.H=new P(.9,1),Uh.v(t),e},GenderMale:function(t,e,i){t=Uh.u();var n=Bl.wa,o=.4*n,r=.4,s=Uh.M(),a=Uh.M(),h=Uh.M(),l=Uh.M();Yo(t,(.5-r)*e,.5*i,!0),Qo(t,(.5-r)*e,(.5-o)*i,(.5-o)*e,(.5-r)*i,.5*e,(.5-r)*i),Bl.Ki(.5,.5-r,.5+o,.5-r,.5+r,.5-o,.5+r,.5,.44,h,l,a,s,s),Qo(t,h.x*e,h.y*i,l.x*e,l.y*i,a.x*e,a.y*i);var u=Uh.ic(a.x,a.y);Bl.Ki(.5,.5-r,.5+o,.5-r,.5+r,.5-o,.5+r,.5,.56,s,s,a,h,l);var c=Uh.ic(a.x,a.y);return t.lineTo((.1*u.x+.855)*e,.1*u.y*i),t.lineTo(.85*e,.1*u.y*i),t.lineTo(.85*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.15*i),t.lineTo((.1*c.x+.9)*e,.15*i),t.lineTo((.1*c.x+.9)*e,(.1*c.y+.05*.9)*i),t.lineTo(c.x*e,c.y*i),Qo(t,h.x*e,h.y*i,l.x*e,l.y*i,(.5+r)*e,.5*i),Qo(t,(.5+r)*e,(.5+o)*i,(.5+o)*e,(.5+r)*i,.5*e,(.5+r)*i),Qo(t,(.5-o)*e,(.5+r)*i,(.5-r)*e,(.5+o)*i,(.5-r)*e,.5*i),r=.35,o=.35*n,Yo(t,.5*e,(.5-r)*i,!0,!0),Qo(t,(.5-o)*e,(.5-r)*i,(.5-r)*e,(.5-o)*i,(.5-r)*e,.5*i),Qo(t,(.5-r)*e,(.5+o)*i,(.5-o)*e,(.5+r)*i,.5*e,(.5+r)*i),Qo(t,(.5+o)*e,(.5+r)*i,(.5+r)*e,(.5+o)*i,(.5+r)*e,.5*i),Qo(t,(.5+r)*e,(.5-o)*i,(.5+o)*e,(.5-r)*i,.5*e,(.5-r)*i),Yo(t,(.5-r)*e,.5*i,!0),Uh.B(s),Uh.B(a),Uh.B(h),Uh.B(l),Uh.B(u),Uh.B(c),e=t.s,e.G=new P(.202,.257),e.H=new P(.692,.839),e.ud=ic,Uh.v(t),e},GenderFemale:function(t,e,i){t=Uh.u();var n=.375,o=0,r=-.125,s=4*(Math.SQRT2-1)/3*n;return Yo(t,(.525+o)*e,(.5+n+r)*i,!0),Qo(t,(.5+s+o)*e,(.5+n+r)*i,(.5+n+o)*e,(.5+s+r)*i,(.5+n+o)*e,(.5+r)*i),Qo(t,(.5+n+o)*e,(.5-s+r)*i,(.5+s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5-s+o)*e,(.5-n+r)*i,(.5-n+o)*e,(.5-s+r)*i,(.5-n+o)*e,(.5+r)*i),Qo(t,(.5-n+o)*e,(.5+s+r)*i,(.5-s+o)*e,(.5+n+r)*i,(.475+o)*e,(.5+n+r)*i),t.lineTo(.475*e,.85*i),t.lineTo(.425*e,.85*i),t.lineTo(.425*e,.9*i),t.lineTo(.475*e,.9*i),t.lineTo(.475*e,1*i),t.lineTo(.525*e,1*i),t.lineTo(.525*e,.9*i),t.lineTo(.575*e,.9*i),t.lineTo(.575*e,.85*i),t.lineTo(.525*e,.85*i),Jo(t),n=.325,o=0,r=-.125,s=4*(Math.SQRT2-1)/3*n,Yo(t,(.5+n+o)*e,(.5+r)*i,!0,!0),Qo(t,(.5+n+o)*e,(.5+s+r)*i,(.5+s+o)*e,(.5+n+r)*i,(.5+o)*e,(.5+n+r)*i),Qo(t,(.5-s+o)*e,(.5+n+r)*i,(.5-n+o)*e,(.5+s+r)*i,(.5-n+o)*e,(.5+r)*i),Qo(t,(.5-n+o)*e,(.5-s+r)*i,(.5-s+o)*e,(.5-n+r)*i,(.5+o)*e,(.5-n+r)*i),Qo(t,(.5+s+o)*e,(.5-n+r)*i,(.5+n+o)*e,(.5-s+r)*i,(.5+n+o)*e,(.5+r)*i),Yo(t,(.525+o)*e,(.5+n+r)*i,!0),e=t.s,e.G=new P(.232,.136),e.H=new P(.782,.611),e.ud=ic,Uh.v(t),e},PlusLine:function(t,e,i){return t=Uh.u(),Yo(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.s,Uh.v(t),e},XLine:function(t,e,i){return t=Uh.u(),Yo(t,0,1*i,!1),t.lineTo(1*e,0),t.moveTo(0,0),t.lineTo(1*e,1*i),e=t.s,Uh.v(t),e},AsteriskLine:function(t,e,i){t=Uh.u();var n=.2/Math.SQRT2;return Yo(t,n*e,(1-n)*i,!1),t.lineTo((1-n)*e,n*i),t.moveTo(n*e,n*i),t.lineTo((1-n)*e,(1-n)*i),t.moveTo(0*e,.5*i),t.lineTo(1*e,.5*i),t.moveTo(.5*e,0*i),t.lineTo(.5*e,1*i),e=t.s,Uh.v(t),e},CircleLine:function(t,e,i){var n=.5*Bl.wa;return t=Uh.u(),Yo(t,1*e,.5*i,!1),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),Qo(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.s,e.G=new P(.146,.146),e.H=new P(.853,.853),e.ud=ic,Uh.v(t),e},Pie:function(t,e,i){t=Uh.u();var n=4*(Math.SQRT2-1)/3*.5;return Yo(t,(.5*Math.SQRT2/2+.5)*e,(.5-.5*Math.SQRT2/2)*i,!0),Qo(t,.7*e,0*i,.5*e,0*i,.5*e,0*i),Qo(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),Qo(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.5*e,1*i),Qo(t,(.5+n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),t.lineTo(.5*e,.5*i),Jo(t),e=t.s,Uh.v(t),e},PiePiece:function(t,e,i){var n=Bl.wa/Math.SQRT2*.5,o=Math.SQRT2/2,r=1-Math.SQRT2/2;return t=Uh.u(),Yo(t,e,i,!0),Qo(t,e,(1-n)*i,(o+n)*e,(r+n)*i,o*e,r*i),t.lineTo(0,i),Jo(t),e=t.s,Uh.v(t),e},StopSign:function(t,e,i){t=1/(Math.SQRT2+2);var n=Uh.u();return Yo(n,t*e,0,!0),n.lineTo((1-t)*e,0),n.lineTo(1*e,t*i),n.lineTo(1*e,(1-t)*i),n.lineTo((1-t)*e,1*i),n.lineTo(t*e,1*i),n.lineTo(0,(1-t)*i),n.lineTo(0,t*i),Jo(n),e=n.s,e.G=new P(t/2,t/2),e.H=new P(1-t/2,1-t/2),Uh.v(n),e},LogicImplies:function(t,e,i){var n=t?t.Dc:NaN;return isNaN(n)&&(n=.2),t=Uh.u(),Yo(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),e=t.s,e.G=nl,e.H=new P(.8,.5),Uh.v(t),e},LogicIff:function(t,e,i){var n=t?t.Dc:NaN;return isNaN(n)&&(n=.2),t=Uh.u(),Yo(t,(1-n)*e,0*i,!1),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,i),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(n*e,0),t.lineTo(0,.5*i),t.lineTo(n*e,i),e=t.s,e.G=new P(.2,0),e.H=new P(.8,.5),Uh.v(t),e},LogicNot:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,1*i),e=t.s,Uh.v(t),e},LogicAnd:function(t,e,i){return t=Uh.u(),Yo(t,0,1*i,!1),t.lineTo(.5*e,0),t.lineTo(1*e,1*i),e=t.s,e.G=new P(.25,.5),e.H=new P(.75,1),Uh.v(t),e},LogicOr:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),e=t.s,e.G=new P(.219,0),e.H=new P(.78,.409),Uh.v(t),e},LogicXor:function(t,e,i){t=Uh.u(),Yo(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i);var n=.5*Bl.wa;return Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),Qo(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),e=t.s,e.ud=ic,Uh.v(t),e},LogicTruth:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),e=t.s,Uh.v(t),e},LogicFalsity:function(t,e,i){return t=Uh.u(),Yo(t,0,1*i,!1),t.lineTo(1*e,1*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),e=t.s,Uh.v(t),e},LogicThereExists:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.lineTo(1*e,.5*i),t.lineTo(0,.5*i),t.moveTo(1*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),e=t.s,Uh.v(t),e},LogicForAll:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(.5*e,1*i),t.lineTo(1*e,0),t.moveTo(.25*e,.5*i),t.lineTo(.75*e,.5*i),e=t.s,e.G=new P(.25,0),e.H=new P(.75,.5),Uh.v(t),e},LogicIsDefinedAs:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(e,0),t.moveTo(0,.5*i),t.lineTo(e,.5*i),t.moveTo(0,i),t.lineTo(e,i),e=t.s,e.G=new P(.01,.01),e.H=new P(.99,.49),Uh.v(t),e},LogicIntersect:function(t,e,i){var n=.5*Bl.wa;return t=Uh.u(),Yo(t,0,1*i,!1),t.lineTo(0,.5*i),Qo(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),t.lineTo(1*e,1*i),e=t.s,e.G=new P(0,.5),e.H=cl,Uh.v(t),e},LogicUnion:function(t,e,i){var n=.5*Bl.wa;return t=Uh.u(),Yo(t,1*e,0,!1),t.lineTo(1*e,.5*i),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),t.lineTo(0,0),e=t.s,e.G=nl,e.H=new P(1,.5),Uh.v(t),e},Arrow:function(t,e,i){var n=t?t.Dc:NaN,o=t?t.Ot:NaN;return isNaN(n)&&(n=.3),isNaN(o)&&(o=.3),t=Uh.u(),Yo(t,0,(.5-o/2)*i,!0),t.lineTo((1-n)*e,(.5-o/2)*i),t.lineTo((1-n)*e,0),t.lineTo(1*e,.5*i),t.lineTo((1-n)*e,1*i),t.lineTo((1-n)*e,(.5+o/2)*i),t.lineTo(0,(.5+o/2)*i),Jo(t),e=t.s,e.G=new P(0,.5-o/2),n=Bl.ol(0,.5+o/2,1,.5+o/2,1-n,1,1,.5,Uh.M()),e.H=new P(n.x,n.y),Uh.B(n),Uh.v(t),e},ISOProcess:"Chevron",Chevron:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(.5*e,0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),Jo(t),e=t.s,Uh.v(t),e},DoubleArrow:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(.3*e,.214*i),t.lineTo(.3*e,0),t.lineTo(1*e,.5*i),t.lineTo(.3*e,1*i),t.lineTo(.3*e,.786*i),t.lineTo(0,1*i),Jo(t),Yo(t,.3*e,.214*i,!1),t.lineTo(.3*e,.786*i),t.eb(!1),e=t.s,Uh.v(t),e},DoubleEndArrow:function(t,e,i){return t=Uh.u(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.3*e,.7*i),t.lineTo(.3*e,1*i),t.lineTo(0,.5*i),t.lineTo(.3*e,0),t.lineTo(.3*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),Jo(t),e=t.s,i=Bl.ol(0,.5,.3,0,0,.3,.3,.3,Uh.M()),e.G=new P(i.x,i.y),i=Bl.ol(.7,1,1,.5,.7,.7,1,.7,i),e.H=new P(i.x,i.y),Uh.B(i),Uh.v(t),e},IBeamArrow:function(t,e,i){return t=Uh.u(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(.2*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.2*e,0),t.lineTo(.2*e,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),Jo(t),e=t.s,e.G=new P(0,.3),i=Bl.ol(.7,1,1,.5,.7,.7,1,.7,Uh.M()),e.H=new P(i.x,i.y),Uh.B(i),Uh.v(t),e},Pointer:function(t,e,i){return t=Uh.u(),Yo(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(.2*e,.5*i),t.lineTo(0,0),Jo(t),e=t.s,e.G=new P(.2,.35),i=Bl.ol(.2,.65,1,.65,0,1,1,.5,Uh.M()),e.H=new P(i.x,i.y),Uh.B(i),Uh.v(t),e},RoundedPointer:function(t,e,i){return t=Uh.u(),Yo(t,1*e,.5*i,!0),t.lineTo(0,1*i),Qo(t,.5*e,.75*i,.5*e,.25*i,0,0),Jo(t),e=t.s,e.G=new P(.4,.35),i=Bl.ol(.2,.65,1,.65,0,1,1,.5,Uh.M()),e.H=new P(i.x,i.y),Uh.B(i),Uh.v(t),e},SplitEndArrow:function(t,e,i){return t=Uh.u(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(.7*e,.7*i),t.lineTo(0,.7*i),t.lineTo(.2*e,.5*i),t.lineTo(0,.3*i),t.lineTo(.7*e,.3*i),t.lineTo(.7*e,0),Jo(t),e=t.s,e.G=new P(.2,.3),i=Bl.ol(.7,1,1,.5,.7,.7,1,.7,Uh.M()),e.H=new P(i.x,i.y),Uh.B(i),Uh.v(t),e},MessageToUser:"SquareArrow",SquareArrow:function(t,e,i){return t=Uh.u(),Yo(t,1*e,.5*i,!0),t.lineTo(.7*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.7*e,0),Jo(t),e=t.s,e.G=nl,e.H=new P(.7,1),Uh.v(t),e},Cone1:function(t,e,i){var n=Bl.wa;t=.5*n;var o=.1*n,n=Uh.u();return Yo(n,0,.9*i,!0),n.lineTo(.5*e,0),n.lineTo(1*e,.9*i),Qo(n,1*e,(.9+o)*i,(.5+t)*e,1*i,.5*e,1*i),Qo(n,(.5-t)*e,1*i,0,(.9+o)*i,0,.9*i),Jo(n),e=n.s,e.G=new P(.25,.5),e.H=new P(.75,.97),Uh.v(n),e},Cone2:function(t,e,i){return t=Uh.u(),Yo(t,0,.9*i,!0),Qo(t,(1-.85/.9)*e,1*i,.85/.9*e,1*i,1*e,.9*i),t.lineTo(.5*e,0),t.lineTo(0,.9*i),Jo(t),Yo(t,0,.9*i,!1),Qo(t,(1-.85/.9)*e,.8*i,.85/.9*e,.8*i,1*e,.9*i),t.eb(!1),e=t.s,e.G=new P(.25,.5),e.H=new P(.75,.82),Uh.v(t),e},Cube1:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,1*i,!0),t.lineTo(1*e,.85*i),t.lineTo(1*e,.15*i),t.lineTo(.5*e,0*i),t.lineTo(0*e,.15*i),t.lineTo(0*e,.85*i),Jo(t),Yo(t,.5*e,1*i,!1),t.lineTo(.5*e,.3*i),t.lineTo(0,.15*i),t.moveTo(.5*e,.3*i),t.lineTo(1*e,.15*i),t.eb(!1),e=t.s,e.G=new P(0,.3),e.H=new P(.5,.85),Uh.v(t),e},Cube2:function(t,e,i){return t=Uh.u(),Yo(t,0,.3*i,!0),t.lineTo(0*e,1*i),t.lineTo(.7*e,i),t.lineTo(1*e,.7*i),t.lineTo(1*e,0*i),t.lineTo(.3*e,0*i),Jo(t),Yo(t,0,.3*i,!1),t.lineTo(.7*e,.3*i),t.lineTo(1*e,0*i),t.moveTo(.7*e,.3*i),t.lineTo(.7*e,1*i),t.eb(!1),e=t.s,e.G=new P(0,.3),e.H=new P(.7,1),Uh.v(t),e},MagneticData:"Cylinder1",Cylinder1:function(t,e,i){var n=Bl.wa;t=.5*n;var o=.1*n,n=Uh.u();return Yo(n,0,.1*i,!0),Qo(n,0,(.1-o)*i,(.5-t)*e,0,.5*e,0),Qo(n,(.5+t)*e,0,1*e,(.1-o)*i,1*e,.1*i),n.lineTo(e,.9*i),Qo(n,1*e,(.9+o)*i,(.5+t)*e,1*i,.5*e,1*i),Qo(n,(.5-t)*e,1*i,0,(.9+o)*i,0,.9*i),n.lineTo(0,.1*i),Yo(n,0,.1*i,!1),Qo(n,0,(.1+o)*i,(.5-t)*e,.2*i,.5*e,.2*i),Qo(n,(.5+t)*e,.2*i,1*e,(.1+o)*i,1*e,.1*i),n.eb(!1),e=n.s,e.G=new P(0,.2),e.H=new P(1,.9),Uh.v(n),e},Cylinder2:function(t,e,i){var n=Bl.wa;t=.5*n;var o=.1*n,n=Uh.u();return Yo(n,0,.9*i,!0),n.lineTo(0,.1*i),Qo(n,0,(.1-o)*i,(.5-t)*e,0,.5*e,0),Qo(n,(.5+t)*e,0,1*e,(.1-o)*i,1*e,.1*i),n.lineTo(1*e,.9*i),Qo(n,1*e,(.9+o)*i,(.5+t)*e,1*i,.5*e,1*i),Qo(n,(.5-t)*e,1*i,0,(.9+o)*i,0,.9*i),Yo(n,0,.9*i,!1),Qo(n,0,(.9-o)*i,(.5-t)*e,.8*i,.5*e,.8*i),Qo(n,(.5+t)*e,.8*i,1*e,(.9-o)*i,1*e,.9*i),n.eb(!1),e=n.s,e.G=new P(0,.1),e.H=new P(1,.8),Uh.v(n),e},Cylinder3:function(t,e,i){var n=Bl.wa;t=.1*n;var o=.5*n,n=Uh.u();return Yo(n,.1*e,0,!0),n.lineTo(.9*e,0),Qo(n,(.9+t)*e,0,1*e,(.5-o)*i,1*e,.5*i),Qo(n,1*e,(.5+o)*i,(.9+t)*e,1*i,.9*e,1*i),n.lineTo(.1*e,1*i),Qo(n,(.1-t)*e,1*i,0,(.5+o)*i,0,.5*i),Qo(n,0,(.5-o)*i,(.1-t)*e,0,.1*e,0),Yo(n,.1*e,0,!1),Qo(n,(.1+t)*e,0,.2*e,(.5-o)*i,.2*e,.5*i),
Qo(n,.2*e,(.5+o)*i,(.1+t)*e,1*i,.1*e,1*i),n.eb(!1),e=n.s,e.G=new P(.2,0),e.H=new P(.9,1),Uh.v(n),e},DirectData:"Cylinder4",Cylinder4:function(t,e,i){var n=Bl.wa;t=.1*n;var o=.5*n,n=Uh.u();return Yo(n,.9*e,0,!0),Qo(n,(.9+t)*e,0,1*e,(.5-o)*i,1*e,.5*i),Qo(n,1*e,(.5+o)*i,(.9+t)*e,1*i,.9*e,1*i),n.lineTo(.1*e,1*i),Qo(n,(.1-t)*e,1*i,0,(.5+o)*i,0,.5*i),Qo(n,0,(.5-o)*i,(.1-t)*e,0,.1*e,0),n.lineTo(.9*e,0),Yo(n,.9*e,0,!1),Qo(n,(.9-t)*e,0,.8*e,(.5-o)*i,.8*e,.5*i),Qo(n,.8*e,(.5+o)*i,(.9-t)*e,1*i,.9*e,1*i),n.eb(!1),e=n.s,e.G=new P(.1,0),e.H=new P(.8,1),Uh.v(n),e},Prism1:function(t,e,i){return t=Uh.u(),Yo(t,.25*e,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(e,.5*i),t.lineTo(.5*e,i),t.lineTo(0,i),Jo(t),Yo(t,.25*e,.25*i,!1),t.lineTo(.5*e,i),t.eb(!1),e=t.s,e.G=new P(.408,.172),e.H=new P(.833,.662),Uh.v(t),e},Prism2:function(t,e,i){return t=Uh.u(),Yo(t,0,.25*i,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),Jo(t),Yo(t,0,i,!1),t.lineTo(.25*e,.5*i),t.lineTo(e,.25*i),t.moveTo(0,.25*i),t.lineTo(.25*e,.5*i),t.eb(!1),e=t.s,e.G=new P(.25,.5),e.H=new P(.75,.75),Uh.v(t),e},Pyramid1:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0,!0),t.lineTo(e,.75*i),t.lineTo(.5*e,1*i),t.lineTo(0,.75*i),Jo(t),Yo(t,.5*e,0,!1),t.lineTo(.5*e,1*i),t.eb(!1),e=t.s,e.G=new P(.25,.367),e.H=new P(.75,.875),Uh.v(t),e},Pyramid2:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0,!0),t.lineTo(e,.85*i),t.lineTo(.5*e,1*i),t.lineTo(0,.85*i),Jo(t),Yo(t,.5*e,0,!1),t.lineTo(.5*e,.7*i),t.lineTo(0,.85*i),t.moveTo(.5*e,.7*i),t.lineTo(1*e,.85*i),t.eb(!1),e=t.s,e.G=new P(.25,.367),e.H=new P(.75,.875),Uh.v(t),e},Actor:function(t,e,i){var n=Bl.wa,o=.2*n,r=.1*n,s=.5,a=.1;return t=Uh.u(),Yo(t,s*e,(a+.1)*i,!0),Qo(t,(s-o)*e,(a+.1)*i,(s-.2)*e,(a+r)*i,(s-.2)*e,a*i),Qo(t,(s-.2)*e,(a-r)*i,(s-o)*e,(a-.1)*i,s*e,(a-.1)*i),Qo(t,(s+o)*e,(a-.1)*i,(s+.2)*e,(a-r)*i,(s+.2)*e,a*i),Qo(t,(s+.2)*e,(a+r)*i,(s+o)*e,(a+.1)*i,s*e,(a+.1)*i),o=.05,r=n*o,Yo(t,.5*e,.2*i,!0),t.lineTo(.95*e,.2*i),s=.95,a=.25,Qo(t,(s+r)*e,(a-o)*i,(s+o)*e,(a-r)*i,(s+o)*e,a*i),t.lineTo(1*e,.6*i),t.lineTo(.85*e,.6*i),t.lineTo(.85*e,.35*i),o=.025,r=n*o,s=.825,a=.35,Qo(t,(s+o)*e,(a-r)*i,(s+r)*e,(a-o)*i,s*e,(a-o)*i),Qo(t,(s-r)*e,(a-o)*i,(s-o)*e,(a-r)*i,(s-o)*e,a*i),t.lineTo(.8*e,1*i),t.lineTo(.55*e,1*i),t.lineTo(.55*e,.7*i),o=.05,r=n*o,s=.5,a=.7,Qo(t,(s+o)*e,(a-r)*i,(s+r)*e,(a-o)*i,s*e,(a-o)*i),Qo(t,(s-r)*e,(a-o)*i,(s-o)*e,(a-r)*i,(s-o)*e,a*i),t.lineTo(.45*e,1*i),t.lineTo(.2*e,1*i),t.lineTo(.2*e,.35*i),o=.025,r=n*o,s=.175,a=.35,Qo(t,(s+o)*e,(a-r)*i,(s+r)*e,(a-o)*i,s*e,(a-o)*i),Qo(t,(s-r)*e,(a-o)*i,(s-o)*e,(a-r)*i,(s-o)*e,a*i),t.lineTo(.15*e,.6*i),t.lineTo(0*e,.6*i),t.lineTo(0*e,.25*i),o=.05,r=n*o,s=.05,a=.25,Qo(t,(s-o)*e,(a-r)*i,(s-r)*e,(a-o)*i,s*e,(a-o)*i),t.lineTo(.5*e,.2*i),e=t.s,e.G=new P(.2,.2),e.H=new P(.8,.65),Uh.v(t),e},Card:function(t,e,i){return t=Uh.u(),Yo(t,1*e,0*i,!0),t.lineTo(1*e,1*i),t.lineTo(0*e,1*i),t.lineTo(0*e,.2*i),t.lineTo(.2*e,0*i),Jo(t),e=t.s,e.G=new P(0,.2),e.H=cl,Uh.v(t),e},Collate:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,.5*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),Yo(t,.5*e,.5*i,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(.5*e,.5*i),e=t.s,e.G=new P(.25,0),e.H=new P(.75,.25),Uh.v(t),e},CreateRequest:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Jo(n),Yo(n,0,t*i,!1),n.lineTo(1*e,t*i),n.moveTo(0,(1-t)*i),n.lineTo(1*e,(1-t)*i),n.eb(!1),e=n.s,e.G=new P(0,t),e.H=new P(1,1-t),Uh.v(n),e},Database:function(t,e,i){t=Uh.u();var n=Bl.wa,o=.5*n,n=.1*n;return Yo(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),Qo(t,1*e,(.9+n)*i,(.5+o)*e,1*i,.5*e,1*i),Qo(t,(.5-o)*e,1*i,0,(.9+n)*i,0,.9*i),t.lineTo(0,.1*i),Qo(t,0,(.1-n)*i,(.5-o)*e,0,.5*e,0),Qo(t,(.5+o)*e,0,1*e,(.1-n)*i,1*e,.1*i),Yo(t,1*e,.1*i,!1),Qo(t,1*e,(.1+n)*i,(.5+o)*e,.2*i,.5*e,.2*i),Qo(t,(.5-o)*e,.2*i,0,(.1+n)*i,0,.1*i),t.moveTo(1*e,.2*i),Qo(t,1*e,(.2+n)*i,(.5+o)*e,.3*i,.5*e,.3*i),Qo(t,(.5-o)*e,.3*i,0,(.2+n)*i,0,.2*i),t.moveTo(1*e,.3*i),Qo(t,1*e,(.3+n)*i,(.5+o)*e,.4*i,.5*e,.4*i),Qo(t,(.5-o)*e,.4*i,0,(.3+n)*i,0,.3*i),t.eb(!1),e=t.s,e.G=new P(0,.4),e.H=new P(1,.9),Uh.v(t),e},StoredData:"DataStorage",DataStorage:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(.75*e,0),Qo(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(0,1*i),Qo(t,.25*e,.9*i,.25*e,.1*i,0,0),Jo(t),e=t.s,e.G=new P(.226,0),e.H=new P(.81,1),Uh.v(t),e},DiskStorage:function(t,e,i){t=Uh.u();var n=Bl.wa,o=.5*n,n=.1*n;return Yo(t,1*e,.1*i,!0),t.lineTo(1*e,.9*i),Qo(t,1*e,(.9+n)*i,(.5+o)*e,1*i,.5*e,1*i),Qo(t,(.5-o)*e,1*i,0,(.9+n)*i,0,.9*i),t.lineTo(0,.1*i),Qo(t,0,(.1-n)*i,(.5-o)*e,0,.5*e,0),Qo(t,(.5+o)*e,0,1*e,(.1-n)*i,1*e,.1*i),Yo(t,1*e,.1*i,!1),Qo(t,1*e,(.1+n)*i,(.5+o)*e,.2*i,.5*e,.2*i),Qo(t,(.5-o)*e,.2*i,0,(.1+n)*i,0,.1*i),t.moveTo(1*e,.2*i),Qo(t,1*e,(.2+n)*i,(.5+o)*e,.3*i,.5*e,.3*i),Qo(t,(.5-o)*e,.3*i,0,(.2+n)*i,0,.2*i),t.eb(!1),e=t.s,e.G=new P(0,.3),e.H=new P(1,.9),Uh.v(t),e},Display:function(t,e,i){return t=Uh.u(),Yo(t,.25*e,0,!0),t.lineTo(.75*e,0),Qo(t,1*e,0,1*e,1*i,.75*e,1*i),t.lineTo(.25*e,1*i),t.lineTo(0,.5*i),Jo(t),e=t.s,e.G=new P(.25,0),e.H=new P(.75,1),Uh.v(t),e},DividedEvent:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)?t=.2:.15>t&&(t=.15);var n=Uh.u(),o=.2*Bl.wa;return Yo(n,0,.2*i,!0),Qo(n,0,(.2-o)*i,(.2-o)*e,0,.2*e,0),n.lineTo(.8*e,0),Qo(n,(.8+o)*e,0,1*e,(.2-o)*i,1*e,.2*i),n.lineTo(1*e,.8*i),Qo(n,1*e,(.8+o)*i,(.8+o)*e,1*i,.8*e,1*i),n.lineTo(.2*e,1*i),Qo(n,(.2-o)*e,1*i,0,(.8+o)*i,0,.8*i),n.lineTo(0,.2*i),Yo(n,0,t*i,!1),n.lineTo(1*e,t*i),n.eb(!1),e=n.s,e.G=new P(0,t),e.H=new P(1,1-t),Uh.v(n),e},DividedProcess:function(t,e,i){t=t?t.Dc:NaN,(isNaN(t)||.1>t)&&(t=.1);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Jo(n),Yo(n,0,t*i,!1),n.lineTo(1*e,t*i),n.eb(!1),e=n.s,e.G=new P(0,t),e.H=cl,Uh.v(n),e},Document:function(t,e,i){return i/=.8,t=Uh.u(),Yo(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),Qo(t,.5*e,.4*i,.5*e,1*i,0,.7*i),Jo(t),e=t.s,e.G=nl,e.H=new P(1,.6),Uh.v(t),e},ExternalOrganization:function(t,e,i){t=t?t.Dc:NaN,(isNaN(t)||.2>t)&&(t=.2);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Jo(n),Yo(n,t*e,0,!1),n.lineTo(0,t*i),n.moveTo(1*e,t*i),n.lineTo((1-t)*e,0),n.moveTo(0,(1-t)*i),n.lineTo(t*e,1*i),n.moveTo((1-t)*e,1*i),n.lineTo(1*e,(1-t)*i),n.eb(!1),e=n.s,e.G=new P(t/2,t/2),e.H=new P(1-t/2,1-t/2),Uh.v(n),e},ExternalProcess:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),Jo(t),Yo(t,.1*e,.4*i,!1),t.lineTo(.1*e,.6*i),t.moveTo(.9*e,.6*i),t.lineTo(.9*e,.4*i),t.moveTo(.6*e,.1*i),t.lineTo(.4*e,.1*i),t.moveTo(.4*e,.9*i),t.lineTo(.6*e,.9*i),t.eb(!1),e=t.s,e.G=new P(.25,.25),e.H=new P(.75,.75),Uh.v(t),e},File:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),Jo(t),Yo(t,.75*e,0,!1),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.25*i),t.eb(!1),e=t.s,e.G=new P(0,.25),e.H=cl,Uh.v(t),e},Interrupt:function(t,e,i){return t=Uh.u(),Yo(t,1*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),Yo(t,1*e,.5*i,!1),t.lineTo(1*e,1*i),Yo(t,1*e,.5*i,!1),t.lineTo(1*e,0),e=t.s,e.G=new P(0,.25),e.H=new P(.5,.75),Uh.v(t),e},InternalStorage:function(t,e,i){var n=t?t.Dc:NaN;t=t?t.Ot:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.1);var o=Uh.u();return Yo(o,0,0,!0),o.lineTo(1*e,0),o.lineTo(1*e,1*i),o.lineTo(0,1*i),Jo(o),Yo(o,n*e,0,!1),o.lineTo(n*e,1*i),o.moveTo(0,t*i),o.lineTo(1*e,t*i),o.eb(!1),e=o.s,e.G=new P(n,t),e.H=cl,Uh.v(o),e},Junction:function(t,e,i){t=Uh.u();var n=1/Math.SQRT2,o=(1-1/Math.SQRT2)/2,r=.5*Bl.wa;return Yo(t,1*e,.5*i,!0),Qo(t,1*e,(.5+r)*i,(.5+r)*e,1*i,.5*e,1*i),Qo(t,(.5-r)*e,1*i,0,(.5+r)*i,0,.5*i),Qo(t,0,(.5-r)*i,(.5-r)*e,0,.5*e,0),Qo(t,(.5+r)*e,0,1*e,(.5-r)*i,1*e,.5*i),Yo(t,(o+n)*e,(o+n)*i,!1),t.lineTo(o*e,o*i),t.moveTo(o*e,(o+n)*i),t.lineTo((o+n)*e,o*i),t.eb(!1),e=t.s,e.ud=ic,Uh.v(t),e},LinedDocument:function(t,e,i){return i/=.8,t=Uh.u(),Yo(t,0,.7*i,!0),t.lineTo(0,0),t.lineTo(1*e,0),t.lineTo(1*e,.7*i),Qo(t,.5*e,.4*i,.5*e,1*i,0,.7*i),Jo(t),Yo(t,.1*e,0,!1),t.lineTo(.1*e,.75*i),t.eb(!1),e=t.s,e.G=new P(.1,0),e.H=new P(1,.6),Uh.v(t),e},LoopLimit:function(t,e,i){return t=Uh.u(),Yo(t,0,1*i,!0),t.lineTo(0,.25*i),t.lineTo(.25*e,0),t.lineTo(.75*e,0),t.lineTo(1*e,.25*i),t.lineTo(1*e,1*i),Jo(t),e=t.s,e.G=new P(0,.25),e.H=cl,Uh.v(t),e},SequentialData:"MagneticTape",MagneticTape:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,.5*e,1*i,!0),Qo(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),Qo(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Qo(t,1*e,(.5+n)*i,(.5+n)*e,.9*i,.6*e,.9*i),t.lineTo(1*e,.9*i),t.lineTo(1*e,1*i),t.lineTo(.5*e,1*i),e=t.s,e.G=new P(.15,.15),e.H=new P(.85,.8),Uh.v(t),e},ManualInput:function(t,e,i){return t=Uh.u(),Yo(t,1*e,0,!0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.25*i),Jo(t),e=t.s,e.G=new P(0,.25),e.H=cl,Uh.v(t),e},MessageFromUser:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.7);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(t*e,.5*i),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Jo(n),e=n.s,e.G=nl,e.H=new P(t,1),Uh.v(n),e},MicroformProcessing:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.25);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(.5*e,t*i),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.5*e,(1-t)*i),n.lineTo(0,1*i),Jo(n),e=n.s,e.G=new P(0,t),e.H=new P(1,1-t),Uh.v(n),e},MicroformRecording:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(.75*e,.25*i),t.lineTo(1*e,.15*i),t.lineTo(1*e,.85*i),t.lineTo(.75*e,.75*i),t.lineTo(0,1*i),Jo(t),e=t.s,e.G=new P(0,.25),e.H=new P(1,.75),Uh.v(t),e},MultiDocument:function(t,e,i){return i/=.8,t=Uh.u(),Yo(t,e,0,!0),t.lineTo(e,.5*i),Qo(t,.96*e,.47*i,.93*e,.45*i,.9*e,.44*i),t.lineTo(.9*e,.6*i),Qo(t,.86*e,.57*i,.83*e,.55*i,.8*e,.54*i),t.lineTo(.8*e,.7*i),Qo(t,.4*e,.4*i,.4*e,1*i,0,.7*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),t.lineTo(.1*e,.1*i),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),Jo(t),Yo(t,.1*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.54*i),t.moveTo(.2*e,.1*i),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.44*i),t.eb(!1),e=t.s,e.G=new P(0,.25),e.H=new P(.8,.77),Uh.v(t),e},MultiProcess:function(t,e,i){return t=Uh.u(),Yo(t,.1*e,.1*i,!0),t.lineTo(.2*e,.1*i),t.lineTo(.2*e,0),t.lineTo(1*e,0),t.lineTo(1*e,.8*i),t.lineTo(.9*e,.8*i),t.lineTo(.9*e,.9*i),t.lineTo(.8*e,.9*i),t.lineTo(.8*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.2*i),t.lineTo(.1*e,.2*i),Jo(t),Yo(t,.2*e,.1*i,!1),t.lineTo(.9*e,.1*i),t.lineTo(.9*e,.8*i),t.moveTo(.1*e,.2*i),t.lineTo(.8*e,.2*i),t.lineTo(.8*e,.9*i),t.eb(!1),e=t.s,e.G=new P(0,.2),e.H=new P(.8,1),Uh.v(t),e},OfflineStorage:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var n=1-t,o=Uh.u();return Yo(o,0,0,!0),o.lineTo(1*e,0),o.lineTo(.5*e,1*i),Jo(o),Yo(o,.5*t*e,t*i,!1),o.lineTo((1-.5*t)*e,t*i),o.eb(!1),e=o.s,e.G=new P(n/4+.5*t,t),e.H=new P(3*n/4+.5*t,t+.5*n),Uh.v(o),e},OffPageConnector:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(.75*e,0),t.lineTo(1*e,.5*i),t.lineTo(.75*e,1*i),t.lineTo(0,1*i),Jo(t),e=t.s,e.G=nl,e.H=new P(.75,1),Uh.v(t),e},Or:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,1*e,.5*i,!0),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),Qo(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Yo(t,1*e,.5*i,!1),t.lineTo(0,.5*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,0),t.eb(!1),e=t.s,e.ud=ic,Uh.v(t),e},PaperTape:function(t,e,i){return i/=.8,t=Uh.u(),Yo(t,0,.7*i,!0),t.lineTo(0,.3*i),Qo(t,.5*e,.6*i,.5*e,0,1*e,.3*i),t.lineTo(1*e,.7*i),Qo(t,.5*e,.4*i,.5*e,1*i,0,.7*i),Jo(t),e=t.s,e.G=new P(0,.49),e.H=new P(1,.75),Uh.v(t),e},PrimitiveFromCall:function(t,e,i){var n=t?t.Dc:NaN;t=t?t.Ot:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var o=Uh.u();return Yo(o,0,0,!0),o.lineTo(1*e,0),o.lineTo((1-t)*e,.5*i),o.lineTo(1*e,1*i),o.lineTo(0,1*i),Jo(o),e=o.s,e.G=new P(n,0),e.H=new P(1-t,1),Uh.v(o),e},PrimitiveToCall:function(t,e,i){var n=t?t.Dc:NaN;t=t?t.Ot:NaN,isNaN(n)&&(n=.1),isNaN(t)&&(t=.3);var o=Uh.u();return Yo(o,0,0,!0),o.lineTo((1-t)*e,0),o.lineTo(1*e,.5*i),o.lineTo((1-t)*e,1*i),o.lineTo(0,1*i),Jo(o),e=o.s,e.G=new P(n,0),e.H=new P(1-t,1),Uh.v(o),e},Subroutine:"Procedure",Procedure:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Jo(n),Yo(n,(1-t)*e,0,!1),n.lineTo((1-t)*e,1*i),n.moveTo(t*e,0),n.lineTo(t*e,1*i),n.eb(!1),e=n.s,e.G=new P(t,0),e.H=new P(1-t,1),Uh.v(n),e},Process:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(0,1*i),Jo(n),Yo(n,t*e,0,!1),n.lineTo(t*e,1*i),n.eb(!1),e=n.s,e.G=new P(t,0),e.H=cl,Uh.v(n),e},Sort:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0,!0),t.lineTo(1*e,.5*i),t.lineTo(.5*e,1*i),t.lineTo(0,.5*i),Jo(t),Yo(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.eb(!1),e=t.s,e.G=new P(.25,.25),e.H=new P(.75,.5),Uh.v(t),e},Start:function(t,e,i){return t=Uh.u(),Yo(t,.25*e,0,!0),Yo(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),Yo(t,.25*e,0,!1),t.lineTo(.25*e,1*i),t.moveTo(.75*e,0),t.lineTo(.75*e,1*i),t.eb(!1),e=t.s,e.G=new P(.25,0),e.H=new P(.75,1),Uh.v(t),e},Terminator:function(t,e,i){return t=Uh.u(),Yo(t,.25*e,0,!0),t.arcTo(270,180,.75*e,.5*i,.25*e,.5*i),t.arcTo(90,180,.25*e,.5*i,.25*e,.5*i),e=t.s,e.G=new P(.23,0),e.H=new P(.77,1),Uh.v(t),e},TransmittalTape:function(t,e,i){t=t?t.Dc:NaN,isNaN(t)&&(t=.1);var n=Uh.u();return Yo(n,0,0,!0),n.lineTo(1*e,0),n.lineTo(1*e,1*i),n.lineTo(.75*e,(1-t)*i),n.lineTo(0,(1-t)*i),Jo(n),e=n.s,e.G=nl,e.H=new P(1,1-t),Uh.v(n),e},AndGate:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,0,0,!0),t.lineTo(.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),t.lineTo(0,1*i),Jo(t),e=t.s,e.G=nl,e.H=new P(.55,1),Uh.v(t),e},Buffer:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),Jo(t),e=t.s,e.G=new P(0,.25),e.H=new P(.5,.75),Uh.v(t),e},Clock:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,1*e,.5*i,!0),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),Qo(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Yo(t,1*e,.5*i,!1),t.lineTo(1*e,.5*i),Yo(t,.8*e,.75*i,!1),t.lineTo(.8*e,.25*i),t.lineTo(.6*e,.25*i),t.lineTo(.6*e,.75*i),t.lineTo(.4*e,.75*i),t.lineTo(.4*e,.25*i),t.lineTo(.2*e,.25*i),t.lineTo(.2*e,.75*i),t.eb(!1),e=t.s,e.ud=ic,Uh.v(t),e},Ground:function(t,e,i){return t=Uh.u(),Yo(t,.5*e,0,!1),t.lineTo(.5*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.3*e,.8*i),t.lineTo(.7*e,.8*i),t.moveTo(.4*e,1*i),t.lineTo(.6*e,1*i),e=t.s,Uh.v(t),e},Inverter:function(t,e,i){t=Uh.u();var n=.1*Bl.wa;return Yo(t,.8*e,.5*i,!0),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.8*e,.5*i),Yo(t,1*e,.5*i,!0),Qo(t,1*e,(.5+n)*i,(.9+n)*e,.6*i,.9*e,.6*i),Qo(t,(.9-n)*e,.6*i,.8*e,(.5+n)*i,.8*e,.5*i),Qo(t,.8*e,(.5-n)*i,(.9-n)*e,.4*i,.9*e,.4*i),Qo(t,(.9+n)*e,.4*i,1*e,(.5-n)*i,1*e,.5*i),e=t.s,e.G=new P(0,.25),e.H=new P(.4,.75),Uh.v(t),e},NandGate:function(t,e,i){t=Uh.u();var n=Bl.wa,o=.5*n,r=.4*n,n=.1*n;return Yo(t,.8*e,.5*i,!0),Qo(t,.8*e,(.5+r)*i,(.4+o)*e,1*i,.4*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(.4*e,0),Qo(t,(.4+o)*e,0,.8*e,(.5-r)*i,.8*e,.5*i),Yo(t,1*e,.5*i,!0),Qo(t,1*e,(.5+n)*i,(.9+n)*e,.6*i,.9*e,.6*i),Qo(t,(.9-n)*e,.6*i,.8*e,(.5+n)*i,.8*e,.5*i),Qo(t,.8*e,(.5-n)*i,(.9-n)*e,.4*i,.9*e,.4*i),Qo(t,(.9+n)*e,.4*i,1*e,(.5-n)*i,1*e,.5*i),e=t.s,e.G=new P(0,.05),e.H=new P(.55,.95),Uh.v(t),e},NorGate:function(t,e,i){t=Uh.u();var n=Bl.wa,o=.5,r=n*o,s=0,a=.5;return Yo(t,.8*e,.5*i,!0),Qo(t,.7*e,(a+r)*i,(s+r)*e,(a+o)*i,0,1*i),Qo(t,.25*e,.75*i,.25*e,.25*i,0,0),Qo(t,(s+r)*e,(a-o)*i,.7*e,(a-r)*i,.8*e,.5*i),o=.1,r=.1*n,s=.9,a=.5,Yo(t,(s-o)*e,a*i,!0),Qo(t,(s-o)*e,(a-r)*i,(s-r)*e,(a-o)*i,s*e,(a-o)*i),Qo(t,(s+r)*e,(a-o)*i,(s+o)*e,(a-r)*i,(s+o)*e,a*i),Qo(t,(s+o)*e,(a+r)*i,(s+r)*e,(a+o)*i,s*e,(a+o)*i),Qo(t,(s-r)*e,(a+o)*i,(s-o)*e,(a+r)*i,(s-o)*e,a*i),e=t.s,e.G=new P(.2,.25),e.H=new P(.6,.75),Uh.v(t),e},OrGate:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,0,0,!0),Qo(t,(0+n+n)*e,0*i,.8*e,(.5-n)*i,1*e,.5*i),Qo(t,.8*e,(.5+n)*i,(0+n+n)*e,1*i,0,1*i),Qo(t,.25*e,.75*i,.25*e,.25*i,0,0),Jo(t),e=t.s,e.G=new P(.2,.25),e.H=new P(.75,.75),Uh.v(t),e},XnorGate:function(t,e,i){t=Uh.u();var n=Bl.wa,o=.5,r=n*o,s=.2,a=.5;return Yo(t,.1*e,0,!1),Qo(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),Yo(t,.8*e,.5*i,!0),Qo(t,.7*e,(a+r)*i,(s+r)*e,(a+o)*i,.2*e,1*i),Qo(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),Qo(t,(s+r)*e,(a-o)*i,.7*e,(a-r)*i,.8*e,.5*i),o=.1,r=.1*n,s=.9,a=.5,Yo(t,(s-o)*e,a*i,!0),Qo(t,(s-o)*e,(a-r)*i,(s-r)*e,(a-o)*i,s*e,(a-o)*i),Qo(t,(s+r)*e,(a-o)*i,(s+o)*e,(a-r)*i,(s+o)*e,a*i),Qo(t,(s+o)*e,(a+r)*i,(s+r)*e,(a+o)*i,s*e,(a+o)*i),Qo(t,(s-r)*e,(a+o)*i,(s-o)*e,(a+r)*i,(s-o)*e,a*i),e=t.s,e.G=new P(.4,.25),e.H=new P(.65,.75),Uh.v(t),e},XorGate:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,.1*e,0,!1),Qo(t,.35*e,.25*i,.35*e,.75*i,.1*e,1*i),Yo(t,.2*e,0,!0),Qo(t,(.2+n)*e,0*i,.9*e,(.5-n)*i,1*e,.5*i),Qo(t,.9*e,(.5+n)*i,(.2+n)*e,1*i,.2*e,1*i),Qo(t,.45*e,.75*i,.45*e,.25*i,.2*e,0),Jo(t),e=t.s,e.G=new P(.4,.25),e.H=new P(.8,.75),Uh.v(t),e},Capacitor:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.s,Uh.v(t),e},Resistor:function(t,e,i){return t=Uh.u(),Yo(t,0,.5*i,!1),t.lineTo(.1*e,0),t.lineTo(.2*e,1*i),t.lineTo(.3*e,0),t.lineTo(.4*e,1*i),t.lineTo(.5*e,0),t.lineTo(.6*e,1*i),t.lineTo(.7*e,.5*i),e=t.s,Uh.v(t),e},Inductor:function(t,e,i){t=Uh.u();var n=.1*Bl.wa,o=.1;return Yo(t,(o-.5*n)*e,i,!1),Qo(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.3,Qo(t,(o+.1)*e,0,(o+n)*e,i,o*e,i),Qo(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.5,Qo(t,(o+.1)*e,0,(o+n)*e,i,o*e,i),Qo(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.7,Qo(t,(o+.1)*e,0,(o+n)*e,i,o*e,i),Qo(t,(o-n)*e,i,(o-.1)*e,0,(o+.1)*e,0),o=.9,Qo(t,(o+.1)*e,0,(o+n)*e,i,(o+.5*n)*e,i),e=t.s,Uh.v(t),e},ACvoltageSource:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,0*e,.5*i,!1),Qo(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),Qo(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i),t.moveTo(.1*e,.5*i),Qo(t,.5*e,0*i,.5*e,1*i,.9*e,.5*i),e=t.s,e.ud=ic,Uh.v(t),e},DCvoltageSource:function(t,e,i){return t=Uh.u(),Yo(t,0,.75*i,!1),t.lineTo(0,.25*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.s,Uh.v(t),e},Diode:function(t,e,i){return t=Uh.u(),Yo(t,1*e,0,!1),t.lineTo(1*e,.5*i),t.lineTo(0,1*i),t.lineTo(0,0),t.lineTo(1*e,.5*i),t.lineTo(1*e,1*i),e=t.s,e.G=new P(0,.25),e.H=new P(.5,.75),Uh.v(t),e},Wifi:function(t,e,i){var n=e,o=i;e*=.38,i*=.6,t=Uh.u();var r=Bl.wa,s=.8*r,a=.8,h=0,l=.5,n=(n-e)/2,o=(o-i)/2;return Yo(t,h*e+n,(l+a)*i+o,!0),Qo(t,(h-s)*e+n,(l+a)*i+o,(h-a)*e+n,(l+s)*i+o,(h-a)*e+n,l*i+o),Qo(t,(h-a)*e+n,(l-s)*i+o,(h-s)*e+n,(l-a)*i+o,h*e+n,(l-a)*i+o),Qo(t,h*e+n,(l-a)*i+o,(h-a+.5*s)*e+n,(l-s)*i+o,(h-a+.5*s)*e+n,l*i+o),Qo(t,(h-a+.5*s)*e+n,(l+s)*i+o,h*e+n,(l+a)*i+o,h*e+n,(l+a)*i+o),Jo(t),s=.4*r,a=.4,h=.2,l=.5,Yo(t,h*e+n,(l+a)*i+o,!0),Qo(t,(h-s)*e+n,(l+a)*i+o,(h-a)*e+n,(l+s)*i+o,(h-a)*e+n,l*i+o),Qo(t,(h-a)*e+n,(l-s)*i+o,(h-s)*e+n,(l-a)*i+o,h*e+n,(l-a)*i+o),Qo(t,h*e+n,(l-a)*i+o,(h-a+.5*s)*e+n,(l-s)*i+o,(h-a+.5*s)*e+n,l*i+o),Qo(t,(h-a+.5*s)*e+n,(l+s)*i+o,h*e+n,(l+a)*i+o,h*e+n,(l+a)*i+o),Jo(t),s=.2*r,a=.2,l=h=.5,Yo(t,(h-a)*e+n,l*i+o,!0),Qo(t,(h-a)*e+n,(l-s)*i+o,(h-s)*e+n,(l-a)*i+o,h*e+n,(l-a)*i+o),Qo(t,(h+s)*e+n,(l-a)*i+o,(h+a)*e+n,(l-s)*i+o,(h+a)*e+n,l*i+o),Qo(t,(h+a)*e+n,(l+s)*i+o,(h+s)*e+n,(l+a)*i+o,h*e+n,(l+a)*i+o),Qo(t,(h-s)*e+n,(l+a)*i+o,(h-a)*e+n,(l+s)*i+o,(h-a)*e+n,l*i+o),s=.4*r,a=.4,h=.8,l=.5,Yo(t,h*e+n,(l-a)*i+o,!0),Qo(t,(h+s)*e+n,(l-a)*i+o,(h+a)*e+n,(l-s)*i+o,(h+a)*e+n,l*i+o),Qo(t,(h+a)*e+n,(l+s)*i+o,(h+s)*e+n,(l+a)*i+o,h*e+n,(l+a)*i+o),Qo(t,h*e+n,(l+a)*i+o,(h+a-.5*s)*e+n,(l+s)*i+o,(h+a-.5*s)*e+n,l*i+o),Qo(t,(h+a-.5*s)*e+n,(l-s)*i+o,h*e+n,(l-a)*i+o,h*e+n,(l-a)*i+o),Jo(t),s=.8*r,a=.8,h=1,l=.5,Yo(t,h*e+n,(l-a)*i+o,!0),Qo(t,(h+s)*e+n,(l-a)*i+o,(h+a)*e+n,(l-s)*i+o,(h+a)*e+n,l*i+o),Qo(t,(h+a)*e+n,(l+s)*i+o,(h+s)*e+n,(l+a)*i+o,h*e+n,(l+a)*i+o),Qo(t,h*e+n,(l+a)*i+o,(h+a-.5*s)*e+n,(l+s)*i+o,(h+a-.5*s)*e+n,l*i+o),Qo(t,(h+a-.5*s)*e+n,(l-s)*i+o,h*e+n,(l-a)*i+o,h*e+n,(l-a)*i+o),Jo(t),e=t.s,Uh.v(t),e},Email:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!0),t.lineTo(1*e,0),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,0),Jo(t),Yo(t,0,0,!1),t.lineTo(.5*e,.6*i),t.lineTo(1*e,0),t.moveTo(0,1*i),t.lineTo(.45*e,.54*i),t.moveTo(1*e,1*i),t.lineTo(.55*e,.54*i),t.eb(!1),e=t.s,Uh.v(t),e},Ethernet:function(t,e,i){return t=Uh.u(),Yo(t,.35*e,0,!0),t.lineTo(.65*e,0),t.lineTo(.65*e,.4*i),t.lineTo(.35*e,.4*i),t.lineTo(.35*e,0),Jo(t),Yo(t,.1*e,1*i,!0,!0),t.lineTo(.4*e,1*i),t.lineTo(.4*e,.6*i),t.lineTo(.1*e,.6*i),t.lineTo(.1*e,1*i),Jo(t),Yo(t,.6*e,1*i,!0,!0),t.lineTo(.9*e,1*i),t.lineTo(.9*e,.6*i),t.lineTo(.6*e,.6*i),t.lineTo(.6*e,1*i),Jo(t),Yo(t,0,.5*i,!1),t.lineTo(1*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.5*e,.4*i),t.moveTo(.75*e,.5*i),t.lineTo(.75*e,.6*i),t.moveTo(.25*e,.5*i),t.lineTo(.25*e,.6*i),t.eb(!1),e=t.s,Uh.v(t),e},Power:function(t,e,i){t=Uh.u();var n=Bl.wa,o=.4*n,r=.4,s=Uh.M(),a=Uh.M(),h=Uh.M(),l=Uh.M();Bl.Ki(.5,.5-r,.5+o,.5-r,.5+r,.5-o,.5+r,.5,.5,s,s,a,h,l);var u=Uh.ic(a.x,a.y);return Yo(t,a.x*e,a.y*i,!0),Qo(t,h.x*e,h.y*i,l.x*e,l.y*i,(.5+r)*e,.5*i),Qo(t,(.5+r)*e,(.5+o)*i,(.5+o)*e,(.5+r)*i,.5*e,(.5+r)*i),Qo(t,(.5-o)*e,(.5+r)*i,(.5-r)*e,(.5+o)*i,(.5-r)*e,.5*i),Bl.Ki(.5-r,.5,.5-r,.5-o,.5-o,.5-r,.5,.5-r,.5,h,l,a,s,s),Qo(t,h.x*e,h.y*i,l.x*e,l.y*i,a.x*e,a.y*i),o=.3*n,r=.3,Bl.Ki(.5-r,.5,.5-r,.5-o,.5-o,.5-r,.5,.5-r,.5,h,l,a,s,s),t.lineTo(a.x*e,a.y*i),Qo(t,l.x*e,l.y*i,h.x*e,h.y*i,(.5-r)*e,.5*i),Qo(t,(.5-r)*e,(.5+o)*i,(.5-o)*e,(.5+r)*i,.5*e,(.5+r)*i),Qo(t,(.5+o)*e,(.5+r)*i,(.5+r)*e,(.5+o)*i,(.5+r)*e,.5*i),Bl.Ki(.5,.5-r,.5+o,.5-r,.5+r,.5-o,.5+r,.5,.5,s,s,a,h,l),Qo(t,l.x*e,l.y*i,h.x*e,h.y*i,a.x*e,a.y*i),Jo(t),Yo(t,.45*e,0,!0),t.lineTo(.45*e,.5*i),t.lineTo(.55*e,.5*i),t.lineTo(.55*e,0),Jo(t),Uh.B(s),Uh.B(a),Uh.B(h),Uh.B(l),Uh.B(u),e=t.s,e.G=new P(.25,.55),e.H=new P(.75,.8),Uh.v(t),e},Fallout:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;Yo(t,0*e,.5*i,!0),Qo(t,0*e,(.5-n)*i,(.5-n)*e,0*i,.5*e,0*i),Qo(t,(.5+n)*e,0*i,1*e,(.5-n)*i,1*e,.5*i),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0*e,(.5+n)*i,0*e,.5*i);var o=n=0;return Yo(t,(.3+n)*e,(.8+o)*i,!0,!0),t.lineTo((.5+n)*e,(.5+o)*i),t.lineTo((.1+n)*e,(.5+o)*i),t.lineTo((.3+n)*e,(.8+o)*i),n=.4,o=0,Jo(t),Yo(t,(.3+n)*e,(.8+o)*i,!0,!0),t.lineTo((.5+n)*e,(.5+o)*i),t.lineTo((.1+n)*e,(.5+o)*i),t.lineTo((.3+n)*e,(.8+o)*i),n=.2,o=-.3,Jo(t),Yo(t,(.3+n)*e,(.8+o)*i,!0,!0),t.lineTo((.5+n)*e,(.5+o)*i),t.lineTo((.1+n)*e,(.5+o)*i),t.lineTo((.3+n)*e,(.8+o)*i),Jo(t),e=t.s,e.ud=ic,Uh.v(t),e},IrritationHazard:function(t,e,i){return t=Uh.u(),Yo(t,.2*e,0*i,!0),t.lineTo(.5*e,.3*i),t.lineTo(.8*e,0*i),t.lineTo(1*e,.2*i),t.lineTo(.7*e,.5*i),t.lineTo(1*e,.8*i),t.lineTo(.8*e,1*i),t.lineTo(.5*e,.7*i),t.lineTo(.2*e,1*i),t.lineTo(0*e,.8*i),t.lineTo(.3*e,.5*i),t.lineTo(0*e,.2*i),Jo(t),e=t.s,e.G=new P(.3,.3),e.H=new P(.7,.7),Uh.v(t),e},ElectricalHazard:function(t,e,i){return t=Uh.u(),Yo(t,.37*e,0*i,!0),t.lineTo(.5*e,.11*i),t.lineTo(.77*e,.04*i),t.lineTo(.33*e,.49*i),t.lineTo(1*e,.37*i),t.lineTo(.63*e,.86*i),t.lineTo(.77*e,.91*i),t.lineTo(.34*e,1*i),t.lineTo(.34*e,.78*i),t.lineTo(.44*e,.8*i),t.lineTo(.65*e,.56*i),t.lineTo(0*e,.68*i),Jo(t),e=t.s,Uh.v(t),e},FireHazard:function(t,e,i){return t=Uh.u(),Yo(t,.1*e,1*i,!0),Qo(t,-.25*e,.63*i,.45*e,.44*i,.29*e,0*i),Qo(t,.48*e,.17*i,.54*e,.35*i,.51*e,.42*i),Qo(t,.59*e,.29*i,.58*e,.28*i,.59*e,.18*i),Qo(t,.8*e,.34*i,.88*e,.43*i,.75*e,.6*i),Qo(t,.87*e,.48*i,.88*e,.43*i,.88*e,.31*i),Qo(t,1.17*e,.76*i,.82*e,.8*i,.9*e,1*i),Jo(t),e=t.s,e.G=new P(.05,.645),e.H=new P(.884,.908),Uh.v(t),e},BpmnActivityLoop:function(t,e,i){t=Uh.u();var n=4*(Math.SQRT2-1)/3*.5;return Yo(t,.65*e,1*i,!1),Qo(t,(1-n+0)*e,1*i,1*e,(.5+n+0)*i,1*e,.5*i),Qo(t,1*e,(.5-n+0)*i,(.5+n+0)*e,0*i,.5*e,0*i),Qo(t,(.5-n+0)*e,0*i,0*e,(.5-n+0)*i,0*e,.5*i),Qo(t,0*e,(.5+n+0)*i,(.5-n+0)*e,1*i,.35*e,.98*i),t.moveTo(.25*e,.8*i),t.lineTo(.35*e,1*i),t.lineTo(.1*e,1*i),e=t.s,Uh.v(t),e},BpmnActivityParallel:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(0,1*i),t.moveTo(.5*e,0),t.lineTo(.5*e,1*i),t.moveTo(1*e,0),t.lineTo(1*e,1*i),e=t.s,Uh.v(t),e},BpmnActivitySequential:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),t.lineTo(1*e,0),t.moveTo(0,.5*i),t.lineTo(1*e,.5*i),t.moveTo(0,1*i),t.lineTo(1*e,1*i),e=t.s,Uh.v(t),e},BpmnActivityAdHoc:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),Yo(t,1*e,1*i,!1),Yo(t,0,.5*i,!1),Qo(t,.2*e,.35*i,.3*e,.35*i,.5*e,.5*i),Qo(t,.7*e,.65*i,.8*e,.65*i,1*e,.5*i),e=t.s,Uh.v(t),e},BpmnActivityCompensation:function(t,e,i){return t=Uh.u(),Yo(t,0,.5*i,!0),t.lineTo(.5*e,0),t.lineTo(.5*e,.5*i),t.lineTo(1*e,1*i),t.lineTo(1*e,0),t.lineTo(.5*e,.5*i),t.lineTo(.5*e,1*i),Jo(t),e=t.s,Uh.v(t),e},BpmnTaskMessage:function(t,e,i){return t=Uh.u(),Yo(t,0,.2*i,!0),t.lineTo(1*e,.2*i),t.lineTo(1*e,.8*i),t.lineTo(0,.8*i),t.lineTo(0,.8*i),Jo(t),Yo(t,0,.2*i,!1),t.lineTo(.5*e,.5*i),t.lineTo(1*e,.2*i),t.eb(!1),e=t.s,Uh.v(t),e},BpmnTaskScript:function(t,e,i){return t=Uh.u(),Yo(t,.7*e,1*i,!0),t.lineTo(.3*e,1*i),Qo(t,.6*e,.5*i,0,.5*i,.3*e,0),t.lineTo(.7*e,0),Qo(t,.4*e,.5*i,1*e,.5*i,.7*e,1*i),Jo(t),Yo(t,.45*e,.73*i,!1),t.lineTo(.7*e,.73*i),t.moveTo(.38*e,.5*i),t.lineTo(.63*e,.5*i),t.moveTo(.31*e,.27*i),t.lineTo(.56*e,.27*i),t.eb(!1),e=t.s,Uh.v(t),e},BpmnTaskUser:function(t,e,i){t=Uh.u(),Yo(t,0,0,!1),Yo(t,.335*e,(1-.555)*i,!0),t.lineTo(.335*e,.595*i),t.lineTo(.665*e,.595*i),t.lineTo(.665*e,(1-.555)*i),Qo(t,.88*e,.46*i,.98*e,.54*i,1*e,.68*i),t.lineTo(1*e,1*i),t.lineTo(0,1*i),t.lineTo(0,.68*i),Qo(t,.02*e,.54*i,.12*e,.46*i,.335*e,(1-.555)*i),t.lineTo(.365*e,.405*i);var n=.5-.285,o=Math.PI/4,r=4*(1-Math.cos(o))/(3*Math.sin(o)),o=r*n,r=r*n;return Qo(t,(.5-(o+n)/2)*e,(n+(n+r)/2)*i,(.5-n)*e,(n+r)*i,(.5-n)*e,n*i),Qo(t,(.5-n)*e,(n-r)*i,(.5-o)*e,(n-n)*i,.5*e,(n-n)*i),Qo(t,(.5+o)*e,(n-n)*i,(.5+n)*e,(n-r)*i,(.5+n)*e,n*i),Qo(t,(.5+n)*e,(n+r)*i,(.5+(o+n)/2)*e,(n+(n+r)/2)*i,.635*e,.405*i),t.lineTo(.635*e,.405*i),t.lineTo(.665*e,(1-.555)*i),t.lineTo(.665*e,.595*i),t.lineTo(.335*e,.595*i),Yo(t,.2*e,1*i,!1),t.lineTo(.2*e,.8*i),Yo(t,.8*e,1*i,!1),t.lineTo(.8*e,.8*i),e=t.s,Uh.v(t),e},BpmnEventConditional:function(t,e,i){return t=Uh.u(),Yo(t,.1*e,0,!0),t.lineTo(.9*e,0),t.lineTo(.9*e,1*i),t.lineTo(.1*e,1*i),Jo(t),Yo(t,.2*e,.2*i,!1),t.lineTo(.8*e,.2*i),t.moveTo(.2*e,.4*i),t.lineTo(.8*e,.4*i),t.moveTo(.2*e,.6*i),t.lineTo(.8*e,.6*i),t.moveTo(.2*e,.8*i),t.lineTo(.8*e,.8*i),t.eb(!1),e=t.s,Uh.v(t),e},BpmnEventError:function(t,e,i){return t=Uh.u(),Yo(t,0,1*i,!0),t.lineTo(.33*e,0),t.lineTo(.66*e,.5*i),t.lineTo(1*e,0),t.lineTo(.66*e,1*i),t.lineTo(.33*e,.5*i),Jo(t),e=t.s,Uh.v(t),e},BpmnEventEscalation:function(t,e,i){return t=Uh.u(),Yo(t,0,0,!1),Yo(t,1*e,1*i,!1),Yo(t,.1*e,1*i,!0),t.lineTo(.5*e,0),t.lineTo(.9*e,1*i),t.lineTo(.5*e,.5*i),Jo(t),e=t.s,Uh.v(t),e},BpmnEventTimer:function(t,e,i){t=Uh.u();var n=.5*Bl.wa;return Yo(t,1*e,.5*i,!0),Qo(t,1*e,(.5+n)*i,(.5+n)*e,1*i,.5*e,1*i),Qo(t,(.5-n)*e,1*i,0,(.5+n)*i,0,.5*i),Qo(t,0,(.5-n)*i,(.5-n)*e,0,.5*e,0),Qo(t,(.5+n)*e,0,1*e,(.5-n)*i,1*e,.5*i),Yo(t,.5*e,0,!1),t.lineTo(.5*e,.15*i),t.moveTo(.5*e,1*i),t.lineTo(.5*e,.85*i),t.moveTo(0,.5*i),t.lineTo(.15*e,.5*i),t.moveTo(1*e,.5*i),t.lineTo(.85*e,.5*i),t.moveTo(.5*e,.5*i),t.lineTo(.58*e,.1*i),t.moveTo(.5*e,.5*i),t.lineTo(.78*e,.54*i),t.eb(!1),e=t.s,e.ud=ic,Uh.v(t),e}};for(var _c in Bl.xg)Bl.xg[_c.toLowerCase()]=_c;Bl.jw={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},Bl.SJ=function(){if(null!==Bl.jw){for(var t in Bl.jw){var e=zl(Bl.jw[t],!1);Bl.$i[t]=e,t.toLowerCase()!==t&&(Bl.$i[t.toLowerCase()]=t)}Bl.jw=null}},Bl.WD=function(t){Bl.SJ();var e=Bl.$i[t];if(void 0===e){if(e=t.toLowerCase(),"none"===e)return"None";e=Bl.$i[e]}return"string"==typeof e?e:e instanceof V?t:null},Uh.Ia(er,io),Uh.ja("Part",er),er.prototype.cloneProtected=function(t){io.prototype.cloneProtected.call(this,t),t.Q=-4097&this.Q|49152,
t.ci=this.ci,t.Ok=this.Ok,t.kr=this.kr,t.us=this.us,t.hs=this.hs,t.ls=this.ls,t.ws=this.ws,t.vs=this.vs,t.ai=null,t.ks=this.ks,t.js.assign(this.js),t.ms=this.ms,t.ne=this.ne,t.sq=this.sq,t.Yg.assign(this.Yg),t.sr=this.sr,t.tr=this.tr.ba(),t.Cr=this.Cr.ba(),t.vr=this.vr.ba(),t.Cq=this.Cq,t.lr=this.lr,t.um.assign(this.um),t.tm=this.tm,t.sm=this.sm},er.prototype.Qh=function(t){io.prototype.Qh.call(this,t),t.rl(),t.rm=null,t.po=null,t.qo=null,t.Rk=null,t.Tk=null},er.prototype.toString=function(){var t=Uh.yg(Object.getPrototypeOf(this))+"#"+Uh.Yc(this);return null!==this.data&&(t+="("+tu(this.data)+")"),t},er.LayoutNone=0;var Hc;er.LayoutAdded=Hc=1;var qc;er.LayoutRemoved=qc=2,er.LayoutShown=4,er.LayoutHidden=8,er.LayoutNodeSized=16;var Wc;er.LayoutGroupLayout=Wc=32,er.LayoutNodeReplaced=64;var Gc;er.LayoutStandard=Gc=Hc|qc|28|Wc|64,er.LayoutAll=16777215,er.prototype.fn=function(t,e,i,n,o,r,s){var a=this.h;null!==a&&(t===Yl&&"elements"===e?o instanceof io&&lo(o,function(t){Oi(a,t)}):t===Jl&&"elements"===e&&o instanceof io&&lo(o,function(t){ji(a,t)}),a.Gc(t,e,i,n,o,r,s))},er.prototype.updateTargetBindings=er.prototype.Rb=function(t){if(io.prototype.Rb.call(this,t),null!==this.data){t=this.Ga.q;for(var e=t.length,i=0;e>i;i++){var n=t[i];n instanceof io&&lo(n,function(t){null!==t.data&&t.Rb()})}}},er.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.h;if(null!==e){var i=e.ga;if(i instanceof bt){var n=i.Um(t),e=e.II(n),o=this.Va;e!==o&&(e=null!==o?i.Bb(o.data):void 0,o=i.dn,"function"==typeof o?o(t,e):t[o]=e,i.zx(t,n))}}}},Uh.A(er,{fw:"adornments"},function(){return null===this.ai?Yh:this.ai.pF}),er.prototype.findAdornment=er.prototype.Vo=function(t){Vh&&Uh.i(t,"string",er,"findAdornment:category");var e=this.ai;return null===e?null:e.Aa(t)},er.prototype.addAdornment=er.prototype.bl=function(t,e){if(null!==e){Vh&&(Uh.i(t,"string",er,"addAdornment:category"),Uh.l(e,xr,er,"addAdornment:ad"));var i=null,n=this.ai;if(null!==n&&(i=n.Aa(t)),i!==e){if(null!==i){var o=i.h;null!==o&&o.remove(i)}null===n&&(this.ai=n=new v("string",xr)),e.ci!==t&&(e.Wc=t),n.add(t,e),i=this.h,null!==i&&(i.add(e),e.data=this.data)}}},er.prototype.removeAdornment=er.prototype.Bl=function(t){Vh&&Uh.i(t,"string",er,"removeAdornment:category");var e=this.ai;if(null!==e){var i=e.Aa(t);if(null!==i){var n=i.h;null!==n&&n.remove(i)}e.remove(t),0===e.count&&(this.ai=null)}},er.prototype.clearAdornments=er.prototype.bt=function(){var t=this.ai;if(null!==t){for(var e=Uh.lb(),t=t.k;t.next();)e.push(t.key);for(var t=e.length,i=0;t>i;i++)this.Bl(e[i]);Uh.xa(e)}},er.prototype.updateAdornments=function(){var t=this.h;if(null!==t){t:{if(this.Za&&this.oG){var e=this.$t;if(!(null!==e&&this.ea.J()&&this.Ja()&&e.vl()&&e.ea.J()))break t;var i=this.Vo("Selection");if(null===i){if(i=this.pG,null===i&&(i=this instanceof Nr?t.wF:this instanceof bs?t.SE:t.MF),!(i instanceof xr))break t;bo(i),i=i.copy(),null!==i&&(i.Wc="Selection",i.wc=e)}if(null!==i){var n=i.placeholder;if(null!==n){var o=e.Qi(),r=0;e instanceof Fo&&(r=e.ib);var s=Uh.Hl();s.o((e.Ka.width+r)*o,(e.Ka.height+r)*o),n.ya=s,Uh.dk(s)}i.angle=e.ml(),i.type!==pc&&(n=Uh.M(),i.location=e.qb(nl,n),Uh.B(n)),this.bl("Selection",i);break t}}this.Bl("Selection")}for(ir(this,t),t=this.fw;t.next();)e=t.value,e.Rb(),e.T()}},Uh.A(er,{layer:"layer"},function(){return this.kv}),Uh.A(er,{h:"diagram"},function(){var t=this.kv;return null!==t?t.h:null}),Uh.g(er,"layerName",er.prototype.hf),Uh.defineProperty(er,{hf:"layerName"},function(){return this.Ok},function(t){var e=this.Ok;if(e!==t){Uh.i(t,"string",er,"layerName");var i=this.h;if((null===i||null!==i.mt(t)&&!i.sn)&&(this.Ok=t,null!==i&&i.oc(),this.j("layerName",e,t),e=this.layer,null!==e&&e.name!==t&&(i=e.h,null!==i&&(t=i.mt(t),null!==t&&t!==e)))){var n=e.ef(-1,this,!0);if(n>=0&&i.Gc(Jl,"parts",e,this,null,n,!0),n=t.gp(99999999,this,!0),n>=0&&i.Gc(Yl,"parts",t,null,this,!0,n),n=this.np,null!==n){var o=i.Pa;i.Pa=!0,n(this,e,t),i.Pa=o}}}}),Uh.g(er,"layerChanged",er.prototype.np),Uh.defineProperty(er,{np:"layerChanged"},function(){return this.kr},function(t){var e=this.kr;e!==t&&(null!==t&&Uh.i(t,"function",er,"layerChanged"),this.kr=t,this.j("layerChanged",e,t))}),er.prototype.invalidateAdornments=er.prototype.ce=function(){var t=this.h;null!==t&&(Si(t),0!==(16384&this.Q)!=!0&&(this.Q|=16384,t.Se()))},Uh.g(er,"location",er.prototype.location),Uh.defineProperty(er,{location:"location"},function(){return this.Yg},function(t){var e=this.Yg;if(!(e.L(t)||this instanceof Nr)){Vh&&Uh.l(t,b,er,"location"),t=t.ba();var i=this.h;if(this.Yg=t,!1===Yn(this)){var n=this.Oa,o=t.x-e.x,r=t.y-e.y,s=n.copy();n.o(s.x+o,s.y+r),or(this,!1),!n.L(s)&&i&&this.j("position",s,n)}this.j("location",e,t)}}),Uh.A(er,{hc:"locationObject"},function(){if(null===this.Rk){var t=this.ix;""!==t?(t=this.pe(t),this.Rk=null!==t?t:this):this.Rk=this instanceof xr&&this.type!==pc&&null!==this.placeholder?this.placeholder:this}return this.Rk.visible?this.Rk:this}),Uh.g(er,"minLocation",er.prototype.EF),Uh.defineProperty(er,{EF:"minLocation"},function(){return this.Cr},function(t){var e=this.Cr;e.L(t)||(Vh&&Uh.l(t,b,er,"minLocation"),this.Cr=t=t.ba(),this.j("minLocation",e,t))}),Uh.g(er,"maxLocation",er.prototype.yF),Uh.defineProperty(er,{yF:"maxLocation"},function(){return this.vr},function(t){var e=this.vr;e.L(t)||(Vh&&Uh.l(t,b,er,"maxLocation"),this.vr=t=t.ba(),this.j("maxLocation",e,t))}),Uh.g(er,"locationObjectName",er.prototype.ix),Uh.defineProperty(er,{ix:"locationObjectName"},function(){return this.sr},function(t){var e=this.sr;e!==t&&(Vh&&Uh.i(t,"string",er,"locationObjectName"),this.sr=t,this.Rk=null,In(this),this.j("locationObjectName",e,t))}),Uh.g(er,"locationSpot",er.prototype.Pe),Uh.defineProperty(er,{Pe:"locationSpot"},function(){return this.tr},function(t){var e=this.tr;e.L(t)||(Vh&&(Uh.l(t,P,er,"locationSpot"),t.kd()||Uh.m("Part.locationSpot must be a specific Spot value, not: "+t)),this.tr=t=t.ba(),In(this),this.j("locationSpot",e,t))}),er.prototype.move=er.prototype.move=function(t){this.position=t},er.prototype.moveTo=er.prototype.moveTo=function(t,e){var i=Uh.ic(t,e);this.move(i),Uh.B(i)},er.prototype.isVisible=er.prototype.Ja=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t&&!t.visible)return!1;if(t=this.Va,!(null===t||t.Md&&t.Ja()))return!1;if(this instanceof Cr){if(t=this.Rm(),null!==t&&!t.Pc)return!1;if(t=this.Nd,null!==t)return t.Ja()}else if(this instanceof Nr){var e=!0,i=this.h;if(null!==i&&(e=i.ld),i=this.Z,null!==i){if(this.Bc&&e&&!i.Pc)return!1;if(i===t)return!0;if(i=i.findVisibleNode(),null===i||i===t)return!1}if(i=this.da,null!==i){if(this.Bc&&!e&&!i.Pc)return!1;if(i===t)return!0;if(e=i.findVisibleNode(),null===e||e===t)return!1}}return!0},er.prototype.Qe=function(t){var e=this.h;t?(this.K(4),this.ce(),null!==e&&e.fg.add(this)):(this.K(8),this.bt()),null!==e&&(e.oc(),e.pa())},er.prototype.findObject=er.prototype.pe=function(t){if(this.name===t)return this;var e=this.Tk;if(null===e&&(this.Tk=e=new n),void 0!==e[t])return e[t];for(var i=this.Ga.q,o=i.length,r=0;o>r;r++){var s=i[r];if(s.name===t)return e[t]=s;if(s instanceof io)if(null===s.oi&&null===s.hg){if(s=s.pe(t),null!==s)return e[t]=s}else if(wo(s)&&(s=s.Ga.first(),null!==s&&s.name===t))return e[t]=s}return e[t]=null},er.prototype.ensureBounds=er.prototype.vf=function(){Pn(this,1/0,1/0),this.Fc()},Wh=er.prototype,Wh.Fc=function(){if(this.Vg(),!1===Yn(this))rr(this);else{var t=Uh.$f();t.assign(this.bc),On(this),this.bc.Na();var e=gr(this);this.Hi(0,0,this.Tc.width,this.Tc.height);var i=this.position;hr(this,i,this.location);var n=this.bc;n.x=i.x,n.y=i.y,n.freeze(),this.Vg(),this.nx(t,n),t.L(n)?this.Ef(e):!this.Ld()||Bl.I(t.width,n.width)&&Bl.I(t.height,n.height)||0<=this.FC&&this.K(16),Uh.nc(t),dr(this,!1)}},Wh.nx=function(t,e){Jn(this,!1);var i=this.h;if(null!==i){this.rl();var n=!1,o=t.J();if(!1===i.mi){var r=i.Jd,s=i.padding,a=r.x+s.left,h=r.y+s.top,l=r.width-2*s.right,r=r.height-2*s.bottom;o&&t.x>a&&t.y>h&&t.right<l&&t.bottom<r&&e.x>a&&e.y>h&&e.right<l&&e.bottom<r&&(n=!0)}0!==(65536&this.Q)!=!0&&t.L(e)||lr(this,n,i),i.pa()}},Wh.hB=function(t,e){if(!t.J()||this instanceof Nr)return!1;if(this.h&&!(this instanceof xr)){var i=this.h.bi;i.qd&&$e(i,this,"position",e.copy(),t.copy())}var i=this.Yg,n=i.copy();return i.o(i.x+(t.x-e.x),i.y+(t.y-e.y)),this.Oa=t,!1===fr(this)&&!1===Yn(this)&&(or(this,!1),this.Vg(),rr(this)),i.L(n)||this.j("location",n,i),!0},Wh.uG=function(t,e){var i=this.Yg;!1===fr(this)&&!1===Yn(this)?(this.Yg.o(i.x+t-this.Oa.x,i.y+e-this.Oa.y),this.Oa.o(t,e),or(this,!0),this.Vg()):(i.o(NaN,NaN),this.Oa.o(t,e))},Wh.tl=function(){return!0},Wh.Ld=function(){return!0},Uh.g(er,"category",er.prototype.Wc),Uh.defineProperty(er,{Wc:"category"},function(){return this.ci},function(t){var e=this.ci;if(e!==t){Uh.i(t,"string",er,"category"),this.ci=t,this.j("category",e,t);var i=this.h,n=this.data;if(null!==i&&null!==n){var o=i.ga;this instanceof Nr?(o instanceof bt?o.sG(n,t):o instanceof xt&&o.QJ(n,t),i=Vi(i,t),null!==i&&(bo(i),i=i.copy(),null!==i&&cr(this,i,e,t))):this instanceof xr||(null!==o&&o.xx(n,t),i=_i(i,n,t),null!==i&&(bo(i),i=i.copy(),null===i||i instanceof Nr||(i.location=this.location,cr(this,i,e,t))))}this instanceof xr&&(t=this.Nh,null!==t&&(i=t.ai,null!==i&&i.remove(e),t.bl(this.Wc,this)))}});var Vc=!1;er.prototype.canCopy=function(){if(!this.nE)return!1;var t=this.layer;return null===t?!0:t.Oh?(t=t.h,null===t?!0:t.Oh?!0:!1):!1},er.prototype.canDelete=function(){if(!this.vE)return!1;var t=this.layer;return null===t?!0:t.Rj?(t=t.h,null===t?!0:t.Rj?!0:!1):!1},er.prototype.canEdit=function(){if(!this.GG)return!1;var t=this.layer;return null===t?!0:t.Io?(t=t.h,null===t?!0:t.Io?!0:!1):!1},er.prototype.canGroup=function(){if(!this.TE)return!1;var t=this.layer;return null===t?!0:t.Fo?(t=t.h,null===t?!0:t.Fo?!0:!1):!1},er.prototype.canMove=function(){if(!this.IF)return!1;var t=this.layer;return null===t?!0:t.Gi?(t=t.h,null===t?!0:t.Gi?!0:!1):!1},er.prototype.canReshape=function(){if(!this.bG)return!1;var t=this.layer;return null===t?!0:t.Go?(t=t.h,null===t?!0:t.Go?!0:!1):!1},er.prototype.canResize=function(){if(!this.cG)return!1;var t=this.layer;return null===t?!0:t.Dm?(t=t.h,null===t?!0:t.Dm?!0:!1):!1},er.prototype.canRotate=function(){if(!this.fG)return!1;var t=this.layer;return null===t?!0:t.Ho?(t=t.h,null===t?!0:t.Ho?!0:!1):!1},er.prototype.canSelect=function(){if(!this.ik)return!1;var t=this.layer;return null===t?!0:t.Ee?(t=t.h,null===t?!0:t.Ee?!0:!1):!1},Uh.g(er,"copyable",er.prototype.nE),Uh.defineProperty(er,{nE:"copyable"},function(){return 0!==(1&this.Q)},function(t){var e=0!==(1&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"copyable"),this.Q^=1,this.j("copyable",e,t))}),Uh.g(er,"deletable",er.prototype.vE),Uh.defineProperty(er,{vE:"deletable"},function(){return 0!==(2&this.Q)},function(t){var e=0!==(2&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"deletable"),this.Q^=2,this.j("deletable",e,t))}),Uh.g(er,"textEditable",er.prototype.GG),Uh.defineProperty(er,{GG:"textEditable"},function(){return 0!==(4&this.Q)},function(t){var e=0!==(4&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"textEditable"),this.Q^=4,this.j("textEditable",e,t),this.ce())}),Uh.g(er,"groupable",er.prototype.TE),Uh.defineProperty(er,{TE:"groupable"},function(){return 0!==(8&this.Q)},function(t){var e=0!==(8&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"groupable"),this.Q^=8,this.j("groupable",e,t))}),Uh.g(er,"movable",er.prototype.IF),Uh.defineProperty(er,{IF:"movable"},function(){return 0!==(16&this.Q)},function(t){var e=0!==(16&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"movable"),this.Q^=16,this.j("movable",e,t))}),Uh.g(er,"selectionAdorned",er.prototype.oG),Uh.defineProperty(er,{oG:"selectionAdorned"},function(){return 0!==(32&this.Q)},function(t){var e=0!==(32&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"selectionAdorned"),this.Q^=32,this.j("selectionAdorned",e,t),this.ce())}),Uh.g(er,"isInDocumentBounds",er.prototype.Vw),Uh.defineProperty(er,{Vw:"isInDocumentBounds"},function(){return 0!==(64&this.Q)},function(t){var e=0!==(64&this.Q);if(e!==t){Vh&&Uh.i(t,"boolean",er,"isInDocumentBounds"),this.Q^=64;var i=this.h;null!==i&&i.oc(),this.j("isInDocumentBounds",e,t)}}),Uh.g(er,"isLayoutPositioned",er.prototype.vA),Uh.defineProperty(er,{vA:"isLayoutPositioned"},function(){return 0!==(128&this.Q)},function(t){var e=0!==(128&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"isLayoutPositioned"),this.Q^=128,this.j("isLayoutPositioned",e,t),this.K(t?4:8))}),Uh.g(er,"selectable",er.prototype.ik),Uh.defineProperty(er,{ik:"selectable"},function(){return 0!==(256&this.Q)},function(t){var e=0!==(256&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"selectable"),this.Q^=256,this.j("selectable",e,t),this.ce())}),Uh.g(er,"reshapable",er.prototype.bG),Uh.defineProperty(er,{bG:"reshapable"},function(){return 0!==(512&this.Q)},function(t){var e=0!==(512&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"reshapable"),this.Q^=512,this.j("reshapable",e,t),this.ce())}),Uh.g(er,"resizable",er.prototype.cG),Uh.defineProperty(er,{cG:"resizable"},function(){return 0!==(1024&this.Q)},function(t){var e=0!==(1024&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"resizable"),this.Q^=1024,this.j("resizable",e,t),this.ce())}),Uh.g(er,"rotatable",er.prototype.fG),Uh.defineProperty(er,{fG:"rotatable"},function(){return 0!==(2048&this.Q)},function(t){var e=0!==(2048&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"rotatable"),this.Q^=2048,this.j("rotatable",e,t),this.ce())}),Uh.g(er,"isSelected",er.prototype.Za),Uh.defineProperty(er,{Za:"isSelected"},function(){return 0!==(4096&this.Q)},function(t){var e=0!==(4096&this.Q);if(e!==t){Vh&&Uh.i(t,"boolean",er,"isSelected");var i=this.h;if(!t||this.canSelect()&&!(null!==i&&i.selection.count>=i.zF)){this.Q^=4096;var n=!1;if(null!==i){n=i.$a,i.$a=!0;var o=i.selection;o.Na(),t?o.add(this):o.remove(this),o.freeze()}this.j("isSelected",e,t),this.ce(),t=this.qG,null!==t&&t(this),null!==i&&(i.Se(),i.$a=n)}}}),Uh.g(er,"isHighlighted",er.prototype.Ag),Uh.defineProperty(er,{Ag:"isHighlighted"},function(){return 0!==(524288&this.Q)},function(t){var e=0!==(524288&this.Q);if(e!==t){Vh&&Uh.i(t,"boolean",er,"isHighlighted"),this.Q^=524288;var i=this.h;null!==i&&(i=i.Pw,i.Na(),t?i.add(this):i.remove(this),i.freeze()),this.j("isHighlighted",e,t),this.pa()}}),Uh.g(er,"isShadowed",er.prototype.Ti),Uh.defineProperty(er,{Ti:"isShadowed"},function(){return 0!==(8192&this.Q)},function(t){var e=0!==(8192&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"isShadowed"),this.Q^=8192,this.j("isShadowed",e,t),this.pa())}),er.prototype.Ef=function(t){this.Q=t?131072|this.Q:-131073&this.Q},Uh.g(er,"isAnimated",er.prototype.mA),Uh.defineProperty(er,{mA:"isAnimated"},function(){return 0!==(262144&this.Q)},function(t){var e=0!==(262144&this.Q);e!==t&&(Vh&&Uh.i(t,"boolean",er,"isAnimated"),this.Q^=262144,this.j("isAnimated",e,t))}),Uh.g(er,"selectionObjectName",er.prototype.vx),Uh.defineProperty(er,{vx:"selectionObjectName"},function(){return this.ws},function(t){var e=this.ws;e!==t&&(Vh&&Uh.i(t,"string",er,"selectionObjectName"),this.ws=t,this.rm=null,this.j("selectionObjectName",e,t))}),Uh.g(er,"selectionAdornmentTemplate",er.prototype.pG),Uh.defineProperty(er,{pG:"selectionAdornmentTemplate"},function(){return this.us},function(t){var e=this.us;e!==t&&(Vh&&Uh.l(t,xr,er,"selectionAdornmentTemplate"),this instanceof Nr&&(t.type=pc),this.us=t,this.j("selectionAdornmentTemplate",e,t))}),Uh.A(er,{$t:"selectionObject"},function(){if(null===this.rm){var t=this.vx;null!==t&&""!==t?(t=this.pe(t),this.rm=null!==t?t:this):this instanceof Nr?(t=this.path,this.rm=null!==t?t:this):this.rm=this}return this.rm}),Uh.g(er,"selectionChanged",er.prototype.qG),Uh.defineProperty(er,{qG:"selectionChanged"},function(){return this.vs},function(t){var e=this.vs;e!==t&&(null!==t&&Uh.i(t,"function",er,"selectionChanged"),this.vs=t,this.j("selectionChanged",e,t))}),Uh.g(er,"resizeAdornmentTemplate",er.prototype.WA),Uh.defineProperty(er,{WA:"resizeAdornmentTemplate"},function(){return this.hs},function(t){var e=this.hs;e!==t&&(Vh&&Uh.l(t,xr,er,"resizeAdornmentTemplate"),this.hs=t,this.j("resizeAdornmentTemplate",e,t))}),Uh.g(er,"resizeObjectName",er.prototype.XA),Uh.defineProperty(er,{XA:"resizeObjectName"},function(){return this.ks},function(t){var e=this.ks;e!==t&&(Vh&&Uh.i(t,"string",er,"resizeObjectName"),this.ks=t,this.po=null,this.j("resizeObjectName",e,t))}),Uh.A(er,{eG:"resizeObject"},function(){if(null===this.po){var t=this.XA;null!==t&&""!==t?(t=this.pe(t),this.po=null!==t?t:this):this.po=this}return this.po}),Uh.g(er,"resizeCellSize",er.prototype.dG),Uh.defineProperty(er,{dG:"resizeCellSize"},function(){return this.js},function(t){var e=this.js;e.L(t)||(Vh&&Uh.l(t,C,er,"resizeCellSize"),this.js=t=t.ba(),this.j("resizeCellSize",e,t))}),Uh.g(er,"rotateAdornmentTemplate",er.prototype.gG),Uh.defineProperty(er,{gG:"rotateAdornmentTemplate"},function(){return this.ls},function(t){var e=this.ls;e!==t&&(Vh&&Uh.l(t,xr,er,"rotateAdornmentTemplate"),this.ls=t,this.j("rotateAdornmentTemplate",e,t))}),Uh.g(er,"rotateObjectName",er.prototype.iG),Uh.defineProperty(er,{iG:"rotateObjectName"},function(){return this.ms},function(t){var e=this.ms;e!==t&&(Vh&&Uh.i(t,"string",er,"rotateObjectName"),this.ms=t,this.qo=null,this.j("rotateObjectName",e,t))}),Uh.A(er,{hG:"rotateObject"},function(){if(null===this.qo){var t=this.iG;null!==t&&""!==t?(t=this.pe(t),this.qo=null!==t?t:this):this.qo=this}return this.qo}),Uh.g(er,"text",er.prototype.text),Uh.defineProperty(er,{text:"text"},function(){return this.ne},function(t){var e=this.ne;e!==t&&(Vh&&Uh.i(t,"string",er,"text"),this.ne=t,this.j("text",e,t))}),Uh.g(er,"containingGroup",er.prototype.Va),Uh.defineProperty(er,{Va:"containingGroup"},function(){return this.Ck},function(t){if(this.Ld()){var e=this.Ck;if(e!==t){Vh&&null!==t&&Uh.l(t,bs,er,"containingGroup"),null===t||this!==t&&!t.Uh(this)||(this===t&&Uh.m("Cannot make a Group a member of itself: "+this.toString()),Uh.m("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.K(qc);var i=this.h;if(null!==e?xs(e,this):this instanceof bs&&null!==i&&i.$k.remove(this),this.Ck=t,null!==t?ws(t,this):this instanceof bs&&null!==i&&i.$k.add(this),this.K(Hc),null!==i){var n=this.data,o=i.ga;null!==n&&o instanceof bt&&o.zx(n,o.Bb(null!==t?t.data:null))}if(n=this.Tz,null!==n&&(o=!0,null!==i&&(o=i.Pa,i.Pa=!0),n(this,e,t),null!==i&&(i.Pa=o)),this instanceof bs)for(i=new c(er),Tt(i,this,!0,0,!0),i=i.k;i.next();)if(n=i.value,n instanceof Cr)for(n=n.ue;n.next();)$r(n.value);if(this instanceof Cr)for(n=this.ue;n.next();)$r(n.value);this.j("containingGroup",e,t),null!==t&&t.Cx()}}else Uh.m("cannot set the Part.containingGroup of a Link or Adornment")}),Wh=er.prototype,Wh.rl=function(){var t=this.Va;null!==t&&(t.T(),null!==t.Tb&&t.Tb.T(),t.yf())},Wh.pa=function(){var t=this.h;null!==t&&!Yn(this)&&!fr(this)&&this.Ja()&&this.bc.J()&&t.pa(ar(this,this.bc))},Wh.ut=function(t){var e=this.Ck;null===e||t||ws(e,this)},Wh.vt=function(t){var e=this.Ck;null===e||t||xs(e,this)},Wh.Om=function(){var t=this.data;if(null!==t){var e=this.h;null!==e&&(e=e.ga,null!==e&&e.TA(t))}},Uh.g(er,"containingGroupChanged",er.prototype.Tz),Uh.defineProperty(er,{Tz:"containingGroupChanged"},function(){return this.sq},function(t){var e=this.sq;e!==t&&(null!==t&&Uh.i(t,"function",er,"containingGroupChanged"),this.sq=t,this.j("containingGroupChanged",e,t))}),er.prototype.findSubGraphLevel=function(){return vr(this,this)},er.prototype.findTopLevelPart=function(){return yr(this,this)},Uh.A(er,{Yw:"isTopLevel"},function(){return null!==this.Va||this instanceof Cr&&this.zf?!1:!0}),er.prototype.isMemberOf=er.prototype.Uh=function(t){return t instanceof bs?br(this,this,t):!1},er.prototype.findCommonContainingGroup=er.prototype.HI=function(t){if(null===t)return null;if(Vh&&Uh.l(t,er,er,"findCommonContainingGroup:other"),this===t)return this instanceof bs?this:null;for(var e=this;null!==e;)e instanceof bs&&mr(e,!0),e=e.Va;for(var i=null,e=t;null!==e;){if(0!==(1048576&e.Q)){i=e;break}e=e.Va}for(e=this;null!==e;)e instanceof bs&&mr(e,!1),e=e.Va;return i},Uh.g(er,"layoutConditions",er.prototype.sF),Uh.defineProperty(er,{sF:"layoutConditions"},function(){return this.lr},function(t){var e=this.lr;e!==t&&(Vh&&Uh.i(t,"number",er,"layoutConditions"),this.lr=t,this.j("layoutConditions",e,t))}),er.prototype.canLayout=function(){if(!this.vA||!this.Ja())return!1;var t=this.layer;return null!==t&&t.Ac||this instanceof Cr&&this.zf?!1:!0},er.prototype.invalidateLayout=er.prototype.K=function(t){void 0===t&&(t=16777215);var e;if(this.vA&&0!==(t&this.sF)?(e=this.layer,null!==e&&e.Ac||this instanceof Cr&&this.zf?e=!1:(e=this.h,e=null!==e&&e.la.Cb?!1:!0)):e=!1,e)if(e=this.Ck,null!==e){var i=e.Lb;null!==i?i.K():e.K(t)}else t=this.h,null!==t&&(i=t.Lb,null!==i&&i.K())},Uh.g(er,"dragComputation",er.prototype.Wz),Uh.defineProperty(er,{Wz:"dragComputation"},function(){return this.Cq},function(t){var e=this.Cq;e!==t&&(null!==t&&Uh.i(t,"function",er,"dragComputation"),this.Cq=t,this.j("dragComputation",e,t))}),Uh.g(er,"shadowOffset",er.prototype.vG),Uh.defineProperty(er,{vG:"shadowOffset"},function(){return this.um},function(t){var e=this.um;e.L(t)||(Vh&&Uh.l(t,b,er,"shadowOffset"),this.um=t=t.ba(),this.pa(),this.j("shadowOffset",e,t))}),Uh.g(er,"shadowColor",er.prototype.shadowColor),Uh.defineProperty(er,{shadowColor:"shadowColor"},function(){return this.tm},function(t){var e=this.tm;e!==t&&(Vh&&Uh.i(t,"string",er,"shadowColor"),this.tm=t,this.pa(),this.j("shadowColor",e,t))}),Uh.g(er,"shadowBlur",er.prototype.shadowBlur),Uh.defineProperty(er,{shadowBlur:"shadowBlur"},function(){return this.sm},function(t){var e=this.sm;e!==t&&(Vh&&Uh.i(t,"number",er,"shadowBlur"),this.sm=t,this.pa(),this.j("shadowBlur",e,t))}),Uh.Ia(xr,er),Uh.ja("Adornment",xr),xr.prototype.toString=function(){var t=this.Nh;return"Adornment("+this.Wc+")"+(null!==t?t.toString():"")},xr.prototype.updateRelationshipsFromData=function(){},xr.prototype.Et=function(){var t=this.wc.V,e=this.wc;if(t instanceof Nr&&e instanceof Fo){var i=t.path,e=i.Ta;t.Et();for(var e=i.Ta,t=this.Ga.q,i=t.length,n=0;i>n;n++){var o=t[n];o.Tf&&o instanceof Fo&&(o.Ta=e)}}},Uh.A(xr,{placeholder:"placeholder"},function(){return this.Tb}),Uh.g(xr,"adornedObject",xr.prototype.wc),Uh.defineProperty(xr,{wc:"adornedObject"},function(){return this.Jb},function(t){Vh&&null!==t&&Uh.l(t,Sn,er,"adornedObject:value");var e=this.Nh,i=null;null!==t&&(i=t.V),null===e||null!==t&&e===i||e.Bl(this.Wc),this.Jb=t,null!==i&&i.bl(this.Wc,this)}),Uh.A(xr,{Nh:"adornedPart"},function(){var t=this.Jb;return null!==t?t.V:null}),xr.prototype.tl=function(){var t=this.Jb;return null===t?!0:(t=t.V,null===t||!Yn(t))},xr.prototype.Ld=function(){return!1},Uh.A(xr,{Va:"containingGroup"},function(){return null}),xr.prototype.fn=function(t,e,i,n,o,r,s){if(t===Yl&&"elements"===e)if(o instanceof As){var a=o;null===this.Tb?this.Tb=a:this.Tb!==a&&Uh.m("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else o instanceof io&&(a=o.lt(function(t){return t instanceof As}),a instanceof As&&(null===this.Tb?this.Tb=a:this.Tb!==a&&Uh.m("Cannot insert a second Placeholder into the visual tree of an Adornment.")));else t===Jl&&"elements"===e&&null!==this.Tb&&(n===this.Tb?this.Tb=null:n instanceof io&&this.Tb.sl(n)&&(this.Tb=null));er.prototype.fn.call(this,t,e,i,n,o,r,s)},xr.prototype.updateAdornments=function(){},xr.prototype.Om=function(){},Uh.Ia(Cr,er),Uh.ja("Node",Cr),Cr.prototype.cloneProtected=function(t){er.prototype.cloneProtected.call(this,t),t.nr=this.nr,t.or=this.or,t.Pk=this.Pk,t.er=this.er,t.Qs=this.Qs,t.Ls=this.Ls,t.fr=this.fr,t.lq=this.lq,t.mq=this.mq.ba(),t.as=this.as},Cr.prototype.Qh=function(t){er.prototype.Qh.call(this,t),t.yf(),t.oh=this.oh,t.Wd=null};var Uc;Cr.DirectionDefault=Uc=Uh.w(Cr,"DirectionDefault",0),Cr.DirectionAbsolute=Uh.w(Cr,"DirectionAbsolute",1);var Kc;Cr.DirectionRotatedNode=Kc=Uh.w(Cr,"DirectionRotatedNode",2);var Yc;Cr.DirectionRotatedNodeOrthogonal=Yc=Uh.w(Cr,"DirectionRotatedNodeOrthogonal",3),Cr.SpreadingNone=Uh.w(Cr,"SpreadingNone",10);var Jc;Cr.SpreadingEvenly=Jc=Uh.w(Cr,"SpreadingEvenly",11);var Xc;Cr.SpreadingPacked=Xc=Uh.w(Cr,"SpreadingPacked",12),Cr.prototype.fn=function(t,e,i,n,o,r,s){t===Yl&&"elements"===e?this.Wd=null:t===Jl&&"elements"===e&&(null===this.h?this.Wd=null:n instanceof Sn&&ho(this,n,function(t,e){Mr(t,e,!0)})),er.prototype.fn.call(this,t,e,i,n,o,r,s)},Cr.prototype.invalidateConnectedLinks=Cr.prototype.yf=function(t){void 0===t&&(t=null);for(var e=this.ue;e.next();){var i=e.value;null!==t&&t.contains(i)||(Ar(this,i.wd),Ar(this,i.ke),i.$b())}},Cr.prototype.tl=function(){return!0},Uh.defineProperty(Cr,{GJ:"portSpreading"},function(){return this.as},function(t){var e=this.as;e!==t&&(Vh&&Uh.za(t,Cr,Cr,"portSpreading"),this.as=t,this.j("portSpreading",e,t),t=this.h,null!==t&&t.la.Cb||this.yf())}),Uh.g(Cr,"avoidable",Cr.prototype.Oz),Uh.defineProperty(Cr,{Oz:"avoidable"},function(){return this.lq},function(t){var e=this.lq;if(e!==t){Vh&&Uh.i(t,"boolean",Cr,"avoidable"),this.lq=t;var i=this.h;null!==i&&ln(i,this),this.j("avoidable",e,t)}}),Uh.g(Cr,"avoidableMargin",Cr.prototype.UD),Uh.defineProperty(Cr,{UD:"avoidableMargin"},function(){return this.mq},function(t){"number"==typeof t?t=new M(t):Uh.l(t,M,Cr,"avoidableMargin");var e=this.mq;if(!e.L(t)){this.mq=t=t.ba();var i=this.h;null!==i&&ln(i,this),this.j("avoidableMargin",e,t)}}),Cr.prototype.canAvoid=function(){return this.Oz&&!this.zf},Cr.prototype.getAvoidableRect=function(t){return t.set(this.ea),t.ew(this.UD),t},Cr.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.Ja();)t=t.Va;return t},Cr.prototype.Qe=function(t){er.prototype.Qe.call(this,t);for(var e=this.ue;e.next();)e.value.Qe(t)},Uh.A(Cr,{ue:"linksConnected"},function(){return this.kc.k}),Cr.prototype.findLinksConnected=Cr.prototype.FE=function(t){if(void 0===t&&(t=null),null===t)return this.kc.k;Vh&&Uh.i(t,"string",Cr,"findLinksConnected:pid");var e=new a(this.kc),i=this;return e.yl=function(e){return e.Z===i&&e.Rf===t||e.da===i&&e.Og===t},e},Cr.prototype.findLinksOutOf=Cr.prototype.Gw=function(t){void 0===t&&(t=null),Vh&&null!==t&&Uh.i(t,"string",Cr,"findLinksOutOf:pid");var e=new a(this.kc),i=this;return e.yl=function(e){return e.Z!==i?!1:null===t?!0:e.Rf===t},e},Cr.prototype.findLinksInto=Cr.prototype.wg=function(t){void 0===t&&(t=null),Vh&&null!==t&&Uh.i(t,"string",Cr,"findLinksInto:pid");var e=new a(this.kc),i=this;return e.yl=function(e){return e.da!==i?!1:null===t?!0:e.Og===t},e},Cr.prototype.findNodesConnected=Cr.prototype.GE=function(t){void 0===t&&(t=null),Vh&&null!==t&&Uh.i(t,"string",Cr,"findNodesConnected:pid");for(var e=null,i=null,n=this.kc.k;n.next();){var o=n.value;o.Z===this?(null===t||o.Rf===t)&&(o=o.da,null!==e?e.add(o):null!==i&&i!==o?(e=new c(Cr),e.add(i),e.add(o)):i=o):o.da!==this||null!==t&&o.Og!==t||(o=o.Z,null!==e?e.add(o):null!==i&&i!==o?(e=new c(Cr),e.add(i),e.add(o)):i=o)}return null!==e?e.k:null!==i?new s(i):Yh},Cr.prototype.findNodesOutOf=function(t){void 0===t&&(t=null),Vh&&null!==t&&Uh.i(t,"string",Cr,"findNodesOutOf:pid");for(var e=null,i=null,n=this.kc.k;n.next();){var o=n.value;o.Z!==this||null!==t&&o.Rf!==t||(o=o.da,null!==e?e.add(o):null!==i&&i!==o?(e=new c(Cr),e.add(i),e.add(o)):i=o)}return null!==e?e.k:null!==i?new s(i):Yh},Cr.prototype.findNodesInto=function(t){void 0===t&&(t=null),Vh&&null!==t&&Uh.i(t,"string",Cr,"findNodesInto:pid");for(var e=null,i=null,n=this.kc.k;n.next();){var o=n.value;o.da!==this||null!==t&&o.Og!==t||(o=o.Z,null!==e?e.add(o):null!==i&&i!==o?(e=new c(Cr),e.add(i),e.add(o)):i=o)}return null!==e?e.k:null!==i?new s(i):Yh},Cr.prototype.findLinksBetween=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),Vh&&(Uh.l(t,Cr,Cr,"findLinksBetween:othernode"),null!==e&&Uh.i(e,"string",Cr,"findLinksBetween:pid"),null!==i&&Uh.i(i,"string",Cr,"findLinksBetween:otherpid"));var n=new a(this.kc),o=this;return n.yl=function(n){return(n.Z!==o||n.da!==t||null!==e&&n.Rf!==e||null!==i&&n.Og!==i)&&(n.Z!==t||n.da!==o||null!==i&&n.Rf!==i||null!==e&&n.Og!==e)?!1:!0},n},Cr.prototype.findLinksTo=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),Vh&&(Uh.l(t,Cr,Cr,"findLinksTo:othernode"),null!==e&&Uh.i(e,"string",Cr,"findLinksTo:pid"),null!==i&&Uh.i(i,"string",Cr,"findLinksTo:otherpid"));var n=new a(this.kc),o=this;return n.yl=function(n){return n.Z!==o||n.da!==t||null!==e&&n.Rf!==e||null!==i&&n.Og===i?!1:!0},n},Uh.g(Cr,"linkConnected",Cr.prototype.tF),Uh.defineProperty(Cr,{tF:"linkConnected"},function(){return this.nr},function(t){var e=this.nr;e!==t&&(null!==t&&Uh.i(t,"function",Cr,"linkConnected"),this.nr=t,this.j("linkConnected",e,t))}),Uh.g(Cr,"linkDisconnected",Cr.prototype.uF),Uh.defineProperty(Cr,{uF:"linkDisconnected"},function(){return this.or},function(t){var e=this.or;e!==t&&(null!==t&&Uh.i(t,"function",Cr,"linkDisconnected"),this.or=t,this.j("linkDisconnected",e,t))}),Uh.g(Cr,"linkValidation",Cr.prototype.vp),Uh.defineProperty(Cr,{vp:"linkValidation"},function(){return this.Pk},function(t){var e=this.Pk;e!==t&&(null!==t&&Uh.i(t,"function",Cr,"linkValidation"),this.Pk=t,this.j("linkValidation",e,t))}),Cr.prototype.updateRelationshipsFromData=function(){er.prototype.updateRelationshipsFromData.call(this);var t=this.data;if(null!==t){var e=this.h;if(null!==e){var i=e.ga;if(i instanceof xt){var n=i.Vm(t),e=e.cf(n),o=this.Rm();e!==o&&(e=null!==o?i.Bb(o.data):void 0,o=i.en,"function"==typeof o?o(t,e):t[o]=e,i.kh(t,n))}}}},Cr.prototype.ut=function(t){er.prototype.ut.call(this,t),t||Er(this);var e=this.ho;null===e||t||Or(e,this)},Cr.prototype.vt=function(t){er.prototype.vt.call(this,t);var e=this.ho;null===e||t||null===e.ze||(e.ze.remove(this),e.T())},Cr.prototype.Om=function(){if(0<this.kc.count){var t=this.h;if(null===t)return;for(var e=this.kc.copy().k;e.next();)t.remove(e.value)}this.Nd=null,er.prototype.Om.call(this)},Uh.A(Cr,{zf:"isLinkLabel"},function(){return null!==this.ho}),Uh.g(Cr,"labeledLink",Cr.prototype.Nd),Uh.defineProperty(Cr,{Nd:"labeledLink"},function(){return this.ho},function(t){var e=this.ho;if(e!==t){Vh&&null!==t&&Uh.l(t,Nr,Cr,"labeledLink");var i=this.h,n=this.data;if(null!==e&&(null!==e.ze&&(e.ze.remove(this),e.T()),null!==i&&null!==n&&!i.la.Cb)){var o=e.data,r=i.ga;if(null!==o&&r instanceof bt){var s=r.Bb(n);void 0!==s&&r.XF(o,s)}}this.ho=t,null!==t&&(Or(t,this),null===i||null===n||i.la.Cb||(o=t.data,r=i.ga,null!==o&&r instanceof bt&&(s=r.Bb(n),void 0!==s&&r.Hz(o,s)))),In(this),this.j("labeledLink",e,t)}}),Cr.prototype.findPort=Cr.prototype.ll=function(t){if(Vh&&Uh.i(t,"string",Cr,"findPort:pid"),null===this.Wd){if(""===t&&!1===this.yh)return this;Tr(this)}var e=this.Wd.Aa(t);return null!==e||""!==t&&(e=this.Wd.Aa(""),null!==e)?e:this},Uh.A(Cr,{port:"port"},function(){return this.ll("")}),Uh.A(Cr,{ports:"ports"},function(){return null===this.Wd&&Tr(this),this.Wd.pF}),Cr.prototype.isInTreeOf=function(t){if(null===t||t===this)return!1;var e=!0,i=this.h;if(null!==i&&(e=i.ld),i=this,e)for(;i!==t;){for(var e=null,n=i.kc.k;n.next();){var o=n.value;if(o.Bc&&(e=o.Z,e!==i&&e!==this))break}if(e===this||null===e||e===i)return!1;i=e}else for(;i!==t;){for(e=null,n=i.kc.k;n.next()&&(o=n.value,!o.Bc||(e=o.da,e===i||e===this)););if(e===this||null===e||e===i)return!1;i=e}return!0},Cr.prototype.findTreeRoot=function(){var t=!0,e=this.h;if(null!==e&&(t=e.ld),e=this,t)for(;;){for(var t=null,i=e.kc.k;i.next();){var n=i.value;if(n.Bc&&(t=n.Z,t!==e&&t!==this))break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,i=e.kc.k;i.next()&&(n=i.value,!n.Bc||(t=n.da,t===e||t===this)););if(t===this)return this;if(null===t||t===e)return e;e=t}},Cr.prototype.findCommonTreeParent=function(t){if(null===t)return null;if(Vh&&Uh.l(t,Cr,Cr,"findCommonTreeParent:other"),this===t)return this;for(var e=this;null!==e;)mr(e,!0),e=e.Rm();for(var i=null,e=t;null!==e;){if(0!==(1048576&e.Q)){i=e;break}e=e.Rm()}for(e=this;null!==e;)mr(e,!1),e=e.Rm();return i},Cr.prototype.findTreeParentLink=Cr.prototype.pt=function(){
var t=!0,e=this.h;if(null!==e&&(t=e.ld),e=this.kc.k,t){for(;e.next();)if(t=e.value,t.Bc&&t.Z!==this)return t}else for(;e.next();)if(t=e.value,t.Bc&&t.da!==this)return t;return null},Cr.prototype.findTreeParentNode=Cr.prototype.Rm=function(){var t=this.Oj;if(null===t)return null;if(t instanceof Cr)return t;var e=!0,t=this.h;if(null!==t&&(e=t.ld),t=this.kc.k,e){for(;t.next();)if(e=t.value,e.Bc&&(e=e.Z,e!==this))return this.Oj=e}else for(;t.next();)if(e=t.value,e.Bc&&(e=e.da,e!==this))return this.Oj=e;return this.Oj=null},Cr.prototype.findTreeLevel=function(){return Dr(this,this)},Cr.prototype.findTreeChildrenLinks=Cr.prototype.Iw=function(){var t=!0,e=this.h;if(null!==e&&(t=e.ld),t){var t=new a(this.kc),i=this;t.yl=function(t){return t.Bc&&t.Z===i?!0:!1}}else t=new a(this.kc),i=this,t.yl=function(t){return t.Bc&&t.da===i?!0:!1};return t},Cr.prototype.findTreeChildrenNodes=Cr.prototype.IE=function(){var t=!0,e=this.h;null!==e&&(t=e.ld);var i=e=null,n=this.kc.k;if(t)for(;n.next();)t=n.value,t.Bc&&t.Z===this&&(t=t.da,null!==e?e.add(t):null!==i&&i!==t?(e=new l(Cr),e.add(i),e.add(t)):i=t);else for(;n.next();)t=n.value,t.Bc&&t.da===this&&(t=t.Z,null!==e?e.add(t):null!==i&&i!==t?(e=new l(Cr),e.add(i),e.add(t)):i=t);return null!==e?e.k:null!==i?new s(i):Yh},Cr.prototype.findTreeParts=function(t){void 0===t&&(t=1/0),Uh.i(t,"number",Cr,"collapseTree:level");var e=new c(er);return Tt(e,this,!1,t,!0),e},Cr.prototype.collapseTree=Cr.prototype.collapseTree=function(t){void 0===t&&(t=1),Uh.p(t,Cr,"collapseTree:level"),1>t&&(t=1);var e=this.h;if(null!==e&&!e.de){var i=e.Pb;0!==e.la.Ve&&i.zl(),e.de=!0;var i=e.ld,n=new c(Cr);n.add(this),Pr(this,n,i,t,this.Pc),e.de=!1}},Cr.prototype.expandTree=Cr.prototype.expandTree=function(t){void 0===t&&(t=2),Uh.p(t,Cr,"expandTree:level"),2>t&&(t=2);var e=this.h;if(null!==e&&!e.de){var i=e.Pb;0!==e.la.Ve&&i.zl(),e.de=!0;var n=e.ld,o=new c(Cr);o.add(this),Br(this,o,n,t,this.Pc,i,this),e.de=!1}},Uh.g(Cr,"isTreeExpanded",Cr.prototype.Pc),Uh.defineProperty(Cr,{Pc:"isTreeExpanded"},function(){return this.er},function(t){var e=this.er;if(e!==t){Vh&&Uh.i(t,"boolean",Cr,"isTreeExpanded"),this.er=t;var i=this.h;if(this.j("isTreeExpanded",e,t),e=this.SG,null!==e){var n=!0;null!==i&&(n=i.Pa,i.Pa=!0),e(this),null!==i&&(i.Pa=n)}t?null===i||i.de||(0!==i.la.Ve&&i.Pb.zl(),i.de=!0,t=i.ld,e=new c(Cr),e.add(this),Br(this,e,t,2,!1,i.Pb,this),i.de=!1):null===i||i.de||(0!==i.la.Ve&&i.Pb.zl(),i.de=!0,t=i.ld,e=new c(Cr),e.add(this),Lr(this,e,t,!0),i.de=!1)}}),Uh.g(Cr,"wasTreeExpanded",Cr.prototype.mn),Uh.defineProperty(Cr,{mn:"wasTreeExpanded"},function(){return this.Qs},function(t){var e=this.Qs;e!==t&&(Vh&&Uh.i(t,"boolean",Cr,"wasTreeExpanded"),this.Qs=t,this.j("wasTreeExpanded",e,t))}),Uh.g(Cr,"treeExpandedChanged",Cr.prototype.SG),Uh.defineProperty(Cr,{SG:"treeExpandedChanged"},function(){return this.Ls},function(t){var e=this.Ls;e!==t&&(null!==t&&Uh.i(t,"function",Cr,"treeExpandedChanged"),this.Ls=t,this.j("treeExpandedChanged",e,t))}),Uh.g(Cr,"isTreeLeaf",Cr.prototype.Vh),Uh.defineProperty(Cr,{Vh:"isTreeLeaf"},function(){return this.fr},function(t){var e=this.fr;e!==t&&(Vh&&Uh.i(t,"boolean",Cr,"isTreeLeaf"),this.fr=t,this.j("isTreeLeaf",e,t))}),Uh.Ia(Nr,er),Uh.ja("Link",Nr),Nr.prototype.cloneProtected=function(t){er.prototype.cloneProtected.call(this,t),t.xh=this.xh,t.Kq=this.Kq,t.Lh=this.Lh,t.Ks=this.Ks,t.es=this.es,t.fs=this.fs,t.gs=this.gs,t.gr=this.gr,t.gq=this.gq,t.tq=this.tq,t.wq=this.wq,t.xq=this.xq,t.nm=this.nm,t.Bs=this.Bs,t.S=null!==this.S?this.S.copy():null},Nr.prototype.Qh=function(t){er.prototype.Qh.call(this,t),this.xh=t.xh,this.Lh=t.Lh,t.Ae=null,t.$b(),t.yn=this.yn,t.of=this.of};var Qc;Nr.Normal=Qc=Uh.w(Nr,"Normal",1),Nr.Orthogonal=Uh.w(Nr,"Orthogonal",2),Nr.AvoidsNodes=Uh.w(Nr,"AvoidsNodes",6);var Zc;Nr.AvoidsNodesStraight=Zc=Uh.w(Nr,"AvoidsNodesStraight",7);var tf;Nr.None=tf=Uh.w(Nr,"None",0);var ef;Nr.Bezier=ef=Uh.w(Nr,"Bezier",9);var nf;Nr.JumpGap=nf=Uh.w(Nr,"JumpGap",10);var of;Nr.JumpOver=of=Uh.w(Nr,"JumpOver",11);var rf;Nr.End=rf=Uh.w(Nr,"End",17);var sf;Nr.Scale=sf=Uh.w(Nr,"Scale",18);var af;Nr.Stretch=af=Uh.w(Nr,"Stretch",19);var hf;Nr.OrientAlong=hf=Uh.w(Nr,"OrientAlong",21);var lf;Nr.OrientPlus90=lf=Uh.w(Nr,"OrientPlus90",22);var uf;Nr.OrientMinus90=uf=Uh.w(Nr,"OrientMinus90",23);var cf;Nr.OrientOpposite=cf=Uh.w(Nr,"OrientOpposite",24);var ff;Nr.OrientUpright=ff=Uh.w(Nr,"OrientUpright",25);var df;Nr.OrientPlus90Upright=df=Uh.w(Nr,"OrientPlus90Upright",26);var pf;Nr.OrientMinus90Upright=pf=Uh.w(Nr,"OrientMinus90Upright",27);var gf;Nr.OrientUpright45=gf=Uh.w(Nr,"OrientUpright45",28),Nr.prototype.Oe=function(){this.S=new ys},Nr.prototype.tl=function(){var t=this.Z;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),Yn(t)||fr(t))return!1}return t=this.da,null!==t&&(e=t.findVisibleNode(),null!==e&&(t=e),Yn(t)||fr(t))?!1:!0},Nr.prototype.hB=function(){return!1},Nr.prototype.Ld=function(){return!1},Nr.prototype.computeAngle=function(t,e,i){switch(t=0,e){default:case tf:t=0;break;case hf:t=i;break;case lf:t=i+90;break;case uf:t=i-90;break;case cf:t=i+180;break;case ff:t=Bl.Mt(i),t>90&&270>t&&(t-=180);break;case df:t=Bl.Mt(i+90),t>90&&270>t&&(t-=180);break;case pf:t=Bl.Mt(i-90),t>90&&270>t&&(t-=180);break;case gf:if(t=Bl.Mt(i),t>45&&135>t||t>225&&315>t)return 0;t>90&&270>t&&(t-=180)}return Bl.Mt(t)},Uh.g(Nr,"fromNode",Nr.prototype.Z),Uh.defineProperty(Nr,{Z:"fromNode"},function(){return this.eg},function(t){var e=this.eg;if(e!==t){Vh&&null!==t&&Uh.l(t,Cr,Nr,"fromNode");var i=this.wd;null!==e&&(this.pg!==e&&Fr(e,this,i),os(this),this.K(qc)),this.eg=t,this.li=null,this.$b();var n=this.h;if(null!==n){var o=this.data,r=n.ga;if(null!==o)if(r instanceof bt){var s=null!==t?t.data:null;r.yx(o,r.Bb(s))}else r instanceof xt&&(s=null!==t?t.data:null,n.ld?r.kh(o,r.Bb(s)):(null!==e&&r.kh(e.data,void 0),r.kh(s,r.Bb(null!==this.pg?this.pg.data:null))))}o=this.wd,r=this.aA,null!==r&&(s=!0,null!==n&&(s=n.Pa,n.Pa=!0),r(this,i,o),null!==n&&(n.Pa=s)),null!==t&&(this.pg!==t&&Sr(t,this,o),ns(this),this.K(Hc)),this.j("fromNode",e,t),$r(this)}}),Uh.g(Nr,"fromPortId",Nr.prototype.Rf),Uh.defineProperty(Nr,{Rf:"fromPortId"},function(){return this.xh},function(t){var e=this.xh;if(e!==t){Vh&&Uh.i(t,"string",Nr,"fromPortId");var i=this.wd;null!==i&&Ar(this.Z,i),os(this),this.xh=t;var n=this.wd;null!==n&&Ar(this.Z,n);var o=this.h;if(null!==o){var r=this.data,s=o.ga;null!==r&&s instanceof bt&&s.eB(r,t)}i!==n&&(this.li=null,this.$b(),r=this.aA,null!==r&&(s=!0,null!==o&&(s=o.Pa,o.Pa=!0),r(this,i,n),null!==o&&(o.Pa=s))),ns(this),this.j("fromPortId",e,t)}}),Uh.A(Nr,{wd:"fromPort"},function(){var t=this.eg;return null===t?null:t.ll(this.xh)}),Uh.g(Nr,"fromPortChanged",Nr.prototype.aA),Uh.defineProperty(Nr,{aA:"fromPortChanged"},function(){return this.Kq},function(t){var e=this.Kq;e!==t&&(null!==t&&Uh.i(t,"function",Nr,"fromPortChanged"),this.Kq=t,this.j("fromPortChanged",e,t))}),Uh.g(Nr,"toNode",Nr.prototype.da),Uh.defineProperty(Nr,{da:"toNode"},function(){return this.pg},function(t){var e=this.pg;if(e!==t){Vh&&null!==t&&Uh.l(t,Cr,Nr,"toNode");var i=this.ke;null!==e&&(this.eg!==e&&Fr(e,this,i),os(this),this.K(qc)),this.pg=t,this.li=null,this.$b();var n=this.h;if(null!==n){var o=this.data,r=n.ga;if(null!==o)if(r instanceof bt){var s=null!==t?t.data:null;r.Ax(o,r.Bb(s))}else r instanceof xt&&(s=null!==t?t.data:null,n.ld?(null!==e&&r.kh(e.data,void 0),r.kh(s,r.Bb(null!==this.eg?this.eg.data:null))):r.kh(o,r.Bb(s)))}o=this.ke,r=this.pB,null!==r&&(s=!0,null!==n&&(s=n.Pa,n.Pa=!0),r(this,i,o),null!==n&&(n.Pa=s)),null!==t&&(this.eg!==t&&Sr(t,this,o),ns(this),this.K(Hc)),this.j("toNode",e,t),$r(this)}}),Uh.g(Nr,"toPortId",Nr.prototype.Og),Uh.defineProperty(Nr,{Og:"toPortId"},function(){return this.Lh},function(t){var e=this.Lh;if(e!==t){Vh&&Uh.i(t,"string",Nr,"toPortId");var i=this.ke;null!==i&&Ar(this.da,i),os(this),this.Lh=t;var n=this.ke;null!==n&&Ar(this.da,n);var o=this.h;if(null!==o){var r=this.data,s=o.ga;null!==r&&s instanceof bt&&s.iB(r,t)}i!==n&&(this.li=null,this.$b(),r=this.pB,null!==r&&(s=!0,null!==o&&(s=o.Pa,o.Pa=!0),r(this,i,n),null!==o&&(o.Pa=s))),ns(this),this.j("toPortId",e,t)}}),Uh.A(Nr,{ke:"toPort"},function(){var t=this.pg;return null===t?null:t.ll(this.Lh)}),Uh.g(Nr,"toPortChanged",Nr.prototype.pB),Uh.defineProperty(Nr,{pB:"toPortChanged"},function(){return this.Ks},function(t){var e=this.Ks;e!==t&&(null!==t&&Uh.i(t,"function",Nr,"toPortChanged"),this.Ks=t,this.j("toPortChanged",e,t))}),Uh.defineProperty(Nr,{vb:"fromSpot"},function(){return null!==this.S?this.S.mj:il},function(t){null===this.S&&this.Oe();var e=this.S.mj;e.L(t)||(Vh&&Uh.l(t,P,Nr,"fromSpot"),t=t.ba(),this.S.mj=t,this.j("fromSpot",e,t),this.$b())}),Uh.defineProperty(Nr,{ek:"fromEndSegmentLength"},function(){return null!==this.S?this.S.kj:NaN},function(t){null===this.S&&this.Oe();var e=this.S.kj;e!==t&&(Vh&&Uh.i(t,"number",Nr,"fromEndSegmentLength"),0>t&&Uh.ka(t,">= 0",Nr,"fromEndSegmentLength"),this.S.kj=t,this.j("fromEndSegmentLength",e,t),this.$b())}),Uh.defineProperty(Nr,{ap:"fromEndSegmentDirection"},function(){return null!==this.S?this.S.jj:Uc},function(t){null===this.S&&this.Oe();var e=this.S.jj;e!==t&&(Vh&&Uh.za(t,Cr,Nr,"fromEndSegmentDirection"),this.S.jj=t,this.j("fromEndSegmentDirection",e,t),this.$b())}),Uh.defineProperty(Nr,{bp:"fromShortLength"},function(){return null!==this.S?this.S.lj:NaN},function(t){null===this.S&&this.Oe();var e=this.S.lj;e!==t&&(Vh&&Uh.i(t,"number",Nr,"fromShortLength"),this.S.lj=t,this.j("fromShortLength",e,t),this.$b())}),Uh.defineProperty(Nr,{xb:"toSpot"},function(){return null!==this.S?this.S.Nj:il},function(t){null===this.S&&this.Oe();var e=this.S.Nj;e.L(t)||(Vh&&Uh.l(t,P,Nr,"toSpot"),t=t.ba(),this.S.Nj=t,this.j("toSpot",e,t),this.$b())}),Uh.defineProperty(Nr,{mk:"toEndSegmentLength"},function(){return null!==this.S?this.S.Lj:NaN},function(t){null===this.S&&this.Oe();var e=this.S.Lj;e!==t&&(Vh&&Uh.i(t,"number",Nr,"toEndSegmentLength"),0>t&&Uh.ka(t,">= 0",Nr,"toEndSegmentLength"),this.S.Lj=t,this.j("toEndSegmentLength",e,t),this.$b())}),Uh.defineProperty(Nr,{Xp:"toEndSegmentDirection"},function(){return null!==this.S?this.S.Kj:Uc},function(t){null===this.S&&this.Oe();var e=this.S.Kj;e!==t&&(Vh&&Uh.za(t,Cr,Nr,"toEndSegmentDirection"),this.S.Kj=t,this.j("toEndSegmentDirection",e,t),this.$b())}),Uh.defineProperty(Nr,{Zp:"toShortLength"},function(){return null!==this.S?this.S.Mj:NaN},function(t){null===this.S&&this.Oe();var e=this.S.Mj;e!==t&&(Vh&&Uh.i(t,"number",Nr,"toShortLength"),this.S.Mj=t,this.j("toShortLength",e,t),this.$b())}),Nr.prototype.rl=function(){var t=this.Va;null!==t&&this.Z!==t&&this.da!==t&&er.prototype.rl.call(this)},Nr.prototype.getOtherNode=Nr.prototype.eA=function(t){Vh&&Uh.l(t,Cr,Nr,"getOtherNode:node");var e=this.Z;return t===e?this.da:e},Nr.prototype.getOtherPort=function(t){Vh&&Uh.l(t,Sn,Nr,"getOtherPort:port");var e=this.wd;return t===e?this.ke:e},Uh.A(Nr,{BK:"isLabeledLink"},function(){return null===this.ze?!1:0<this.ze.count}),Uh.A(Nr,{Bg:"labelNodes"},function(){return null===this.ze?Yh:this.ze.k}),Nr.prototype.ut=function(t){if(er.prototype.ut.call(this,t),Zr(this)&&es(this,this.ea),!t){t=this.eg;var e=this.pg;null!==t&&(Sr(t,this,this.wd),ns(this)),null!==e&&(Sr(e,this,this.ke),ns(this))}},Nr.prototype.vt=function(t){if(er.prototype.vt.call(this,t),Zr(this)&&es(this,this.ea),!t){t=this.eg;var e=this.pg;null!==t&&(Fr(t,this,this.wd),os(this)),null!==e&&(Fr(e,this,this.ke),os(this))}},Nr.prototype.Om=function(){if(this.qg=!0,null!==this.ze){var t=this.h;if(null===t)return;for(var e=this.ze.copy().k;e.next();)t.remove(e.value)}e=this.data,null!==e&&(t=this.h,null!==t&&(t=t.ga,t instanceof bt?t.SA(e):t instanceof xt&&t.kh(e,void 0)))},Nr.prototype.updateRelationshipsFromData=function(){var t=this.data;if(null!==t){var e=this.h;if(null!==e){var i=e.ga;if(i instanceof bt){var n=i.nl(t),o=e.cf(n),r=this.Z;o!==r&&(o=null!==r?i.Bb(r.data):void 0,r=i.$m,"function"==typeof r?r(t,o):t[r]=o,i.yx(t,n)),n=i.ql(t),o=e.cf(n),r=this.da,o!==r&&(o=null!==r?i.Bb(r.data):void 0,r=i.an,"function"==typeof r?r(t,o):t[r]=o,i.Ax(t,n));var s=i.fk(t);if(0<s.length||0<this.Bg.count){if(1===s.length&&1===this.Bg.count&&(e=s[0],n=this.Bg.first(),i.Bb(n.data)===e))return;var n=(new c).Ce(s),a=new c;this.Bg.each(function(t){null!==t.data&&(t=i.Bb(t.data),void 0!==t&&a.add(t))}),e=a.copy(),e.UF(n),n=n.copy(),n.UF(a),(0<e.count||0<n.count)&&(s.length=0,a.each(function(t){s.push(t)}),e.each(function(e){i.XF(t,e)}),n.each(function(e){i.Hz(t,e)}))}}}}},Nr.prototype.move=Nr.prototype.move=function(t){var e=this.position,i=e.x;for(isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0),i=t.x-i,e=t.y-e,er.prototype.move.call(this,t),this.wl(i,e),t=this.Bg;t.next();){var n=t.value,o=n.position;n.moveTo(o.x+i,o.y+e)}},Uh.g(Nr,"relinkableFrom",Nr.prototype.SF),Uh.defineProperty(Nr,{SF:"relinkableFrom"},function(){return this.es},function(t){var e=this.es;e!==t&&(Vh&&Uh.i(t,"boolean",Nr,"relinkableFrom"),this.es=t,this.j("relinkableFrom",e,t),this.ce())}),Uh.g(Nr,"relinkableTo",Nr.prototype.TF),Uh.defineProperty(Nr,{TF:"relinkableTo"},function(){return this.fs},function(t){var e=this.fs;e!==t&&(Vh&&Uh.i(t,"boolean",Nr,"relinkableTo"),this.fs=t,this.j("relinkableTo",e,t),this.ce())}),Nr.prototype.canRelinkFrom=function(){if(!this.SF)return!1;var t=this.layer;return null===t?!0:t.Sj?(t=t.h,null===t||t.Sj?!0:!1):!1},Nr.prototype.canRelinkTo=function(){if(!this.TF)return!1;var t=this.layer;return null===t?!0:t.Sj?(t=t.h,null===t||t.Sj?!0:!1):!1},Uh.g(Nr,"resegmentable",Nr.prototype.Jp),Uh.defineProperty(Nr,{Jp:"resegmentable"},function(){return this.gs},function(t){var e=this.gs;e!==t&&(Vh&&Uh.i(t,"boolean",Nr,"resegmentable"),this.gs=t,this.j("resegmentable",e,t),this.ce())}),Uh.g(Nr,"isTreeLink",Nr.prototype.Bc),Uh.defineProperty(Nr,{Bc:"isTreeLink"},function(){return this.gr},function(t){var e=this.gr;e!==t&&(Vh&&Uh.i(t,"boolean",Nr,"isTreeLink"),this.gr=t,this.j("isTreeLink",e,t),null!==this.Z&&Er(this.Z),null!==this.da&&Er(this.da))}),Uh.A(Nr,{path:"path"},function(){var t=this.Qf();return t instanceof Fo?t:null}),Uh.A(Nr,{gn:"routeBounds"},function(){this.updateRoute();var t=new k,e=1/0,i=1/0,n=this.oa;if(0===n)t.o(NaN,NaN,0,0);else{if(1===n)n=this.n(0),e=Math.min(n.x,e),i=Math.min(n.y,i),t.o(n.x,n.y,0,0);else if(2===n){var o=this.n(0),r=this.n(1),e=Math.min(o.x,r.x),i=Math.min(o.y,r.y);t.o(o.x,o.y,0,0),t.Zi(r)}else if(this.computeCurve()===ef&&n>=3&&!this.gc)if(o=this.n(0),e=o.x,i=o.y,t.o(e,i,0,0),3===n)n=this.n(1),e=Math.min(n.x,e),i=Math.min(n.y,i),r=this.n(2),e=Math.min(r.x,e),i=Math.min(r.y,i),Bl.Lo(o.x,o.y,n.x,n.y,n.x,n.y,r.x,r.y,.5,t);else for(var s=3;n>s;s+=3){var a=this.n(s-2);s+3>=n&&(s=n-1);var h=this.n(s-1),r=this.n(s);Bl.Lo(o.x,o.y,a.x,a.y,h.x,h.y,r.x,r.y,.5,t),e=Math.min(r.x,e),i=Math.min(r.y,i),o=r}else for(o=this.n(0),r=this.n(1),e=Math.min(o.x,r.x),i=Math.min(o.y,r.y),t.o(o.x,o.y,0,0),t.Zi(r),s=2;n>s;s++)o=this.n(s),e=Math.min(o.x,e),i=Math.min(o.y,i),t.Zi(o);this.uz.o(e-t.x,i-t.y)}return this.gz=t}),Uh.A(Nr,{DF:"midPoint"},function(){return this.updateRoute(),this.computeMidPoint(new b)}),Nr.prototype.computeMidPoint=function(t){var e=this.oa;if(0===e)return t.assign(Bl.dH),t;if(1===e)return t.assign(this.n(0)),t;if(2===e){var i=this.n(0),n=this.n(1);return t.o((i.x+n.x)/2,(i.y+n.y)/2),t}if(this.computeCurve()===ef&&e>=3&&!this.gc){if(3===e)return this.n(1);var e=(e-1)/3|0,o=3*(e/2|0);return 1===e%2?(i=this.n(o),n=this.n(o+1),e=this.n(o+2),o=this.n(o+3),Bl.dI(i.x,i.y,n.x,n.y,e.x,e.y,o.x,o.y,t)):t.assign(this.n(o)),t}for(var o=0,r=Uh.lb(),s=0;e-1>s;s++)i=0,i=this.n(s),n=this.n(s+1),Bl.rb(i.x,n.x)?(i=n.y-i.y,0>i&&(i=-i)):Bl.rb(i.y,n.y)?(i=n.x-i.x,0>i&&(i=-i)):i=Math.sqrt(i.Zj(n)),r.push(i),o+=i;for(n=s=i=0;o/2>i&&e>s&&(n=r[s],!(i+n>o/2));)i+=n,s++;return Uh.xa(r),e=this.n(s),r=this.n(s+1),e.x===r.x?e.y>r.y?t.o(e.x,e.y-(o/2-i)):t.o(e.x,e.y+(o/2-i)):e.y===r.y?e.x>r.x?t.o(e.x-(o/2-i),e.y):t.o(e.x+(o/2-i),e.y):(o=(o/2-i)/n,t.o(e.x+o*(r.x-e.x),e.y+o*(r.y-e.y))),t},Uh.A(Nr,{CF:"midAngle"},function(){return this.updateRoute(),this.computeMidAngle()}),Nr.prototype.computeMidAngle=function(){var t=this.oa;if(2>t)return NaN;if(this.computeCurve()===ef&&t>=4&&!this.gc){var e=(t-1)/3|0,i=3*(e/2|0);if(1===e%2){var i=Math.floor(i),t=this.n(i),e=this.n(i+1),n=this.n(i+2),i=this.n(i+3);return Bl.cI(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)}if(i>0&&t>i+1)return t=this.n(i-1),e=this.n(i+1),t.Pi(e)}if(n=t/2|0,0===t%2)return t=this.n(n-1),e=this.n(n),t.Pi(e);var t=this.n(n-1),e=this.n(n),n=this.n(n+1),i=t.Zj(e),o=e.Zj(n);return i>o?t.Pi(e):e.Pi(n)},Uh.g(Nr,"points",Nr.prototype.points),Uh.defineProperty(Nr,{points:"points"},function(){return this.Uc},function(t){var e=this.Uc;if(e!==t){var i=null;if(Array.isArray(t)){var n=0===t.length%2;if(n)for(var o=0;o<t.length;o++)if("number"!=typeof t[o]||isNaN(t[o])){n=!1;break}if(n)for(i=new l(b),n=0;n<t.length/2;n++)o=new b(t[2*n],t[2*n+1]).freeze(),i.add(o);else{for(var r=!0,n=0;n<t.length;n++)if(o=t[n],!Uh.Xa(o)||"number"!=typeof o.x||isNaN(o.x)||"number"!=typeof o.y||isNaN(o.y)){r=!1;break}if(r)for(i=new l(b),n=0;n<t.length;n++)o=t[n],i.add(new b(o.x,o.y).freeze());else Uh.m("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+t)}}else if(t instanceof l)for(i=t.copy(),t=i.k;t.next();)t.value.freeze();else Uh.m("Link.points value is not an instance of List or Array: "+t);i.freeze(),this.Uc=i,this.re(),jr(this),this.h&&this.h.Pb.qd&&(this.ro=i),this.j("points",e,i)}}),Uh.A(Nr,{oa:"pointsCount"},function(){return this.Uc.count}),Nr.prototype.getPoint=Nr.prototype.n=function(t){return this.Uc.q[t]},Nr.prototype.setPoint=Nr.prototype.Ff=function(t,e){Vh&&(Uh.l(e,b,Nr,"setPoint"),e.J()||Uh.m("Link.setPoint called with a Point that does not have real numbers: "+e.toString())),null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.Mg(t,e)},Nr.prototype.setPointAt=Nr.prototype.aa=function(t,e,i){Vh&&(Uh.p(e,Nr,"setPointAt:x"),Uh.p(i,Nr,"setPointAt:y")),null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.Mg(t,new b(e,i))},Nr.prototype.insertPoint=function(t,e){Vh&&(Uh.l(e,b,Nr,"insertPoint"),e.J()||Uh.m("Link.insertPoint called with a Point that does not have real numbers: "+e.toString())),null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.be(t,e)},Nr.prototype.insertPointAt=Nr.prototype.C=function(t,e,i){Vh&&(Uh.p(e,Nr,"insertPointAt:x"),Uh.p(i,Nr,"insertPointAt:y")),null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.be(t,new b(e,i))},Nr.prototype.addPoint=Nr.prototype.Mh=function(t){Vh&&(Uh.l(t,b,Nr,"addPoint"),t.J()||Uh.m("Link.addPoint called with a Point that does not have real numbers: "+t.toString())),null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.add(t)},Nr.prototype.addPointAt=Nr.prototype.cl=function(t,e){Vh&&(Uh.p(t,Nr,"insertPointAt:x"),Uh.p(e,Nr,"insertPointAt:y")),null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.add(new b(t,e))},Nr.prototype.removePoint=Nr.prototype.YF=function(t){null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.md(t)},Nr.prototype.clearPoints=Nr.prototype.No=function(){null===this.Ae&&Uh.m("Call Link.startRoute before modifying the points of the route."),this.Uc.clear()},Nr.prototype.movePoints=Nr.prototype.wl=function(t,e){for(var i=new l(b),n=this.Uc.k;n.next();){var o=n.value;i.add(new b(o.x+t,o.y+e).freeze())}i.freeze(),n=this.Uc,this.Uc=i,this.re(),jr(this),this.h&&this.h.Pb.qd&&(this.ro=i),this.j("points",n,i)},Nr.prototype.startRoute=Nr.prototype.Fl=function(){null===this.Ae&&(this.Ae=this.Uc,this.Uc=this.Uc.copy())},Nr.prototype.commitRoute=Nr.prototype.Li=function(){if(null!==this.Ae){for(var t=this.Ae,e=this.Uc,i=1/0,n=1/0,o=t.q,r=o.length,s=0;r>s;s++)var a=o[s],i=Math.min(a.x,i),n=Math.min(a.y,n);for(var h=1/0,l=1/0,u=e.q,c=u.length,s=0;c>s;s++)a=u[s],h=Math.min(a.x,h),l=Math.min(a.y,l),a.freeze();if(e.freeze(),c===r){for(s=0;c>s;s++)if(r=o[s],a=u[s],r.x-i!==a.x-h||r.y-n!==a.y-l){this.re();break}}else this.re();this.Ae=null,this.h&&this.h.Pb.qd&&(this.ro=e),jr(this),this.j("points",t,e)}},Nr.prototype.rollbackRoute=Nr.prototype.LJ=function(){null!==this.Ae&&(this.Uc=this.Ae,this.Ae=null)},Nr.prototype.invalidateRoute=Nr.prototype.$b=function(){if(!(this.pz||this.h&&this.h.la.Cb)){var t=this.path;null!==t&&(this.qg=!1,this.re(),t.T())}},Uh.defineProperty(Nr,{Vp:null},function(){return this.pz},function(t){this.pz=t}),Nr.prototype.updateRoute=function(){if(!this.qg&&!this.gy){var t=!0;try{this.gy=!0,this.Fl(),t=this.computePoints()}finally{this.gy=!1,t?this.Li():this.LJ()}}},Nr.prototype.computePoints=function(){var t=this.h;if(null===t)return!1;var e=this.Z,i=null;if(null===e?(t.om||(t.Fv=new Fo,t.Fv.ya=Bl.on,t.Fv.ib=0,t.om=new Cr,t.om.add(t.Fv),t.om.vf()),this.Gn&&(t.om.position=t.om.location=this.Gn,t.om.vf(),e=t.om,i=t.Fv)):i=this.wd,null!==i){var n=Xn(i);n!==e&&e.Ja()?i=n:(n=e.findVisibleNode(),null!==n&&n!==e?(e=n,i=n.ll("")):e=n)}if(this.sD=e,null===e||null===i||!e.location.J())return!1;var n=this.da,o=null;if(null===n?(t.pm||(t.Gv=new Fo,t.Gv.ya=Bl.on,t.Gv.ib=0,t.pm=new Cr,t.pm.add(t.Gv),t.pm.vf()),this.Kn&&(t.pm.position=t.pm.location=this.Kn,t.pm.vf(),n=t.pm,o=t.Gv)):o=this.ke,null!==o&&(t=Xn(o),t!==n&&n.Ja()?o=t:(t=n.findVisibleNode(),null!==t&&t!==n?(n=t,o=t.ll("")):n=t)),this.uD=n,null===n||null===o||!n.location.J())return!1;var t=this.oa,r=_r(this,i),s=Hr(this,o),a=i===o&&null!==i,h=this.gc,l=this.Le===ef;this.li=a&&!h?l=!0:!1;var u=this.Eo===tf||a;if(h||r!==el||s!==el||a){l=this.Si,u&&(h&&l||a)&&this.No();var c=a?this.computeCurviness():0,f=this.getLinkPoint(e,i,r,!0,h,n,o),d=0,p=0,g=0;if(h||r!==el||a){var m=this.computeEndSegmentLength(e,i,r,!0),g=this.getLinkDirection(e,i,f,r,!0,h,n,o);if(a&&(g-=h?90:30,0>c&&(g-=180)),0>g?g+=360:g>=360&&(g-=360),a&&(m+=Math.abs(c)),0===g?d=m:90===g?p=m:180===g?d=-m:270===g?p=-m:(d=m*Math.cos(g*Math.PI/180),p=m*Math.sin(g*Math.PI/180)),r.te()&&a){var v=i.qb(al,Uh.M()),y=Uh.ic(v.x+1e3*d,v.y+1e3*p);this.getLinkPointFromPoint(e,i,v,y,!0,f),Uh.B(v),Uh.B(y)}}var m=this.getLinkPoint(n,o,s,!1,h,e,i),w=0,x=0,C=0;(h||s!==el||a)&&(v=this.computeEndSegmentLength(n,o,s,!1),C=this.getLinkDirection(n,o,m,s,!1,h,e,i),a&&(C+=h?0:30,0>c&&(C+=180)),0>C?C+=360:C>=360&&(C-=360),a&&(v+=Math.abs(c)),0===C?w=v:90===C?x=v:180===C?w=-v:270===C?x=-v:(w=v*Math.cos(C*Math.PI/180),x=v*Math.sin(C*Math.PI/180)),s.te()&&a&&(v=o.qb(al,Uh.M()),y=Uh.ic(v.x+1e3*w,v.y+1e3*x),this.getLinkPointFromPoint(n,o,v,y,!1,m),Uh.B(v),Uh.B(y))),o=f,(h||r!==el||a)&&(o=new b(f.x+d,f.y+p)),i=m,(h||s!==el||a)&&(i=new b(m.x+w,m.y+x)),!u&&!h&&r===el&&t>3&&this.adjustPoints(0,f,t-2,i)?this.Ff(t-1,m):!u&&!h&&s===el&&t>3&&this.adjustPoints(1,o,t-1,m)?this.Ff(0,f):!u&&!h&&t>4&&this.adjustPoints(1,o,t-2,i)?(this.Ff(0,f),this.Ff(t-1,m)):!u&&h&&t>=6&&!l&&this.adjustPoints(1,o,t-2,i)?(this.Ff(0,f),this.Ff(t-1,m)):(this.No(),this.Mh(f),(h||r!==el||a)&&this.Mh(o),h&&this.addOrthoPoints(o,g,i,C,e,n),(h||s!==el||a)&&this.Mh(i),this.Mh(m))}else r=!1,!u&&t>=3&&(u=this.getLinkPoint(e,i,el,!0,!1,n,o),s=this.getLinkPoint(n,o,el,!1,!1,e,i),r=this.adjustPoints(0,u,t-1,s))&&(u=this.getLinkPoint(e,i,el,!0,!1,n,o),s=this.getLinkPoint(n,o,el,!1,!1,e,i),this.adjustPoints(0,u,t-1,s)),r||(this.No(),l?(t=this.getLinkPoint(e,i,el,!0,!1,n,o),u=this.getLinkPoint(n,o,el,!1,!1,e,i),r=u.x-t.x,s=u.y-t.y,a=this.computeCurviness(),l=h=0,f=t.x+r/3,g=t.y+s/3,d=f,p=g,Bl.I(s,0)?p=r>0?p-a:p+a:(h=-r/s,l=Math.sqrt(a*a/(h*h+1)),0>a&&(l=-l),d=(0>s?-1:1)*l+f,p=h*(d-f)+g),f=t.x+2*r/3,g=t.y+2*s/3,m=f,w=g,Bl.I(s,0)?w=r>0?w-a:w+a:(m=(0>s?-1:1)*l+f,w=h*(m-f)+g),this.No(),this.Mh(t),this.cl(d,p),this.cl(m,w),this.Mh(u),this.Ff(0,this.getLinkPoint(e,i,el,!0,!1,n,o)),this.Ff(3,this.getLinkPoint(n,o,el,!1,!1,e,i))):(t=n,n=this.getLinkPoint(e,i,el,!0,!1,t,o),o=this.getLinkPoint(t,o,el,!1,!1,e,i),this.hasCurviness()?(s=o.x-n.x,e=o.y-n.y,i=this.computeCurviness(),t=n.x+s/2,u=n.y+e/2,r=t,a=u,Bl.I(e,0)?a=s>0?a-i:a+i:(s=-s/e,r=Math.sqrt(i*i/(s*s+1)),0>i&&(r=-r),r=(0>e?-1:1)*r+t,a=s*(r-t)+u),this.Mh(n),this.cl(r,a)):this.Mh(n),this.Mh(o)));return!0},Nr.prototype.getLinkPointFromPoint=function(t,e,i,n,o,r){if(void 0===r&&(r=new b),null===t||null===e)return r.assign(i),r;t.Ja()||(o=t.findVisibleNode(),null!==o&&o!==t&&(e=o.port));var s=o=0,a=0,h=0;if(t=null,o=e.U,null===o||o.bg()||(o=o.U),null===o)o=n.x,s=n.y,a=i.x,h=i.y;else{t=o.Nf,o=1/(t.m11*t.m22-t.m12*t.m21);var a=t.m22*o,h=-t.m12*o,l=-t.m21*o,u=t.m11*o,c=o*(t.m21*t.dy-t.m22*t.dx),f=o*(t.m12*t.dx-t.m11*t.dy);o=n.x*a+n.y*l+c,s=n.x*h+n.y*u+f,a=i.x*a+i.y*l+c,h=i.x*h+i.y*u+f}return e.dp(o,s,a,h,r),null!==t&&r.transform(t),r},Nr.prototype.getLinkPoint=function(t,e,i,n,o,r,s,a){if(void 0===a&&(a=new b),i.kd())return e.qb(i,a),a;if(i.lp()&&(i=zr(this,e),null!==i)){if(a.assign(i.rp),o&&this.Wt===Zc){var h=zr(this,s);if(i.Mm<h.Mm){i=Uh.M();var h=Uh.M(),l=new k(e.qb(nl,i),e.qb(cl,h)),u=this.computeSpot(!n);t=this.getLinkPoint(r,s,u,!n,o,t,e,h),t.x>=l.x&&t.x<=l.x+l.width?a.x=t.x:t.y>=l.y&&t.y<=l.y+l.height&&(a.y=t.y),Uh.B(i),Uh.B(h)}}return a}return r=e.qb(al,Uh.M()),h=i=null,this.oa>(o?6:2)?(h=n?this.n(1):this.n(this.oa-2),o&&(h=Ir(r,h.copy()))):(i=Uh.M(),h=s.qb(al,i),o&&(h=Ir(r,h))),this.getLinkPointFromPoint(t,e,r,h,n,a),Uh.B(r),null!==i&&Uh.B(i),a},Nr.prototype.getLinkDirection=function(t,e,i,n,o,r,s,a){t:if(n.kd())i=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.lp()){var h=zr(this,e);if(null!==h)switch(h.ge){case Uh.ad:i=270;break t;case Uh.Ic:i=180;break t;default:case Uh.Sc:i=0;break t;case Uh.Rc:i=90;break t}}var h=e.qb(al,Uh.M()),l=null,u=null;this.oa>(r?6:2)?(u=o?this.n(1):this.n(this.oa-2),u=r?Ir(h,u.copy()):i):(l=Uh.M(),u=a.qb(al,l)),i=0,i=Math.abs(u.x-h.x)>Math.abs(u.y-h.y)?u.x>=h.x?0:180:u.y>=h.y?90:270,Uh.B(h),null!==l&&Uh.B(l)}switch(n.te()&&s.Uh(t)&&(i+=180,i>=360&&(i-=360)),t=Uc,t=o?this.ap:this.Xp,t===Uc&&(t=o?e.ap:e.Xp),t){case Kc:e=e.ml(),i+=e,i>=360&&(i-=360);break;case Uc:case Yc:if(e=e.ml(),0===e)break;e>=45&&135>e?i+=90:e>=135&&225>e?i+=180:e>=225&&315>e&&(i+=270),i>=360&&(i-=360)}return i},Nr.prototype.computeEndSegmentLength=function(t,e,i,n){return null!==e&&i.lp()&&(t=zr(this,e),null!==t)?t.Cw:(t=NaN,t=n?this.ek:this.mk,null!==e&&isNaN(t)&&(t=n?e.ek:e.mk),isNaN(t)&&(t=10),t)},Nr.prototype.computeSpot=function(t){return t?_r(this,this.wd):Hr(this,this.ke)},Nr.prototype.computeOtherPoint=function(t,e){var i,n=e.qb(al);return i=e.$r,i=null!==i?ms(i,this):null,null!==i&&(n=i.rp),n},Nr.prototype.computeShortLength=function(t){return t?qr(this):Wr(this)},Nr.prototype.ck=function(t,e,i,n,o,r){if(!1===this.Cf)return!1;void 0===e&&(e=null),void 0===i&&(i=null);var s=r;if(void 0===r&&(s=Uh.mh(),s.reset()),s.multiply(this.transform),this.Lm(t,s))return go(this,e,i,o),void 0===r&&Uh.df(s),!0;if(this.zg(t,s)){var a=!1;if(!this.Wg)for(var h=this.Ga.q,l=h.length;l--;){var u=h[l];if(u.visible||u===this.hc){var c=u.ea,f=this.Ka;if(!(c.x>f.width||c.y>f.height||0>c.x+c.width||0>c.y+c.height)){if(c=Uh.mh(),c.set(s),u instanceof io)a=u.ck(t,e,i,n,o,c);else if(this.path===u){var a=u,d=t,p=n,f=c;if(!1===a.Cf)a=!1;else if(f.multiply(a.transform),p)t:{var g=d,m=f;if(a.Lm(g,m))a=!0;else{if(void 0===m&&(m=a.transform,g.Vj(a.ea))){a=!0;break t}var f=g.left,d=g.right,p=g.top,g=g.bottom,v=Uh.M(),y=Uh.M(),b=Uh.M(),w=Uh.mh();w.set(m),w.JF(a.transform),w.lA(),y.x=d,y.y=p,y.transform(w),v.x=f,v.y=p,v.transform(w),m=!1,Bo(a,v,y,b)?m=!0:(v.x=d,v.y=g,v.transform(w),Bo(a,v,y,b)?m=!0:(y.x=f,y.y=g,y.transform(w),Bo(a,v,y,b)?m=!0:(v.x=f,v.y=p,v.transform(w),Bo(a,v,y,b)&&(m=!0)))),Uh.df(w),Uh.B(v),Uh.B(y),Uh.B(b),a=m}}else a=a.Lm(d,f)}else a=Dn(u,t,n,c);a&&(null!==e&&(u=e(u)),u&&(null===i||i(u))&&o.add(u)),Uh.df(c)}}}return void 0===r&&Uh.df(s),a||null!==this.background||null!==this.el}return void 0===r&&Uh.df(s),!1},Uh.A(Nr,{gc:"isOrthogonal"},function(){return 2===(2&this.nm.value)}),Uh.A(Nr,{Si:"isAvoiding"},function(){return 4===(4&this.nm.value)}),Nr.prototype.computeCurve=function(){if(null===this.li){var t=this.wd,e=this.gc;this.li=null!==t&&t===this.ke&&!e}return this.li?ef:this.Le},Nr.prototype.computeCorner=function(){if(this.Le===ef)return 0;var t=this.uw;return(isNaN(t)||0>t)&&(t=10),t},Nr.prototype.computeCurviness=function(){var t=this.ht;if(isNaN(t)){var e=this.of;if(0!==e){var t=10,i=this.h;null!==i&&(t=i.sp),i=Math.abs(e),t=t/2+((i-1)/2|0)*t,0===i%2&&(t=-t),0>e&&(t=-t)}else t=10}return t},Nr.prototype.computeThickness=function(){var t=this.path;return null!==t?Math.max(t.ib,1):1},Nr.prototype.hasCurviness=function(){return!isNaN(this.ht)||0!==this.of&&!this.gc},Nr.prototype.adjustPoints=function(t,e,i,n){var o=this.Eo;if(this.gc){if(o===sf)return!1;o===af&&(o=rf)}switch(o){case sf:var r=this.n(t),s=this.n(i);if(!r.L(e)||!s.L(n)){var o=r.x,r=r.y,a=s.x-o,h=s.y-r,l=Math.sqrt(a*a+h*h);if(!Bl.I(l,0)){var u=0;Bl.I(a,0)?u=0>h?-Math.PI/2:Math.PI/2:(u=Math.atan(h/Math.abs(a)),0>a&&(u=Math.PI-u));var s=e.x,c=e.y,h=n.x-s,f=n.y-c,d=Math.sqrt(h*h+f*f),a=0;for(Bl.I(h,0)?a=0>f?-Math.PI/2:Math.PI/2:(a=Math.atan(f/Math.abs(h)),0>h&&(a=Math.PI-a)),l=d/l,u=a-u,this.Ff(t,e),t+=1;i>t;t++)e=this.n(t),a=e.x-o,h=e.y-r,e=Math.sqrt(a*a+h*h),Bl.I(e,0)||(f=0,Bl.I(a,0)?f=0>h?-Math.PI/2:Math.PI/2:(f=Math.atan(h/Math.abs(a)),0>a&&(f=Math.PI-f)),a=f+u,e*=l,this.aa(t,s+e*Math.cos(a),c+e*Math.sin(a)));this.Ff(i,n)}}return!0;case af:if(r=this.n(t),c=this.n(i),!r.L(e)||!c.L(n)){var o=r.x,r=r.y,s=c.x,c=c.y,l=(s-o)*(s-o)+(c-r)*(c-r),a=e.x,u=e.y,h=n.x,f=n.y,d=0,p=1,d=0!==h-a?(f-u)/(h-a):9e9;for(0!==d&&(p=Math.sqrt(1+1/(d*d))),this.Ff(t,e),t+=1;i>t;t++){e=this.n(t);var g=e.x,m=e.y,v=.5;0!==l&&(v=((o-g)*(o-s)+(r-m)*(r-c))/l);var y=o+v*(s-o),b=r+v*(c-r);e=Math.sqrt((g-y)*(g-y)+(m-b)*(m-b)),d*(g-y)+b>m&&(e=-e),d>0&&(e=-e),g=a+v*(h-a),v=u+v*(f-u),0!==d?(e=g+e/p,this.aa(t,e,v-(e-g)/d)):this.aa(t,g,v+e)}this.Ff(i,n)}return!0;case rf:return this.gc&&(o=this.n(t),r=this.n(t+1),s=this.n(t+2),Bl.I(o.y,r.y)?Bl.I(r.x,s.x)?this.aa(t+1,r.x,e.y):Bl.I(r.y,s.y)&&this.aa(t+1,e.x,r.y):Bl.I(o.x,r.x)&&(Bl.I(r.y,s.y)?this.aa(t+1,e.x,r.y):Bl.I(r.x,s.x)&&this.aa(t+1,r.x,e.y)),o=this.n(i),r=this.n(i-1),s=this.n(i-2),Bl.I(o.y,r.y)?Bl.I(r.x,s.x)?this.aa(i-1,r.x,n.y):Bl.I(r.y,s.y)&&this.aa(i-1,n.x,r.y):Bl.I(o.x,r.x)&&(Bl.I(r.y,s.y)?this.aa(i-1,n.x,r.y):Bl.I(r.x,s.x)&&this.aa(i-1,r.x,n.y))),this.Ff(t,e),this.Ff(i,n),!0;default:return!1}},Nr.prototype.addOrthoPoints=function(t,e,i,n,o,r){e=e>=-45&&45>e?0:e>=45&&135>e?90:e>=135&&225>e?180:270,n=n>=-45&&45>n?0:n>=45&&135>n?90:n>=135&&225>n?180:270;var s=o.ea.copy(),a=r.ea.copy();if(s.J()&&a.J()){s.Sf(8,8),a.Sf(8,8),s.Zi(t),a.Zi(i);var h,l;0===e?i.x>t.x||270===n&&i.y<t.y&&a.right>t.x||90===n&&i.y>t.y&&a.right>t.x?(h=new b(i.x,t.y),l=new b(i.x,(t.y+i.y)/2),180===n?(h.x=this.computeMidOrthoPosition(t.x,i.x,!1),l.x=h.x,l.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(h.x=t.x<a.left?this.computeMidOrthoPosition(t.x,a.left,!1):t.x<a.right&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.right,l.x=h.x,l.y=i.y):0===n&&t.x<a.left&&t.y>a.top&&t.y<a.bottom&&(h.x=t.x,h.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),l.y=h.y)):(h=new b(t.x,i.y),l=new b((t.x+i.x)/2,i.y),(180===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(180===n&&(a.Da(t)||s.Da(i))?h.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(180===n||90===n)?h.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(180===n||270===n)&&(h.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),l.x=i.x,l.y=h.y),h.y>s.top&&h.y<s.bottom&&(i.x>=s.left&&i.x<=t.x||t.x<=a.right&&t.x>=i.x?(90===n||270===n)&&(h=new b(Math.max((t.x+i.x)/2,t.x),t.y),l=new b(h.x,i.y)):(h.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,0===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,0===n?s.bottom:Math.max(s.bottom,a.bottom)),l.x=i.x,l.y=h.y))):180===e?i.x<t.x||270===n&&i.y<t.y&&a.left<t.x||90===n&&i.y>t.y&&a.left<t.x?(h=new b(i.x,t.y),
l=new b(i.x,(t.y+i.y)/2),0===n?(h.x=this.computeMidOrthoPosition(t.x,i.x,!1),l.x=h.x,l.y=i.y):270===n&&i.y<t.y||90===n&&i.y>t.y?(h.x=t.x>a.right?this.computeMidOrthoPosition(t.x,a.right,!1):t.x>a.left&&(270===n&&t.y<a.top||90===n&&t.y>a.bottom)?this.computeMidOrthoPosition(t.x,i.x,!1):a.left,l.x=h.x,l.y=i.y):180===n&&t.x>a.right&&t.y>a.top&&t.y<a.bottom&&(h.x=t.x,h.y=t.y<i.y?Math.min(i.y,a.top):Math.max(i.y,a.bottom),l.y=h.y)):(h=new b(t.x,i.y),l=new b((t.x+i.x)/2,i.y),(0===n||90===n&&i.y<s.top||270===n&&i.y>s.bottom)&&(0===n&&(a.Da(t)||s.Da(i))?h.y=this.computeMidOrthoPosition(t.y,i.y,!0):i.y<t.y&&(0===n||90===n)?h.y=this.computeMidOrthoPosition(s.top,Math.max(i.y,a.bottom),!0):i.y>t.y&&(0===n||270===n)&&(h.y=this.computeMidOrthoPosition(s.bottom,Math.min(i.y,a.top),!0)),l.x=i.x,l.y=h.y),h.y>s.top&&h.y<s.bottom&&(i.x<=s.right&&i.x>=t.x||t.x>=a.left&&t.x<=i.x?(90===n||270===n)&&(h=new b(Math.min((t.x+i.x)/2,t.x),t.y),l=new b(h.x,i.y)):(h.y=270===n||(0===n||180===n)&&i.y<t.y?Math.min(i.y,180===n?s.top:Math.min(s.top,a.top)):Math.max(i.y,180===n?s.bottom:Math.max(s.bottom,a.bottom)),l.x=i.x,l.y=h.y))):90===e?i.y>t.y||180===n&&i.x<t.x&&a.bottom>t.y||0===n&&i.x>t.x&&a.bottom>t.y?(h=new b(t.x,i.y),l=new b((t.x+i.x)/2,i.y),270===n?(h.y=this.computeMidOrthoPosition(t.y,i.y,!0),l.x=i.x,l.y=h.y):180===n&&i.x<t.x||0===n&&i.x>t.x?(h.y=t.y<a.top?this.computeMidOrthoPosition(t.y,a.top,!0):t.y<a.bottom&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.bottom,l.x=i.x,l.y=h.y):90===n&&t.y<a.top&&t.x>a.left&&t.x<a.right&&(h.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),h.y=t.y,l.x=h.x)):(h=new b(i.x,t.y),l=new b(i.x,(t.y+i.y)/2),(270===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(270===n&&(a.Da(t)||s.Da(i))?h.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(270===n||0===n)?h.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(270===n||180===n)&&(h.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),l.x=h.x,l.y=i.y),h.x>s.left&&h.x<s.right&&(i.y>=s.top&&i.y<=t.y||t.y<=a.bottom&&t.y>=i.y?(0===n||180===n)&&(h=new b(t.x,Math.max((t.y+i.y)/2,t.y)),l=new b(i.x,h.y)):(h.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,90===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,90===n?s.right:Math.max(s.right,a.right)),l.x=h.x,l.y=i.y))):i.y<t.y||180===n&&i.x<t.x&&a.top<t.y||0===n&&i.x>t.x&&a.top<t.y?(h=new b(t.x,i.y),l=new b((t.x+i.x)/2,i.y),90===n?(h.y=this.computeMidOrthoPosition(t.y,i.y,!0),l.x=i.x,l.y=h.y):180===n&&i.x<t.x||0===n&&i.x>=t.x?(h.y=t.y>a.bottom?this.computeMidOrthoPosition(t.y,a.bottom,!0):t.y>a.top&&(180===n&&t.x<a.left||0===n&&t.x>a.right)?this.computeMidOrthoPosition(t.y,i.y,!0):a.top,l.x=i.x,l.y=h.y):270===n&&t.y>a.bottom&&t.x>a.left&&t.x<a.right&&(h.x=t.x<i.x?Math.min(i.x,a.left):Math.max(i.x,a.right),h.y=t.y,l.x=h.x)):(h=new b(i.x,t.y),l=new b(i.x,(t.y+i.y)/2),(90===n||0===n&&i.x<s.left||180===n&&i.x>s.right)&&(90===n&&(a.Da(t)||s.Da(i))?h.x=this.computeMidOrthoPosition(t.x,i.x,!1):i.x<t.x&&(90===n||0===n)?h.x=this.computeMidOrthoPosition(s.left,Math.max(i.x,a.right),!1):i.x>t.x&&(90===n||180===n)&&(h.x=this.computeMidOrthoPosition(s.right,Math.min(i.x,a.left),!1)),l.x=h.x,l.y=i.y),h.x>s.left&&h.x<s.right&&(i.y<=s.bottom&&i.y>=t.y||t.y>=a.top&&t.y<=i.y?(0===n||180===n)&&(h=new b(t.x,Math.min((t.y+i.y)/2,t.y)),l=new b(i.x,h.y)):(h.x=180===n||(90===n||270===n)&&i.x<t.x?Math.min(i.x,270===n?s.left:Math.min(s.left,a.left)):Math.max(i.x,270===n?s.right:Math.max(s.right,a.right)),l.x=h.x,l.y=i.y)));var u=h,c=l;if(this.Si){var f,d=this.h;(f=null===d)||(d.Pb.fh?f=!1:(f=d.Wa,f=f instanceof Bt?!f.Sv||f.fF:!0),f=!f),f||s.Da(i)&&!r.Uh(o)||a.Da(t)&&!o.Uh(r)||o===r||this.layer.Ac?t=!1:(o=an(d,!0,this.Va,null),o.mp(Math.min(t.x,u.x),Math.min(t.y,u.y),Math.abs(t.x-u.x),Math.abs(t.y-u.y))&&o.mp(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y))&&o.mp(Math.min(c.x,i.x),Math.min(c.y,i.y),Math.abs(c.x-i.x),Math.abs(c.y-i.y))?t=!1:(s=s.copy().$h(a),s.Sf(2*o.Hm,2*o.Gm),ds(o,t,e,i,n,s),a=hs(o,i.x,i.y),o.abort||999999!==a||(us(o),a=o.zG,s.Sf(o.Hm*a,o.Gm*a),ds(o,t,e,i,n,s),a=hs(o,i.x,i.y)),o.abort||999999!==a||(us(o),a=o.qF,s.Sf(o.Hm*a,o.Gm*a),ds(o,t,e,i,n,s),a=hs(o,i.x,i.y)),!o.abort&&999999===a&&o.YG&&(us(o),ds(o,t,e,i,n,o.kb),a=hs(o,i.x,i.y)),!o.abort&&999999>a&&0!==hs(o,i.x,i.y)?(Vr(this,o,i.x,i.y,n,!0),n=this.n(2),4>this.oa?(0===e||180===e?(n.x=t.x,n.y=i.y):(n.x=i.x,n.y=t.y),this.aa(2,n.x,n.y),this.C(3,n.x,n.y)):(i=this.n(3),0===e||180===e?Bl.I(n.x,i.x)?(e=0===e?Math.max(n.x,t.x):Math.min(n.x,t.x),this.aa(2,e,t.y),this.aa(3,e,i.y)):Bl.I(n.y,i.y)?(Math.abs(t.y-n.y)<=o.Gm/2&&(this.aa(2,n.x,t.y),this.aa(3,i.x,t.y)),this.C(2,n.x,t.y)):this.aa(2,t.x,n.y):(90===e||270===e)&&(Bl.I(n.y,i.y)?(e=90===e?Math.max(n.y,t.y):Math.min(n.y,t.y),this.aa(2,t.x,e),this.aa(3,i.x,e)):Bl.I(n.x,i.x)?(Math.abs(t.x-n.x)<=o.Hm/2&&(this.aa(2,t.x,n.y),this.aa(3,t.x,i.y)),this.C(2,t.x,n.y)):this.aa(2,n.x,t.y))),t=!0):t=!1))}else t=!1;t||(this.Mh(h),this.Mh(l))}},Nr.prototype.computeMidOrthoPosition=function(t,e){if(this.hasCurviness()){var i=this.computeCurviness();return(t+e)/2+i}return(t+e)/2},Nr.prototype.findClosestSegment=function(t){Vh&&Uh.l(t,b,Nr,"findClosestSegment:p");var e=t.x;t=t.y;for(var i=this.n(0),n=this.n(1),o=Jh(e,t,i.x,i.y,n.x,n.y),r=0,s=1;s<this.oa-1;s++){var i=this.n(s+1),a=Jh(e,t,n.x,n.y,i.x,i.y),n=i;o>a&&(r=s,o=a)}return r},Nr.prototype.invalidateGeometry=Nr.prototype.re=function(){this.Ta=null,this.T()},Uh.A(Nr,{Xc:"geometry"},function(){return null===this.Ta&&(this.updateRoute(),this.Ta=this.makeGeometry()),this.Ta}),Nr.prototype.Et=function(){if(null===this.Ta&&!1!==this.qg){this.Ta=this.makeGeometry();var t=this.path;if(null!==t){t.Ta=this.Ta;for(var e=this.Ga.q,i=e.length,n=0;i>n;n++){var o=e[n];o!==t&&o.Tf&&o instanceof Fo&&(o.Ta=this.Ta)}}}},Nr.prototype.makeGeometry=function(){var t=this.oa;if(2>t){var e=new V(Ol),i=new Q(0,0);return e.pb.add(i),e}var n=!1,e=this.h;null!==e&&0!==e.la.Ve&&Zr(this)&&(n=!0);var i=e=0,o=this.n(0).copy(),r=o.copy(),e=this.Uc.q,s=this.computeCurve();if(s===ef&&t>=3&&!Bl.rb(this.kn,0))if(3===t)var a=this.n(1),e=Math.min(o.x,a.x),i=Math.min(o.y,a.y),a=this.n(2),e=Math.min(e,a.x),i=Math.min(i,a.y);else{if(this.gc)for(a=0;t>a;a++)i=e[a],r.x=Math.min(i.x,r.x),r.y=Math.min(i.y,r.y);else for(a=3;t>a;a+=3)a+3>=t&&(a=t-1),e=this.n(a),r.x=Math.min(e.x,r.x),r.y=Math.min(e.y,r.y);e=r.x,i=r.y}else{for(a=0;t>a;a++)i=e[a],r.x=Math.min(i.x,r.x),r.y=Math.min(i.y,r.y);e=r.x,i=r.y}if(e-=this.uz.x,i-=this.uz.y,o.x-=e,o.y-=i,2===t){var h=this.n(1).copy();h.x-=e,h.y-=i,0!==qr(this)&&Kr(this,o,!0,r),0!==Wr(this)&&Kr(this,h,!1,r),e=new V(Nl),e.ra=o.x,e.sa=o.y,e.D=h.x,e.F=h.y}else{if(h=Uh.u(),0!==qr(this)&&Kr(this,o,!0,r),Yo(h,o.x,o.y,!1,!1),s===ef&&t>=3&&!Bl.rb(this.kn,0))if(3===t)a=this.n(1),t=a.x-e,n=a.y-i,a=this.n(2).copy(),a.x-=e,a.y-=i,0!==Wr(this)&&Kr(this,a,!1,r),Qo(h,t,n,t,n,a.x,a.y);else if(this.gc){for(var r=new b(e,i),o=this.n(1).copy(),s=new b(e,i),t=new b(e,i),n=this.n(0),l=null,u=this.kn/3,a=1;a<this.oa-1;a++){var l=this.n(a),c=n,f=l,d=this.n(Yr(this,l,a,!1));if(!(Bl.rb(c.x,f.x)&&Bl.rb(f.x,d.x)||Bl.rb(c.y,f.y)&&Bl.rb(f.y,d.y))){var p=u,g=s,m=t;isNaN(p)&&(p=this.kn/3);var v=c.x,c=c.y,y=f.x,f=f.y,w=d.x,d=d.y,x=p*Ur(v,c,y,f),p=p*Ur(y,f,w,d);Bl.rb(c,f)&&Bl.rb(y,w)&&(y>v?d>f?(g.x=y-x,g.y=f-x,m.x=y+p,m.y=f+p):(g.x=y-x,g.y=f+x,m.x=y+p,m.y=f-p):d>f?(g.x=y+x,g.y=f-x,m.x=y-p,m.y=f+p):(g.x=y+x,g.y=f+x,m.x=y-p,m.y=f-p)),Bl.rb(v,y)&&Bl.rb(f,d)&&(f>c?(w>y?(g.x=y-x,g.y=f-x,m.x=y+p):(g.x=y+x,g.y=f-x,m.x=y-p),m.y=f+p):(w>y?(g.x=y-x,g.y=f+x,m.x=y+p):(g.x=y+x,g.y=f+x,m.x=y-p),m.y=f-p)),(Bl.rb(v,y)&&Bl.rb(y,w)||Bl.rb(c,f)&&Bl.rb(f,d))&&(v=.5*(v+w),c=.5*(c+d),g.x=v,g.y=c,m.x=v,m.y=c),1===a?(o.x=.5*(n.x+l.x),o.y=.5*(n.y+l.y)):2===a&&Bl.rb(n.x,this.n(0).x)&&Bl.rb(n.y,this.n(0).y)&&(o.x=.5*(n.x+l.x),o.y=.5*(n.y+l.y)),Qo(h,o.x-e,o.y-i,s.x-e,s.y-i,l.x-e,l.y-i),r.set(s),o.set(t),n=l}}a=n.x,n=n.y,r=this.n(this.oa-1),a=.5*(a+r.x),n=.5*(n+r.y),Qo(h,t.x-e,t.y-i,a-e,n-i,r.x-e,r.y-i)}else for(a=3;t>a;a+=3)n=this.n(a-2),a+3>=t&&(a=t-1),r=this.n(a-1),o=this.n(a),a===t-1&&0!==Wr(this)&&(o=o.copy(),Kr(this,o,!1,Bl.nk)),Qo(h,n.x-e,n.y-i,r.x-e,r.y-i,o.x-e,o.y-i);else{for(r=Uh.M(),r.assign(this.n(0)),a=1;t>a;){if(a=Yr(this,r,a,a>1),g=this.n(a),a>=t-1){r!==g&&(0!==Wr(this)&&(g=g.copy(),Kr(this,g,!1,Bl.nk)),Jr(this,h,-e,-i,r,g,n));break}a=Yr(this,g,a+1,t-3>a),o=h,s=-e,l=-i,u=r,m=this.n(a),v=r,c=n,Bl.I(u.y,g.y)&&Bl.I(g.x,m.x)?(p=this.computeCorner(),p=Math.min(p,Math.abs(g.x-u.x)/2),p=y=Math.min(p,Math.abs(m.y-g.y)/2),Bl.I(p,0)?(Jr(this,o,s,l,u,g,c),v.assign(g)):(f=g.x,w=g.y,d=f,x=w,f=g.x>u.x?g.x-p:g.x+p,x=m.y>g.y?g.y+y:g.y-y,Jr(this,o,s,l,u,new b(f,w),c),Zo(o,g.x+s,g.y+l,d+s,x+l),v.o(d,x))):Bl.I(u.x,g.x)&&Bl.I(g.y,m.y)?(p=this.computeCorner(),y=Math.min(p,Math.abs(g.y-u.y)/2),y=p=Math.min(y,Math.abs(m.x-g.x)/2),Bl.I(p,0)?(Jr(this,o,s,l,u,g,c),v.assign(g)):(f=g.x,x=w=g.y,w=g.y>u.y?g.y-y:g.y+y,d=m.x>g.x?g.x+p:g.x-p,Jr(this,o,s,l,u,new b(f,w),c),Zo(o,g.x+s,g.y+l,d+s,x+l),v.o(d,x))):(Jr(this,o,s,l,u,g,c),v.assign(g))}Uh.B(r)}e=h.s,Uh.v(h)}return e},Uh.A(Nr,{qt:"firstPickIndex"},function(){return 2>=this.oa?0:this.gc||_r(this)!==el?1:0}),Uh.A(Nr,{ax:"lastPickIndex"},function(){var t=this.oa;return 0===t?0:2>=t?t-1:this.gc||Hr(this)!==el?t-2:t-1}),Nr.prototype.usesSamePort=function(t){var e=this.oa,i=t.oa;if(e>0&&i>0){var n=this.n(0),o=t.n(0);if(n.Ne(o))return!0;if(e=this.n(e-1),t=t.n(i-1),e.Ne(t)||n.Ne(t)||e.Ne(o))return!0}else if(this.Z===t.Z||this.da===t.da||this.Z==t.da||this.da==t.Z)return!0;return!1},Nr.prototype.Qe=function(t){if(er.prototype.Qe.call(this,t),null!==this.ze)for(var e=this.ze.k;e.next();)e.value.Qe(t)},Uh.g(Nr,"adjusting",Nr.prototype.Eo),Uh.defineProperty(Nr,{Eo:"adjusting"},function(){return this.gq},function(t){var e=this.gq;e!==t&&(Vh&&Uh.za(t,Nr,Nr,"adjusting"),this.gq=t,this.j("adjusting",e,t))}),Uh.g(Nr,"corner",Nr.prototype.uw),Uh.defineProperty(Nr,{uw:"corner"},function(){return this.tq},function(t){var e=this.tq;e!==t&&(Vh&&Uh.i(t,"number",Nr,"corner"),this.tq=t,this.re(),this.j("corner",e,t))}),Uh.g(Nr,"curve",Nr.prototype.Le),Uh.defineProperty(Nr,{Le:"curve"},function(){return this.wq},function(t){var e=this.wq;e!==t&&(Vh&&Uh.za(t,Nr,Nr,"curve"),this.wq=t,this.$b(),ts(this,e===nf||e===of||t===nf||t===of),this.j("curve",e,t))}),Uh.g(Nr,"curviness",Nr.prototype.ht),Uh.defineProperty(Nr,{ht:"curviness"},function(){return this.xq},function(t){var e=this.xq;e!==t&&(Vh&&Uh.i(t,"number",Nr,"curviness"),this.xq=t,this.$b(),this.j("curviness",e,t))}),Uh.g(Nr,"routing",Nr.prototype.Wt),Uh.defineProperty(Nr,{Wt:"routing"},function(){return this.nm},function(t){var e=this.nm;e!==t&&(Vh&&Uh.za(t,Nr,Nr,"routing"),this.nm=t,this.li=null,this.$b(),ts(this,2===(2&e.value)||2===(2&t.value)),this.j("routing",e,t))}),Uh.g(Nr,"smoothness",Nr.prototype.kn),Uh.defineProperty(Nr,{kn:"smoothness"},function(){return this.Bs},function(t){var e=this.Bs;e!==t&&(Vh&&Uh.i(t,"number",Nr,"smoothness"),this.Bs=t,this.re(),this.j("smoothness",e,t))}),Uh.ae(rs,{Gp:!0,px:!0,Kt:!0,qx:!0,links:!0,spacing:!0}),Uh.ae(ss,{group:!0,jB:!0,wt:!0,abort:!0,YG:!0,zG:!0,qF:!0}),ss.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,i=t.x+t.width,n=t.y+t.height;if(this.jg=Math.floor((t.x-this.le)/this.le)*this.le,this.kg=Math.floor((e-this.me)/this.me)*this.me,this.wr=Math.ceil((i+2*this.le)/this.le)*this.le,this.xr=Math.ceil((n+2*this.me)/this.me)*this.me,t=1+(0|Math.ceil((this.wr-this.jg)/this.le)),e=1+(0|Math.ceil((this.xr-this.kg)/this.me)),null===this.uc||this.Ao<t-1||this.Bo<e-1){for(i=[],n=0;t>=n;n++){for(var o=[],r=0;e>=r;r++)o[r]=0;i[n]=o}this.uc=i,this.Ao=t-1,this.Bo=e-1}if(null!==this.uc)for(t=0;t<=this.Ao;t++)for(e=0;e<=this.Bo;e++)this.uc[t][e]=999999}},Uh.A(ss,{kb:null},function(){return new k(this.jg,this.kg,this.wr-this.jg,this.xr-this.kg)}),Uh.g(ss,"cellWidth",ss.prototype.Hm),Uh.defineProperty(ss,{Hm:null},function(){return this.le},function(t){t>0&&t!==this.le&&(this.le=t,this.initialize(this.kb))}),Uh.g(ss,"cellHeight",ss.prototype.Gm),Uh.defineProperty(ss,{Gm:null},function(){return this.me},function(t){t>0&&t!==this.me&&(this.me=t,this.initialize(this.kb))}),ss.prototype.mp=function(t,e,i,n){if(t>this.wr||t+i<this.jg||e>this.xr||e+n<this.kg)return!0;t=(t-this.jg)/this.le|0,e=(e-this.kg)/this.me|0,i=Math.max(0,i)/this.le+1|0;var o=Math.max(0,n)/this.me+1|0;if(0>t&&(i+=t,t=0),0>e&&(o+=e,e=0),0>i||0>o)return!0;for(n=0|Math.min(t+i-1,this.Ao),i=0|Math.min(e+o-1,this.Bo);n>=t;t++)for(o=e;i>=o;o++)if(0===this.uc[t][o])return!1;return!0},Uh.ae(ps,{Cc:!0,port:!0,Eg:!0,Fp:!0}),ps.prototype.toString=function(){for(var t=this.Eg,e=this.Cc.toString()+" "+t.length.toString()+":",i=0;i<t.length;i++){var n=t[i];null!==n&&(e+="\n  "+n.toString())}return e},ps.prototype.sJ=function(t,e){return t===e?0:null===t?-1:null===e?1:t.ge<e.ge?-1:t.ge>e.ge?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},ps.prototype.computeEndSegmentLength=function(t){var e=t.link,i=e.computeEndSegmentLength(this.Cc,this.port,el,e.wd===this.port),n=t.fp;if(0>n)return i;var o=t.Mm;if(1>=o||!e.gc)return i;var e=t.ox,r=t.rp;return(t.ge===Uh.Ic||t.ge===Uh.Rc)&&(n=o-1-n),((t=t.ge===Uh.Ic||t.ge===Uh.Sc)?e.y<r.y:e.x<r.x)?i+8*n:(t?e.y===r.y:e.x===r.x)?i:i+8*(o-1-n)},Uh.ae(vs,{link:!0,angle:!0,ge:!0,ox:!0,fp:!0,Mm:!0,rp:!0,Cw:!0}),vs.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.ge.toString()+":"+this.fp.toString()+"/"+this.Mm.toString()+" "+this.rp.toString()+" "+this.Cw.toString()+" "+this.ox.toString()},ys.prototype.copy=function(){var t=new ys;return t.mj=this.mj.ba(),t.Nj=this.Nj.ba(),t.kj=this.kj,t.Lj=this.Lj,t.jj=this.jj,t.Kj=this.Kj,t.lj=this.lj,t.Mj=this.Mj,t},Uh.Ia(bs,Cr),Uh.ja("Group",bs),bs.prototype.cloneProtected=function(t){Cr.prototype.cloneProtected.call(this,t),t.yr=this.yr,t.Ar=this.Ar,t.Sk=this.Sk,t.Os=this.Os,t.cr=this.cr,t.Ps=this.Ps,t.Es=this.Es;var e=t.lt(function(t){return t instanceof As});t.Tb=e instanceof As?e:null,t.pq=this.pq,t.qq=this.qq,t.rq=this.rq,t.Qq=this.Qq,null!==this.Td?(t.Td=this.Td.copy(),t.Td.group=t):(null!==t.Td&&(t.Td.group=null),t.Td=null)},bs.prototype.Qh=function(t){Cr.prototype.Qh.call(this,t);var e=t.Xo();for(t=t.Qc;t.next();){var i=t.value;if(i.T(),i.K(8),i.bt(),i instanceof Cr)i.yf(e);else if(i instanceof Nr)for(i=i.Bg;i.next();)i.value.yf(e)}},bs.prototype.fn=function(t,e,i,n,o,r,s){if(t===Yl&&"elements"===e)if(o instanceof As){var a=o;null===this.Tb?this.Tb=a:this.Tb!==a&&Uh.m("Cannot insert a second Placeholder into the visual tree of a Group.")}else o instanceof io&&(a=o.lt(function(t){return t instanceof As}),a instanceof As&&(null===this.Tb?this.Tb=a:this.Tb!==a&&Uh.m("Cannot insert a second Placeholder into the visual tree of a Group.")));else t===Jl&&"elements"===e&&null!==this.Tb&&(n===this.Tb?this.Tb=null:n instanceof io&&this.Tb.sl(n)&&(this.Tb=null));Cr.prototype.fn.call(this,t,e,i,n,o,r,s)},bs.prototype.Hi=function(t,e,i,n){this.Rk=this.Tb,io.prototype.Hi.call(this,t,e,i,n)},bs.prototype.tl=function(){if(!Cr.prototype.tl.call(this))return!1;for(var t=this.Qc;t.next();){var e=t.value;if(e instanceof Cr){if(e.Ja()&&Yn(e))return!1}else if(e instanceof Nr&&e.Ja()&&Yn(e)&&e.Z!==this&&e.da!==this)return!1}return!0},Uh.A(bs,{placeholder:"placeholder"},function(){return this.Tb}),Uh.g(bs,"computesBoundsAfterDrag",bs.prototype.Sz),Uh.defineProperty(bs,{Sz:"computesBoundsAfterDrag"},function(){return this.pq},function(t){var e=this.pq;e!==t&&(Uh.i(t,"boolean",bs,"computesBoundsAfterDrag"),this.pq=t,this.j("computesBoundsAfterDrag",e,t))}),Uh.g(bs,"computesBoundsIncludingLinks",bs.prototype.gE),Uh.defineProperty(bs,{gE:"computesBoundsIncludingLinks"},function(){return this.qq},function(t){Uh.i(t,"boolean",bs,"computesBoundsIncludingLinks");var e=this.qq;e!==t&&(this.qq=t,this.j("computesBoundsIncludingLinks",e,t))}),Uh.g(bs,"computesBoundsIncludingLocation",bs.prototype.hE),Uh.defineProperty(bs,{hE:"computesBoundsIncludingLocation"},function(){return this.rq},function(t){Uh.i(t,"boolean",bs,"computesBoundsIncludingLocation");var e=this.rq;e!==t&&(this.rq=t,this.j("computesBoundsIncludingLocation",e,t))}),Uh.g(bs,"handlesDragDropForMembers",bs.prototype.WE),Uh.defineProperty(bs,{WE:"handlesDragDropForMembers"},function(){return this.Qq},function(t){Uh.i(t,"boolean",bs,"handlesDragDropForMembers");var e=this.Qq;e!==t&&(this.Qq=t,this.j("handlesDragDropForMembers",e,t))}),Uh.A(bs,{Qc:"memberParts"},function(){return this.zr.k}),bs.prototype.Om=function(){if(0<this.zr.count){var t=this.h;if(null===t)return;for(var e=this.zr.copy().k;e.next();)t.remove(e.value)}Cr.prototype.Om.call(this)},bs.prototype.Cx=function(){var t=this.layer;null!==t&&t.Cx(this)},Uh.g(bs,"layout",bs.prototype.Lb),Uh.defineProperty(bs,{Lb:"layout"},function(){return this.Td},function(t){var e=this.Td;e!==t&&(null!==t&&Uh.l(t,Ss,bs,"layout"),null!==e&&(e.h=null,e.group=null),this.Td=t,null!==t&&(t.h=this.h,t.group=this),this.j("layout",e,t))}),Uh.g(bs,"memberAdded",bs.prototype.AF),Uh.defineProperty(bs,{AF:"memberAdded"},function(){return this.yr},function(t){var e=this.yr;e!==t&&(null!==t&&Uh.i(t,"function",bs,"memberAdded"),this.yr=t,this.j("memberAdded",e,t))}),Uh.g(bs,"memberRemoved",bs.prototype.BF),Uh.defineProperty(bs,{BF:"memberRemoved"},function(){return this.Ar},function(t){var e=this.Ar;e!==t&&(null!==t&&Uh.i(t,"function",bs,"memberRemoved"),this.Ar=t,this.j("memberRemoved",e,t))}),Uh.g(bs,"memberValidation",bs.prototype.Ft),Uh.defineProperty(bs,{Ft:"memberValidation"},function(){return this.Sk},function(t){var e=this.Sk;e!==t&&(null!==t&&Uh.i(t,"function",bs,"memberValidation"),this.Sk=t,this.j("memberValidation",e,t))}),bs.prototype.canAddMembers=function(t){var e=this.h;if(null===e)return!1;for(e=e.zb,t=Dt(t).k;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},bs.prototype.addMembers=function(t,e){var i=this.h;if(null===i)return!1;for(var i=i.zb,n=!0,o=Dt(t).k;o.next();){var r=o.value;!e||i.isValidMember(this,r)?r.Va=this:n=!1}return n},Uh.g(bs,"ungroupable",bs.prototype.UG),Uh.defineProperty(bs,{UG:"ungroupable"},function(){return this.Os},function(t){var e=this.Os;e!==t&&(Uh.i(t,"boolean",bs,"ungroupable"),this.Os=t,this.j("ungroupable",e,t))}),bs.prototype.canUngroup=function(){if(!this.UG)return!1;var t=this.layer;return null===t||t.Jo?(t=t.h,null===t||t.Jo?!0:!1):!1},bs.prototype.invalidateConnectedLinks=bs.prototype.yf=function(t){void 0===t&&(t=null),Cr.prototype.yf.call(this,t);for(var e=this.EE();e.next();){var i=e.value;if(null===t||!t.contains(i)){var n=i.Z;null!==n&&n.Uh(this)&&!n.Ja()?i.$b():(n=i.da,null!==n&&n.Uh(this)&&!n.Ja()&&i.$b())}}},bs.prototype.findExternalLinksConnected=bs.prototype.EE=function(){var t=this.Xo();t.add(this);for(var e=new c(Nr),i=t.k;i.next();){var n=i.value;if(n instanceof Cr)for(n=n.ue;n.next();){var o=n.value;t.contains(o)||e.add(o)}}return e.k},bs.prototype.findExternalNodesConnected=function(){var t=this.Xo();t.add(this);for(var e=new c(Cr),i=t.k;i.next();){var n=i.value;if(n instanceof Cr)for(n=n.ue;n.next();){var o=n.value,r=o.Z;t.contains(r)&&r!==this||e.add(r),o=o.da,t.contains(o)&&o!==this||e.add(o)}}return e.k},bs.prototype.findSubGraphParts=bs.prototype.Xo=function(){var t=new c(er);return Tt(t,this,!0,0,!0),t.remove(this),t},bs.prototype.Qe=function(t){Cr.prototype.Qe.call(this,t);for(var e=this.Qc;e.next();)e.value.Qe(t)},bs.prototype.collapseSubGraph=bs.prototype.collapseSubGraph=function(){var t=this.h;if(null!==t&&!t.de){t.de=!0;var e=this.Xo();Cs(this,e),t.de=!1}},bs.prototype.expandSubGraph=bs.prototype.expandSubGraph=function(){var t=this.h;if(null!==t&&!t.de){var e=t.Pb;0!==t.la.Ve&&e.zl(),t.de=!0;var i=this.Xo();ks(this,i,e,this),t.de=!1}},Uh.g(bs,"isSubGraphExpanded",bs.prototype.Md),Uh.defineProperty(bs,{Md:"isSubGraphExpanded"},function(){return this.cr},function(t){var e=this.cr;if(e!==t){Uh.i(t,"boolean",bs,"isSubGraphExpanded"),this.cr=t;var i=this.h;if(this.j("isSubGraphExpanded",e,t),e=this.FG,null!==e){var n=!0;null!==i&&(n=i.Pa,i.Pa=!0),e(this),null!==i&&(i.Pa=n)}null!==i&&i.la.Cb||(t?this.expandSubGraph():this.collapseSubGraph())}}),Uh.g(bs,"wasSubGraphExpanded",bs.prototype.Jx),Uh.defineProperty(bs,{Jx:"wasSubGraphExpanded"},function(){return this.Ps},function(t){var e=this.Ps;e!==t&&(Uh.i(t,"boolean",bs,"wasSubGraphExpanded"),this.Ps=t,this.j("wasSubGraphExpanded",e,t))}),Uh.g(bs,"subGraphExpandedChanged",bs.prototype.FG),Uh.defineProperty(bs,{FG:"subGraphExpandedChanged"},function(){return this.Es},function(t){var e=this.Es;e!==t&&(null!==t&&Uh.i(t,"function",bs,"subGraphExpandedChanged"),this.Es=t,this.j("subGraphExpandedChanged",e,t))}),bs.prototype.move=bs.prototype.move=function(t){var e=this.position,i=e.x;isNaN(i)&&(i=0),e=e.y,isNaN(e)&&(e=0);var i=t.x-i,e=t.y-e,n=Uh.ic(i,e);for(Cr.prototype.move.call(this,t),t=this.Xo().k;t.next();){var o=t.value;if(!(o instanceof Nr||o instanceof Cr&&o.zf)){var r=o.position,s=o.location;r.J()?(n.x=r.x+i,n.y=r.y+e,o.position=n):s.J()&&(n.x=s.x+i,n.y=s.y+e,o.location=n)}}for(t.reset();t.next();)o=t.value,o instanceof Nr&&(r=o.position,n.x=r.x+i,n.y=r.y+e,o.move(n));Uh.B(n)},Uh.Ia(As,Sn),Uh.ja("Placeholder",As),As.prototype.cloneProtected=function(t){Sn.prototype.cloneProtected.call(this,t),t.$e=this.$e.ba(),t.ps=this.ps.copy()},As.prototype.Uj=function(t){if(null===this.background&&null===this.el)return!1;var e=this.Ka;return Zh(0,0,e.width,e.height,t.x,t.y)},As.prototype.xp=function(){var t=this.V;if(null!==t&&(t instanceof bs||t instanceof xr)||Uh.m("Placeholder is not inside a Group or Adornment."),t instanceof bs){var e=this.computeBorder(this.ps),i=this.Kc;A(i,e.width||0,e.height||0),Mn(this,0,0,i.width,i.height);for(var i=t.Qc,n=!1;i.next();)if(i.value.Ja()){n=!0;break}!n||isNaN(e.x)||isNaN(e.y)||(i=new b,i.bu(e,t.Pe),t.location=new b(i.x,i.y))}else{var e=this.ya,i=this.Kc,n=this.padding,o=n.left+n.right,r=n.top+n.bottom;if(e.J())A(i,e.width+o||0,e.height+r||0),Mn(this,-n.left,-n.top,i.width,i.height);else{var s=t.wc,a=s.qb(nl,Uh.M()),e=Uh.lk(a.x,a.y,0,0);e.Zi(s.qb(cl,a)),e.Zi(s.qb(rl,a)),e.Zi(s.qb(ll,a)),t.Yg.o(e.x,e.y),A(i,e.width+o||0,e.height+r||0),Mn(this,-n.left,-n.top,i.width,i.height),Uh.B(a),Uh.nc(e)}}},As.prototype.Hi=function(t,e,i,n){var o=this.ea;o.x=t,o.y=e,o.width=i,o.height=n},As.prototype.computeBorder=function(t){var e=this.V;if(e instanceof bs){var i=e;if(i.Sz&&this.ps.J()){var n=i.h;if(null!==n&&(n=n.Wa,n instanceof Bt&&!n.Dq&&null!==n.Zb&&!n.Zb.contains(i)))return t.assign(this.ps),t}}var i=Uh.$f(),n=this.computeMemberBounds(i),o=this.padding;return t.o(n.x-o.left,n.y-o.top,n.width+o.left+o.right,n.height+o.top+o.bottom),Uh.nc(i),e instanceof bs&&(i=e,i.hE&&i.location.J()&&t.Zi(i.location)),t},As.prototype.computeMemberBounds=function(t){if(!(this.V instanceof bs))return t.o(0,0,0,0),t;for(var e=this.V,i=1/0,n=1/0,o=-(1/0),r=-(1/0),s=e.Qc;s.next();){var a=s.value;if(a.Ja()){if(a instanceof Nr){var h=a;if(!e.gE)continue;if(Un(h))continue;if(h.Z===e||h.da===e)continue}a=a.ea,a.left<i&&(i=a.left),a.top<n&&(n=a.top),a.right>o&&(o=a.right),a.bottom>r&&(r=a.bottom)}}return isFinite(i)&&isFinite(n)?t.o(i,n,o-i,r-n):(e=e.location,i=this.padding,t.o(e.x+i.left,e.y+i.top,0,0)),t},Uh.g(As,"padding",As.prototype.padding),Uh.defineProperty(As,{padding:"padding"},function(){return this.$e},function(t){"number"==typeof t?((isNaN(t)||0>t)&&Uh.ka(t,">= 0",As,"padding"),t=new M(t)):(Uh.l(t,M,As,"padding"),(isNaN(t.left)||0>t.left)&&Uh.ka(t.left,">= 0",As,"padding:value.left"),(isNaN(t.right)||0>t.right)&&Uh.ka(t.right,">= 0",As,"padding:value.right"),(isNaN(t.top)||0>t.top)&&Uh.ka(t.top,">= 0",As,"padding:value.top"),(isNaN(t.bottom)||0>t.bottom)&&Uh.ka(t.bottom,">= 0",As,"padding:value.bottom"));var e=this.$e;e.L(t)||(this.$e=t=t.ba(),this.j("padding",e,t))}),Uh.ja("Layout",Ss),Ss.prototype.cloneProtected=function(t){t.Zq=this.Zq,t.Xq=this.Xq,t.hr=this.hr,t.iq.assign(this.iq),t.br=this.br,t.$q=this.$q,t.cC=this.cC,this.Xq||(t.bo=!0)},Ss.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Ss.prototype.toString=function(){var t=Uh.yg(Object.getPrototypeOf(this)),t=t+"(";return null!==this.group&&(t+=" in "+this.group),null!==this.h&&(t+=" for "+this.h),t+")"},Uh.g(Ss,"diagram",Ss.prototype.h),Uh.defineProperty(Ss,{h:"diagram"},function(){return this.Y},function(t){null!==t&&Uh.l(t,Ue,Ss,"diagram"),this.Y=t}),Uh.g(Ss,"group",Ss.prototype.group),Uh.defineProperty(Ss,{group:"group"},function(){return this.My},function(t){this.My!==t&&(null!==t&&Uh.l(t,bs,Ss,"group"),this.My=t,null!==t&&(this.Y=t.h))}),Uh.g(Ss,"isOngoing",Ss.prototype.lF),Uh.defineProperty(Ss,{lF:"isOngoing"},function(){return this.Zq},function(t){this.Zq!==t&&(Uh.i(t,"boolean",Ss,"isOngoing"),this.Zq=t)}),Uh.g(Ss,"isInitial",Ss.prototype.jF),Uh.defineProperty(Ss,{jF:"isInitial"},function(){return this.Xq},function(t){Uh.i(t,"boolean",Ss,"isInitial"),this.Xq=t,t||(this.bo=!0)}),Uh.g(Ss,"isViewportSized",Ss.prototype.Ct),Uh.defineProperty(Ss,{Ct:"isViewportSized"},function(){return this.hr},function(t){this.hr!==t&&(Uh.i(t,"boolean",Ss,"isViewportSized"),(this.hr=t)&&this.K())}),Uh.g(Ss,"isRouting",Ss.prototype.Bt),Uh.defineProperty(Ss,{Bt:"isRouting"},function(){return this.br},function(t){this.br!==t&&(Uh.i(t,"boolean",Ss,"isRouting"),this.br=t)}),Uh.g(Ss,"isRealtime",Ss.prototype.wA),Uh.defineProperty(Ss,{wA:"isRealtime"},function(){return this.$q},function(t){this.$q!==t&&(Uh.i(t,"boolean",Ss,"isRealtime"),this.$q=t)}),Uh.g(Ss,"isValidLayout",Ss.prototype.gf),Uh.defineProperty(Ss,{gf:"isValidLayout"},function(){return this.bo},function(t){this.bo!==t&&(Uh.i(t,"boolean",Ss,"isValidLayout"),this.bo=t,t||(t=this.h,null!==t&&(t.xu=!0)))}),Ss.prototype.invalidateLayout=Ss.prototype.K=function(){if(this.bo){var t=this.h;if(null!==t&&!t.la.Cb){var e=t.Pb;!e.dr&&(e.fh&&e.Xi(),this.lF&&t.rf||this.jF&&!t.rf)&&(this.gf=!1,t.Se())}}},Uh.g(Ss,"network",Ss.prototype.network),Uh.defineProperty(Ss,{network:"network"},function(){return this.bz},function(t){var e=this.bz;e!==t&&(null!==t&&Uh.l(t,Es,Ss,"network"),null!==e&&(e.Lb=null),this.bz=t,null!==t&&(t.Lb=this))}),Ss.prototype.createNetwork=function(){return new Es},Ss.prototype.makeNetwork=function(t){var e=this.createNetwork();return e.Lb=this,t instanceof Ue?(e.Qj(t.Gg,!0),e.Qj(t.links,!0)):t instanceof bs?e.Qj(t.Qc):e.Qj(t.k),e},Ss.prototype.updateParts=function(){var t=this.h;if(null===t&&null!==this.network)for(var e=this.network.vertexes.k;e.next();){var i=e.value.Cc;if(null!==i&&(t=i.h,null!==t))break}this.gf=!0;try{null!==t&&t.ac("Layout"),this.commitLayout()}finally{null!==t&&t.$d("Layout")}},Ss.prototype.commitLayout=function(){},Ss.prototype.doLayout=function(t){null===t&&Uh.m("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var e=new c(er);t instanceof Ue?(Fs(this,e,t.Gg,!0,this.DA,!0,!1,!0),Fs(this,e,t.hk,!0,this.DA,!0,!1,!0)):t instanceof bs?Fs(this,e,t.Qc,!1,this.DA,!0,!1,!0):e.Ce(t.k);var i=e.count;if(i>0){t=this.h,null!==t&&t.ac("Layout");for(var i=Math.ceil(Math.sqrt(i)),n=this.Hd.x,o=n,r=this.Hd.y,s=0,a=0,e=e.k;e.next();){var h=e.value;h.vf();var l=h.Fa,u=l.width,l=l.height;h.moveTo(o,r),h.az=!1,o+=Math.max(u,50)+20,a=Math.max(a,Math.max(l,50)),s>=i-1?(s=0,o=n,r+=a+20,a=0):s++}null!==t&&t.$d("Layout")}this.gf=!0},Ss.prototype.DA=function(t){return!t.location.J()||t instanceof bs&&t.az?!0:!1},Ss.prototype.collectParts=function(t){var e=new c(er);return t instanceof Ue?(Fs(this,e,t.Gg,!0,null,!0,!0,!0),Fs(this,e,t.links,!0,null,!0,!0,!0),Fs(this,e,t.hk,!0,null,!0,!0,!0)):t instanceof bs?Fs(this,e,t.Qc,!1,null,!0,!0,!0):Fs(this,e,t.k,!1,null,!0,!0,!0),e},Uh.g(Ss,"arrangementOrigin",Ss.prototype.Hd),Uh.defineProperty(Ss,{Hd:"arrangementOrigin"},function(){return this.iq},function(t){Uh.l(t,b,Ss,"arrangementOrigin"),this.iq.L(t)||(this.iq.assign(t),this.K())}),Ss.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var i=e.position.copy();return(isNaN(i.x)||isNaN(i.y))&&i.set(t),e=e.placeholder,null!==e&&(i=e.qb(nl),(isNaN(i.x)||isNaN(i.y))&&i.set(t),i.x+=e.padding.left,i.y+=e.padding.top),i}return t},Uh.ja("LayoutNetwork",Es),Es.prototype.clear=function(){if(this.vertexes)for(var t=this.vertexes.k;t.next();){var e=t.value;e.clear(),e.network=null}if(this.edges)for(t=this.edges.k;t.next();)e=t.value,e.clear(),e.network=null;this.vertexes=new c(Ls),this.edges=new c(Bs),this.GA=new v(Cr,Ls),this.xA=new v(Nr,Bs)},Es.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.Lb?"("+this.Lb.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count,t>1){for(var i=this.vertexes.k;i.next();)e+="\n    "+i.value.toString(t-1);for(i=this.edges.k;i.next();)e+="\n    "+i.value.toString(t-1)}return e},Uh.defineProperty(Es,{Lb:"layout"},function(){return this.Td},function(t){Vh&&null!==t&&Uh.l(t,Ss,Es,"layout"),this.Td=t}),Es.prototype.createVertex=function(){return new Ls},Es.prototype.createEdge=function(){return new Bs},Es.prototype.addParts=Es.prototype.Qj=function(t,e,i){if(null!==t){for(void 0===e&&(e=!1),Uh.i(e,"boolean",Es,"addParts:toplevelonly"),void 0===i&&(i=null),null===i&&(i=function(t){if(t instanceof Cr)return!t.zf;if(t instanceof Nr){var e=t.Z;return null===e||e.zf?!1:(t=t.da,null===t||t.zf?!1:!0)}return!1}),t=t.k;t.next();){var n=t.value;if(n instanceof Cr&&(!e||n.Yw)&&n.canLayout()&&i(n))if(n instanceof bs&&null===n.Lb)this.Qj(n.Qc,!1);else if(null===this.Sm(n)){var o=this.createVertex();o.Cc=n,this.dl(o)}}for(t.reset();t.next();)if(n=t.value,n instanceof Nr&&(!e||n.Yw)&&n.canLayout()&&i(n)&&null===this.Ew(n)){var r=n.Z,o=n.da;null!==r&&null!==o&&r!==o&&(r=this.findGroupVertex(r),o=this.findGroupVertex(o),null!==r&&null!==o&&this.wp(r,o,n))}}},Es.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(t=this.Sm(e),null!==t)return t;for(e=e.Va;null!==e;){if(t=this.Sm(e),null!==t)return t;e=e.Va}return null},Es.prototype.addVertex=Es.prototype.dl=function(t){if(null!==t){Vh&&Uh.l(t,Ls,Es,"addVertex:vertex"),this.vertexes.add(t);var e=t.Cc;null!==e&&this.GA.add(e,t),t.network=this}},Es.prototype.addNode=Es.prototype.Us=function(t){if(null===t)return null;Vh&&Uh.l(t,Cr,Es,"addNode:node");var e=this.Sm(t);return null===e&&(e=this.createVertex(),e.Cc=t,this.dl(e)),e},Es.prototype.deleteVertex=Es.prototype.yE=function(t){if(null!==t&&(Vh&&Uh.l(t,Ls,Es,"deleteVertex:vertex"),Ts(this,t))){for(var e=t.Te,i=e.count-1;i>=0;i--){var n=e.na(i);this.So(n)}for(e=t.Me,i=e.count-1;i>=0;i--)n=e.na(i),this.So(n)}},Es.prototype.deleteNode=function(t){null!==t&&(Vh&&Uh.l(t,Cr,Es,"deleteNode:node"),t=this.Sm(t),null!==t&&this.yE(t))},Es.prototype.findVertex=Es.prototype.Sm=function(t){return null===t?null:(Vh&&Uh.l(t,Cr,Es,"findVertex:node"),this.GA.Aa(t))},Es.prototype.addEdge=Es.prototype.Do=function(t){if(null!==t){Vh&&Uh.l(t,Bs,Es,"addEdge:edge"),this.edges.add(t);var e=t.link;null!==e&&null===this.Ew(e)&&this.xA.add(e,t),e=t.toVertex,null!==e&&e.ND(t),e=t.fromVertex,null!==e&&e.MD(t),t.network=this}},Es.prototype.addLink=function(t){if(null===t)return null;Vh&&Uh.l(t,Nr,Es,"addLink:link");var e=t.Z,i=t.da,n=this.Ew(t);return null===n?(n=this.createEdge(),n.link=t,null!==e&&(n.fromVertex=this.Us(e)),null!==i&&(n.toVertex=this.Us(i)),this.Do(n)):(n.fromVertex=null!==e?this.Us(e):null,n.toVertex=null!==i?this.Us(i):null),n},Es.prototype.deleteEdge=Es.prototype.So=function(t){if(null!==t){Vh&&Uh.l(t,Bs,Es,"deleteEdge:edge");var e=t.toVertex;null!==e&&e.xE(t),e=t.fromVertex,null!==e&&e.wE(t),Ms(this,t)}},Es.prototype.deleteLink=function(t){null!==t&&(Vh&&Uh.l(t,Nr,Es,"deleteLink:link"),t=this.Ew(t),null!==t&&this.So(t))},Es.prototype.findEdge=Es.prototype.Ew=function(t){return null===t?null:(Vh&&Uh.l(t,Nr,Es,"findEdge:link"),this.xA.Aa(t))},Es.prototype.linkVertexes=Es.prototype.wp=function(t,e,i){if(null===t||null===e)return null;if(Vh&&(Uh.l(t,Ls,Es,"linkVertexes:fromVertex"),Uh.l(e,Ls,Es,"linkVertexes:toVertex"),null!==i&&Uh.l(i,Nr,Es,"linkVertexes:link")),
t.network===this&&e.network===this){var n=this.createEdge();return n.link=i,n.fromVertex=t,n.toVertex=e,this.Do(n),n}return null},Es.prototype.reverseEdge=Es.prototype.tx=function(t){if(null!==t){Vh&&Uh.l(t,Bs,Es,"reverseEdge:edge");var e=t.fromVertex,i=t.toVertex;null!==e&&null!==i&&(e.wE(t),i.xE(t),t.tx(),e.ND(t),i.MD(t))}},Es.prototype.deleteSelfEdges=Es.prototype.zw=function(){for(var t=Uh.lb(),e=this.edges.k;e.next();){var i=e.value;i.fromVertex===i.toVertex&&t.push(i)}for(e=t.length,i=0;e>i;i++)this.So(t[i]);Uh.xa(t)},Es.prototype.deleteArtificialVertexes=function(){for(var t=Uh.lb(),e=this.vertexes.k;e.next();){var i=e.value;null===i.Cc&&t.push(i)}for(i=t.length,e=0;i>e;e++)this.yE(t[e]);for(i=Uh.lb(),e=this.edges.k;e.next();){var n=e.value;null===n.link&&i.push(n)}for(n=i.length,e=0;n>e;e++)this.So(i[e]);Uh.xa(t),Uh.xa(i)},Es.prototype.splitIntoSubNetworks=Es.prototype.XJ=function(){this.deleteArtificialVertexes(),Ds(this),this.zw();for(var t=new l(Es),e=!0;e;)for(var e=!1,i=this.vertexes.k;i.next();){var n=i.value;if(0<n.Te.count||0<n.Me.count){e=this.Lb.createNetwork(),t.add(e),Ps(this,e,n),e=!0;break}}return t.sort(function(t,e){return null===t||null===e||t===e?0:e.vertexes.count-t.vertexes.count}),t},Es.prototype.findAllParts=function(){for(var t=new c(er),e=this.vertexes.k;e.next();)t.add(e.value.Cc);for(e=this.edges.k;e.next();)t.add(e.value.link);return t},Uh.ja("LayoutVertex",Ls),Ls.prototype.clear=function(){this.pd=this.rh=null,this.Te=new l(Bs),this.Me=new l(Bs)},Ls.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Uh.Yc(this);if(t>0&&(e+=null!==this.Cc?"("+this.Cc.toString()+")":"",t>1)){t="";for(var i=!0,n=this.Te.k;n.next();){var o=n.value;i?i=!1:t+=",",t+=o.toString(0)}for(o="",i=!0,n=this.Me.k;n.next();){var r=n.value;i?i=!1:o+=",",o+=r.toString(0)}e+=" sources: "+t+" destinations: "+o}return e},Uh.g(Ls,"data",Ls.prototype.data),Uh.defineProperty(Ls,{data:"data"},function(){return this.rh},function(t){if(this.rh=t,null!==t){var e=t.bounds;t=e.x;var i=e.y,n=e.width,e=e.height;this.O.o(n/2,e/2),this.ca.o(t,i,n,e)}}),Uh.g(Ls,"node",Ls.prototype.Cc),Uh.defineProperty(Ls,{Cc:"node"},function(){return this.pd},function(t){if(this.pd!==t){Vh&&null!==t&&Uh.l(t,Cr,Ls,"node"),this.pd=t,t.vf();var e=t.ea,i=e.x,n=e.y,o=e.width,e=e.height;if(isNaN(i)&&(i=0),isNaN(n)&&(n=0),this.ca.o(i,n,o,e),!(t instanceof bs)&&(t=t.hc.qb(al),t.J()))return void this.O.o(t.x-i,t.y-n);this.O.o(o/2,e/2)}}),Uh.g(Ls,"bounds",Ls.prototype.kb),Uh.defineProperty(Ls,{kb:"bounds"},function(){return this.ca},function(t){this.ca.L(t)||(Vh&&Uh.l(t,k,Ls,"bounds"),this.ca.assign(t))}),Uh.g(Ls,"focus",Ls.prototype.focus),Uh.defineProperty(Ls,{focus:"focus"},function(){return this.O},function(t){this.O.L(t)||(Vh&&Uh.l(t,b,Ls,"focus"),this.O.assign(t))}),Uh.g(Ls,"centerX",Ls.prototype.Ca),Uh.defineProperty(Ls,{Ca:"centerX"},function(){return this.ca.x+this.O.x},function(t){var e=this.ca;e.x+this.O.x!==t&&(Vh&&Uh.p(t,Ls,"centerX"),e.Na(),e.x=t-this.O.x,e.freeze())}),Uh.g(Ls,"centerY",Ls.prototype.Ra),Uh.defineProperty(Ls,{Ra:"centerY"},function(){return this.ca.y+this.O.y},function(t){var e=this.ca;e.y+this.O.y!==t&&(Vh&&Uh.p(t,Ls,"centerY"),e.Na(),e.y=t-this.O.y,e.freeze())}),Uh.g(Ls,"focusX",Ls.prototype.Zo),Uh.defineProperty(Ls,{Zo:"focusX"},function(){return this.O.x},function(t){var e=this.O;e.x!==t&&(e.Na(),e.x=t,e.freeze())}),Uh.g(Ls,"focusY",Ls.prototype.$o),Uh.defineProperty(Ls,{$o:"focusY"},function(){return this.O.y},function(t){var e=this.O;e.y!==t&&(e.Na(),e.y=t,e.freeze())}),Uh.g(Ls,"x",Ls.prototype.x),Uh.defineProperty(Ls,{x:"x"},function(){return this.ca.x},function(t){var e=this.ca;e.x!==t&&(e.Na(),e.x=t,e.freeze())}),Uh.g(Ls,"y",Ls.prototype.y),Uh.defineProperty(Ls,{y:"y"},function(){return this.ca.y},function(t){var e=this.ca;e.y!==t&&(e.Na(),e.y=t,e.freeze())}),Uh.g(Ls,"width",Ls.prototype.width),Uh.defineProperty(Ls,{width:"width"},function(){return this.ca.width},function(t){var e=this.ca;e.width!==t&&(e.Na(),e.width=t,e.freeze())}),Uh.g(Ls,"height",Ls.prototype.height),Uh.defineProperty(Ls,{height:"height"},function(){return this.ca.height},function(t){var e=this.ca;e.height!==t&&(e.Na(),e.height=t,e.freeze())}),Ls.prototype.commit=function(){var t=this.rh;if(null!==t){var e=this.kb,i=t.bounds;Uh.Xa(i)?(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height):t.bounds=e.copy()}else if(t=this.Cc,null!==t){if(e=this.kb,!(t instanceof bs)){var i=t.ea,n=t.hc.qb(al);if(i.J()&&n.J())return void t.moveTo(e.x+this.Zo-(n.x-i.x),e.y+this.$o-(n.y-i.y))}t.moveTo(e.x,e.y)}},Ls.prototype.addSourceEdge=Ls.prototype.ND=function(t){null!==t&&(Vh&&Uh.l(t,Bs,Ls,"addSourceEdge:edge"),this.Te.contains(t)||this.Te.add(t))},Ls.prototype.deleteSourceEdge=Ls.prototype.xE=function(t){null!==t&&(Vh&&Uh.l(t,Bs,Ls,"deleteSourceEdge:edge"),this.Te.remove(t))},Ls.prototype.addDestinationEdge=Ls.prototype.MD=function(t){null!==t&&(Vh&&Uh.l(t,Bs,Ls,"addDestinationEdge:edge"),this.Me.contains(t)||this.Me.add(t))},Ls.prototype.deleteDestinationEdge=Ls.prototype.wE=function(t){null!==t&&(Vh&&Uh.l(t,Bs,Ls,"deleteDestinationEdge:edge"),this.Me.remove(t))},Uh.A(Ls,{UJ:"sourceVertexes"},function(){for(var t=new c(Ls),e=this.rc;e.next();)t.add(e.value.fromVertex);return t.k}),Uh.A(Ls,{AI:"destinationVertexes"},function(){for(var t=new c(Ls),e=this.fc;e.next();)t.add(e.value.toVertex);return t.k}),Uh.A(Ls,{vertexes:"vertexes"},function(){for(var t=new c(Ls),e=this.rc;e.next();)t.add(e.value.fromVertex);for(e=this.fc;e.next();)t.add(e.value.toVertex);return t.k}),Uh.A(Ls,{rc:"sourceEdges"},function(){return this.Te.k}),Uh.A(Ls,{fc:"destinationEdges"},function(){return this.Me.k}),Uh.A(Ls,{edges:"edges"},function(){for(var t=new l(Bs),e=this.rc;e.next();)t.add(e.value);for(e=this.fc;e.next();)t.add(e.value);return t.k}),Uh.A(Ls,{GI:"edgesCount"},function(){return this.Te.count+this.Me.count});var mf;Ls.standardComparer=mf=function(t,e){Vh&&Uh.l(t,Ls,Ls,"standardComparer:m"),Vh&&Uh.l(e,Ls,Ls,"standardComparer:n");var i=t.pd,n=e.pd;return i?n?(i=i.text,n=n.text,n>i?-1:i>n?1:0):1:null!==n?-1:0},Ls.smartComparer=function(t,e){if(Vh&&Uh.l(t,Ls,Ls,"smartComparer:m"),Vh&&Uh.l(e,Ls,Ls,"smartComparer:n"),null!==t){if(null!==e){var i=t.pd,n=e.pd;if(null!==i){if(null!==n){for(var i=i.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=n.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<i.length;o++)if(""!==n[o]&&void 0!==n[o]){var r=parseFloat(i[o]),s=parseFloat(n[o]);if(isNaN(r)){if(!isNaN(s))return 1;if(0!==i[o].localeCompare(n[o]))return i[o].localeCompare(n[o])}else{if(isNaN(s))return-1;if(0!==r-s)return r-s}}else if(""!==i[o])return 1;return""!==n[o]&&void 0!==n[o]?-1:0}return 1}return null!==n?-1:0}return 1}return null!==e?-1:0},Uh.ja("LayoutEdge",Bs),Bs.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null},Bs.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Uh.Yc(this);return t>0&&(e+=null!==this.link?"("+this.link.toString()+")":"",t>1&&(e+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --> "+(this.toVertex?this.toVertex.toString():"null"))),e},Bs.prototype.tx=function(){var t=this.fromVertex;this.fromVertex=this.toVertex,this.toVertex=t},Bs.prototype.commit=function(){},Bs.prototype.getOtherVertex=Bs.prototype.LI=function(t){return Vh&&Uh.l(t,Ls,Bs,"getOtherVertex:v"),this.toVertex===t?this.fromVertex:this.fromVertex===t?this.toVertex:null},Uh.Ia(Ns,Ss),Uh.ja("GridLayout",Ns),Ns.prototype.cloneProtected=function(t){Ss.prototype.cloneProtected.call(this,t),t.Ss=this.Ss,t.Rs=this.Rs,t.cj.assign(this.cj),t.Jh.assign(this.Jh),t.xe=this.xe,t.bd=this.bd,t.Ih=this.Ih,t.qh=this.qh},Ns.prototype.doLayout=function(t){null===t&&Uh.m("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),this.Hd=this.initialOrigin(this.Hd);var e=this.h,i=new c(er);for(t instanceof Ue?(e=t,Fs(this,i,t.Gg,!0,null,!0,!0,!0),Fs(this,i,t.links,!0,null,!0,!0,!0),Fs(this,i,t.hk,!0,null,!0,!0,!0)):t instanceof bs?(e=t.h,Fs(this,i,t.Qc,!1,null,!0,!0,!0)):i.Ce(t.k),t=i.copy().k;t.next();){var n=t.value;if(n instanceof Nr){var o=n;if(null!==o.Z||null!==o.da){i.remove(o);continue}}if(n.vf(),n instanceof bs)for(n=n.Qc;n.next();)i.remove(n.value)}if(o=i.Ue(),0!==o.length){switch(this.sorting){case kf:o.reverse();break;case Af:o.sort(this.comparer);break;case Sf:o.sort(this.comparer),o.reverse()}var r=this.$G;isNaN(r)&&(r=0);var s=this.tB,s=isNaN(s)&&null!==e?Math.max(e.tb.width-e.padding.left-e.padding.right,0):Math.max(this.tB,0);switch(0>=r&&0>=s&&(r=1),i=this.spacing.width,isFinite(i)||(i=0),t=this.spacing.height,isFinite(t)||(t=0),null!==e&&e.ac("Layout"),n=[],this.alignment){case yf:var a=i,h=t,l=Math.max(this.fl.width,1);if(!isFinite(l))for(var u=l=0;u<o.length;u++)var f=o[u],d=f.Fa,l=Math.max(l,d.width);var l=Math.max(l+a,1),p=Math.max(this.fl.height,1);if(!isFinite(p))for(u=p=0;u<o.length;u++)f=o[u],d=f.Fa,p=Math.max(p,d.height);for(var p=Math.max(p+h,1),g=this.Ge,m=this.Hd.x,v=m,y=this.Hd.y,w=0,x=0,u=0;u<o.length;u++){var f=o[u],d=f.Fa,C=Math.ceil((d.width+a)/l)*l,A=Math.ceil((d.height+h)/p)*p,S=0;switch(g){case xf:S=Math.abs(v-d.width);break;default:S=v+d.width}switch((r>0&&w>r-1||s>0&&w>0&&S>s)&&(n.push(new k(0,y,s+a,x)),w=0,v=m,y+=x,x=0),x=Math.max(x,A),A=0,g){case xf:A=-d.width;break;default:A=0}switch(f.moveTo(v+A,y),g){case xf:v-=C;break;default:v+=C}w++}n.push(new k(0,y,s+a,x));break;case bf:for(a=r,h=i,l=t,u=Math.max(this.fl.width,1),f=y=C=0,d=Uh.M(),r=0;r<o.length;r++)p=o[r],g=p.Fa,m=sr(p,p.hc,p.Pe,d),C=Math.max(C,m.x),y=Math.max(y,g.width-m.x),f=Math.max(f,m.y);switch(v=this.Ge){case xf:C+=h;break;default:y+=h}var u=isFinite(u)?Math.max(u+h,1):Math.max(C+y,1),F=y=this.Hd.x,w=this.Hd.y,x=0;s>=C&&(s-=C);for(var C=A=0,S=Math.max(this.fl.height,1),E=f=0,T=!0,M=Uh.M(),r=0;r<o.length;r++){if(p=o[r],g=p.Fa,m=sr(p,p.hc,p.Pe,d),x>0)switch(v){case xf:F=Math.floor((F-y-(g.width-m.x))/u)*u+y;break;default:F=Math.ceil((F-y+m.x)/u)*u+y}else switch(v){case xf:A=F+m.x+g.width;break;default:A=F-m.x}var D=0;switch(v){case xf:D=-(F+m.x)+A;break;default:D=F+g.width-m.x-A}if(a>0&&x>a-1||s>0&&x>0&&D>s){for(n.push(new k(0,T?w-f:w,s+h,E+f+l)),F=0;x>F&&r!==x;F++){var D=o[r-x+F],P=sr(D,D.hc,D.Pe,M);D.moveTo(D.position.x,D.position.y+f-P.y)}E+=l,w=T?w+E:w+(E+f),x=E=f=0,F=y,T=!1}switch(F===y&&(C=v===xf?Math.max(C,g.width-m.x):Math.min(C,-m.x)),f=Math.max(f,m.y),E=Math.max(E,g.height-m.y),isFinite(S)&&(E=Math.max(E,Math.max(g.height,S)-m.y)),T?p.moveTo(F-m.x,w-m.y):p.moveTo(F-m.x,w),v){case xf:F-=m.x+h;break;default:F+=g.width-m.x+h}x++}for(n.push(new k(0,w,s+h,(T?E:E+f)+l)),F=0;x>F&&r!==x;F++)D=o[r-x+F],P=sr(D,D.hc,D.Pe,d),D.moveTo(D.position.x,D.position.y+f-P.y);if(Uh.B(d),Uh.B(M),v===xf)for(r=0;r<n.length;r++)o=n[r],o.width+=C,o.x-=C;else for(r=0;r<n.length;r++)o=n[r],o.x>C&&(o.width+=o.x-C,o.x=C)}for(a=r=s=o=0;a<n.length;a++)h=n[a],o=Math.min(o,h.x),s=Math.min(s,h.y),r=Math.max(r,h.x+h.width);this.Ge===xf?this.commitLayers(n,new b(o+i/2-(r+o),s-t/2)):this.commitLayers(n,new b(o-i/2,s-t/2)),null!==e&&e.$d("Layout"),this.gf=!0}},Ns.prototype.commitLayers=function(){},Uh.g(Ns,"wrappingWidth",Ns.prototype.tB),Uh.defineProperty(Ns,{tB:"wrappingWidth"},function(){return this.Ss},function(t){this.Ss!==t&&(Uh.i(t,"number",Ns,"wrappingWidth"),t>0||isNaN(t))&&(this.Ss=t,this.Ct=isNaN(t),this.K())}),Uh.g(Ns,"wrappingColumn",Ns.prototype.$G),Uh.defineProperty(Ns,{$G:"wrappingColumn"},function(){return this.Rs},function(t){this.Rs!==t&&(Uh.i(t,"number",Ns,"wrappingColumn"),t>0||isNaN(t))&&(this.Rs=t,this.K())}),Uh.g(Ns,"cellSize",Ns.prototype.fl),Uh.defineProperty(Ns,{fl:"cellSize"},function(){return this.cj},function(t){Uh.l(t,C,Ns,"cellSize"),this.cj.L(t)||(this.cj.assign(t),this.K())}),Uh.g(Ns,"spacing",Ns.prototype.spacing),Uh.defineProperty(Ns,{spacing:"spacing"},function(){return this.Jh},function(t){Uh.l(t,C,Ns,"spacing"),this.Jh.L(t)||(this.Jh.assign(t),this.K())}),Uh.g(Ns,"alignment",Ns.prototype.alignment),Uh.defineProperty(Ns,{alignment:"alignment"},function(){return this.xe},function(t){this.xe!==t&&(Uh.za(t,Ns,Ns,"alignment"),t===bf||t===yf)&&(this.xe=t,this.K())}),Uh.g(Ns,"arrangement",Ns.prototype.Ge),Uh.defineProperty(Ns,{Ge:"arrangement"},function(){return this.bd},function(t){this.bd!==t&&(Uh.za(t,Ns,Ns,"arrangement"),t===wf||t===xf)&&(this.bd=t,this.K())}),Uh.g(Ns,"sorting",Ns.prototype.sorting),Uh.defineProperty(Ns,{sorting:"sorting"},function(){return this.Ih},function(t){this.Ih!==t&&(Uh.za(t,Ns,Ns,"sorting"),t===Cf||t===kf||t===Af||t===Sf)&&(this.Ih=t,this.K())}),Uh.g(Ns,"comparer",Ns.prototype.comparer),Uh.defineProperty(Ns,{comparer:"comparer"},function(){return this.qh},function(t){this.qh!==t&&(Uh.i(t,"function",Ns,"comparer"),this.qh=t,this.K())});var vf;Ns.standardComparer=vf=function(t,e){Vh&&Uh.l(t,er,Ns,"standardComparer:a"),Vh&&Uh.l(e,er,Ns,"standardComparer:b");var i=t.text,n=e.text;return n>i?-1:i>n?1:0},Ns.smartComparer=function(t,e){if(Vh&&Uh.l(t,er,Ns,"standardComparer:a"),Vh&&Uh.l(e,er,Ns,"standardComparer:b"),null!==t){if(null!==e){for(var i=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),n=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<i.length;o++)if(""!==n[o]&&void 0!==n[o]){var r=parseFloat(i[o]),s=parseFloat(n[o]);if(isNaN(r)){if(!isNaN(s))return 1;if(0!==i[o].localeCompare(n[o]))return i[o].localeCompare(n[o])}else{if(isNaN(s))return-1;if(0!==r-s)return r-s}}else if(""!==i[o])return 1;return""!==n[o]&&void 0!==n[o]?-1:0}return 1}return null!==e?-1:0};var yf;Ns.Position=yf=Uh.w(Ns,"Position",0);var bf;Ns.Location=bf=Uh.w(Ns,"Location",1);var wf;Ns.LeftToRight=wf=Uh.w(Ns,"LeftToRight",2);var xf;Ns.RightToLeft=xf=Uh.w(Ns,"RightToLeft",3);var Cf;Ns.Forward=Cf=Uh.w(Ns,"Forward",4);var kf;Ns.Reverse=kf=Uh.w(Ns,"Reverse",5);var Af;Ns.Ascending=Af=Uh.w(Ns,"Ascending",6);var Sf;Ns.Descending=Sf=Uh.w(Ns,"Descending",7),Uh.Ia($s,Ss),Uh.ja("CircularLayout",$s),$s.prototype.cloneProtected=function(t){Ss.prototype.cloneProtected.call(this,t),t.bs=this.bs,t.kq=this.kq,t.Ds=this.Ds,t.Fs=this.Fs,t.bd=this.bd,t.ta=this.ta,t.Ih=this.Ih,t.qh=this.qh,t.Jh=this.Jh,t.Nr=this.Nr},$s.prototype.createNetwork=function(){return new Ks},$s.prototype.doLayout=function(t){if(null===t&&Uh.m("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.network.vertexes,1>=t.count)1===t.count&&(t=t.first(),t.Ca=0,t.Ra=0);else{var e=new l(Ys);e.Ce(t.k),t=new l(Ys);var i,n=new l(Ys);i=this.sort(e);var o=this.Cy,r=this.jC,s=this.Ad,a=this.On,h=this.Dy,u=this.Eq,e=this.Ek,c=this.CD,f=this.sg,d=this.Eu,o=this.Ge,r=this.Lt,s=this.QF;if((!isFinite(s)||0>=s)&&(s=NaN),a=this.SD,(!isFinite(a)||0>=a)&&(a=1),h=this.lh,isFinite(h)||(h=0),u=this.Yh,(!isFinite(u)||u>360||1>u)&&(u=360),e=this.spacing,isFinite(e)||(e=NaN),o===Mf&&r===zf?o=Ff:o===Mf&&r!==zf&&(r=zf,o=this.Ge),(this.direction===Lf||this.direction===Bf)&&this.sorting!==jf){for(var p=0;!(p>=i.length)&&(t.add(i.na(p)),!(p+1>=i.length));p+=2)n.add(i.na(p+1));this.direction===Lf?(this.Ge===Mf&&t.reverse(),i=new l(Ys),i.Ce(t),i.Ce(n)):(this.Ge===Mf&&n.reverse(),i=new l(Ys),i.Ce(n),i.Ce(t))}for(var g=i.length,m=c=0,p=0;p<i.length;p++){var f=h+u*m*(this.direction===Df?1:-1)/g,v=i.na(p).diameter;isNaN(v)&&(v=Js(i.na(p),f)),360>u&&(0===p||p===i.length-1)&&(v/=2),c+=v,m++}if(isNaN(s)||o===Mf){if(isNaN(e)&&(e=6),o!==Ff&&o!==Mf){for(v=-(1/0),p=0;g>p;p++){var d=i.na(p),y=i.na(p===g-1?0:p+1);isNaN(d.diameter)&&Js(d,0),isNaN(y.diameter)&&Js(y,0),v=Math.max(v,(d.diameter+y.diameter)/2)}d=v+e,o===Tf?(f=2*Math.PI/g,s=(v+e)/f):s=Gs(this,d*(u>=360?g:g-1),a,h*Math.PI/180,u*Math.PI/180)}else s=Gs(this,c+(u>=360?g:g-1)*(o!==Mf?e:1.6*e),a,h*Math.PI/180,u*Math.PI/180);f=s*a}else if(f=s*a,m=Ws(this,s,f,h*Math.PI/180,u*Math.PI/180),isNaN(e))(o===Ff||o===Mf)&&(e=(m-c)/(u>=360?g:g-1));else if(o===Ff||o===Mf)p=(m-c)/(u>=360?g:g-1),e>p?(s=Gs(this,c+e*(u>=360?g:g-1),a,h*Math.PI/180,u*Math.PI/180),f=s*a):e=p;else{for(v=-(1/0),p=0;g>p;p++)d=i.na(p),y=i.na(p===g-1?0:p+1),isNaN(d.diameter)&&Js(d,0),isNaN(y.diameter)&&Js(y,0),v=Math.max(v,(d.diameter+y.diameter)/2);d=v+e,p=Gs(this,d*(u>=360?g:g-1),a,h*Math.PI/180,u*Math.PI/180),p>s?(s=p,f=s*a):d=m/(u>=360?g:g-1)}if(this.Cy=o,this.jC=r,this.Ad=s,this.On=a,this.Dy=h,this.Eq=u,this.Ek=e,this.CD=c,this.sg=f,this.Eu=d,e=i,i=this.Cy,o=this.Ad,r=this.Dy,a=this.Eq,h=this.Ek,u=this.sg,c=this.Eu,this.direction!==Lf&&this.direction!==Bf||i!==Mf)if(this.direction===Lf||this.direction===Bf){switch(s=0,i){case Ef:s=180*Vs(this,o,u,r,c)/Math.PI;break;case Ff:c=e=0,s=t.first(),null!==s&&(e=Js(s,Math.PI/2)),s=n.first(),null!==s&&(c=Js(s,Math.PI/2)),s=180*Vs(this,o,u,r,h+(e+c)/2)/Math.PI;break;case Tf:s=a/e.length}if(this.direction===Lf){switch(i){case Ef:js(this,t,r,Pf);break;case Ff:Os(this,t,r,Pf);break;case Tf:Rs(this,t,a/2,r,Pf)}switch(i){case Ef:js(this,n,r+s,Df);break;case Ff:Os(this,n,r+s,Df);break;case Tf:Rs(this,n,a/2,r+s,Df)}}else{switch(i){case Ef:js(this,n,r,Pf);break;case Ff:Os(this,n,r,Pf);break;case Tf:Rs(this,n,a/2,r,Pf)}switch(i){case Ef:js(this,t,r+s,Df);break;case Ff:Os(this,t,r+s,Df);break;case Tf:Rs(this,t,a/2,r+s,Df)}}}else switch(i){case Ef:js(this,e,r,this.direction);break;case Ff:Os(this,e,r,this.direction);break;case Tf:Rs(this,e,a,r,this.direction);break;case Mf:Is(this,e,a,r,this.direction)}else Is(this,e,a,r-a/2,Df)}this.updateParts(),this.network=null,this.gf=!0},$s.prototype.commitLayout=function(){this.commitNodes(),this.Bt&&this.commitLinks()},$s.prototype.commitNodes=function(){for(var t=this.DH,e=this.network.vertexes.k;e.next();){var i=e.value;i.x+=t.x,i.y+=t.y,i.commit()}},$s.prototype.commitLinks=function(){for(var t=this.network.edges.k;t.next();)t.value.commit()},$s.prototype.sort=function(t){switch(this.sorting){case Nf:break;case $f:t.reverse();break;case Rf:t.sort(this.comparer);break;case Of:t.sort(this.comparer),t.reverse();break;case jf:for(var e=[],i=0;i<t.length;i++)e.push(0);for(var n=new l(Ys),i=0;i<t.length;i++){var o=-1,r=-1;if(0===i)for(var s=0;s<t.length;s++){var a=t.na(s).GI;a>o&&(o=a,r=s)}else for(s=0;s<t.length;s++)a=e[s],a>o&&(o=a,r=s);for(n.add(t.na(r)),e[r]=-1,r=t.na(r),o=0,s=r.rc;s.next();)o=t.indexOf(s.value.fromVertex),0>o||0<=e[o]&&e[o]++;for(r=r.fc;r.next();)o=t.indexOf(r.value.toVertex),0>o||0<=e[o]&&e[o]++}for(t=[],e=0;e<n.length;e++){s=n.na(e),t[e]=[];for(var h=0,i=s.fc;i.next();)h=n.indexOf(i.value.toVertex),h!==e&&0>t[e].indexOf(h)&&t[e].push(h);for(i=s.rc;i.next();)h=n.indexOf(i.value.fromVertex),h!==e&&0>t[e].indexOf(h)&&t[e].push(h)}for(s=[],e=0;e<t.length;e++)s[e]=0;for(var i=[],a=[],u=[],o=[],r=new l(Ys),c=0,e=0;e<t.length;e++){var f=t[e].length;if(1===f)o.push(e);else if(0===f)r.add(n.na(e));else{if(0===c)i.push(e);else{for(var d=1/0,p=1/0,g=-1,m=[],f=0;f<i.length;f++)0>t[i[f]].indexOf(i[f===i.length-1?0:f+1])&&m.push(f===i.length-1?0:f+1);if(0===m.length)for(f=0;f<i.length;f++)m.push(f);for(f=0;f<m.length;f++){var v,y=m[f],h=t[e];v=a;for(var b=u,w=s,x=y,C=i,k=0,A=0;A<v.length;A++){var S=w[v[A]],F=w[b[A]],E=0,T=0;if(F>S?(E=S,T=F):(E=F,T=S),x>E&&T>=x)for(S=0;S<h.length;S++)F=h[S],0>C.indexOf(F)||E<w[F]&&w[F]<T||E===w[F]||T===w[F]||k++;else for(S=0;S<h.length;S++)F=h[S],0>C.indexOf(F)||E<w[F]&&w[F]<T&&E!==w[F]&&T!==w[F]&&k++}for(v=k,w=b=0;w<t[e].length;w++)h=i.indexOf(t[e][w]),h>=0&&(h=Math.abs(y-(h>=y?h+1:h)),b+=h<i.length+1-h?h:i.length+1-h);for(w=0;w<a.length;w++)h=s[a[w]],x=s[u[w]],h>=y&&h++,x>=y&&x++,h>x&&(C=x,x=h,h=C),x-h<(i.length+2)/2==(y>h&&x>=y)&&b++;(d>v||v===d&&p>b)&&(d=v,p=b,g=y)}for(i.splice(g,0,e),f=0;f<i.length;f++)s[i[f]]=f;for(f=0;f<t[e].length;f++)d=t[e][f],0<=i.indexOf(d)&&(a.push(e),u.push(d))}c++}}for(a=!1,u=i.length;;){for(a=!0,s=0;s<o.length;s++)if(e=o[s],c=t[e][0],h=i.indexOf(c),h>=0){for(p=f=0;p<t[c].length;p++)d=t[c][p],d=i.indexOf(d),0>d||d===h||(g=d>h?d-h:h-d,f+=h>d!=g>u-g?1:-1);i.splice(0>f?h:h+1,0,e),o.splice(s,1),s--}else a=!1;if(a)break;i.push(o[0]),o.splice(0,1)}for(e=0;e<i.length;e++)h=i[e],r.add(n.na(h));return r;default:Uh.m("Invalid sorting type.")}return t},Uh.g($s,"radius",$s.prototype.QF),Uh.defineProperty($s,{QF:"radius"},function(){return this.bs},function(t){this.bs!==t&&(Uh.i(t,"number",$s,"radius"),t>0||isNaN(t))&&(this.bs=t,this.K())}),Uh.g($s,"aspectRatio",$s.prototype.SD),Uh.defineProperty($s,{SD:"aspectRatio"},function(){return this.kq},function(t){this.kq!==t&&(Uh.i(t,"number",$s,"aspectRatio"),t>0&&(this.kq=t,this.K()))}),Uh.g($s,"startAngle",$s.prototype.lh),Uh.defineProperty($s,{lh:"startAngle"},function(){return this.Ds},function(t){this.Ds!==t&&(Uh.i(t,"number",$s,"startAngle"),this.Ds=t,this.K())}),Uh.g($s,"sweepAngle",$s.prototype.Yh),Uh.defineProperty($s,{Yh:"sweepAngle"},function(){return this.Fs},function(t){this.Fs!==t&&(Uh.i(t,"number",$s,"sweepAngle"),this.Fs=t>0&&360>=t?t:360,this.K())}),Uh.g($s,"arrangement",$s.prototype.Ge),Uh.defineProperty($s,{Ge:"arrangement"},function(){return this.bd},function(t){this.bd!==t&&(Uh.za(t,$s,$s,"arrangement"),t===Mf||t===Ff||t===Ef||t===Tf)&&(this.bd=t,this.K())}),Uh.g($s,"direction",$s.prototype.direction),Uh.defineProperty($s,{direction:"direction"},function(){return this.ta},function(t){this.ta!==t&&(Uh.za(t,$s,$s,"direction"),t===Df||t===Pf||t===Lf||t===Bf)&&(this.ta=t,this.K())}),Uh.g($s,"sorting",$s.prototype.sorting),Uh.defineProperty($s,{sorting:"sorting"},function(){return this.Ih},function(t){this.Ih!==t&&(Uh.za(t,$s,$s,"sorting"),t===Nf||t===$f||t===Rf||Of||t===jf)&&(this.Ih=t,this.K())}),Uh.g($s,"comparer",$s.prototype.comparer),Uh.defineProperty($s,{comparer:"comparer"},function(){return this.qh},function(t){this.qh!==t&&(Uh.i(t,"function",$s,"comparer"),this.qh=t,this.K())}),Uh.g($s,"spacing",$s.prototype.spacing),Uh.defineProperty($s,{spacing:"spacing"},function(){return this.Jh},function(t){this.Jh!==t&&(Uh.i(t,"number",$s,"spacing"),this.Jh=t,this.K())}),Uh.g($s,"nodeDiameterFormula",$s.prototype.Lt),Uh.defineProperty($s,{Lt:"nodeDiameterFormula"},function(){return this.Nr},function(t){this.Nr!==t&&(Uh.za(t,$s,$s,"nodeDiameterFormula"),t===If||t===zf)&&(this.Nr=t,this.K())}),Uh.A($s,{EH:"actualXRadius"},function(){return this.Ad}),Uh.A($s,{FH:"actualYRadius"},function(){return this.sg}),Uh.A($s,{gK:"actualSpacing"},function(){return this.Ek}),Uh.A($s,{DH:"actualCenter"},function(){return isNaN(this.Hd.x)||isNaN(this.Hd.y)?new b(0,0):new b(this.Hd.x+this.EH,this.Hd.y+this.FH)});var Ff;$s.ConstantSpacing=Ff=Uh.w($s,"ConstantSpacing",0);var Ef;$s.ConstantDistance=Ef=Uh.w($s,"ConstantDistance",1);var Tf;$s.ConstantAngle=Tf=Uh.w($s,"ConstantAngle",2);var Mf;$s.Packed=Mf=Uh.w($s,"Packed",3);var Df;$s.Clockwise=Df=Uh.w($s,"Clockwise",4);var Pf;$s.Counterclockwise=Pf=Uh.w($s,"Counterclockwise",5);var Lf;$s.BidirectionalLeft=Lf=Uh.w($s,"BidirectionalLeft",6);var Bf;$s.BidirectionalRight=Bf=Uh.w($s,"BidirectionalRight",7);var Nf;$s.Forwards=Nf=Uh.w($s,"Forwards",8);var $f;$s.Reverse=$f=Uh.w($s,"Reverse",9);var Rf;$s.Ascending=Rf=Uh.w($s,"Ascending",10);var Of;$s.Descending=Of=Uh.w($s,"Descending",11);var jf;$s.Optimized=jf=Uh.w($s,"Optimized",12);var If;$s.Pythagorean=If=Uh.w($s,"Pythagorean",13);var zf;$s.Circular=zf=Uh.w($s,"Circular",14),Us.prototype.compare=function(t,e){if(t>0&&0>this.cp||Math.abs(t)<Math.abs(this.cp)&&!(0>t&&0<this.cp)){this.cp=t,this.nn=[],this.$p=[];for(var i=0;i<e.length;i++)this.nn[i]=e[i].kb.x,this.$p[i]=e[i].kb.y}},Us.prototype.commit=function(t){if(null!==this.nn&&null!==this.$p)for(var e=0;e<this.nn.length;e++){var i=t.na(e);i.x=this.nn[e],i.y=this.$p[e]}},Uh.Ia(Ks,Es),Uh.ja("CircularNetwork",Ks),Ks.prototype.createVertex=function(){return new Ys},Ks.prototype.createEdge=function(){return new Xs},Uh.Ia(Ys,Ls),Uh.ja("CircularVertex",Ys),Uh.Ia(Xs,Bs),Uh.ja("CircularEdge",Xs),Uh.Ia(Qs,Ss),Uh.ja("ForceDirectedLayout",Qs),Qs.prototype.cloneProtected=function(t){Ss.prototype.cloneProtected.call(this,t),t.cg.assign(this.cg),t.jq=this.jq,t.Hh=this.Hh,t.ph=this.ph,t.ko=this.ko,t.Gq=this.Gq,t.zh=this.zh,t.cs=this.cs,t.Jn=this.Jn,t.In=this.In,t.Fn=this.Fn,t.Hn=this.Hn,t.Aq=this.Aq,t.zq=this.zq},Qs.prototype.createNetwork=function(){return new ua},Qs.prototype.doLayout=function(t){if(null===t&&Uh.m("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),t=this.jx,0<this.network.vertexes.count){this.network.zw();for(var e=this.network.vertexes.k;e.next();){var i=e.value;i.charge=this.electricalCharge(i),i.mass=this.gravitationalMass(i)}for(e=this.network.edges.k;e.next();)i=e.value,i.stiffness=this.springStiffness(i),i.length=this.springLength(i);if(this.Kz(),this.jr=0,this.needsClusterLayout()){for(e=this.network,i=e.XJ().k;i.next();){this.network=i.value;for(var n=this.network.vertexes.k;n.next();){var o=n.value;o.Xf=o.vertexes.count,o.gk=1,o.Km=null,o.jh=null}ta(this,0,t)}this.network=e,i.reset(),Vh&&Uh.l(e,ua,Qs,"arrangeConnectedGraphs:singletons");for(var n=this.iw,r=i.count,s=!0,a=o=0,h=Uh.lb(),l=0;l<r+e.vertexes.count+2;l++)h[l]=null;r=0,i.reset();for(var u=Uh.$f();i.next();)if(l=i.value,this.tg(l,u),s)s=!1,o=u.x+u.width/2,a=u.y+u.height/2,h[0]=new b(u.x+u.width+n.width,u.y),h[1]=new b(u.x,u.y+u.height+n.height),r=2;else{var c=ra(h,r,o,a,u.width,u.height,n),f=h[c],d=new b(f.x+u.width+n.width,f.y),p=new b(f.x,f.y+u.height+n.height);for(r>c+1&&h.splice(c+1,0,null),h[c]=d,h[c+1]=p,r++,c=f.x-u.x,f=f.y-u.y,l=l.vertexes.k;l.next();)d=l.value,d.Ca+=c,d.Ra+=f}for(Uh.nc(u),l=e.vertexes.k;l.next();)s=l.value,u=s.kb,2>r?(o=u.x+u.width/2,a=u.y+u.height/2,h[0]=new b(u.x+u.width+n.width,u.y),h[1]=new b(u.x,u.y+u.height+n.height),r=2):(c=ra(h,r,o,a,u.width,u.height,n),f=h[c],d=new b(f.x+u.width+n.width,f.y),p=new b(f.x,f.y+u.height+n.height),r>c+1&&h.splice(c+1,0,null),h[c]=d,h[c+1]=p,r++,s.Ca=f.x+s.width/2,s.Ra=f.y+s.height/2);for(Uh.xa(h),i.reset();i.next();){for(n=i.value,o=n.vertexes.k;o.next();)e.dl(o.value);for(n=n.edges.k;n.next();)e.Do(n.value)}}aa(this,t),this.updateParts()}this.ko=t,this.network=null,this.gf=!0},Qs.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,i=this.network.vertexes.first().kb,n=this.network.vertexes.k;n.next();){if(n.value.kb.zg(i)&&(t++,t>2))return!0;if(e>10)break;e++}return!1},Qs.prototype.tg=function(t,e){for(var i=!0,n=t.vertexes.k;n.next();){var o=n.value;i?(i=!1,e.set(o.kb)):e.$h(o.kb)}return e},Qs.prototype.Kz=function(){if(this.comments)for(var t=this.network.vertexes.k;t.next();)this.addComments(t.value)},Qs.prototype.addComments=function(t){var e=t.Cc;if(null!==e)for(e=e.GE();e.next();){var i=e.value;if("Comment"===i.Wc&&i.Ja()){var n=this.network.Sm(i);null===n&&(n=this.network.Us(i)),n.charge=this.rE;for(var i=null,o=n.fc;o.next();){var r=o.value;if(r.toVertex===t){i=r;break}}if(null===i)for(o=n.rc;o.next();)if(r=o.value,r.fromVertex===t){i=r;break}null===i&&(i=this.network.wp(t,n,null)),i.length=this.sE}}},Qs.prototype.moveFixedVertex=function(){},Qs.prototype.commitLayout=function(){this.gB(),this.commitNodes(),this.Bt&&this.commitLinks()},Qs.prototype.gB=function(){if(this.Dl)for(var t=this.network.edges.k;t.next();){var e=t.value.link;null!==e&&(e.vb=il,e.xb=il)}},Qs.prototype.commitNodes=function(){var t=0,e=0;if(this.QD){var i=Uh.$f();this.tg(this.network,i),e=this.Hd,t=e.x-i.x,e=e.y-i.y,Uh.nc(i)}for(var i=Uh.$f(),n=this.network.vertexes.k;n.next();){var o=n.value;(0!==t||0!==e)&&(i.assign(o.kb),i.x+=t,i.y+=e,o.kb=i),o.commit()}Uh.nc(i)},Qs.prototype.commitLinks=function(){for(var t=this.network.edges.k;t.next();)t.value.commit()},Qs.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.Jn:t},Qs.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.In:t},Qs.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.Fn:t},Qs.prototype.electricalFieldX=function(){return 0},Qs.prototype.electricalFieldY=function(){return 0},Qs.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.Hn:t},Qs.prototype.gravitationalFieldX=function(){return 0},Qs.prototype.gravitationalFieldY=function(){return 0},Qs.prototype.isFixed=function(t){return t.isFixed},Uh.A(Qs,{jK:"currentIteration"},function(){return this.jr}),Uh.g(Qs,"arrangementSpacing",Qs.prototype.iw),Uh.defineProperty(Qs,{iw:"arrangementSpacing"},function(){return this.cg},function(t){Uh.l(t,C,Qs,"arrangementSpacing"),this.cg.L(t)||(this.cg.assign(t),this.K())}),Uh.g(Qs,"arrangesToOrigin",Qs.prototype.QD),Uh.defineProperty(Qs,{QD:"arrangesToOrigin"},function(){return this.jq},function(t){this.jq!==t&&(Uh.i(t,"boolean",Qs,"arrangesToOrigin"),this.jq=t,this.K())}),Uh.g(Qs,"setsPortSpots",Qs.prototype.Dl),Uh.defineProperty(Qs,{Dl:"setsPortSpots"},function(){return this.Hh},function(t){this.Hh!==t&&(Uh.i(t,"boolean",Qs,"setsPortSpots"),this.Hh=t,this.K())}),Uh.g(Qs,"comments",Qs.prototype.comments),Uh.defineProperty(Qs,{comments:"comments"},function(){return this.ph},function(t){this.ph!==t&&(Uh.i(t,"boolean",Qs,"comments"),this.ph=t,this.K())}),Uh.g(Qs,"maxIterations",Qs.prototype.jx),Uh.defineProperty(Qs,{jx:"maxIterations"},function(){return this.ko},function(t){this.ko!==t&&(Uh.i(t,"number",Qs,"maxIterations"),t>=0&&(this.ko=t,this.K()))}),Uh.g(Qs,"epsilonDistance",Qs.prototype.Xz),Uh.defineProperty(Qs,{Xz:"epsilonDistance"},function(){return this.Gq},function(t){this.Gq!==t&&(Uh.i(t,"number",Qs,"epsilonDistance"),t>0&&(this.Gq=t,this.K()))}),Uh.g(Qs,"infinityDistance",Qs.prototype.TI),Uh.defineProperty(Qs,{TI:"infinityDistance"},function(){return this.zh},function(t){this.zh!==t&&(Uh.i(t,"number",Qs,"infinityDistance"),t>1&&(this.zh=t,this.K()))}),Uh.g(Qs,"randomNumberGenerator",Qs.prototype.Qt),Uh.defineProperty(Qs,{Qt:"randomNumberGenerator"},function(){return this.cs},function(t){this.cs!==t&&(null!==t&&"function"!=typeof t.random&&Uh.m('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.cs=t)}),Uh.g(Qs,"defaultSpringStiffness",Qs.prototype.yI),Uh.defineProperty(Qs,{yI:"defaultSpringStiffness"},function(){return this.Jn},function(t){this.Jn!==t&&(Uh.i(t,"number",Qs,"defaultSpringStiffness"),this.Jn=t,this.K())}),Uh.g(Qs,"defaultSpringLength",Qs.prototype.xI),Uh.defineProperty(Qs,{xI:"defaultSpringLength"},function(){return this.In},function(t){this.In!==t&&(Uh.i(t,"number",Qs,"defaultSpringLength"),this.In=t,this.K())}),Uh.g(Qs,"defaultElectricalCharge",Qs.prototype.rI),Uh.defineProperty(Qs,{rI:"defaultElectricalCharge"},function(){return this.Fn},function(t){this.Fn!==t&&(Uh.i(t,"number",Qs,"defaultElectricalCharge"),this.Fn=t,this.K())}),Uh.g(Qs,"defaultGravitationalMass",Qs.prototype.sI),Uh.defineProperty(Qs,{sI:"defaultGravitationalMass"},function(){return this.Hn},function(t){this.Hn!==t&&(Uh.i(t,"number",Qs,"defaultGravitationalMass"),this.Hn=t,this.K())}),Uh.g(Qs,"defaultCommentSpringLength",Qs.prototype.sE),Uh.defineProperty(Qs,{sE:"defaultCommentSpringLength"},function(){return this.Aq},function(t){this.Aq!==t&&(Uh.i(t,"number",Qs,"defaultCommentSpringLength"),this.Aq=t,this.K())}),Uh.g(Qs,"defaultCommentElectricalCharge",Qs.prototype.rE),Uh.defineProperty(Qs,{rE:"defaultCommentElectricalCharge"},function(){return this.zq},function(t){this.zq!==t&&(Uh.i(t,"number",Qs,"defaultCommentElectricalCharge"),this.zq=t,this.K())}),Uh.Ia(ua,Es),Uh.ja("ForceDirectedNetwork",ua),ua.prototype.createVertex=function(){return new ca},ua.prototype.createEdge=function(){return new fa},Uh.Ia(ca,Ls),Uh.ja("ForceDirectedVertex",ca),Uh.Ia(fa,Bs),Uh.ja("ForceDirectedEdge",fa),Uh.Ia(da,Ss),Uh.ja("LayeredDigraphLayout",da),da.prototype.cloneProtected=function(t){Ss.prototype.cloneProtected.call(this,t),t.em=this.em,t.zd=this.zd,t.ta=this.ta,t.En=this.En,t.jo=this.jo,t.Yn=this.Yn,t.bm=this.bm,t.tn=this.tn,t.wi=this.wi,t.Hh=this.Hh,t.qj=this.qj},da.prototype.createNetwork=function(){return new Ka},da.prototype.doLayout=function(t){for(null===t&&Uh.m("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),
null===this.network&&(this.network=this.makeNetwork(t)),this.Hd=this.initialOrigin(this.Hd),this.ov=-1,this.Jf=this.Br=0,this.Jr=this.Hr=this.hm=null,t=0;t<this.Zg.length;t++)this.Zg[t]=null;if(0<this.network.vertexes.count){for(this.network.zw(),t=this.network.edges.k;t.next();)t.value.rev=!1;switch(this.En){default:case Hf:var e=0,i=this.network.vertexes.count-1;t=[],t.length=i+1;for(var n=this.network.vertexes.k;n.next();)n.value.valid=!0;for(;null!==ka(this.network);){for(n=Aa(this.network);null!==n;)t[i]=n,i--,n.valid=!1,n=Aa(this.network);for(n=Sa(this.network);null!==n;)t[e]=n,e++,n.valid=!1,n=Sa(this.network);for(var n=null,o=0,r=this.network.vertexes.k;r.next();){var s=r.value;if(s.valid){for(var a=0,h=s.fc;h.next();)h.value.toVertex.valid&&a++;for(var h=0,l=s.rc;l.next();)l.value.fromVertex.valid&&h++;(null===n||a-h>o)&&(n=s,o=a-h)}}null!==n&&(t[e]=n,e++,n.valid=!1)}for(e=0;e<this.network.vertexes.count;e++)t[e].index=e;for(t=this.network.edges.k;t.next();)e=t.value,e.fromVertex.index>e.toVertex.index&&(this.network.tx(e),e.rev=!0);break;case _f:for(e=this.network.vertexes.k;e.next();)t=e.value,t.To=-1,t.finish=-1;for(t=this.network.edges.k;t.next();)t.value.forest=!1;for(this.Ir=0,e.reset();e.next();)i=e.value,0===i.rc.count&&Fa(this,i);for(e.reset();e.next();)i=e.value,-1===i.To&&Fa(this,i);for(t.reset();t.next();)e=t.value,e.forest||(i=e.fromVertex,n=i.finish,o=e.toVertex,r=o.finish,o.To<i.To&&r>n&&(this.network.tx(e),e.rev=!0))}for(t=this.network.vertexes.k;t.next();)t.value.layer=-1;for(this.ob=-1,this.assignLayers(),t.reset();t.next();)this.ob=Math.max(this.ob,t.value.layer);for(t=[],i=this.network.edges.k;i.next();)e=i.value,e.valid=!1,t.push(e);for(i=0;i<t.length;i++)if(e=t[i],!e.valid&&(null!==e.fromVertex.pd&&null!==e.toVertex.pd||e.fromVertex.layer!==e.toVertex.layer)){if(h=s=a=r=0,o=e.fromVertex,n=e.toVertex,null!==e.link){if(a=e.link,null===a)continue;var u=o.pd,r=n.pd;if(null===u||null===r)continue;var c=a.Z,s=a.da,f=a.wd,h=a.ke;e.rev&&(a=c,l=f,c=s,f=h,s=a,h=l);var d=o.O,a=e.toVertex.O,p=e.rev?n.ca:o.ca,l=Uh.M();p.J()?(sr(c,f,al,l),l.J()||l.assign(d)):l.assign(d),u!==c&&p.J()&&c.Ja()&&(u=o.ca,u.J()&&(l.x+=p.x-u.x,l.y+=p.y-u.y)),c=e.rev?o.ca:n.ca,u=Uh.M(),c.J()?(sr(s,h,al,u),u.J()||u.assign(a)):u.assign(a),r!==s&&c.J()&&s.Ja()&&(r=n.ca,r.J()&&(u.x+=c.x-r.x,u.y+=c.y-r.y)),90===this.ta||270===this.ta?(r=Math.round((l.x-d.x)/this.zd),s=l.x,a=Math.round((u.x-a.x)/this.zd),h=u.x):(r=Math.round((l.y-d.y)/this.zd),s=l.y,a=Math.round((u.y-a.y)/this.zd),h=u.y),Uh.B(l),Uh.B(u),e.portFromColOffset=r,e.portFromPos=s,e.portToColOffset=a,e.portToPos=h}else e.portFromColOffset=0,e.portFromPos=0,e.portToColOffset=0,e.portToPos=0;if(l=o.layer,d=n.layer,u=e,c=0,p=u.link,null!==p){var g=p.wd,m=p.ke;if(null!==g&&null!==m){var v=p.Z,f=p.da;if(null!==v&&null!==f){var y=g.vb,b=m.xb;this.Dl||(p.vb.Oc()||(y=p.vb),p.xb.Oc()||(b=p.xb)),(y.Oc()||y===el)&&(y=qa(this,!0)),(b.Oc()||b===el)&&(b=qa(this,!1));var w=p.gc,x=p.getLinkPoint(v,g,y,!0,w,f,m,Uh.M()),y=p.getLinkDirection(v,g,x,y,!0,w,f,m);Uh.B(x),y===Pa(this,u,!0)?c+=1:this.Dl&&null!==v&&1===v.ports.count&&u.rev&&(c+=1),x=p.getLinkPoint(f,m,b,!1,w,v,g,Uh.M()),p=p.getLinkDirection(f,m,x,b,!1,w,v,g),Uh.B(x),p===Pa(this,u,!1)?c+=2:this.Dl&&null!==f&&1===f.ports.count&&u.rev&&(c+=2)}}}if(u=1===c||3===c?!0:!1,(c=2===c||3===c?!0:!1)&&(f=this.network.createVertex(),f.pd=null,f.Em=1,f.layer=l,f.near=o,this.network.dl(f),o=this.network.wp(o,f,e.link),o.valid=!1,o.rev=e.rev,o.portFromColOffset=r,o.portToColOffset=0,o.portFromPos=s,o.portToPos=0,o=f),p=1,u&&p--,l-d>p&&l>0){for(e.valid=!1,f=this.network.createVertex(),f.pd=null,f.Em=2,f.layer=l-1,this.network.dl(f),o=this.network.wp(o,f,e.link),o.valid=!0,o.rev=e.rev,o.portFromColOffset=c?0:r,o.portToColOffset=0,o.portFromPos=c?0:s,o.portToPos=0,o=f,l--;l-d>p&&l>0;)f=this.network.createVertex(),f.pd=null,f.Em=3,f.layer=l-1,this.network.dl(f),o=this.network.wp(o,f,e.link),o.valid=!0,o.rev=e.rev,o.portFromColOffset=0,o.portToColOffset=0,o.portFromPos=0,o.portToPos=0,o=f,l--;o=this.network.wp(f,n,e.link),o.valid=!u,u&&(f.near=n),o.rev=e.rev,o.portFromColOffset=0,o.portToColOffset=a,o.portFromPos=0,o.portToPos=h}else e.valid=!0}for(e=this.Rd=[],i=0;i<=this.ob;i++)e[i]=0;for(t=this.network.vertexes.k;t.next();)i=t.value,i.index=-1;for(this.initializeIndices(),this.ov=-1,i=this.Jf=this.Br=0;i<=this.ob;i++)e[i]>e[this.Jf]&&(this.ov=e[i]-1,this.Jf=i),e[i]<e[this.Br]&&(this.Br=i);for(this.Jr=[],i=0;i<e.length;i++)this.Jr[i]=[];for(t.reset();t.next();)e=t.value,i=this.Jr[e.layer],i[e.index]=e;for(this.Kb=-1,t=0;t<=this.ob;t++){for(e=Ga(this,t),i=0,n=this.Rd[t],o=0;n>o;o++)r=e[o],i+=this.nodeMinColumnSpace(r,!0),r.column=i,i+=1,i+=this.nodeMinColumnSpace(r,!1);this.Kb=Math.max(this.Kb,i-1),Va(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.gf=!0},da.prototype.linkMinLength=function(t){var e=t.toVertex,i=0;for(t=t.fromVertex.fc;t.next();)t.value.toVertex===e&&i++;return i>1?2:1},da.prototype.nodeMinLayerSpace=function(t,e){return null===t.pd?0:90===this.ta||270===this.ta?e?t.O.y+10:t.ca.height-t.O.y+10:e?t.O.x+10:t.ca.width-t.O.x+10},da.prototype.nodeMinColumnSpace=function(t,e){if(null===t.pd)return 0;var i=e?t.FA:t.EA;return null!==i?i:(i=this.ta,90===i||270===i?e?t.FA=t.O.x/this.zd+1|0:t.EA=(t.ca.width-t.O.x)/this.zd+1|0:e?t.FA=t.O.y/this.zd+1|0:t.EA=(t.ca.height-t.O.y)/this.zd+1|0)},da.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.ob;e++)for(var i=va(this,e,1),n=this.Rd[e],o=0;n>o;o++)for(var r=o;n>r;r++)t+=i[o*n+r];return t},da.prototype.normalize=function(){var t=1/0;this.Kb=-1;for(var e=this.network.vertexes.k;e.next();){var i=e.value,t=Math.min(t,i.column-this.nodeMinColumnSpace(i,!0));this.Kb=Math.max(this.Kb,i.column+this.nodeMinColumnSpace(i,!1))}for(e.reset();e.next();)e.value.column-=t;this.Kb-=t},da.prototype.assignLayers=function(){switch(this.jo){case Wf:Ea(this);break;case Gf:for(var t=0,e=this.network.vertexes.k;e.next();)t=Ma(this,e.value),this.ob=Math.max(t,this.ob);for(e.reset();e.next();)t=e.value,t.layer=this.ob-t.layer;break;default:case qf:for(Ea(this),e=this.network.vertexes.k;e.next();)e.value.valid=!1;for(e.reset();e.next();)t=e.value,0===t.rc.count&&Da(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.ob=-1,e.reset();e.next();){var i=e.value;i.layer-=t,this.ob=Math.max(this.ob,i.layer)}}},da.prototype.initializeIndices=function(){switch(this.Yn){default:case Kf:for(var t=this.network.vertexes.k;t.next();){var e=t.value,i=e.layer;e.index=this.Rd[i],this.Rd[i]++}break;case Vf:for(t=this.network.vertexes.k,e=this.ob;e>=0;e--)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&La(this,i);break;case Uf:for(t=this.network.vertexes.k,e=0;e<=this.ob;e++)for(t.reset();t.next();)i=t.value,i.layer===e&&-1===i.index&&Ba(this,i)}},da.prototype.reduceCrossings=function(){for(var t=this.countCrossings(),e=ga(this),i=0,n=0,o=0,i=0;i<this.bm;i++){for(n=0;n<=this.ob;n++)Na(this,n,1),$a(this,n,1);for(o=this.countCrossings(),t>o&&(t=o,e=ga(this)),n=this.ob;n>=0;n--)Na(this,n,-1),$a(this,n,-1);o=this.countCrossings(),t>o&&(t=o,e=ga(this))}for(ma(this,e),i=0;i<this.bm;i++){for(n=0;n<=this.ob;n++)Na(this,n,0),$a(this,n,0);for(o=this.countCrossings(),t>o&&(t=o,e=ga(this)),n=this.ob;n>=0;n--)Na(this,n,0),$a(this,n,0);o=this.countCrossings(),t>o&&(t=o,e=ga(this))}ma(this,e);var r=!1,s=i=0,a=0,n=0;switch(this.tn){case Yf:break;case Xf:for(a=t+1;(n=this.countCrossings())<a;)for(a=n,i=this.ob;i>=0;i--)for(s=0;i>=s;s++){for(r=!0;r;)for(r=!1,n=i;n>=s;n--)r=$a(this,n,-1)||r;for(o=this.countCrossings(),o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=$a(this,n,1)||r;for(o=this.countCrossings(),o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=s;i>=n;n++)r=$a(this,n,1)||r;for(o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=s;i>=n;n++)r=$a(this,n,-1)||r;for(o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=$a(this,n,0)||r;for(o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=s;i>=n;n++)r=$a(this,n,0)||r;o>=t?ma(this,e):(t=o,e=ga(this))}break;default:case Jf:for(i=this.ob,s=0,a=t+1;(n=this.countCrossings())<a;){for(a=n,r=!0;r;)for(r=!1,n=i;n>=s;n--)r=$a(this,n,-1)||r;for(o=this.countCrossings(),o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=$a(this,n,1)||r;for(o=this.countCrossings(),o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=s;i>=n;n++)r=$a(this,n,1)||r;for(o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=s;i>=n;n++)r=$a(this,n,-1)||r;for(o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=i;n>=s;n--)r=$a(this,n,0)||r;for(o>=t?ma(this,e):(t=o,e=ga(this)),r=!0;r;)for(r=!1,n=s;i>=n;n++)r=$a(this,n,0)||r;o>=t?ma(this,e):(t=o,e=ga(this))}}ma(this,e)},da.prototype.straightenAndPack=function(){var t=0,e=!1,i=0!==(this.wi&Qf),t=this.wi===ed;if(1e3<this.network.edges.count&&!t&&(i=!1),i){for(e=[],t=t=0;t<=this.ob;t++)e[t]=0;for(var n=0,o=this.network.vertexes.k;o.next();){var r=o.value,t=r.layer,n=r.column,r=this.nodeMinColumnSpace(r,!1);e[t]=Math.max(e[t],n+r)}for(o.reset();o.next();)r=o.value,t=r.layer,n=r.column,r.column=(8*(this.Kb-e[t])>>1)+8*n;this.Kb*=8}if(0!==(this.wi&Zf))for(e=!0;e;){for(e=!1,t=this.Jf+1;t<=this.ob;t++)e=Ra(this,t,1)||e;for(t=this.Jf-1;t>=0;t--)e=Ra(this,t,-1)||e;e=Ra(this,this.Jf,0)||e}if(0!==(this.wi&td)){for(t=this.Jf+1;t<=this.ob;t++)ja(this,t,1);for(t=this.Jf-1;t>=0;t--)ja(this,t,-1);ja(this,this.Jf,0)}if(i&&(_a(this,-1),_a(this,1)),0!==(this.wi&Zf))for(e=!0;e;){for(e=!1,e=Ra(this,this.Jf,0)||e,t=this.Jf+1;t<=this.ob;t++)e=Ra(this,t,0)||e;for(t=this.Jf-1;t>=0;t--)e=Ra(this,t,0)||e}},da.prototype.commitLayout=function(){if(this.Dl)for(var t=qa(this,!0),e=qa(this,!1),i=this.network.edges.k;i.next();){var n=i.value.link;null!==n&&(n.vb=t,n.xb=e)}this.commitNodes(),this.Rz(),this.Bt&&this.commitLinks()},da.prototype.commitNodes=function(){this.Xg=[],this.ig=[],this.If=[],this.Ob=[];for(var t=0;t<=this.ob;t++)this.Xg[t]=0,this.ig[t]=0,this.If[t]=0,this.Ob[t]=0;for(t=this.network.vertexes.k;t.next();){var e=t.value,i=e.layer;this.Xg[i]=Math.max(this.Xg[i],this.nodeMinLayerSpace(e,!0)),this.ig[i]=Math.max(this.ig[i],this.nodeMinLayerSpace(e,!1))}for(var e=0,n=this.em,i=0;i<=this.ob;i++){var o=n;0>=this.Xg[i]+this.ig[i]&&(o=0),i>0&&(e+=o/2),90===this.ta||0===this.ta?(e+=this.ig[i],this.If[i]=e,e+=this.Xg[i]):(e+=this.Xg[i],this.If[i]=e,e+=this.ig[i]),i<this.ob&&(e+=o/2),this.Ob[i]=e}for(n=e,e=this.Hd,i=0;i<=this.ob;i++)270===this.ta?this.If[i]=e.y+this.If[i]:90===this.ta?(this.If[i]=e.y+n-this.If[i],this.Ob[i]=n-this.Ob[i]):180===this.ta?this.If[i]=e.x+this.If[i]:(this.If[i]=e.x+n-this.If[i],this.Ob[i]=n-this.Ob[i]);for(t.reset();t.next();){var i=t.value,n=i.layer,o=0|i.column,r=0,s=0;270===this.ta||90===this.ta?(r=e.x+this.zd*o,s=this.If[n]):(r=this.If[n],s=e.y+this.zd*o),i.Ca=r,i.Ra=s,i.commit()}},da.prototype.Rz=function(){for(var t=0,e=this.em,i=0;i<=this.ob;i++)t+=this.Xg[i],t+=this.ig[i];for(var t=t+this.ob*e,e=[],i=this.zd*this.Kb,n=this.nJ;n>=0;n--)270===this.ta?0===n?e.push(new k(0,0,i,Math.abs(this.Ob[0]))):e.push(new k(0,this.Ob[n-1],i,Math.abs(this.Ob[n-1]-this.Ob[n]))):90===this.ta?0===n?e.push(new k(0,this.Ob[0],i,Math.abs(this.Ob[0]-t))):e.push(new k(0,this.Ob[n],i,Math.abs(this.Ob[n-1]-this.Ob[n]))):180===this.ta?0===n?e.push(new k(0,0,Math.abs(this.Ob[0]),i)):e.push(new k(this.Ob[n-1],0,Math.abs(this.Ob[n-1]-this.Ob[n]),i)):0===n?e.push(new k(this.Ob[0],0,Math.abs(this.Ob[0]-t),i)):e.push(new k(this.Ob[n],0,Math.abs(this.Ob[n-1]-this.Ob[n]),i));this.commitLayers(e,Bl.nk)},da.prototype.commitLayers=function(){},da.prototype.commitLinks=function(){for(var t,e=this.network.edges.k;e.next();)t=e.value.link,null!==t&&(t.Fl(),t.No(),t.Li());for(e.reset();e.next();)t=e.value.link,null!==t&&t.updateRoute();for(e.reset();e.next();){var i=e.value;if(t=i.link,null!==t){t.Fl();var n=t,o=n.Z,r=n.da,s=n.wd,a=n.ke;if(i.valid){if(t.Le===ef&&4===t.oa){if(i.rev)var h=o,o=r,r=h,u=s,s=a,a=u;if(i.fromVertex.column===i.toVertex.column){var c=t.getLinkPoint(o,s,t.computeSpot(!0),!0,!1,r,a),f=t.getLinkPoint(r,a,t.computeSpot(!1),!1,!1,o,s);c.J()||c.set(o.ea.Tj),f.J()||f.set(r.ea.Tj),t.No(),t.cl(c.x,c.y),t.cl((2*c.x+f.x)/3,(2*c.y+f.y)/3),t.cl((c.x+2*f.x)/3,(c.y+2*f.y)/3),t.cl(f.x,f.y)}else{var d=!1,p=!1;if(null!==s&&t.computeSpot(!0)===el&&(d=!0),null!==a&&t.computeSpot(!1)===el&&(p=!0),d||p){var g=t.n(0).x,m=t.n(0).y,v=t.n(1).x,y=t.n(1).y,b=t.n(2).x,w=t.n(2).y,x=t.n(3).x,C=t.n(3).y;if(d){90===this.ta||270===this.ta?(v=g,y=(m+C)/2):(v=(g+x)/2,y=m),t.aa(1,v,y);var k=t.getLinkPoint(o,s,t.computeSpot(!0),!0,!1,r,a);k.J()||k.set(o.ea.Tj),t.aa(0,k.x,k.y)}p&&(90===this.ta||270===this.ta?(b=x,w=(m+C)/2):(b=(g+x)/2,w=C),t.aa(2,b,w),k=t.getLinkPoint(r,a,t.computeSpot(!1),!1,!1,o,s),k.J()||k.set(r.ea.Tj),t.aa(3,k.x,k.y))}}}t.Li()}else if(i.fromVertex.layer===i.toVertex.layer)t.Li();else{var A=!1,S=!1,F=0,E=t.qt+1;if(t.gc)S=!0,F=t.oa,F>4&&t.points.removeRange(2,F-3);else if(t.Le===ef)A=!0,F=t.oa,F>4&&t.points.removeRange(2,F-3),E=2;else{var F=t.oa,T=t.computeSpot(!0)===el,M=t.computeSpot(!1)===el;F>2&&T&&M?t.points.removeRange(1,F-2):F>3&&T&&!M?t.points.removeRange(1,F-3):F>3&&!T&&M?t.points.removeRange(2,F-2):F>4&&!T&&!M&&t.points.removeRange(2,F-3)}var D,P,L=i.fromVertex,B=i.toVertex;if(i.rev){for(var N=0;null!==B&&L!==B;){P=D=null;for(var $=B.rc.k;$.next();){var R=$.value;if(R.link===i.link&&(D=R.fromVertex,P=R.toVertex,null===D.pd))break}D!==L&&(_=t.n(E-1).x,H=t.n(E-1).y,q=D.Ca,W=D.Ra,S?180===this.ta||0===this.ta?2===E?(t.C(E++,_,H),t.C(E++,_,W)):(K=null!==P?P.Ra:H,K!==W&&(G=this.Ob[D.layer-1],t.C(E++,G,H),t.C(E++,G,W))):2===E?(t.C(E++,_,H),t.C(E++,q,H)):(Y=null!==P?P.Ca:_,Y!==q&&(G=this.Ob[D.layer-1],t.C(E++,_,G),t.C(E++,q,G))):2===E?A?(V=Math.max(10,this.Xg[B.layer]),U=Math.max(10,this.ig[B.layer]),180===this.ta?(N=B.ca.x,t.C(E++,N-V,W),t.C(E++,N,W),t.C(E++,N+U,W)):90===this.ta?(N=B.ca.y+B.ca.height,t.C(E++,q,N+U),t.C(E++,q,N),t.C(E++,q,N-V)):270===this.ta?(N=B.ca.y,t.C(E++,q,N-V),t.C(E++,q,N),t.C(E++,q,N+U)):(N=B.ca.x+B.ca.width,t.C(E++,N+U,W),t.C(E++,N,W),t.C(E++,N-V,W))):(t.C(E++,_,H),180===this.ta||0===this.ta?t.C(E++,_,W):t.C(E++,q,H),t.C(E++,q,W)):(V=Math.max(10,this.Xg[D.layer]),U=Math.max(10,this.ig[D.layer]),180===this.ta?(A&&t.C(E++,q-V,W),t.C(E++,q,W),A&&t.C(E++,q+U,W)):90===this.ta?(A&&t.C(E++,q,W+U),t.C(E++,q,W),A&&t.C(E++,q,W-V)):270===this.ta?(A&&t.C(E++,q,W-V),t.C(E++,q,W),A&&t.C(E++,q,W+U)):(A&&t.C(E++,q+U,W),t.C(E++,q,W),A&&t.C(E++,q-V,W)))),B=D}if(null===a||t.computeSpot(!1)!==el)if(_=t.n(E-1).x,H=t.n(E-1).y,q=t.n(E).x,W=t.n(E).y,S){var O=this.ig[L.layer],j=0;180===this.ta||0===this.ta?(j=H,j>=L.ca.y&&j<=L.ca.bottom&&(N=L.Ca+O,j=j<L.ca.y+L.ca.height/2?L.ca.y-this.zd/2:L.ca.bottom+this.zd/2,t.C(E++,N,H),t.C(E++,N,j)),t.C(E++,q,j)):(j=_,j>=L.ca.x&&j<=L.ca.right&&(N=L.Ra+O,j=j<L.ca.x+L.ca.width/2?L.ca.x-this.zd/2:L.ca.right+this.zd/2,t.C(E++,_,N),t.C(E++,j,N)),t.C(E++,j,W)),t.C(E++,q,W)}else A?(V=Math.max(10,this.Xg[L.layer]),U=Math.max(10,this.ig[L.layer]),180===this.ta?(N=L.ca.x+L.ca.width,t.aa(E-2,N,H),t.aa(E-1,N+U,H)):90===this.ta?(N=L.ca.y,t.aa(E-2,_,N),t.aa(E-1,_,N-V)):270===this.ta?(N=L.ca.y+L.ca.height,t.aa(E-2,_,N),t.aa(E-1,_,N+U)):(N=L.ca.x,t.aa(E-2,N,H),t.aa(E-1,N-V,H))):(180===this.ta||0===this.ta?t.C(E++,q,H):t.C(E++,_,W),t.C(E++,q,W))}else{for(;null!==L&&L!==B;){P=D=null;for(var I=L.fc.k;I.next();){var z=I.value;if(z.link===i.link&&(D=z.toVertex,P=z.fromVertex,null!==P.pd&&(P=null),null===D.pd))break}var _=0,H=0,q=0,W=0,G=0,V=0,U=0;if(D!==B)if(_=t.n(E-1).x,H=t.n(E-1).y,q=D.Ca,W=D.Ra,S)if(180===this.ta||0===this.ta){var K=null!==P?P.Ra:H;K!==W&&(G=this.Ob[D.layer],2===E&&(G=0===this.ta?Math.max(G,_):Math.min(G,_)),t.C(E++,G,H),t.C(E++,G,W))}else{var Y=null!==P?P.Ca:_;Y!==q&&(G=this.Ob[D.layer],2===E&&(G=90===this.ta?Math.max(G,H):Math.min(G,H)),t.C(E++,_,G),t.C(E++,q,G))}else V=Math.max(10,this.Xg[D.layer]),U=Math.max(10,this.ig[D.layer]),180===this.ta?(t.C(E++,q+U,W),A&&t.C(E++,q,W),t.C(E++,q-V,W)):90===this.ta?(t.C(E++,q,W-V),A&&t.C(E++,q,W),t.C(E++,q,W+U)):270===this.ta?(t.C(E++,q,W+U),A&&t.C(E++,q,W),t.C(E++,q,W-V)):(t.C(E++,q-V,W),A&&t.C(E++,q,W),t.C(E++,q+U,W));L=D}S&&(_=t.n(E-1).x,H=t.n(E-1).y,q=t.n(E).x,W=t.n(E).y,180===this.ta||0===this.ta?H!==W&&(G=0===this.ta?Math.min(Math.max((q+_)/2,this.Ob[B.layer]),q):Math.max(Math.min((q+_)/2,this.Ob[B.layer]),q),t.C(E++,G,H),t.C(E++,G,W)):_!==q&&(G=90===this.ta?Math.min(Math.max((W+H)/2,this.Ob[B.layer]),W):Math.max(Math.min((W+H)/2,this.Ob[B.layer]),W),t.C(E++,_,G),t.C(E++,q,G)))}if(null!==n&&A){if(null!==s){if(t.computeSpot(!0)===el){var J=t.n(0),X=t.n(2);J.L(X)||t.aa(1,(J.x+X.x)/2,(J.y+X.y)/2)}k=t.getLinkPoint(o,s,el,!0,!1,r,a),k.J()||k.set(o.ea.Tj),t.aa(0,k.x,k.y)}null!==a&&(t.computeSpot(!1)===el&&(J=t.n(t.oa-1),X=t.n(t.oa-3),J.L(X)||t.aa(t.oa-2,(J.x+X.x)/2,(J.y+X.y)/2)),k=t.getLinkPoint(r,a,el,!1,!1,o,s),k.J()||k.set(r.ea.Tj),t.aa(t.oa-1,k.x,k.y))}t.Li(),i.commit()}}}for(var Q=new l(Nr),Z=this.network.edges.k;Z.next();){var tt=Z.value.link;null!==tt&&tt.gc&&!Q.contains(tt)&&Q.add(tt)}if(0<Q.count)if(90===this.ta||270===this.ta){for(var et,it,nt=0,ot=new l(Ua),rt=Q.k;rt.next();){var st=rt.value;if(null!==st&&st.gc)for(var at=2;at<st.oa-3;at++)if(et=st.n(at),it=st.n(at+1),this.I(et.y,it.y)&&!this.I(et.x,it.x)){var ht=new Ua;ht.layer=Math.floor(et.y/2);var lt=st.n(0),ut=st.n(st.oa-1);if(ht.first=lt.x*lt.x+lt.y,ht.Od=ut.x*ut.x+ut.y,ht.Ke=Math.min(et.x,it.x),ht.Zd=Math.max(et.x,it.x),ht.index=at,ht.link=st,at+2<st.oa){var ct=st.n(at-1),ft=st.n(at+2),dt=0;ct.y<et.y?dt=ft.y<et.y?3:et.x<it.x?2:1:ct.y>et.y&&(dt=ft.y>et.y?0:it.x<et.x?2:1),ht.Zh=dt}ot.add(ht)}}if(1<ot.count){ot.sort(this.mG);for(var pt=0;pt<ot.count;){for(var gt=ot.q[pt].layer,mt=pt+1;mt<ot.count&&ot.q[mt].layer===gt;)mt++;if(mt-pt>1)for(var vt=pt;mt>vt;){for(var yt=ot.q[vt].Zd,bt=pt+1;mt>bt&&ot.q[bt].Ke<yt;)yt=Math.max(yt,ot.q[bt].Zd),bt++;var wt=bt-vt;if(wt>1){ot.Tp(this.ux,vt,vt+wt);for(var xt=1,Ct=ot.q[vt].Od,at=vt;bt>at;at++){var kt=ot.q[at];kt.Od!==Ct&&(xt++,Ct=kt.Od)}ot.Tp(this.lG,vt,vt+wt);for(var At=1,Ct=ot.q[vt].first,at=vt;bt>at;at++)kt=ot.q[at],kt.first!==Ct&&(At++,Ct=kt.first);var St=!0,Ft=At;At>xt?(St=!1,Ft=xt,Ct=ot.q[vt].Od,ot.Tp(this.ux,vt,vt+wt)):Ct=ot.q[vt].first;for(var Et=0,at=vt;bt>at;at++){kt=ot.q[at],(St?kt.first:kt.Od)!==Ct&&(Et++,Ct=St?kt.first:kt.Od),st=kt.link,et=st.n(kt.index),it=st.n(kt.index+1);var Tt=this.sp*(Et-(Ft-1)/2);(!st.Si||Wa(et.x,et.y+Tt,it.x,it.y+Tt))&&(nt++,st.Fl(),st.aa(kt.index,et.x,et.y+Tt),st.aa(kt.index+1,it.x,it.y+Tt),st.Li())}}vt=bt}pt=mt}}}else{for(var Mt,Dt,Pt=0,Lt=new l(Ua),Bt=Q.k;Bt.next();){var Nt=Bt.value;if(null!==Nt&&Nt.gc)for(var $t=2;$t<Nt.oa-3;$t++)if(Mt=Nt.n($t),Dt=Nt.n($t+1),this.I(Mt.x,Dt.x)&&!this.I(Mt.y,Dt.y)){var Rt=new Ua;Rt.layer=Math.floor(Mt.x/2);var Ot=Nt.n(0),jt=Nt.n(Nt.oa-1);if(Rt.first=Ot.x+Ot.y*Ot.y,Rt.Od=jt.x+jt.y*jt.y,Rt.Ke=Math.min(Mt.y,Dt.y),Rt.Zd=Math.max(Mt.y,Dt.y),Rt.index=$t,Rt.link=Nt,$t+2<Nt.oa){var It=Nt.n($t-1),zt=Nt.n($t+2),_t=0;It.x<Mt.x?_t=zt.x<Mt.x?3:Mt.y<Dt.y?2:1:It.x>Mt.x&&(_t=zt.x>Mt.x?0:Dt.y<Mt.y?2:1),Rt.Zh=_t}Lt.add(Rt)}}if(1<Lt.count){Lt.sort(this.mG);for(var Ht=0;Ht<Lt.count;){for(var qt=Lt.q[Ht].layer,Wt=Ht+1;Wt<Lt.count&&Lt.q[Wt].layer===qt;)Wt++;if(Wt-Ht>1)for(var Gt=Ht;Wt>Gt;){for(var Vt=Lt.q[Gt].Zd,Ut=Ht+1;Wt>Ut&&Lt.q[Ut].Ke<Vt;)Vt=Math.max(Vt,Lt.q[Ut].Zd),Ut++;var Kt=Ut-Gt;if(Kt>1){Lt.Tp(this.ux,Gt,Gt+Kt);for(var Yt=1,Jt=Lt.q[Gt].Od,$t=Gt;Ut>$t;$t++){var Xt=Lt.q[$t];Xt.Od!==Jt&&(Yt++,Jt=Xt.Od)}Lt.Tp(this.lG,Gt,Gt+Kt);for(var Qt=1,Jt=Lt.q[Gt].first,$t=Gt;Ut>$t;$t++)Xt=Lt.q[$t],Xt.first!==Jt&&(Qt++,Jt=Xt.first);var Zt=!0,te=Qt;Qt>Yt?(Zt=!1,te=Yt,Jt=Lt.q[Gt].Od,Lt.Tp(this.ux,Gt,Gt+Kt)):Jt=Lt.q[Gt].first;for(var ee=0,$t=Gt;Ut>$t;$t++){Xt=Lt.q[$t],(Zt?Xt.first:Xt.Od)!==Jt&&(ee++,Jt=Zt?Xt.first:Xt.Od),Nt=Xt.link,Mt=Nt.n(Xt.index),Dt=Nt.n(Xt.index+1);var ie=this.sp*(ee-(te-1)/2);(!Nt.Si||Wa(Mt.x+ie,Mt.y,Dt.x+ie,Dt.y))&&(Pt++,Nt.Fl(),Nt.aa(Xt.index,Mt.x+ie,Mt.y),Nt.aa(Xt.index+1,Dt.x+ie,Dt.y),Nt.Li())}}Gt=Ut}Ht=Wt}}}},da.prototype.mG=function(t,e){return t instanceof Ua&&e instanceof Ua&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.Ke<e.Ke?-1:t.Ke>e.Ke?1:t.Zd<e.Zd?-1:t.Zd>e.Zd?1:0:0},da.prototype.lG=function(t,e){return t instanceof Ua&&e instanceof Ua&&t!==e?t.first<e.first?-1:t.first>e.first||t.Zh<e.Zh?1:t.Zh>e.Zh||t.Ke<e.Ke?-1:t.Ke>e.Ke?1:t.Zd<e.Zd?-1:t.Zd>e.Zd?1:0:0},da.prototype.ux=function(t,e){return t instanceof Ua&&e instanceof Ua&&t!==e?t.Od<e.Od?-1:t.Od>e.Od||t.Zh<e.Zh?1:t.Zh>e.Zh||t.Ke<e.Ke?-1:t.Ke>e.Ke?1:t.Zd<e.Zd?-1:t.Zd>e.Zd?1:0:0},da.prototype.I=function(t,e){Vh&&(Uh.p(t,da,"isApprox:a"),Uh.p(e,da,"isApprox:b"));var i=t-e;return i>-1&&1>i},Uh.g(da,"layerSpacing",da.prototype.layerSpacing),Uh.defineProperty(da,{layerSpacing:"layerSpacing"},function(){return this.em},function(t){this.em!==t&&(Uh.i(t,"number",da,"layerSpacing"),t>=0&&(this.em=t,this.K()))}),Uh.g(da,"columnSpacing",da.prototype.gI),Uh.defineProperty(da,{gI:"columnSpacing"},function(){return this.zd},function(t){this.zd!==t&&(Uh.i(t,"number",da,"columnSpacing"),t>=0&&(this.zd=t,this.K()))}),Uh.g(da,"direction",da.prototype.direction),Uh.defineProperty(da,{direction:"direction"},function(){return this.ta},function(t){this.ta!==t&&(Uh.i(t,"number",da,"direction"),this.ta=t,this.K())}),Uh.g(da,"cycleRemoveOption",da.prototype.pE),Uh.defineProperty(da,{pE:"cycleRemoveOption"},function(){return this.En},function(t){this.En!==t&&(Uh.za(t,da,da,"cycleRemoveOption"),t===Hf||t===_f)&&(this.En=t,this.K())}),Uh.g(da,"layeringOption",da.prototype.rF),Uh.defineProperty(da,{rF:"layeringOption"},function(){return this.jo},function(t){this.jo!==t&&(Uh.za(t,da,da,"layeringOption"),t===qf||t===Wf||t===Gf)&&(this.jo=t,this.K())}),Uh.g(da,"initializeOption",da.prototype.dF),Uh.defineProperty(da,{dF:"initializeOption"},function(){return this.Yn},function(t){this.Yn!==t&&(Uh.za(t,da,da,"initializeOption"),t===Vf||t===Uf||t===Kf)&&(this.Yn=t,this.K())}),Uh.g(da,"iterations",da.prototype.fJ),Uh.defineProperty(da,{fJ:"iterations"},function(){return this.bm},function(t){this.bm!==t&&(Uh.p(t,Ka,"iterations"),t>=0&&(this.bm=t,this.K()))}),Uh.g(da,"aggressiveOption",da.prototype.OD),Uh.defineProperty(da,{OD:"aggressiveOption"},function(){return this.tn},function(t){this.tn!==t&&(Uh.za(t,da,da,"aggressiveOption"),t===Yf||t===Jf||t===Xf)&&(this.tn=t,this.K())}),Uh.g(da,"packOption",da.prototype.BJ),Uh.defineProperty(da,{BJ:"packOption"},function(){return this.wi},function(t){this.wi!==t&&(Uh.i(t,"number",da,"packOption"),t>=0&&8>t&&(this.wi=t,this.K()))}),Uh.g(da,"setsPortSpots",da.prototype.Dl),Uh.defineProperty(da,{Dl:"setsPortSpots"},function(){return this.Hh},function(t){this.Hh!==t&&(Uh.i(t,"boolean",da,"setsPortSpots"),this.Hh=t,this.K())}),Uh.g(da,"linkSpacing",da.prototype.sp),Uh.defineProperty(da,{sp:"linkSpacing"},function(){return this.qj},function(t){this.qj!==t&&(Uh.i(t,"number",da,"linkSpacing"),t>=0&&(this.qj=t,this.K()))}),Uh.A(da,{nJ:"maxLayer"},function(){return this.ob}),Uh.A(da,{GK:"maxIndex"},function(){return this.ov}),Uh.A(da,{FK:"maxColumn"},function(){return this.Kb}),Uh.A(da,{KK:"minIndexLayer"},function(){return this.Br}),Uh.A(da,{HK:"maxIndexLayer"},function(){return this.Jf});var _f;da.CycleDepthFirst=_f=Uh.w(da,"CycleDepthFirst",0);var Hf;da.CycleGreedy=Hf=Uh.w(da,"CycleGreedy",1);var qf;da.LayerOptimalLinkLength=qf=Uh.w(da,"LayerOptimalLinkLength",0);var Wf;da.LayerLongestPathSink=Wf=Uh.w(da,"LayerLongestPathSink",1);var Gf;da.LayerLongestPathSource=Gf=Uh.w(da,"LayerLongestPathSource",2);var Vf;da.InitDepthFirstOut=Vf=Uh.w(da,"InitDepthFirstOut",0);var Uf;da.InitDepthFirstIn=Uf=Uh.w(da,"InitDepthFirstIn",1);var Kf;da.InitNaive=Kf=Uh.w(da,"InitNaive",2);var Yf;da.AggressiveNone=Yf=Uh.w(da,"AggressiveNone",0);var Jf;da.AggressiveLess=Jf=Uh.w(da,"AggressiveLess",1);var Xf;da.AggressiveMore=Xf=Uh.w(da,"AggressiveMore",2),da.PackNone=0;var Qf;da.PackExpand=Qf=1;var Zf;da.PackStraighten=Zf=2;var td;da.PackMedian=td=4;var ed;da.PackAll=ed=7,Uh.ae(Ua,{layer:!0,first:!0,Od:!0,Ke:!0,Zd:!0,index:!0,link:!0,Zh:!0}),Uh.Ia(Ka,Es),Uh.ja("LayeredDigraphNetwork",Ka),Ka.prototype.createVertex=function(){return new Ya},Ka.prototype.createEdge=function(){return new Ja},Uh.Ia(Ya,Ls),Uh.ja("LayeredDigraphVertex",Ya),Uh.Ia(Ja,Bs),Uh.ja("LayeredDigraphEdge",Ja),Uh.Ia(Xa,Ss),Uh.ja("TreeLayout",Xa),Xa.prototype.cloneProtected=function(t){Ss.prototype.cloneProtected.call(this,t),t.Wr=this.Wr,t.Ms=this.Ms,t.lv=this.lv,t.ph=this.ph,t.bd=this.bd,t.cg.assign(this.cg),t.va.copyInheritedPropertiesFrom(this.va),t.ua.copyInheritedPropertiesFrom(this.ua)},Xa.prototype.createNetwork=function(){return new Th},Xa.prototype.makeNetwork=function(t){function e(t){if(t instanceof Cr)return!t.zf&&"Comment"!==t.Wc;if(t instanceof Nr){var e=t.Z;return null===e||e.zf||"Comment"===e.Wc?!1:(t=t.da,null===t||t.zf||"Comment"===t.Wc?!1:!0)}return!1}var i=this.createNetwork();return i.Lb=this,t instanceof Ue?(i.Qj(t.Gg,!0,e),i.Qj(t.links,!0,e)):t instanceof bs?i.Qj(t.Qc,!1,e):i.Qj(t.k,!1,e),i},Xa.prototype.doLayout=function(t){null===t&&Uh.m("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts"),null===this.network&&(this.network=this.makeNetwork(t)),this.Ge!==Sd&&(this.Hd=this.initialOrigin(this.Hd));var e=this.h;if(null===e&&t instanceof Ue&&(e=t),this.Hf=this.path===id&&null!==e?e.ld?nd:od:this.path===id?nd:this.path,0<this.network.vertexes.count){for(this.network.zw(),t=this.network.vertexes.k;t.next();)e=t.value,e.initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.sd.count){for(t=new c(Mh),e=this.sd.k;e.next();){var i=e.value;i instanceof Cr?(i=this.network.Sm(i),null!==i&&t.add(i)):i instanceof Mh&&t.add(i)}this.sd=t}for(0===this.sd.count&&this.findRoots(),t=this.sd.copy().k;t.next();)e=t.value,e.initialized||(e.initialized=!0,Qa(this,e));for(t=this.sd.k;t.next();)e=t.value,e instanceof Mh&&th(this,e);for(t=this.sd.k;t.next();)e=t.value,e instanceof Mh&&ih(this,e);for(t=this.sd.k;t.next();)e=t.value,e instanceof Mh&&nh(this,e);if(this.Kz(),this.bx===Td){for(i=[],t=this.network.vertexes.k;t.next();){var n=t.value,e=n.parent;null==e&&(e=n);var e=0===e.angle||180===e.angle,o=i[n.level];void 0===o&&(o=0),i[n.level]=Math.max(o,e?n.width:n.height)}for(n=0;n<i.length;n++)void 0===i[n]&&(i[n]=0);for(this.HB=i,t=this.network.vertexes.k;t.next();)n=t.value,e=n.parent,null===e&&(e=n),0===e.angle||180===e.angle?(180===e.angle&&(n.Zo+=i[n.level]-n.width),n.width=i[n.level]):(270===e.angle&&(n.$o+=i[n.level]-n.height),n.height=i[n.level])}else if(this.bx===Ed)for(t=this.network.vertexes.k;t.next();){for(i=t.value,e=0===i.angle||180===i.angle,o=-1,n=0;n<i.children.length;n++)var r=i.children[n],o=Math.max(o,e?r.width:r.height);if(o>=0)for(n=0;n<i.children.length;n++)r=i.children[n],e?(180===i.angle&&(r.Zo+=o-r.width),r.width=o):(270===i.angle&&(r.$o+=o-r.height),r.height=o)}for(t=this.sd.k;t.next();)e=t.value,e instanceof Mh&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.sd=new c(Object),this.gf=!0},Xa.prototype.findRoots=function(){for(var t=this.network.vertexes.k;t.next();){var e=t.value;switch(this.Hf){case nd:0===e.rc.count&&this.sd.add(e);break;case od:0===e.fc.count&&this.sd.add(e);break;default:Uh.m("Unhandled path value "+this.Hf.toString())}}if(0===this.sd.count){for(var t=999999,e=null,i=this.network.vertexes.k;i.next();){var n=i.value;switch(this.Hf){case nd:n.rc.count<t&&(t=n.rc.count,e=n);break;case od:n.fc.count<t&&(t=n.fc.count,e=n);break;default:Uh.m("Unhandled path value "+this.Hf.toString())}}null!==e&&this.sd.add(e)}},Xa.prototype.removeChild=function(t,e){if(null!==t&&null!==e){Vh&&Uh.l(t,Mh,Xa,"removeChild:p"),Vh&&Uh.l(e,Mh,Xa,"removeChild:c");for(var i=t.children,n=0,o=0;o<i.length;o++)i[o]===e&&n++;if(n>0){for(var n=Array(i.length-n),r=0,o=0;o<i.length;o++)i[o]!==e&&(n[r++]=i[o]);t.children=n}}},Xa.prototype.initializeTreeVertexValues=function(t){Vh&&Uh.l(t,Mh,Xa,"initializeTreeVertexValues:v");var e=eh(this,t);if(t.copyInheritedPropertiesFrom(e),null!==t.parent&&t.parent.alignment===pd){for(var e=t.angle,i=t.parent.children,n=0;n<i.length&&t!==i[n];)n++;0===n%2?n!==i.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},Xa.prototype.assignTreeVertexValues=function(){},Xa.prototype.sortTreeVertexChildren=function(t){switch(Vh&&Uh.l(t,Mh,Xa,"sortTreeVertexChildren:v"),t.sorting){case rd:break;case sd:t.children.reverse();break;case ad:t.children.sort(t.comparer);break;case hd:t.children.sort(t.comparer),t.children.reverse();break;default:Uh.m("Unhandled sorting value "+t.sorting.toString())}},Xa.prototype.Kz=function(){if(this.comments)for(var t=this.network.vertexes.k;t.next();)this.addComments(t.value)},Xa.prototype.addComments=function(t){Vh&&Uh.l(t,Mh,Xa,"addComments:v");var e=t.angle,i=t.parent,n=0,o=ud,o=!1;null!==i&&(n=i.angle,o=i.alignment,o=oh(o));var e=90===e||270===e,n=90===n||270===n,i=0===t.Jm,r=0,s=0,a=0,h=t.commentSpacing;if(null!==t.Cc)for(var l=t.Cc.GE();l.next();){var u=l.value;"Comment"===u.Wc&&u.Ja()&&(null===t.comments&&(t.comments=[]),t.comments.push(u),u.vf(),u=u.Fa,e&&!i||!o&&!n&&i||o&&n&&i?(r=Math.max(r,u.width),s+=u.height+Math.abs(a)):(r+=u.width+Math.abs(a),s=Math.max(s,u.height)),a=h)}null!==t.comments&&(e&&!i||!o&&!n&&i||o&&n&&i?(r+=Math.abs(t.commentMargin),s=Math.max(0,s-t.height)):(s+=Math.abs(t.commentMargin),r=Math.max(0,r-t.width)),o=Uh.lk(0,0,t.ca.width+r,t.ca.height+s),t.kb=o,Uh.nc(o))},Xa.prototype.layoutComments=function(t){if(Vh&&Uh.l(t,Mh,Xa,"layoutComments:v"),null!==t.comments){var e=t.Cc.Fa,i=t.parent,n=t.angle,o=0,r=ud,r=!1;null!==i&&(o=i.angle,r=i.alignment,r=oh(r));for(var i=90===n||270===n,n=90===o||270===o,s=0===t.Jm,a=sh(t),h=0,l=t.comments,u=l.length,c=Uh.M(),f=0;u>f;f++){var d=l[f],p=d.Fa;if(i&&!s||!r&&!n&&s||r&&n&&s){if(o>135&&!r||n&&a)if(0<=t.commentMargin)for(c.o(t.ca.x-t.commentMargin-p.width,t.ca.y+h),d.move(c),d=d.wg();d.next();){var g=d.value;g.vb=dl,g.xb=pl}else for(c.o(t.ca.x+2*t.O.x-t.commentMargin,t.ca.y+h),d.move(c),d=d.wg();d.next();)g=d.value,g.vb=pl,g.xb=dl;else if(0<=t.commentMargin)for(c.o(t.ca.x+2*t.O.x+t.commentMargin,t.ca.y+h),d.move(c),d=d.wg();d.next();)g=d.value,g.vb=pl,g.xb=dl;else for(c.o(t.ca.x+t.commentMargin-p.width,t.ca.y+h),d.move(c),d=d.wg();d.next();)g=d.value,g.vb=dl,g.xb=pl;h=0<=t.commentSpacing?h+(p.height+t.commentSpacing):h+(t.commentSpacing-p.height)}else{if(o>135&&!r||!n&&a)if(0<=t.commentMargin)for(c.o(t.ca.x+h,t.ca.y-t.commentMargin-p.height),d.move(c),d=d.wg();d.next();)g=d.value,g.vb=fl,g.xb=gl;else for(c.o(t.ca.x+h,t.ca.y+2*t.O.y-t.commentMargin),d.move(c),d=d.wg();d.next();)g=d.value,g.vb=gl,g.xb=fl;else if(0<=t.commentMargin)for(c.o(t.ca.x+h,t.ca.y+2*t.O.y+t.commentMargin),d.move(c),d=d.wg();d.next();)g=d.value,g.vb=gl,g.xb=fl;else for(c.o(t.ca.x+h,t.ca.y+t.commentMargin-p.height),d.move(c),d=d.wg();d.next();)g=d.value,g.vb=fl,g.xb=gl;h=0<=t.commentSpacing?h+(p.width+t.commentSpacing):h+(t.commentSpacing-p.width)}}if(Uh.B(c),e=h-t.commentSpacing-(i?e.height:e.width),this.Hf===nd)for(o=t.fc;o.next();)t=o.value.link,null===t||t.Si||(t.ek=e>0?e:NaN);else for(o=t.rc;o.next();)t=o.value.link,null===t||t.Si||(t.mk=e>0?e:NaN)}},Xa.prototype.layoutTree=function(t){if(null!==t){Vh&&Uh.l(t,Mh,Xa,"layoutTree:v");for(var e=t.children,i=e.length,n=0;i>n;n++)this.layoutTree(e[n]);switch(t.compaction){case vd:ah(this,t);break;case yd:if(t.alignment===pd)ah(this,t);else if(Vh&&Uh.l(t,Mh,Xa,"layoutTreeBlock:v"),0===t.Jm){var n=t.parent,e=!1,i=0,o=ud;null!==n&&(i=n.angle,o=n.alignment,e=oh(o)),n=sh(t),t.ma.o(0,0),t.cb.o(t.width,t.height),null===t.parent||null===t.comments||(180!==i&&270!==i||e)&&!n?t.La.o(0,0):180===i&&!e||(90===i||270===i)&&n?t.La.o(t.width-2*t.O.x,0):t.La.o(0,t.height-2*t.O.y),t.Dt=null,t.Vt=null}else{for(var r=Sh(t),e=90===r||270===r,s=0,a=t.children,h=a.length,l=0;h>l;l++)var u=a[l],s=Math.max(s,e?u.cb.width:u.cb.height);var c=t.alignment,n=c===cd,f=c===fd,d=oh(c),p=Math.max(0,t.breadthLimit),i=Fh(t),g=t.nodeSpacing,m=Eh(t),v=t.rowSpacing,y=0;
(n||f||t.Np||t.Op&&1===t.maxGenerationCount)&&(y=Math.max(0,t.rowIndent));var n=t.width,o=t.height,b=0,w=0,x=0,C=null,k=null,A=0,S=0,F=0,E=0,T=0,M=0,D=0,P=0,u=0;if(d&&!rh(c)&&r>135&&a.reverse(),rh(c))if(h>1)for(l=0;h>l;l++)0===l%2&&l!==h-1?P=Math.max(P,e?a[l].cb.width:a[l].cb.height):0!==l%2&&(u=Math.max(u,e?a[l].cb.width:a[l].cb.height));else 1===h&&(P=e?a[0].cb.width:a[0].cb.height);if(d){switch(c){case dd:S=135>r?hh(t,a,P,b,w):lh(t,a,P,b,w),P=S.x,b=S.width,w=S.height;break;case gd:for(l=0;h>l;l++){var u=a[l],L=u.cb,C=0===M?0:v;e?(u.ma.o(s-L.width,E+C),b=Math.max(b,L.width),w=Math.max(w,E+C+L.height),E+=C+L.height):(u.ma.o(F+C,s-L.height),b=Math.max(b,F+C+L.width),w=Math.max(w,L.height),F+=C+L.width),M++}break;case md:for(l=0;h>l;l++)u=a[l],L=u.cb,C=0===M?0:v,e?(u.ma.o(g/2+t.O.x,E+C),b=Math.max(b,L.width),w=Math.max(w,E+C+L.height),E+=C+L.height):(u.ma.o(F+C,g/2+t.O.y),b=Math.max(b,F+C+L.width),w=Math.max(w,L.height),F+=C+L.width),M++}C=xh(this,2),k=xh(this,2),e?(C[0].o(0,0),C[1].o(0,w),k[0].o(b,0)):(C[0].o(0,0),C[1].o(b,0),k[0].o(0,w)),k[1].o(b,w)}else for(l=0;h>l;l++){if(u=a[l],L=u.cb,e){p>0&&M>0&&F+g+L.width>p&&(s>F&&mh(t,c,s-F,0,D,l-1),T++,M=0,D=l,x=w,F=0,E=r>135?-w-v:w+v),yh(this,u,0,E);var B=0;if(0===M)C=u.Dt,k=u.Vt,A=L.width,S=L.height,(null===C||null===k||r!==Sh(u))&&(C=xh(this,2),k=xh(this,2),C[0].o(0,0),C[1].o(0,S),k[0].o(A,0),k[1].o(A,S));else{var N=Uh.lb(),S=wh(this,t,u,C,k,A,S,N),B=S.x,C=N[0],k=N[1],A=S.width,S=S.height;Uh.xa(N),F<L.width&&0>B&&(vh(t,-B,0,D,l-1),bh(C,-B,0),bh(k,-B,0),B=0)}u.ma.o(B,E),b=Math.max(b,A),w=Math.max(w,x+(0===T?0:v)+L.height),F=A}else p>0&&M>0&&E+g+L.height>p&&(s>E&&mh(t,c,0,s-E,D,l-1),T++,M=0,D=l,x=b,E=0,F=r>135?-b-v:b+v),yh(this,u,F,0),B=0,0===M?(C=u.Dt,k=u.Vt,A=L.width,S=L.height,(null===C||null===k||r!==Sh(u))&&(C=xh(this,2),k=xh(this,2),C[0].o(0,0),C[1].o(A,0),k[0].o(0,S),k[1].o(A,S))):(N=Uh.lb(),S=wh(this,t,u,C,k,A,S,N),B=S.x,C=N[0],k=N[1],A=S.width,S=S.height,Uh.xa(N),E<L.height&&0>B&&(vh(t,0,-B,D,l-1),bh(C,0,-B),bh(k,0,-B),B=0)),u.ma.o(F,B),w=Math.max(w,S),b=Math.max(b,x+(0===T?0:v)+L.width),E=S;M++}switch(T>0&&(e?(w+=Math.max(0,i),b>F&&mh(t,c,b-F,0,D,h-1),y>0&&(f||vh(t,y,0,0,h-1),b+=y)):(b+=Math.max(0,i),w>E&&mh(t,c,0,w-E,D,h-1),y>0&&(f||vh(t,0,y,0,h-1),w+=y))),f=s=0,c){case ld:e?s+=b/2-t.O.x-m/2:f+=w/2-t.O.y-m/2;break;case ud:T>0?e?s+=b/2-t.O.x-m/2:f+=w/2-t.O.y-m/2:e?(l=a[0].ma.x+a[0].La.x,P=a[h-1].ma.x+a[h-1].La.x+2*a[h-1].O.x,s+=l+(P-l)/2-t.O.x-m/2):(l=a[0].ma.y+a[0].La.y,P=a[h-1].ma.y+a[h-1].La.y+2*a[h-1].O.y,f+=l+(P-l)/2-t.O.y-m/2);break;case cd:e?(s-=m,b+=m):(f-=m,w+=m);break;case fd:e?(s+=b-t.width+m,b+=m):(f+=w-t.height+m,w+=m);break;case dd:e?s=h>1?s+(P+g/2-t.O.x):s+(a[0].O.x-t.O.x+a[0].La.x):f=h>1?f+(P+g/2-t.O.y):f+(a[0].O.y-t.O.y+a[0].La.y);break;case gd:e?s+=b+g/2-t.O.x:f+=w+g/2-t.O.y;break;case md:break;default:Uh.m("Unhandled alignment value "+c.toString())}for(l=0;h>l;l++)u=a[l],e?u.ma.o(u.ma.x+u.La.x-s,u.ma.y+(r>135?(d?-w:-u.cb.height)+u.La.y-i:o+i+u.La.y)):u.ma.o(u.ma.x+(r>135?(d?-b:-u.cb.width)+u.La.x-i:n+i+u.La.x),u.ma.y+u.La.y-f);if(h=a=0,d?e?(b=dh(t,b,s),0>s&&(s=0),r>135&&(f+=w+i),w+=o+i,c===md&&(a+=g/2+t.O.x),h+=o+i):(r>135&&(s+=b+i),b+=n+i,w=ph(t,w,f),0>f&&(f=0),c===md&&(h+=g/2+t.O.y),a+=n+i):e?(null===t.comments?n>b&&(c=gh(c,n-b,0),a=c.x,h=c.y,b=n,s=0):b=dh(t,b,s),0>s&&(a-=s,s=0),r>135&&(f+=w+i),w=Math.max(Math.max(w,o),w+o+i),h+=o+i):(r>135&&(s+=b+i),b=Math.max(Math.max(b,n),b+n+i),null===t.comments?o>w&&(c=gh(c,0,o-w),a=c.x,h=c.y,w=o,f=0):w=ph(t,w,f),0>f&&(h-=f,f=0),a+=n+i),T>0)r=xh(this,4),c=xh(this,4),e?(r[2].o(0,o+i),r[3].o(r[2].x,w),c[2].o(b,r[2].y),c[3].o(c[2].x,r[3].y)):(r[2].o(n+i,0),r[3].o(b,r[2].y),c[2].o(r[2].x,w),c[3].o(r[3].x,c[2].y));else{for(r=xh(this,C.length+2),c=xh(this,k.length+2),l=0;l<C.length;l++)d=C[l],r[l+2].o(d.x+a,d.y+h);for(l=0;l<k.length;l++)d=k[l],c[l+2].o(d.x+a,d.y+h)}e?(r[0].o(s,0),r[1].o(r[0].x,o),r[2].y<r[1].y&&(r[2].x>r[0].x?r[2].assign(r[1]):r[1].assign(r[2])),r[3].y<r[2].y&&(r[3].x>r[0].x?r[3].assign(r[2]):r[2].assign(r[3])),c[0].o(s+n,0),c[1].o(c[0].x,o),c[2].y<c[1].y&&(c[2].x<c[0].x?c[2].assign(c[1]):c[1].assign(c[2])),c[3].y<c[2].y&&(c[3].x<c[0].x?c[3].assign(c[2]):c[2].assign(c[3])),r[2].y-=i/2,c[2].y-=i/2):(r[0].o(0,f),r[1].o(n,r[0].y),r[2].x<r[1].x&&(r[2].y>r[0].y?r[2].assign(r[1]):r[1].assign(r[2])),r[3].x<r[2].x&&(r[3].y>r[0].y?r[3].assign(r[2]):r[2].assign(r[3])),c[0].o(0,f+o),c[1].o(n,c[0].y),c[2].x<c[1].x&&(c[2].y<c[0].y?c[2].assign(c[1]):c[1].assign(c[2])),c[3].x<c[2].x&&(c[3].y<c[0].y?c[3].assign(c[2]):c[2].assign(c[3])),r[2].x-=i/2,c[2].x-=i/2),Ch(this,C),Ch(this,k),t.Dt=r,t.Vt=c,t.La.o(s,f),t.cb.o(b,w)}break;default:Uh.m("Unhandled compaction value "+t.compaction.toString())}}},Xa.prototype.arrangeTrees=function(){if(this.bd===Sd)for(var t=this.sd.k;t.next();){var e=t.value;if(e instanceof Mh){var i=e.Cc;if(null!==i){var n=i.position,i=n.x,n=n.y;isFinite(i)||(i=0),isFinite(n)||(n=0),kh(this,e,i,n)}}}else for(t=this.Hd,e=t.x,i=t.y,t=this.sd.k;t.next();)if(n=t.value,n instanceof Mh)switch(kh(this,n,e+n.La.x,i+n.La.y),this.bd){case kd:i+=n.cb.height+this.cg.height;break;case Ad:e+=n.cb.width+this.cg.width;break;default:Uh.m("Unhandled arrangement value "+this.bd.toString())}},Xa.prototype.commitLayout=function(){this.gB(),this.commitNodes(),this.Rz(),this.Bt&&this.commitLinks()},Xa.prototype.commitNodes=function(){for(var t=this.network.vertexes.k;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},Xa.prototype.Rz=function(){if(this.bx===Td){for(var t=this.HB,e=[],i=null,n=this.network.vertexes.k;n.next();){var o=n.value;null===i?i=o.kb.copy():i.$h(o.kb);var r=e[o.level],r=void 0===r?Fh(o):Math.max(r,Fh(o));e[o.level]=r}for(n=0;n<e.length;n++)void 0===e[n]&&(e[n]=0);90===this.angle||270===this.angle?(i.Sf(this.nodeSpacing/2,this.layerSpacing),o=new b(-this.nodeSpacing/2,-this.layerSpacing/2)):(i.Sf(this.layerSpacing,this.nodeSpacing/2),o=new b(-this.layerSpacing/2,-this.nodeSpacing/2));var r=[],i=90===this.angle||270===this.angle?i.width:i.height,s=0;if(180===this.angle||270===this.angle)for(n=0;n<t.length;n++)s+=t[n]+e[n];for(n=0;n<t.length;n++){var a=t[n]+e[n];270===this.angle?(s-=a,r.push(new k(0,s,i,a))):90===this.angle?(r.push(new k(0,s,i,a)),s+=a):180===this.angle?(s-=a,r.push(new k(s,0,a,i))):(r.push(new k(s,0,a,i)),s+=a)}this.commitLayers(r,o)}},Xa.prototype.commitLayers=function(){},Xa.prototype.commitLinks=function(){for(var t=this.network.edges.k;t.next();)t.value.commit()},Xa.prototype.gB=function(){for(var t=this.sd.k;t.next();){var e=t.value;e instanceof Mh&&Ah(this,e)}},Xa.prototype.setPortSpots=function(t){Vh&&Uh.l(t,Mh,Xa,"setPortSpots:v");var i=t.alignment;if(oh(i)){Vh&&Uh.l(t,Mh,Xa,"setPortSpotsBus:v"),Vh&&Uh.l(i,e,Xa,"setPortSpots:align");var n,o=this.Hf===nd,r=Sh(t);switch(r){case 0:n=pl;break;case 90:n=gl;break;case 180:n=dl;break;default:n=fl}var s=t.children,a=s.length;switch(i){case dd:case pd:for(i=0;a>i;i++){var h=s[i],h=(o?h.rc:h.fc).first();if(null!==h&&(h=h.link,null!==h)){var l=90===r||270===r?dl:fl;if(1===a||i===a-1&&1===a%2)switch(r){case 0:l=dl;break;case 90:l=fl;break;case 180:l=pl;break;default:l=gl}else 0===i%2&&(l=90===r||270===r?pl:gl);o?(t.setsPortSpot&&(h.vb=n),t.setsChildPortSpot&&(h.xb=l)):(t.setsPortSpot&&(h.vb=l),t.setsChildPortSpot&&(h.xb=n))}}break;case gd:for(l=90===r||270===r?pl:gl,r=o?t.fc:t.rc;r.next();)h=r.value.link,null!==h&&(o?(t.setsPortSpot&&(h.vb=n),t.setsChildPortSpot&&(h.xb=l)):(t.setsPortSpot&&(h.vb=l),t.setsChildPortSpot&&(h.xb=n)));break;case md:for(l=90===r||270===r?dl:fl,r=o?t.fc:t.rc;r.next();)h=r.value.link,null!==h&&(o?(t.setsPortSpot&&(h.vb=n),t.setsChildPortSpot&&(h.xb=l)):(t.setsPortSpot&&(h.vb=l),t.setsChildPortSpot&&(h.xb=n)))}}else if(o=Sh(t),this.Hf===nd){for(n=t.fc;n.next();)if(r=n.value.link,null!==r){if(t.setsPortSpot)if(t.portSpot.Oc())switch(o){case 0:r.vb=pl;break;case 90:r.vb=gl;break;case 180:r.vb=dl;break;default:r.vb=fl}else r.vb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Oc())switch(o){case 0:r.xb=dl;break;case 90:r.xb=fl;break;case 180:r.xb=pl;break;default:r.xb=gl}else r.xb=t.childPortSpot}}else for(n=t.rc;n.next();)if(r=n.value.link,null!==r){if(t.setsPortSpot)if(t.portSpot.Oc())switch(o){case 0:r.xb=pl;break;case 90:r.xb=gl;break;case 180:r.xb=dl;break;default:r.xb=fl}else r.xb=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Oc())switch(o){case 0:r.vb=dl;break;case 90:r.vb=fl;break;case 180:r.vb=pl;break;default:r.vb=gl}else r.vb=t.childPortSpot}},Uh.g(Xa,"roots",Xa.prototype.NJ),Uh.defineProperty(Xa,{NJ:"roots"},function(){return this.sd},function(t){this.sd!==t&&(Uh.l(t,c,Xa,"roots"),this.sd=t,this.K())}),Uh.g(Xa,"path",Xa.prototype.path),Uh.defineProperty(Xa,{path:"path"},function(){return this.Wr},function(t){this.Wr!==t&&(Uh.za(t,Xa,Xa,"path"),this.Wr=t,this.K())}),Uh.g(Xa,"treeStyle",Xa.prototype.TG),Uh.defineProperty(Xa,{TG:"treeStyle"},function(){return this.Ms},function(t){this.bd!==t&&(Uh.za(t,Xa,Xa,"treeStyle"),t===bd||t===xd||t===wd||t===Cd)&&(this.Ms=t,this.K())}),Uh.g(Xa,"layerStyle",Xa.prototype.bx),Uh.defineProperty(Xa,{bx:"layerStyle"},function(){return this.lv},function(t){this.bd!==t&&(Uh.za(t,Xa,Xa,"layerStyle"),t===Fd||t===Ed||t===Td)&&(this.lv=t,this.K())}),Uh.g(Xa,"comments",Xa.prototype.comments),Uh.defineProperty(Xa,{comments:"comments"},function(){return this.ph},function(t){this.ph!==t&&(Uh.i(t,"boolean",Xa,"comments"),this.ph=t,this.K())}),Uh.g(Xa,"arrangement",Xa.prototype.Ge),Uh.defineProperty(Xa,{Ge:"arrangement"},function(){return this.bd},function(t){this.bd!==t&&(Uh.za(t,Xa,Xa,"arrangement"),t===kd||t===Ad||t===Sd)&&(this.bd=t,this.K())}),Uh.g(Xa,"arrangementSpacing",Xa.prototype.iw),Uh.defineProperty(Xa,{iw:"arrangementSpacing"},function(){return this.cg},function(t){Uh.l(t,C,Xa,"arrangementSpacing"),this.cg.L(t)||(this.cg.assign(t),this.K())}),Uh.g(Xa,"rootDefaults",Xa.prototype.MJ),Uh.defineProperty(Xa,{MJ:"rootDefaults"},function(){return this.va},function(t){this.va!==t&&(Uh.l(t,Mh,Xa,"rootDefaults"),this.va=t,this.K())}),Uh.g(Xa,"alternateDefaults",Xa.prototype.QH),Uh.defineProperty(Xa,{QH:"alternateDefaults"},function(){return this.ua},function(t){this.ua!==t&&(Uh.l(t,Mh,Xa,"alternateDefaults"),this.ua=t,this.K())}),Uh.g(Xa,"sorting",Xa.prototype.sorting),Uh.defineProperty(Xa,{sorting:"sorting"},function(){return this.va.sorting},function(t){this.va.sorting!==t&&(Uh.za(t,Xa,Xa,"sorting"),t===rd||t===sd||t===ad||hd)&&(this.va.sorting=t,this.K())}),Uh.g(Xa,"comparer",Xa.prototype.comparer),Uh.defineProperty(Xa,{comparer:"comparer"},function(){return this.va.comparer},function(t){this.va.comparer!==t&&(Uh.i(t,"function",Xa,"comparer"),this.va.comparer=t,this.K())}),Uh.g(Xa,"angle",Xa.prototype.angle),Uh.defineProperty(Xa,{angle:"angle"},function(){return this.va.angle},function(t){this.va.angle!==t&&(Uh.i(t,"number",Xa,"angle"),0===t||90===t||180===t||270===t)&&(this.va.angle=t,this.K())}),Uh.g(Xa,"alignment",Xa.prototype.alignment),Uh.defineProperty(Xa,{alignment:"alignment"},function(){return this.va.alignment},function(t){this.va.alignment!==t&&(Uh.za(t,Xa,Xa,"alignment"),this.va.alignment=t,this.K())}),Uh.g(Xa,"nodeIndent",Xa.prototype.nodeIndent),Uh.defineProperty(Xa,{nodeIndent:"nodeIndent"},function(){return this.va.nodeIndent},function(t){this.va.nodeIndent!==t&&(Uh.i(t,"number",Xa,"nodeIndent"),t>=0&&(this.va.nodeIndent=t,this.K()))}),Uh.g(Xa,"nodeIndentPastParent",Xa.prototype.nodeIndentPastParent),Uh.defineProperty(Xa,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.va.nodeIndentPastParent},function(t){this.va.nodeIndentPastParent!==t&&(Uh.i(t,"number",Xa,"nodeIndentPastParent"),t>=0&&1>=t&&(this.va.nodeIndentPastParent=t,this.K()))}),Uh.g(Xa,"nodeSpacing",Xa.prototype.nodeSpacing),Uh.defineProperty(Xa,{nodeSpacing:"nodeSpacing"},function(){return this.va.nodeSpacing},function(t){this.va.nodeSpacing!==t&&(Uh.i(t,"number",Xa,"nodeSpacing"),this.va.nodeSpacing=t,this.K())}),Uh.g(Xa,"layerSpacing",Xa.prototype.layerSpacing),Uh.defineProperty(Xa,{layerSpacing:"layerSpacing"},function(){return this.va.layerSpacing},function(t){this.va.layerSpacing!==t&&(Uh.i(t,"number",Xa,"layerSpacing"),this.va.layerSpacing=t,this.K())}),Uh.g(Xa,"layerSpacingParentOverlap",Xa.prototype.layerSpacingParentOverlap),Uh.defineProperty(Xa,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.va.layerSpacingParentOverlap},function(t){this.va.layerSpacingParentOverlap!==t&&(Uh.i(t,"number",Xa,"layerSpacingParentOverlap"),t>=0&&1>=t&&(this.va.layerSpacingParentOverlap=t,this.K()))}),Uh.g(Xa,"compaction",Xa.prototype.compaction),Uh.defineProperty(Xa,{compaction:"compaction"},function(){return this.va.compaction},function(t){this.va.compaction!==t&&(Uh.za(t,Xa,Xa,"compaction"),t===vd||t===yd)&&(this.va.compaction=t,this.K())}),Uh.g(Xa,"breadthLimit",Xa.prototype.breadthLimit),Uh.defineProperty(Xa,{breadthLimit:"breadthLimit"},function(){return this.va.breadthLimit},function(t){this.va.breadthLimit!==t&&(Uh.i(t,"number",Xa,"breadthLimit"),t>=0&&(this.va.breadthLimit=t,this.K()))}),Uh.g(Xa,"rowSpacing",Xa.prototype.rowSpacing),Uh.defineProperty(Xa,{rowSpacing:"rowSpacing"},function(){return this.va.rowSpacing},function(t){this.va.rowSpacing!==t&&(Uh.i(t,"number",Xa,"rowSpacing"),this.va.rowSpacing=t,this.K())}),Uh.g(Xa,"rowIndent",Xa.prototype.rowIndent),Uh.defineProperty(Xa,{rowIndent:"rowIndent"},function(){return this.va.rowIndent},function(t){this.va.rowIndent!==t&&(Uh.i(t,"number",Xa,"rowIndent"),t>=0&&(this.va.rowIndent=t,this.K()))}),Uh.g(Xa,"commentSpacing",Xa.prototype.commentSpacing),Uh.defineProperty(Xa,{commentSpacing:"commentSpacing"},function(){return this.va.commentSpacing},function(t){this.va.commentSpacing!==t&&(Uh.i(t,"number",Xa,"commentSpacing"),this.va.commentSpacing=t,this.K())}),Uh.g(Xa,"commentMargin",Xa.prototype.commentMargin),Uh.defineProperty(Xa,{commentMargin:"commentMargin"},function(){return this.va.commentMargin},function(t){this.va.commentMargin!==t&&(Uh.i(t,"number",Xa,"commentMargin"),this.va.commentMargin=t,this.K())}),Uh.g(Xa,"setsPortSpot",Xa.prototype.setsPortSpot),Uh.defineProperty(Xa,{setsPortSpot:"setsPortSpot"},function(){return this.va.setsPortSpot},function(t){this.va.setsPortSpot!==t&&(Uh.i(t,"boolean",Xa,"setsPortSpot"),this.va.setsPortSpot=t,this.K())}),Uh.g(Xa,"portSpot",Xa.prototype.portSpot),Uh.defineProperty(Xa,{portSpot:"portSpot"},function(){return this.va.portSpot},function(t){Uh.l(t,P,Xa,"portSpot"),this.va.portSpot.L(t)||(this.va.portSpot=t,this.K())}),Uh.g(Xa,"setsChildPortSpot",Xa.prototype.setsChildPortSpot),Uh.defineProperty(Xa,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.va.setsChildPortSpot},function(t){this.va.setsChildPortSpot!==t&&(Uh.i(t,"boolean",Xa,"setsChildPortSpot"),this.va.setsChildPortSpot=t,this.K())}),Uh.g(Xa,"childPortSpot",Xa.prototype.childPortSpot),Uh.defineProperty(Xa,{childPortSpot:"childPortSpot"},function(){return this.va.childPortSpot},function(t){Uh.l(t,P,Xa,"childPortSpot"),this.va.childPortSpot.L(t)||(this.va.childPortSpot=t,this.K())}),Uh.g(Xa,"alternateSorting",Xa.prototype.aI),Uh.defineProperty(Xa,{aI:"alternateSorting"},function(){return this.ua.sorting},function(t){this.ua.sorting!==t&&(Uh.za(t,Xa,Xa,"alternateSorting"),t===rd||t===sd||t===ad||hd)&&(this.ua.sorting=t,this.K())}),Uh.g(Xa,"alternateComparer",Xa.prototype.PH),Uh.defineProperty(Xa,{PH:"alternateComparer"},function(){return this.ua.comparer},function(t){this.ua.comparer!==t&&(Uh.i(t,"function",Xa,"alternateComparer"),this.ua.comparer=t,this.K())}),Uh.g(Xa,"alternateAngle",Xa.prototype.JH),Uh.defineProperty(Xa,{JH:"alternateAngle"},function(){return this.ua.angle},function(t){this.ua.angle!==t&&(Uh.i(t,"number",Xa,"alternateAngle"),0===t||90===t||180===t||270===t)&&(this.ua.angle=t,this.K())}),Uh.g(Xa,"alternateAlignment",Xa.prototype.IH),Uh.defineProperty(Xa,{IH:"alternateAlignment"},function(){return this.ua.alignment},function(t){this.ua.alignment!==t&&(Uh.za(t,Xa,Xa,"alternateAlignment"),this.ua.alignment=t,this.K())}),Uh.g(Xa,"alternateNodeIndent",Xa.prototype.TH),Uh.defineProperty(Xa,{TH:"alternateNodeIndent"},function(){return this.ua.nodeIndent},function(t){this.ua.nodeIndent!==t&&(Uh.i(t,"number",Xa,"alternateNodeIndent"),t>=0&&(this.ua.nodeIndent=t,this.K()))}),Uh.g(Xa,"alternateNodeIndentPastParent",Xa.prototype.UH),Uh.defineProperty(Xa,{UH:"alternateNodeIndentPastParent"},function(){return this.ua.nodeIndentPastParent},function(t){this.ua.nodeIndentPastParent!==t&&(Uh.i(t,"number",Xa,"alternateNodeIndentPastParent"),t>=0&&1>=t&&(this.ua.nodeIndentPastParent=t,this.K()))}),Uh.g(Xa,"alternateNodeSpacing",Xa.prototype.VH),Uh.defineProperty(Xa,{VH:"alternateNodeSpacing"},function(){return this.ua.nodeSpacing},function(t){this.ua.nodeSpacing!==t&&(Uh.i(t,"number",Xa,"alternateNodeSpacing"),this.ua.nodeSpacing=t,this.K())}),Uh.g(Xa,"alternateLayerSpacing",Xa.prototype.RH),Uh.defineProperty(Xa,{RH:"alternateLayerSpacing"},function(){return this.ua.layerSpacing},function(t){this.ua.layerSpacing!==t&&(Uh.i(t,"number",Xa,"alternateLayerSpacing"),this.ua.layerSpacing=t,this.K())}),Uh.g(Xa,"alternateLayerSpacingParentOverlap",Xa.prototype.SH),Uh.defineProperty(Xa,{SH:"alternateLayerSpacingParentOverlap"},function(){return this.ua.layerSpacingParentOverlap},function(t){this.ua.layerSpacingParentOverlap!==t&&(Uh.i(t,"number",Xa,"alternateLayerSpacingParentOverlap"),t>=0&&1>=t&&(this.ua.layerSpacingParentOverlap=t,this.K()))}),Uh.g(Xa,"alternateCompaction",Xa.prototype.OH),Uh.defineProperty(Xa,{OH:"alternateCompaction"},function(){return this.ua.compaction},function(t){this.ua.compaction!==t&&(Uh.za(t,Xa,Xa,"alternateCompaction"),t===vd||t===yd)&&(this.ua.compaction=t,this.K())}),Uh.g(Xa,"alternateBreadthLimit",Xa.prototype.KH),Uh.defineProperty(Xa,{KH:"alternateBreadthLimit"},function(){return this.ua.breadthLimit},function(t){this.ua.breadthLimit!==t&&(Uh.i(t,"number",Xa,"alternateBreadthLimit"),t>=0&&(this.ua.breadthLimit=t,this.K()))}),Uh.g(Xa,"alternateRowSpacing",Xa.prototype.YH),Uh.defineProperty(Xa,{YH:"alternateRowSpacing"},function(){return this.ua.rowSpacing},function(t){this.ua.rowSpacing!==t&&(Uh.i(t,"number",Xa,"alternateRowSpacing"),this.ua.rowSpacing=t,this.K())}),Uh.g(Xa,"alternateRowIndent",Xa.prototype.XH),Uh.defineProperty(Xa,{XH:"alternateRowIndent"},function(){return this.ua.rowIndent},function(t){this.ua.rowIndent!==t&&(Uh.i(t,"number",Xa,"alternateRowIndent"),t>=0&&(this.ua.rowIndent=t,this.K()))}),Uh.g(Xa,"alternateCommentSpacing",Xa.prototype.NH),Uh.defineProperty(Xa,{NH:"alternateCommentSpacing"},function(){return this.ua.commentSpacing},function(t){this.ua.commentSpacing!==t&&(Uh.i(t,"number",Xa,"alternateCommentSpacing"),this.ua.commentSpacing=t,this.K())}),Uh.g(Xa,"alternateCommentMargin",Xa.prototype.MH),Uh.defineProperty(Xa,{MH:"alternateCommentMargin"},function(){return this.ua.commentMargin},function(t){this.ua.commentMargin!==t&&(Uh.i(t,"number",Xa,"alternateCommentMargin"),this.ua.commentMargin=t,this.K())}),Uh.g(Xa,"alternateSetsPortSpot",Xa.prototype.$H),Uh.defineProperty(Xa,{$H:"alternateSetsPortSpot"},function(){return this.ua.setsPortSpot},function(t){this.ua.setsPortSpot!==t&&(Uh.i(t,"boolean",Xa,"alternateSetsPortSpot"),this.ua.setsPortSpot=t,this.K())}),Uh.g(Xa,"alternatePortSpot",Xa.prototype.WH),Uh.defineProperty(Xa,{WH:"alternatePortSpot"},function(){return this.ua.portSpot},function(t){Uh.l(t,P,Xa,"alternatePortSpot"),this.ua.portSpot.L(t)||(this.ua.portSpot=t,this.K())}),Uh.g(Xa,"alternateSetsChildPortSpot",Xa.prototype.ZH),Uh.defineProperty(Xa,{ZH:"alternateSetsChildPortSpot"},function(){return this.ua.setsChildPortSpot},function(t){this.ua.setsChildPortSpot!==t&&(Uh.i(t,"boolean",Xa,"alternateSetsChildPortSpot"),this.ua.setsChildPortSpot=t,this.K())}),Uh.g(Xa,"alternateChildPortSpot",Xa.prototype.LH),Uh.defineProperty(Xa,{LH:"alternateChildPortSpot"},function(){return this.ua.childPortSpot},function(t){Uh.l(t,P,Xa,"alternateChildPortSpot"),this.ua.childPortSpot.L(t)||(this.ua.childPortSpot=t,this.K())});var id;Xa.PathDefault=id=Uh.w(Xa,"PathDefault",-1);var nd;Xa.PathDestination=nd=Uh.w(Xa,"PathDestination",0);var od;Xa.PathSource=od=Uh.w(Xa,"PathSource",1);var rd;Xa.SortingForwards=rd=Uh.w(Xa,"SortingForwards",10);var sd;Xa.SortingReverse=sd=Uh.w(Xa,"SortingReverse",11);var ad;Xa.SortingAscending=ad=Uh.w(Xa,"SortingAscending",12);var hd;Xa.SortingDescending=hd=Uh.w(Xa,"SortingDescending",13);var ld;Xa.AlignmentCenterSubtrees=ld=Uh.w(Xa,"AlignmentCenterSubtrees",20);var ud;Xa.AlignmentCenterChildren=ud=Uh.w(Xa,"AlignmentCenterChildren",21);var cd;Xa.AlignmentStart=cd=Uh.w(Xa,"AlignmentStart",22);var fd;Xa.AlignmentEnd=fd=Uh.w(Xa,"AlignmentEnd",23);var dd;Xa.AlignmentBus=dd=Uh.w(Xa,"AlignmentBus",24);var pd;Xa.AlignmentBusBranching=pd=Uh.w(Xa,"AlignmentBusBranching",25);var gd;Xa.AlignmentTopLeftBus=gd=Uh.w(Xa,"AlignmentTopLeftBus",26);var md;Xa.AlignmentBottomRightBus=md=Uh.w(Xa,"AlignmentBottomRightBus",27);var vd;Xa.CompactionNone=vd=Uh.w(Xa,"CompactionNone",30);var yd;Xa.CompactionBlock=yd=Uh.w(Xa,"CompactionBlock",31);var bd;Xa.StyleLayered=bd=Uh.w(Xa,"StyleLayered",40);var wd;Xa.StyleLastParents=wd=Uh.w(Xa,"StyleLastParents",41);var xd;Xa.StyleAlternating=xd=Uh.w(Xa,"StyleAlternating",42);var Cd;Xa.StyleRootOnly=Cd=Uh.w(Xa,"StyleRootOnly",43);var kd;Xa.ArrangementVertical=kd=Uh.w(Xa,"ArrangementVertical",50);var Ad;Xa.ArrangementHorizontal=Ad=Uh.w(Xa,"ArrangementHorizontal",51);var Sd;Xa.ArrangementFixedRoots=Sd=Uh.w(Xa,"ArrangementFixedRoots",52);var Fd;Xa.LayerIndividual=Fd=Uh.w(Xa,"LayerIndividual",60);var Ed;Xa.LayerSiblings=Ed=Uh.w(Xa,"LayerSiblings",61);var Td;Xa.LayerUniform=Td=Uh.w(Xa,"LayerUniform",62),Uh.Ia(Th,Es),Uh.ja("TreeNetwork",Th),Th.prototype.createVertex=function(){return new Mh},Th.prototype.createEdge=function(){return new Dh},Uh.Ia(Mh,Ls),Uh.ja("TreeVertex",Mh),Mh.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.sorting=t.sorting,this.comparer=t.comparer,this.angle=t.angle,this.alignment=t.alignment,this.nodeIndent=t.nodeIndent,this.nodeIndentPastParent=t.nodeIndentPastParent,this.nodeSpacing=t.nodeSpacing,this.layerSpacing=t.layerSpacing,this.layerSpacingParentOverlap=t.layerSpacingParentOverlap,this.compaction=t.compaction,this.breadthLimit=t.breadthLimit,this.rowSpacing=t.rowSpacing,this.rowIndent=t.rowIndent,this.commentSpacing=t.commentSpacing,this.commentMargin=t.commentMargin,this.setsPortSpot=t.setsPortSpot,this.portSpot=t.portSpot,this.setsChildPortSpot=t.setsChildPortSpot,this.childPortSpot=t.childPortSpot)},Uh.A(Mh,{Jm:"childrenCount"},function(){return this.children.length}),Uh.g(Mh,"relativePosition",Mh.prototype.JJ),Uh.defineProperty(Mh,{JJ:"relativePosition"},function(){return this.ma},function(t){this.ma.set(t)}),Uh.g(Mh,"subtreeSize",Mh.prototype.bK),Uh.defineProperty(Mh,{bK:"subtreeSize"},function(){return this.cb},function(t){this.cb.set(t)}),Uh.g(Mh,"subtreeOffset",Mh.prototype.aK),Uh.defineProperty(Mh,{aK:"subtreeOffset"},function(){return this.La},function(t){this.La.set(t)}),Uh.Ia(Dh,Bs),Uh.ja("TreeEdge",Dh),Dh.prototype.commit=function(){var t=this.link;if(null!==t&&!t.Si){var e=this.network.Lb,i=null,n=null;switch(e.Hf){case nd:i=this.fromVertex,n=this.toVertex;break;case od:i=this.toVertex,n=this.fromVertex;break;default:Uh.m("Unhandled path value "+e.Hf.toString())}if(null!==i&&null!==n)if(e=this.ds,0!==e.x||0!==e.y||i.OJ){var n=i.kb,o=Sh(i),r=Fh(i),s=i.rowSpacing;t.updateRoute();var a,h,l=t.Le===ef,u=t.gc,c=0;if(t.Fl(),u||l){for(c=2;4<t.oa;)t.YF(2);a=t.n(1),h=t.n(2)}else{for(c=1;3<t.oa;)t.YF(1);a=t.n(0),h=t.n(t.oa-1)}var f=t.n(t.oa-1),d=0;0===o?(i.alignment===fd?(d=n.bottom+e.y,0===e.y&&a.y>f.y+i.rowIndent&&(d=Math.min(d,Math.max(a.y,d-Eh(i))))):i.alignment===cd?(d=n.top+e.y,0===e.y&&a.y<f.y-i.rowIndent&&(d=Math.max(d,Math.min(a.y,d+Eh(i))))):d=i.Np||i.Op&&1===i.maxGenerationCount?n.top-i.La.y+e.y:n.y+n.height/2+e.y,l?(t.C(c,a.x,d),c++,t.C(c,n.right+r,d),c++,t.C(c,n.right+r+(e.x-s)/3,d),c++,t.C(c,n.right+r+2*(e.x-s)/3,d),c++,t.C(c,n.right+r+(e.x-s),d),c++,t.C(c,h.x,d)):(u&&(t.C(c,n.right+r/2,a.y),c++),t.C(c,n.right+r/2,d),c++,t.C(c,n.right+r+e.x-(u?s/2:s),d),c++,u&&t.C(c,t.n(c-1).x,h.y))):90===o?(i.alignment===fd?(d=n.right+e.x,0===e.x&&a.x>f.x+i.rowIndent&&(d=Math.min(d,Math.max(a.x,d-Eh(i))))):i.alignment===cd?(d=n.left+e.x,0===e.x&&a.x<f.x-i.rowIndent&&(d=Math.max(d,Math.min(a.x,d+Eh(i))))):d=i.Np||i.Op&&1===i.maxGenerationCount?n.left-i.La.x+e.x:n.x+n.width/2+e.x,l?(t.C(c,d,a.y),c++,t.C(c,d,n.bottom+r),c++,t.C(c,d,n.bottom+r+(e.y-s)/3),c++,t.C(c,d,n.bottom+r+2*(e.y-s)/3),c++,t.C(c,d,n.bottom+r+(e.y-s)),c++,t.C(c,d,h.y)):(u&&(t.C(c,a.x,n.bottom+r/2),c++),t.C(c,d,n.bottom+r/2),c++,t.C(c,d,n.bottom+r+e.y-(u?s/2:s)),c++,u&&t.C(c,h.x,t.n(c-1).y))):180===o?(i.alignment===fd?(d=n.bottom+e.y,0===e.y&&a.y>f.y+i.rowIndent&&(d=Math.min(d,Math.max(a.y,d-Eh(i))))):i.alignment===cd?(d=n.top+e.y,0===e.y&&a.y<f.y-i.rowIndent&&(d=Math.max(d,Math.min(a.y,d+Eh(i))))):d=i.Np||i.Op&&1===i.maxGenerationCount?n.top-i.La.y+e.y:n.y+n.height/2+e.y,l?(t.C(c,a.x,d),c++,t.C(c,n.left-r,d),c++,t.C(c,n.left-r+(e.x+s)/3,d),c++,t.C(c,n.left-r+2*(e.x+s)/3,d),c++,t.C(c,n.left-r+(e.x+s),d),c++,t.C(c,h.x,d)):(u&&(t.C(c,n.left-r/2,a.y),c++),t.C(c,n.left-r/2,d),c++,t.C(c,n.left-r+e.x+(u?s/2:s),d),c++,u&&t.C(c,t.n(c-1).x,h.y))):270===o?(i.alignment===fd?(d=n.right+e.x,0===e.x&&a.x>f.x+i.rowIndent&&(d=Math.min(d,Math.max(a.x,d-Eh(i))))):i.alignment===cd?(d=n.left+e.x,0===e.x&&a.x<f.x-i.rowIndent&&(d=Math.max(d,Math.min(a.x,d+Eh(i))))):d=i.Np||i.Op&&1===i.maxGenerationCount?n.left-i.La.x+e.x:n.x+n.width/2+e.x,l?(t.C(c,d,a.y),c++,t.C(c,d,n.top-r),c++,t.C(c,d,n.top-r+(e.y+s)/3),c++,t.C(c,d,n.top-r+2*(e.y+s)/3),c++,t.C(c,d,n.top-r+(e.y+s)),c++,t.C(c,d,h.y)):(u&&(t.C(c,a.x,n.top-r/2),c++),t.C(c,d,n.top-r/2),c++,t.C(c,d,n.top-r+e.y+(u?s/2:s)),c++,u&&t.C(c,h.x,t.n(c-1).y))):Uh.m("Invalid angle "+o),t.Li()}else o=i,r=n,Vh&&Uh.l(o,Mh,Dh,"adjustRouteForAngleChange:parent"),Vh&&Uh.l(r,Mh,Dh,"adjustRouteForAngleChange:child"),t=this.link,i=Sh(o),i!==Sh(r)&&(e=Fh(o),n=o.kb,o=r.kb,0===i&&o.left-n.right<e+1||90===i&&o.top-n.bottom<e+1||180===i&&n.left-o.right<e+1||270===i&&n.top-o.bottom<e+1||(t.updateRoute(),o=t.Le===ef,r=t.gc,s=oh(this.fromVertex.alignment),t.Fl(),0===i?(i=n.right+e/2,o?4===t.oa&&(e=t.n(3).y,t.aa(1,i-20,t.n(1).y),t.C(2,i-20,e),t.C(3,i,e),t.C(4,i+20,e),t.aa(5,t.n(5).x,e)):r?s?t.aa(3,t.n(2).x,t.n(4).y):6===t.oa&&(t.aa(2,i,t.n(2).y),t.aa(3,i,t.n(3).y)):4===t.oa?t.C(2,i,t.n(2).y):3===t.oa?t.aa(1,i,t.n(2).y):2===t.oa&&t.C(1,i,t.n(1).y)):90===i?(e=n.bottom+e/2,o?4===t.oa&&(i=t.n(3).x,t.aa(1,t.n(1).x,e-20),t.C(2,i,e-20),t.C(3,i,e),t.C(4,i,e+20),t.aa(5,i,t.n(5).y)):r?s?t.aa(3,t.n(2).x,t.n(4).y):6===t.oa&&(t.aa(2,t.n(2).x,e),t.aa(3,t.n(3).x,e)):4===t.oa?t.C(2,t.n(2).x,e):3===t.oa?t.aa(1,t.n(2).x,e):2===t.oa&&t.C(1,t.n(1).x,e)):180===i?(i=n.left-e/2,o?4===t.oa&&(e=t.n(3).y,t.aa(1,i+20,t.n(1).y),t.C(2,i+20,e),t.C(3,i,e),t.C(4,i-20,e),t.aa(5,t.n(5).x,e)):r?s?t.aa(3,t.n(2).x,t.n(4).y):6===t.oa&&(t.aa(2,i,t.n(2).y),t.aa(3,i,t.n(3).y)):4===t.oa?t.C(2,i,t.n(2).y):3===t.oa?t.aa(1,i,t.n(2).y):2===t.oa&&t.C(1,i,t.n(1).y)):270===i&&(e=n.top-e/2,o?4===t.oa&&(i=t.n(3).x,t.aa(1,t.n(1).x,e+20),t.C(2,i,e+20),t.C(3,i,e),t.C(4,i,e-20),t.aa(5,i,t.n(5).y)):r?s?t.aa(3,t.n(2).x,t.n(4).y):6===t.oa&&(t.aa(2,t.n(2).x,e),t.aa(3,t.n(3).x,e)):4===t.oa?t.C(2,t.n(2).x,e):3===t.oa?t.aa(1,t.n(2).x,e):2===t.oa&&t.C(1,t.n(1).x,e)),t.Li()))}},Uh.g(Dh,"relativePoint",Dh.prototype.IJ),Uh.defineProperty(Dh,{IJ:"relativePoint"},function(){return this.ds},function(t){this.ds.set(t)}),Ph.prototype.Ns=function(t){var e=t.ra,i=t.sa,n=t.D,o=t.F,r=Math.min(e,n),s=Math.min(i,o),e=Math.abs(n-e),i=Math.abs(o-i),o=new Q(r,s);return o.Ea.add(new Z(Hl,r+e,s)),o.Ea.add(new Z(Hl,r+e,s+i)),o.Ea.add(new Z(Hl,r,s+i).close()),t.type=Ol,t.pb.add(o),t},Uh.Ia(qh,Sn),qh.prototype.cloneProtected=function(t){Sn.prototype.cloneProtected.call(this,t),t.element=this.nd.cloneNode(!0)},qh.prototype.toString=function(){return"HTMLHost("+this.nd.toString()+")#"+Uh.Yc(this)},qh.prototype.bk=function(t,e){var i=this.nd;if(null!==i){var n=this.qb(al);n.x-=this.ea.width/2,n.y-=this.ea.height/2,n.x-=this.ea.x,n.y-=this.ea.y;var n=e.PG(n),o=e.$j;null===o||o.contains(i)||o.appendChild(i),o=this.transform,i.style.transform="matrix("+o.m11+","+o.m12+","+o.m21+","+o.m22+","+o.dx+","+o.dy+")",i.style.transformOrigin="0 0",o=n.y,i.style.left=n.x+"px",i.style.top=o+"px"}},qh.prototype.xp=function(t,e,i,n){var o=this.ya;isFinite(o.width)&&(t=o.width),isFinite(o.height)&&(e=o.height);var o=this.Qd,r=this.Re;i=Math.max(i,r.width),n=Math.max(n,r.height),t=Math.min(o.width,t),e=Math.min(o.height,e),t=Math.max(i,t),e=Math.max(n,e),i=this.nd,null!==i&&(e=i.getBoundingClientRect(),t=e.width,e=e.height),A(this.Kc,t,e),Mn(this,0,0,t,e)},qh.prototype.Hi=function(t,e,i,n){Ln(this,t,e,i,n)},Uh.A(qh,{Ka:"naturalBounds"},function(){return this.Kc}),Uh.g(qh,"element",qh.prototype.element),Uh.defineProperty(qh,{element:"element"},function(){return this.nd},function(t){var e=this.nd;e!==t&&(t instanceof HTMLElement||Uh.m("HTMLHost.element must be an instance of HTMLElement."),this.nd=t,t.className="HTMLHost",this.j("element",e,t),this.pa())}),Gh.version="1.5.0",t&&(t.module&&"object"==typeof t.module&&"object"==typeof t.module.exports?t.module.exports=Gh:t.define&&"function"==typeof t.define&&t.define.amd?(t.go=Gh,t.define(Gh)):t.go=Gh)}(window),define("go",function(){}),function(){function t(t){var e=i;t&&(i[t]||(i[t]={}),e=i[t]),e.define&&e.define.packaged||(n.original=e.define,e.define=n,e.define.packaged=!0),e.require&&e.require.packaged||(r.original=e.require,e.require=r,e.require.packaged=!0)}var e="ace",i=function(){return this}();if(i||"undefined"==typeof window||(i=window),e||"undefined"==typeof requirejs){var n=function(t,e,i){return"string"!=typeof t?void(n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(i=e),void(n.modules[t]||(n.payloads[t]=i,n.modules[t]=null)))};n.modules={},n.payloads={};var o=function(t,e,i){if("string"==typeof e){var n=a(t,e);if(void 0!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(e)){for(var o=[],s=0,h=e.length;h>s;++s){var l=a(t,e[s]);if(void 0==l&&r.original)return;o.push(l)}return i&&i.apply(null,o)||!0}},r=function(t,e){var i=o("",t,e);return void 0==i&&r.original?r.original.apply(this,arguments):i},s=function(t,e){if(-1!==e.indexOf("!")){var i=e.split("!");return s(t,i[0])+"!"+s(t,i[1])}if("."==e.charAt(0)){var n=t.split("/").slice(0,-1).join("/");for(e=n+"/"+e;-1!==e.indexOf(".")&&o!=e;){var o=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},a=function(t,e){e=s(t,e);var i=n.modules[e];if(!i){if(i=n.payloads[e],"function"==typeof i){var r={},a={id:e,uri:"",exports:r,packaged:!0},h=function(t,i){return o(e,t,i)},l=i(h,r,a);r=l||a.exports,n.modules[e]=r,delete n.payloads[e]}i=n.modules[e]=r||i}return i};t(e)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(t,e,i){"use strict";function n(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function o(t,e,i){if(Array.prototype.indexOf)return t.indexOf(e,i);for(var n=i||0;n<t.length;n++)if(t[n]===e)return n;return-1}var r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===r.exec.call(/()??/,"")[1],a=function(){var t=/^/g;return r.test.call(t,""),!t.lastIndex}();a&&s||(RegExp.prototype.exec=function(t){var e,i,h=r.exec.apply(this,arguments);if("string"==typeof t&&h){if(!s&&h.length>1&&o(h,"")>-1&&(i=RegExp(this.source,r.replace.call(n(this),"g","")),r.replace.call(t.slice(h.index),i,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(h[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var l=1;l<h.length;l++)e=this._xregexp.captureNames[l-1],e&&(h[e]=h[l]);!a&&this.global&&!h[0].length&&this.lastIndex>h.index&&this.lastIndex--;
}return h},a||(RegExp.prototype.test=function(t){var e=r.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(t,e,i){function n(){}function o(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}function r(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var i=p.call(arguments,1),o=function(){if(this instanceof o){var n=e.apply(this,i.concat(p.call(arguments)));return Object(n)===n?n:this}return e.apply(t,i.concat(p.call(arguments)))};return e.prototype&&(n.prototype=e.prototype,o.prototype=new n,n.prototype=null),o});var s,a,h,l,u,c=Function.prototype.call,f=Array.prototype,d=Object.prototype,p=f.slice,g=c.bind(d.toString),m=c.bind(d.hasOwnProperty);if((u=m(d,"__defineGetter__"))&&(s=c.bind(d.__defineGetter__),a=c.bind(d.__defineSetter__),h=c.bind(d.__lookupGetter__),l=c.bind(d.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,i=[];return i.splice.apply(i,t(20)),i.splice.apply(i,t(26)),e=i.length,i.splice(5,0,"XXX"),e+1==i.length,e+1==i.length?!0:void 0}()){var v=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?v.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var i=this.length;t>0?t>i&&(t=i):void 0==t?t=0:0>t&&(t=Math.max(i+t,0)),i>t+e||(e=i-t);var n=this.slice(t,t+e),o=p.call(arguments,2),r=o.length;if(t===i)r&&this.push.apply(this,o);else{var s=Math.min(e,i-t),a=t+s,h=a+r-s,l=i-a,u=i-s;if(a>h)for(var c=0;l>c;++c)this[h+c]=this[a+c];else if(h>a)for(c=l;c--;)this[h+c]=this[a+c];if(r&&t===u)this.length=u,this.push.apply(this,o);else for(this.length=u+r,c=0;r>c;++c)this[t+c]=o[c]}return n};Array.isArray||(Array.isArray=function(t){return"[object Array]"==g(t)});var y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=R(this),i=b&&"[object String]"==g(this)?this.split(""):e,n=arguments[1],o=-1,r=i.length>>>0;if("[object Function]"!=g(t))throw new TypeError;for(;++o<r;)o in i&&t.call(n,i[o],o,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=R(this),i=b&&"[object String]"==g(this)?this.split(""):e,n=i.length>>>0,o=Array(n),r=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var s=0;n>s;s++)s in i&&(o[s]=t.call(r,i[s],s,e));return o}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,i=R(this),n=b&&"[object String]"==g(this)?this.split(""):i,o=n.length>>>0,r=[],s=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var a=0;o>a;a++)a in n&&(e=n[a],t.call(s,e,a,i)&&r.push(e));return r}),Array.prototype.every||(Array.prototype.every=function(t){var e=R(this),i=b&&"[object String]"==g(this)?this.split(""):e,n=i.length>>>0,o=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var r=0;n>r;r++)if(r in i&&!t.call(o,i[r],r,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=R(this),i=b&&"[object String]"==g(this)?this.split(""):e,n=i.length>>>0,o=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var r=0;n>r;r++)if(r in i&&t.call(o,i[r],r,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=R(this),i=b&&"[object String]"==g(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,r=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in i){o=i[r++];break}if(++r>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>r;r++)r in i&&(o=t.call(void 0,o,i[r],r,e));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=R(this),i=b&&"[object String]"==g(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,r=n-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(r in i){o=i[r--];break}if(--r<0)throw new TypeError("reduceRight of empty array with no initial value")}do r in this&&(o=t.call(void 0,o,i[r],r,e));while(r--);return o}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=b&&"[object String]"==g(this)?this.split(""):R(this),i=e.length>>>0;if(!i)return-1;var n=0;for(arguments.length>1&&(n=r(arguments[1])),n=n>=0?n:Math.max(0,i+n);i>n;n++)if(n in e&&e[n]===t)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=b&&"[object String]"==g(this)?this.split(""):R(this),i=e.length>>>0;if(!i)return-1;var n=i-1;for(arguments.length>1&&(n=Math.min(n,r(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:d)}),!Object.getOwnPropertyDescriptor){var w="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(w+t);if(m(t,e)){var i,n,o;if(i={enumerable:!0,configurable:!0},u){var r=t.__proto__;t.__proto__=d;var n=h(t,e),o=l(t,e);if(t.__proto__=r,n||o)return n&&(i.get=n),o&&(i.set=o),i}return i.value=t[e],i}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var x;x=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var i;if(null===t)i=x();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var n=function(){};n.prototype=t,i=new n,i.__proto__=t}return void 0!==e&&Object.defineProperties(i,e),i}}if(Object.defineProperty){var C=o({}),k="undefined"==typeof document||o(document.createElement("div"));if(!C||!k)var A=Object.defineProperty}if(!Object.defineProperty||A){var S="Property description must be an object: ",F="Object.defineProperty called on non-object: ",E="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,i){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(F+t);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(S+i);if(A)try{return A.call(Object,t,e,i)}catch(n){}if(m(i,"value"))if(u&&(h(t,e)||l(t,e))){var o=t.__proto__;t.__proto__=d,delete t[e],t[e]=i.value,t.__proto__=o}else t[e]=i.value;else{if(!u)throw new TypeError(E);m(i,"get")&&s(t,e,i.get),m(i,"set")&&a(t,e,i.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var i in e)m(e,i)&&Object.defineProperty(t,i,e[i]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(T){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";m(t,e);)e+="?";t[e]=!0;var i=m(t,e);return delete t[e],i}),!Object.keys){var M=!0,D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P=D.length;for(var L in{toString:null})M=!1;Object.keys=function O(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var O=[];for(var e in t)m(t,e)&&O.push(e);if(M)for(var i=0,n=P;n>i;i++){var o=D[i];m(t,o)&&O.push(o)}return O}}Date.now||(Date.now=function(){return(new Date).getTime()});var B="	\n\x0B\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||B.trim()){B="["+B+"]";var N=new RegExp("^"+B+B+"*"),$=new RegExp(B+B+"*$");String.prototype.trim=function(){return String(this).replace(N,"").replace($,"")}}var R=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t,e,i){"use strict";t("./regexp"),t("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(t,e,i){"use strict";var n="http://www.w3.org/1999/xhtml";return e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||n,t):document.createElement(t)},e.hasCssClass=function(t,e){var i=(t.className||"").split(/\s+/g);return-1!==i.indexOf(e)},e.addCssClass=function(t,i){e.hasCssClass(t,i)||(t.className+=" "+i)},e.removeCssClass=function(t,e){for(var i=t.className.split(/\s+/g);;){var n=i.indexOf(e);if(-1==n)break;i.splice(n,1)}t.className=i.join(" ")},e.toggleCssClass=function(t,e){for(var i=t.className.split(/\s+/g),n=!0;;){var o=i.indexOf(e);if(-1==o)break;n=!1,i.splice(o,1)}return n&&i.push(e),t.className=i.join(" "),n},e.setCssClass=function(t,i,n){n?e.addCssClass(t,i):e.removeCssClass(t,i)},e.hasCssString=function(t,e){var i,n=0;if(e=e||document,e.createStyleSheet&&(i=e.styleSheets)){for(;n<i.length;)if(i[n++].owningElement.id===t)return!0}else if(i=e.getElementsByTagName("style"))for(;n<i.length;)if(i[n++].id===t)return!0;return!1},e.importCssString=function(t,i,n){if(n=n||document,i&&e.hasCssString(i,n))return null;var o;i&&(t+="\n/*# sourceURL=ace/css/"+i+" */"),n.createStyleSheet?(o=n.createStyleSheet(),o.cssText=t,i&&(o.owningElement.id=i)):(o=e.createElement("style"),o.appendChild(n.createTextNode(t)),i&&(o.id=i),e.getDocumentHead(n).appendChild(o))},e.importCssStylsheet=function(t,i){if(i.createStyleSheet)i.createStyleSheet(t);else{var n=e.createElement("link");n.rel="stylesheet",n.href=t,e.getDocumentHead(i).appendChild(n)}},e.getInnerWidth=function(t){return parseInt(e.computedStyle(t,"paddingLeft"),10)+parseInt(e.computedStyle(t,"paddingRight"),10)+t.clientWidth},e.getInnerHeight=function(t){return parseInt(e.computedStyle(t,"paddingTop"),10)+parseInt(e.computedStyle(t,"paddingBottom"),10)+t.clientHeight},e.scrollbarWidth=function(t){var i=e.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=e.createElement("ace_outer"),o=n.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",n.appendChild(i);var r=t.documentElement;r.appendChild(n);var s=i.offsetWidth;o.overflow="scroll";var a=i.offsetWidth;return s==a&&(a=n.clientWidth),r.removeChild(n),s-a},"undefined"==typeof document?void(e.importCssString=function(){}):(void 0!==window.pageYOffset?(e.getPageScrollTop=function(){return window.pageYOffset},e.getPageScrollLeft=function(){return window.pageXOffset}):(e.getPageScrollTop=function(){return document.body.scrollTop},e.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?e.computedStyle=function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:e.computedStyle=function(t,e){return e?t.currentStyle[e]:t.currentStyle},e.setInnerHtml=function(t,e){var i=t.cloneNode(!1);return i.innerHTML=e,t.parentNode.replaceChild(i,t),i},"textContent"in document.documentElement?(e.setInnerText=function(t,e){t.textContent=e},e.getInnerText=function(t){return t.textContent}):(e.setInnerText=function(t,e){t.innerText=e},e.getInnerText=function(t){return t.innerText}),void(e.getParentWindow=function(t){return t.defaultView||t.parentWindow}))}),ace.define("ace/lib/oop",["require","exports","module"],function(t,e,i){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var i in e)t[i]=e[i];return t},e.implement=function(t,i){e.mixin(t,i)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(t,e,i){"use strict";t("./fixoldbrowsers");var n=t("./oop"),o=function(){var t,e,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in i.FUNCTION_KEYS)t=i.FUNCTION_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);for(e in i.PRINTABLE_KEYS)t=i.PRINTABLE_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i["return"],i.escape=i.esc,i.del=i["delete"],i[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)i.KEY_MODS[e]=t.filter(function(t){return e&i.KEY_MODS[t]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(e,o),e.keyCodeToString=function(t){var e=o[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,e,i){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),o=navigator.userAgent;e.isWin="win"==n,e.isMac="mac"==n,e.isLinux="linux"==n,e.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((o.match(/rv\:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,e.isAIR=o.indexOf("AdobeAIR")>=0,e.isIPad=o.indexOf("iPad")>=0,e.isTouchPad=o.indexOf("TouchPad")>=0,e.isChromeOS=o.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,i){"use strict";function n(t,e,i){var n=l(e);if(!s.isMac&&a){if(a.OSKey&&(n|=8),a.altGr){if(3==(3&n))return;a.altGr=0}if(18===i||17===i){var o="location"in e?e.location:e.keyLocation;if(17===i&&1===o)1==a[i]&&(h=e.timeStamp);else if(18===i&&3===n&&2===o){var u=e.timeStamp-h;50>u&&(a.altGr=!0)}}}if(i in r.MODIFIER_KEYS&&(i=-1),8&n&&i>=91&&93>=i&&(i=-1),!n&&13===i){var o="location"in e?e.location:e.keyLocation;if(3===o&&(t(e,n,-i),e.defaultPrevented))return}if(s.isChromeOS&&8&n){if(t(e,n,i),e.defaultPrevented)return;n&=-9}return n||i in r.FUNCTION_KEYS||i in r.PRINTABLE_KEYS?t(e,n,i):!1}function o(){a=Object.create(null),a.count=0,a.lastT=0}var r=t("./keys"),s=t("./useragent"),a=null,h=0;e.addListener=function(t,e,i){if(t.addEventListener)return t.addEventListener(e,i,!1);if(t.attachEvent){var n=function(){i.call(t,window.event)};i._wrapper=n,t.attachEvent("on"+e,n)}},e.removeListener=function(t,e,i){return t.removeEventListener?t.removeEventListener(e,i,!1):void(t.detachEvent&&t.detachEvent("on"+e,i._wrapper||i))},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||s.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,i,n){function o(t){i&&i(t),n&&n(t),e.removeListener(document,"mousemove",i,!0),e.removeListener(document,"mouseup",o,!0),e.removeListener(document,"dragstart",o,!0)}return e.addListener(document,"mousemove",i,!0),e.addListener(document,"mouseup",o,!0),e.addListener(document,"dragstart",o,!0),o},e.addTouchMoveListener=function(t,i){if("ontouchmove"in t){var n,o;e.addListener(t,"touchstart",function(t){var e=t.changedTouches[0];n=e.clientX,o=e.clientY}),e.addListener(t,"touchmove",function(t){var e=1,r=t.changedTouches[0];t.wheelX=-(r.clientX-n)/e,t.wheelY=-(r.clientY-o)/e,n=r.clientX,o=r.clientY,i(t)})}},e.addMouseWheelListener=function(t,i){"onmousewheel"in t?e.addListener(t,"mousewheel",function(t){var e=8;void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/e,t.wheelY=-t.wheelDeltaY/e):(t.wheelX=0,t.wheelY=-t.wheelDelta/e),i(t)}):"onwheel"in t?e.addListener(t,"wheel",function(t){var e=.35;switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=t.deltaX*e||0,t.wheelY=t.deltaY*e||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}i(t)}):e.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),i(t)})},e.addMultiMouseDownListener=function(t,i,n,o){function r(t){if(0!==e.getButton(t)?c=0:t.detail>1?(c++,c>4&&(c=1)):c=1,s.isIE){var r=Math.abs(t.clientX-h)>5||Math.abs(t.clientY-l)>5;(!u||r)&&(c=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},i[c-1]||600),1==c&&(h=t.clientX,l=t.clientY)}if(t._clicks=c,n[o]("mousedown",t),c>4)c=0;else if(c>1)return n[o](f[c],t)}function a(t){c=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},i[c-1]||600),n[o]("mousedown",t),n[o](f[c],t)}var h,l,u,c=0,f={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(t)||(t=[t]),t.forEach(function(t){e.addListener(t,"mousedown",r),s.isOldIE&&e.addListener(t,"dblclick",a)})};var l=!s.isMac||!s.isOpera||"KeyboardEvent"in window?function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)}:function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)};if(e.getModifierString=function(t){return r.KEY_MODS[l(t)]},e.addCommandKeyListener=function(t,i){var r=e.addListener;if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var h=null;r(t,"keydown",function(t){h=t.keyCode}),r(t,"keypress",function(t){return n(i,t,h)})}else{var l=null;r(t,"keydown",function(t){var e=t.keyCode;a[e]=(a[e]||0)+1,91==e||92==e?a.OSKey=!0:a.OSKey&&t.timeStamp-a.lastT>200&&1==a.count&&o(),1==a[e]&&a.count++,a.lastT=t.timeStamp;var r=n(i,t,e);return l=t.defaultPrevented,r}),r(t,"keypress",function(t){l&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),l=null)}),r(t,"keyup",function(t){var e=t.keyCode;a[e]?a.count=Math.max(a.count-1,0):o(),(91==e||92==e)&&(a.OSKey=!1),a[e]=null}),a||(o(),r(window,"focus",o))}},"object"==typeof window&&window.postMessage&&!s.isOldIE){var u=1;e.nextTick=function(t,i){i=i||window;var n="zero-timeout-message-"+u;e.addListener(i,"message",function o(r){r.data==n&&(e.stopPropagation(r),e.removeListener(i,"message",o),t())}),i.postMessage(n,"*")}}e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame?e.nextFrame=e.nextFrame.bind(window):e.nextFrame=function(t){setTimeout(t,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(t,e,i){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var i="";e>0;)1&e&&(i+=t),(e>>=1)&&(t+=t);return i};var n=/^\s\s*/,o=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(n,"")},e.stringTrimRight=function(t){return t.replace(o,"")},e.copyObject=function(t){var e={};for(var i in t)e[i]=t[i];return e},e.copyArray=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&"object"==typeof t[i]?e[i]=this.copyObject(t[i]):e[i]=t[i];return e},e.deepCopy=function r(t){if("object"!=typeof t||!t)return t;var e;if(Array.isArray(t)){e=[];for(var i=0;i<t.length;i++)e[i]=r(t[i]);return e}var n=t.constructor;if(n===RegExp)return t;e=n();for(var i in t)e[i]=r(t[i]);return e},e.arrayToMap=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var i in t)e[i]=t[i];return e},e.arrayRemove=function(t,e){for(var i=0;i<=t.length;i++)e===t[i]&&t.splice(i,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var i=[];return t.replace(e,function(t){i.push({offset:arguments[arguments.length-2],length:t.length})}),i},e.deferredCall=function(t){var e=null,i=function(){e=null,t()},n=function(t){return n.cancel(),e=setTimeout(i,t||0),n};return n.schedule=n,n.call=function(){return this.cancel(),t(),n},n.cancel=function(){return clearTimeout(e),e=null,n},n.isPending=function(){return e},n},e.delayedCall=function(t,e){var i=null,n=function(){i=null,t()},o=function(t){null==i&&(i=setTimeout(n,t||e))};return o.delay=function(t){i&&clearTimeout(i),i=setTimeout(n,t||e)},o.schedule=o,o.call=function(){this.cancel(),t()},o.cancel=function(){i&&clearTimeout(i),i=null},o.isPending=function(){return i},o}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(t,e,i){"use strict";var n=t("../lib/event"),o=t("../lib/useragent"),r=t("../lib/dom"),s=t("../lib/lang"),a=o.isChrome<18,h=o.isIE,l=function(t,e){function i(t){if(!g){if(g=!0,T)e=0,i=t?0:c.value.length-1;else var e=t?2:1,i=2;try{c.setSelectionRange(e,i)}catch(n){}g=!1}}function l(){g||(c.value=f,o.isWebKit&&x.schedule())}function u(){clearTimeout(_),_=setTimeout(function(){m&&(c.style.cssText=m,m=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},o.isOldIE?200:0)}var c=r.createElement("textarea");c.className="ace_text-input",o.isTouchPad&&c.setAttribute("x-palm-disable-auto-cap",!0),c.setAttribute("wrap","off"),c.setAttribute("autocorrect","off"),c.setAttribute("autocapitalize","off"),c.setAttribute("spellcheck",!1),c.style.opacity="0",o.isOldIE&&(c.style.top="-1000px"),t.insertBefore(c,t.firstChild);var f="",d=!1,p=!1,g=!1,m="",v=!0;try{var y=document.activeElement===c}catch(b){}n.addListener(c,"blur",function(t){e.onBlur(t),y=!1}),n.addListener(c,"focus",function(t){y=!0,e.onFocus(t),i()}),this.focus=function(){if(m)return c.focus();var t=c.style.top;c.style.position="fixed",c.style.top="0px",c.focus(),setTimeout(function(){c.style.position="","0px"==c.style.top&&(c.style.top=t)},0)},this.blur=function(){c.blur()},this.isFocused=function(){return y};var w=s.delayedCall(function(){y&&i(v)}),x=s.delayedCall(function(){g||(c.value=f,y&&i())});o.isWebKit||e.addEventListener("changeSelection",function(){e.selection.isEmpty()!=v&&(v=!v,w.schedule())}),l(),y&&e.onFocus();var C=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length};if(!c.setSelectionRange&&c.createTextRange&&(c.setSelectionRange=function(t,e){var i=this.createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",e),i.select()},C=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(i){}return e&&e.parentElement()==t?e.text==t.value:!1}),o.isOldIE){var k=!1,A=function(t){if(!k){var e=c.value;if(!g&&e&&e!=f){if(t&&e==f[0])return S.schedule();D(e),k=!0,l(),k=!1}}},S=s.delayedCall(A);n.addListener(c,"propertychange",A);var F={13:1,27:1};n.addListener(c,"keyup",function(t){return!g||c.value&&!F[t.keyCode]||setTimeout(I,0),(c.value.charCodeAt(0)||0)<129?S.call():void(g?j():O())}),n.addListener(c,"keydown",function(t){S.schedule(50)})}var E=function(t){d?d=!1:C(c)?(e.selectAll(),i()):T&&i(e.selection.isEmpty())},T=null;this.setInputHandler=function(t){T=t},this.getInputHandler=function(){return T};var M=!1,D=function(t){T&&(t=T(t),T=null),p?(i(),t&&e.onPaste(t),p=!1):t==f.charAt(0)?M?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==f?t=t.substr(2):t.charAt(0)==f.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==f.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==f.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),M&&(M=!1)},P=function(t){if(!g){var e=c.value;D(e),l()}},L=function(t,e){var i=t.clipboardData||window.clipboardData;if(i&&!a){var n=h?"Text":"text/plain";return e?i.setData(n,e)!==!1:i.getData(n)}},B=function(t,o){var r=e.getCopyText();return r?void(L(t,r)?(o?e.onCut():e.onCopy(),n.preventDefault(t)):(d=!0,c.value=r,c.select(),setTimeout(function(){d=!1,l(),i(),o?e.onCut():e.onCopy()}))):n.preventDefault(t)},N=function(t){B(t,!0)},$=function(t){B(t,!1)},R=function(t){var r=L(t);"string"==typeof r?(r&&e.onPaste(r,t),o.isIE&&setTimeout(i),n.preventDefault(t)):(c.value="",p=!0)};n.addCommandKeyListener(c,e.onCommandKey.bind(e)),n.addListener(c,"select",E),n.addListener(c,"input",P),n.addListener(c,"cut",N),n.addListener(c,"copy",$),n.addListener(c,"paste",R),"oncut"in c&&"oncopy"in c&&"onpaste"in c||n.addListener(t,"keydown",function(t){if((!o.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:$(t);break;case 86:R(t);break;case 88:N(t)}});var O=function(t){g||!e.onCompositionStart||e.$readOnly||(g={},e.onCompositionStart(),setTimeout(j,0),e.on("mousedown",I),e.selection.isEmpty()||(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())},j=function(){if(g&&e.onCompositionUpdate&&!e.$readOnly){var t=c.value.replace(/\x01/g,"");if(g.lastValue!==t&&(e.onCompositionUpdate(t),g.lastValue&&e.undo(),g.lastValue=t,g.lastValue)){var i=e.selection.getRange();e.insert(g.lastValue),e.session.markUndoGroup(),g.range=e.selection.getRange(),e.selection.setRange(i),e.selection.clearSelection()}}},I=function(t){if(e.onCompositionEnd&&!e.$readOnly){var i=g;g=!1;var n=setTimeout(function(){n=null;var t=c.value.replace(/\x01/g,"");g||(t==i.lastValue?l():!i.lastValue&&t&&(l(),D(t)))});T=function(t){return n&&clearTimeout(n),t=t.replace(/\x01/g,""),t==i.lastValue?"":(i.lastValue&&n&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",I),"compositionend"==t.type&&i.range&&e.selection.setRange(i.range)}},z=s.delayedCall(j,50);n.addListener(c,"compositionstart",O),o.isGecko?n.addListener(c,"text",function(){z.schedule()}):(n.addListener(c,"keyup",function(){z.schedule()}),n.addListener(c,"keydown",function(){z.schedule()})),n.addListener(c,"compositionend",I),this.getElement=function(){return c},this.setReadOnly=function(t){c.readOnly=t},this.onContextMenu=function(t){M=!0,i(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,i){if(i||!o.isOldIE){m||(m=c.style.cssText),c.style.cssText=(i?"z-index:100000;":"")+"height:"+c.style.height+";"+(o.isIE?"opacity:0.1;":"");var s=e.container.getBoundingClientRect(),a=r.computedStyle(e.container),h=s.top+(parseInt(a.borderTopWidth)||0),l=s.left+(parseInt(s.borderLeftWidth)||0),f=s.bottom-h-c.clientHeight-2,d=function(t){c.style.left=t.clientX-l-2+"px",c.style.top=Math.min(t.clientY-h-2,f)+"px"};d(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(_),o.isWin&&!o.isOldIE&&n.capture(e.container,d,u))}},this.onContextMenuClose=u;var _,H=function(t){e.textInput.onContextMenu(t),u()};n.addListener(c,"mouseup",H),n.addListener(c,"mousedown",function(t){t.preventDefault(),u()}),n.addListener(e.renderer.scroller,"contextmenu",H),n.addListener(c,"contextmenu",H)};e.TextInput=l}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,i){"use strict";function n(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t));var i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function o(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))}function r(t,e){if(t.start.row==t.end.row)var i=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)var i=2*e.row-t.start.row-t.end.row;else var i=e.column-4;return 0>i?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}var s=(t("../lib/dom"),t("../lib/event"),t("../lib/useragent"),0);(function(){this.onMouseDown=function(t){var e=t.inSelection(),i=t.getDocumentPosition();this.mousedownEvent=t;var n=this.editor,o=t.getButton();if(0!==o){var r=n.getSelectionRange(),s=r.isEmpty();return n.$blockScrolling++,(s||1==o)&&n.selection.moveToPosition(i),n.$blockScrolling--,void(2==o&&n.textInput.onContextMenu(t.domEvent))}return this.mousedownEvent.time=Date.now(),!e||n.isFocused()||(n.focus(),!this.$focusTimout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(i,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;i.$blockScrolling++,this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(t):e||i.selection.moveToPosition(t),e||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"),i.$blockScrolling--},this.select=function(){var t,e=this.editor,i=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)t=this.$clickSelection.end;else if(1==n)t=this.$clickSelection.start;else{var o=r(this.$clickSelection,i);i=o.cursor,t=o.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(i),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){
var e,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),o=i.selection[t](n.row,n.column);if(i.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&0>=a)e=this.$clickSelection.end,(o.end.row!=n.row||o.end.column!=n.column)&&(n=o.start);else if(1==a&&s>=0)e=this.$clickSelection.start,(o.start.row!=n.row||o.start.column!=n.column)&&(n=o.end);else if(-1==s&&1==a)n=o.end,e=o.start;else{var h=r(this.$clickSelection,n);n=h.cursor,e=h.anchor}i.selection.setSelectionAnchor(e.row,e.column)}i.selection.selectToPosition(n),i.$blockScrolling--,i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(t>s||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),i=this.editor,n=i.session,o=n.getBracketRange(e);o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.setState("select")):(o=i.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=o,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(e.row,e.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=t.domEvent.timeStamp,i=e-(this.$lastScrollTime||0),n=this.editor,o=n.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed);return o||200>i?(this.$lastScrollTime=e,n.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){var e=t.domEvent.timeStamp,i=e-(this.$lastScrollTime||0),n=this.editor,o=n.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed);return o||200>i?(this.$lastScrollTime=e,n.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}}).call(n.prototype),e.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,e,i){"use strict";function n(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}var o=(t("./lib/oop"),t("./lib/dom"));(function(){this.$init=function(){return this.$element=o.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){o.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){o.addCssClass(this.getElement(),t)},this.show=function(t,e,i){null!=t&&this.setText(t),null!=e&&null!=i&&this.setPosition(e,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(n.prototype),e.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,e,i){"use strict";function n(t){function e(){var e=c.getDocumentPosition().row,o=h.$annotations[e];if(!o)return i();var r=s.session.getLength();if(e==r){var a=s.renderer.pixelToScreenCoordinates(0,c.y).row,u=c.$pos;if(a>s.session.documentToScreenRow(u.row,u.column))return i()}if(f!=o)if(f=o.text.join("<br/>"),l.setHtml(f),l.show(),s.on("mousewheel",i),t.$tooltipFollowsMouse)n(c);else{var d=c.domEvent.target,p=d.getBoundingClientRect(),g=l.getElement().style;g.left=p.right+"px",g.top=p.bottom+"px"}}function i(){u&&(u=clearTimeout(u)),f&&(l.hide(),f=null,s.removeEventListener("mousewheel",i))}function n(t){l.setPosition(t.x,t.y)}var s=t.editor,h=s.renderer.$gutterLayer,l=new o(s.container);t.editor.setDefaultHandler("guttermousedown",function(e){if(s.isFocused()&&0==e.getButton()){var i=h.getRegion(e);if("foldWidgets"!=i){var n=e.getDocumentPosition().row,o=s.session.selection;if(e.getShiftKey())o.selectTo(n,0);else{if(2==e.domEvent.detail)return s.selectAll(),e.preventDefault();t.$clickSelection=s.selection.getLineRange(n)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}}});var u,c,f;t.editor.setDefaultHandler("guttermousemove",function(o){var s=o.domEvent.target||o.domEvent.srcElement;return r.hasCssClass(s,"ace_fold-widget")?i():(f&&t.$tooltipFollowsMouse&&n(o),c=o,void(u||(u=setTimeout(function(){u=null,c&&!t.isMousePressed?e():i()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(t){c=null,f&&!u&&(u=setTimeout(function(){u=null,i()},50))}),s.on("changeSession",i)}function o(t){h.call(this,t)}var r=t("../lib/dom"),s=t("../lib/oop"),a=t("../lib/event"),h=t("../tooltip").Tooltip;s.inherits(o,h),function(){this.setPosition=function(t,e){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),r=this.getHeight();t+=15,e+=15,t+o>i&&(t-=t+o-i),e+r>n&&(e-=20+r),h.prototype.setPosition.call(this,t,e)}}.call(o.prototype),e.GutterHandler=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,i){"use strict";var n=t("../lib/event"),o=t("../lib/useragent"),r=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor,e=t.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=e.contains(i.row,i.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=o.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,i){"use strict";function n(t){function e(t,e){var i=Date.now(),n=!e||t.row!=e.row,r=!e||t.column!=e.column;if(!T||n||r)m.$blockScrolling+=1,m.moveCursorToPosition(t),m.$blockScrolling-=1,T=i,M={x:w,y:x};else{var s=o(M.x,M.y,w,x);s>u?T=null:i-T>=l&&(m.renderer.scrollCursorIntoView(),T=null)}}function i(t,e){var i=Date.now(),n=m.renderer.layerConfig.lineHeight,o=m.renderer.layerConfig.characterWidth,r=m.renderer.scroller.getBoundingClientRect(),s={x:{left:w-r.left,right:r.right-w},y:{top:x-r.top,bottom:r.bottom-x}},a=Math.min(s.x.left,s.x.right),l=Math.min(s.y.top,s.y.bottom),u={row:t.row,column:t.column};2>=a/o&&(u.column+=s.x.left<s.x.right?-3:2),1>=l/n&&(u.row+=s.y.top<s.y.bottom?-1:1);var c=t.row!=u.row,f=t.column!=u.column,d=!e||t.row!=e.row;c||f&&!d?E?i-E>=h&&m.renderer.scrollCursorIntoView(u):E=i:E=null}function n(){var t=A;A=m.renderer.screenToTextCoordinates(w,x),e(A,t),i(A,t)}function c(){k=m.selection.toOrientedRange(),b=m.session.addMarker(k,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),n(),C=setInterval(n,20),P=0,s.addListener(document,"mousemove",d)}function f(){clearInterval(C),m.session.removeMarker(b),b=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(k),m.$blockScrolling-=1,m.isFocused()&&!F&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),k=null,A=null,P=0,E=null,T=null,s.removeListener(document,"mousemove",d)}function d(){null==L&&(L=setTimeout(function(){null!=L&&b&&f()},20))}function p(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function g(t){var e=["copy","copymove","all","uninitialized"],i=["move","copymove","linkmove","all","uninitialized"],n=a.isMac?t.altKey:t.ctrlKey,o="uninitialized";try{o=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var r="none";return n&&e.indexOf(o)>=0?r="copy":i.indexOf(o)>=0?r="move":e.indexOf(o)>=0&&(r="copy"),r}var m=t.editor,v=r.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(e){t[e]=this[e]},this),m.addEventListener("mousedown",this.onMouseDown.bind(t));var b,w,x,C,k,A,S,F,E,T,M,D=m.container,P=0;this.onDragStart=function(t){if(this.cancelDrag||!D.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(t)},0),t.preventDefault()}k=m.getSelectionRange();var i=t.dataTransfer;i.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(v),v.scrollTop=0),i.setDragImage&&i.setDragImage(v,0,0),a.isOpera&&m.container.removeChild(v),i.clearData(),i.setData("Text",m.session.getTextRange()),F=!0,this.setState("drag")},this.onDragEnd=function(t){if(D.draggable=!1,F=!1,this.setState(null),!m.getReadOnly()){var e=t.dataTransfer.dropEffect;S||"move"!=e||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(w=t.clientX,x=t.clientY,b||c(),P++,t.dataTransfer.dropEffect=S=g(t),s.preventDefault(t)):void 0},this.onDragOver=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(w=t.clientX,x=t.clientY,b||(c(),P++),null!==L&&(L=null),t.dataTransfer.dropEffect=S=g(t),s.preventDefault(t)):void 0},this.onDragLeave=function(t){return P--,0>=P&&b?(f(),S=null,s.preventDefault(t)):void 0},this.onDrop=function(t){if(A){var e=t.dataTransfer;if(F)switch(S){case"move":k=k.contains(A.row,A.column)?{start:A,end:A}:m.moveText(k,A);break;case"copy":k=m.moveText(k,A,!0)}else{var i=e.getData("Text");k={start:A,end:m.session.insert(A,i)},m.focus(),S=null}return f(),s.preventDefault(t)}},s.addListener(D,"dragstart",this.onDragStart.bind(t)),s.addListener(D,"dragend",this.onDragEnd.bind(t)),s.addListener(D,"dragenter",this.onDragEnter.bind(t)),s.addListener(D,"dragover",this.onDragOver.bind(t)),s.addListener(D,"dragleave",this.onDragLeave.bind(t)),s.addListener(D,"drop",this.onDrop.bind(t));var L=null}function o(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))}var r=t("../lib/dom"),s=t("../lib/event"),a=t("../lib/useragent"),h=200,l=200,u=5;(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,e=t.container;e.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var i=a.isWin?"default":"move";t.renderer.setCursorStyle(i),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;if(a.isIE&&"dragReady"==this.state){var i=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>3&&e.dragDrop()}if("dragWait"===this.state){var i=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,i=t.inSelection(),n=t.getButton(),o=t.domEvent.detail||1;if(1===o&&0===n&&i){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),e.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=e.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(n.prototype),e.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";var n=t("./dom");e.get=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&e(i.responseText)},i.send(null)},e.loadScript=function(t,e){var i=n.getDocumentHead(),o=document.createElement("script");o.src=t,i.appendChild(o),o.onload=o.onreadystatechange=function(t,i){(i||!o.readyState||"loaded"==o.readyState||"complete"==o.readyState)&&(o=o.onload=o.onreadystatechange=null,i||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,e,i){"use strict";var n={},o=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[t]||[],n=this._defaultHandlers[t];if(i.length||n){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=o),e.preventDefault||(e.preventDefault=r),i=i.slice();for(var s=0;s<i.length&&(i[s](e,this),!e.propagationStopped);s++);return n&&!e.defaultPrevented?n(e,this):void 0}},n._signal=function(t,e){var i=(this._eventRegistry||{})[t];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](e,this)}},n.once=function(t,e){var i=this;e&&this.addEventListener(t,function n(){i.removeEventListener(t,n),e.apply(null,arguments)})},n.setDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[t]){var n=i[t],o=i._disabled_[t];o||(i._disabled_[t]=o=[]),o.push(n);var r=o.indexOf(e);-1!=r&&o.splice(r,1)}i[t]=e},n.removeDefaultHandler=function(t,e){var i=this._defaultHandlers;if(i){var n=i._disabled_[t];if(i[t]==e){i[t];n&&this.setDefaultHandler(t,n.pop())}else if(n){var o=n.indexOf(e);-1!=o&&n.splice(o,1)}}},n.on=n.addEventListener=function(t,e,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];return n||(n=this._eventRegistry[t]=[]),-1==n.indexOf(e)&&n[i?"unshift":"push"](e),e},n.off=n.removeListener=n.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];if(i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,i){"no use strict";function n(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function o(t,e){var i=new Error(t);i.data=e,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i})}var r=t("./oop"),s=t("./event_emitter").EventEmitter,a={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var i=this.$options[t];if(!i)return n('misspelled option "'+t+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(t,e);i.handlesSet||(this["$"+t]=e),i&&i.set&&i.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:n('misspelled option "'+t+'"')}},h=function(){this.$defaultOptions={}};(function(){r.implement(this,s),this.defineOptions=function(t,e,i){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(i).forEach(function(e){var n=i[e];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=e),t.$options[n.name]=n,"initialValue"in n&&(t["$"+n.name]=n.initialValue)}),r.implement(t,a),this},this.resetOptions=function(t){Object.keys(t.$options).forEach(function(e){var i=t.$options[e];"value"in i&&t.setOption(e,i.value)})},this.setDefaultValue=function(t,e,i){var n=this.$defaultOptions[t]||(this.$defaultOptions[t]={});n[e]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,e,i):n[e].value=i)},this.setDefaultValues=function(t,e){Object.keys(e).forEach(function(i){this.setDefaultValue(t,i,e[i])},this)},this.warn=n,this.reportError=o}).call(h.prototype),e.AppConfig=h}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(t,e,i){"no use strict";function n(n){if(h&&h.document){l.packaged=n||t.packaged||i.packaged||h.define&&define.packaged;for(var r={},s="",a=document.currentScript||document._currentScript,u=a&&a.ownerDocument||document,c=u.getElementsByTagName("script"),f=0;f<c.length;f++){var d=c[f],p=d.src||d.getAttribute("src");if(p){for(var g=d.attributes,m=0,v=g.length;v>m;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(r[o(y.name.replace(/^data-ace-/,""))]=y.value)}var b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(s=b[1])}}s&&(r.base=r.base||s,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base;for(var w in r)"undefined"!=typeof r[w]&&e.set(w,r[w])}}function o(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}var r=t("./lib/lang"),s=(t("./lib/oop"),t("./lib/net")),a=t("./lib/app_config").AppConfig;i.exports=e=new a;var h=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};e.get=function(t){if(!l.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return l[t]},e.set=function(t,e){if(!l.hasOwnProperty(t))throw new Error("Unknown config key: "+t);l[t]=e},e.all=function(){return r.copyObject(l)},e.moduleUrl=function(t,e){if(l.$moduleUrls[t])return l.$moduleUrls[t];var i=t.split("/");e=e||i[i.length-2]||"";var n="snippets"==e?"/":"-",o=i[i.length-1];if("worker"==e&&"-"==n){var r=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");o=o.replace(r,"")}(!o||o==e)&&i.length>1&&(o=i[i.length-2]);var s=l[e+"Path"];return null==s?s=l.basePath:"/"==n&&(e=n=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+e+n+o+this.get("suffix")},e.setModuleUrl=function(t,e){return l.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(i,n){var o,r;Array.isArray(i)&&(r=i[0],i=i[1]);try{o=t(i)}catch(a){}if(o&&!e.$loading[i])return n&&n(o);if(e.$loading[i]||(e.$loading[i]=[]),e.$loading[i].push(n),!(e.$loading[i].length>1)){var h=function(){t([i],function(t){e._emit("load.module",{name:i,module:t});var n=e.$loading[i];e.$loading[i]=null,n.forEach(function(e){e&&e(t)})})};return e.get("packaged")?void s.loadScript(e.moduleUrl(i,r),h):h()}},n(!0),e.init=n}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(t,e,i){"use strict";var n=t("../lib/event"),o=t("../lib/useragent"),r=t("./default_handlers").DefaultHandlers,s=t("./default_gutter_handler").GutterHandler,a=t("./mouse_event").MouseEvent,h=t("./dragdrop_handler").DragdropHandler,l=t("../config"),u=function(t){var e=this;this.editor=t,new r(this),new s(this),new h(this);var i=function(e){var i=!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement());i&&window.focus(),t.focus()},a=t.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click")),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener([a,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),n.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel")),n.addTouchMoveListener(t.container,this.onTouchMove.bind(this,"touchmove"));var l=t.renderer.$gutter;n.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(a,"mousedown",i),n.addListener(l,"mousedown",i),o.isIE&&t.renderer.scrollBarV&&(n.addListener(t.renderer.scrollBarV.element,"mousedown",i),n.addListener(t.renderer.scrollBarH.element,"mousedown",i)),t.on("mousemove",function(i){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var n=t.renderer.screenToTextCoordinates(i.x,i.y),o=t.session.selection.getRange(),r=t.renderer;!o.isEmpty()&&o.insideStart(n.row,n.column)?r.setCursorStyle("default"):r.setCursorStyle("")}})};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new a(e,this.editor))},this.onMouseMove=function(t,e){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(t,new a(e,this.editor))},this.onMouseWheel=function(t,e){var i=new a(e,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=e.wheelX,i.wheelY=e.wheelY,this.editor._emit(t,i)},this.onTouchMove=function(t,e){var i=new a(e,this.editor);i.speed=1,i.wheelX=e.wheelX,i.wheelY=e.wheelY,this.editor._emit(t,i)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var i=this.editor.renderer;i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=null);var r=this,s=function(t){if(t){if(o.isWebKit&&!t.which&&r.releaseMouse)return r.releaseMouse();r.x=t.clientX,r.y=t.clientY,e&&e(t),r.mouseEvent=new a(t,r.editor),r.$mouseMoved=!0}},h=function(t){clearInterval(u),l(),r[r.state+"End"]&&r[r.state+"End"](t),r.state="",null==i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=!0,i.$moveTextAreaToCursor()),r.isMousePressed=!1,r.$onCaptureMouseMove=r.releaseMouse=null,t&&r.onMouseEvent("mouseup",t)},l=function(){r[r.state]&&r[r.state](),r.$mouseMoved=!1};if(o.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){h(t)});r.$onCaptureMouseMove=s,r.releaseMouse=n.capture(this.editor.container,s,h);var u=setInterval(l,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&n.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(u.prototype),l.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(t,e,i){"use strict";function n(t){t.on("click",function(e){var i=e.getDocumentPosition(),n=t.session,o=n.getFoldAt(i.row,i.column,1);o&&(e.getAccelKey()?n.removeFold(o):n.expandFold(o),e.stop())}),t.on("gutterclick",function(e){var i=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==i){var n=e.getDocumentPosition().row,o=t.session;o.foldWidgets&&o.foldWidgets[n]&&t.session.onFoldWidgetClick(n,e),t.isFocused()||t.focus(),e.stop()}}),t.on("gutterdblclick",function(e){var i=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==i){var n=e.getDocumentPosition().row,o=t.session,r=o.getParentFoldRangeData(n,!0),s=r.range||r.firstRange;if(s){n=s.start.row;var a=o.getFoldAt(n,o.getLine(n).length,1);a?o.removeFold(a):(o.addFold("...",s),t.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}})}e.FoldHandler=n}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e,i){"use strict";var n=t("../lib/keys"),o=t("../lib/event"),r=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var i=this.$handlers.indexOf(t);-1!=i&&this.$handlers.splice(i,1),void 0==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==i&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1==e?!1:(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(e,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,i,n){for(var r,s=!1,a=this.$editor.commands,h=this.$handlers.length;h--&&(r=this.$handlers[h].handleKeyboard(this.$data,t,e,i,n),!(r&&r.command&&(s="null"==r.command?!0:a.exec(r.command,this.$editor,r.args,n),s&&n&&-1!=t&&1!=r.passEvent&&1!=r.command.passEvent&&o.stopEvent(n),s))););return s||-1!=t||(r={command:"insertstring"},s=a.exec("insertstring",this.$editor,e)),s&&this.$editor._signal("keyboardActivity",r),s},this.onCommandKey=function(t,e,i){var o=n.keyCodeToString(i);this.$callKeyboardHandlers(e,o,i,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(r.prototype),e.KeyBinding=r}),ace.define("ace/range",["require","exports","module"],function(t,e,i){"use strict";var n=function(t,e){return t.row-e.row||t.column-e.column},o=function(t,e,i,n){this.start={row:t,column:e},this.end={row:i,column:n}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,i=t.end,n=t.start;return e=this.compare(i.row,i.column),1==e?(e=this.compare(n.row,n.column),1==e?2:0==e?1:0):-1==e?-2:(e=this.compare(n.row,n.column),-1==e?-1:1==e?42:0)},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)||this.isStart(t,e)?!1:!0:!1},this.insideStart=function(t,e){return 0==this.compare(t,e)?this.isEnd(t,e)?!1:!0:!1},this.insideEnd=function(t,e){return 0==this.compare(t,e)?this.isStart(t,e)?!1:!0:!1},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var i={row:e+1,column:0};else if(this.end.row<t)var i={row:t,column:0};if(this.start.row>e)var n={row:e+1,column:0};else if(this.start.row<t)var n={row:t,column:0};return o.fromPoints(n||this.start,i||this.end)},this.extend=function(t,e){var i=this.compare(t,e);if(0==i)return this;if(-1==i)var n={row:t,column:e};else var r={row:t,column:e};return o.fromPoints(n||this.start,r||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),i=t.documentToScreenPosition(this.end);return new o(e.row,e.column,i.row,i.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(o.prototype),o.fromPoints=function(t,e){return new o(t.row,t.column,e.row,e.column)},o.comparePoints=n,o.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./lib/lang"),r=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){e.$isEmpty||e._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition();
},this.shiftSelection=function(t){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+t);var e=this.getSelectionAnchor(),i=this.getSelectionLead(),n=this.isBackwards();n&&0===e.column||this.setSelectionAnchor(e.row,e.column+t),(n||0!==i.column)&&this.$moveSelection(function(){this.moveCursorTo(i.row,i.column+t)})},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if("undefined"==typeof e){var i=t||this.lead;t=i.row,e=i.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var i,n="number"==typeof t?t:this.lead.row,o=this.session.getFoldLine(n);return o?(n=o.start.row,i=o.end.row):i=n,e===!0?new s(n,0,i,this.session.getLine(i).length):new s(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var i=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-i,e.column).split(" ").length-1==i?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize(),e=this.lead;this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+i).split(" ").length-1==i?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,i=this.session.documentToScreenRow(t,e),n=this.session.screenToDocumentPosition(i,0),o=this.session.getDisplayLine(t,null,n.row,n.column),r=o.match(/^\s*/);r[0].length==e||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var i=this.session.getLine(e.row);if(e.column==i.length){var n=i.search(/\s+$/);n>0&&(e.column=n)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t,e=this.lead.row,i=this.lead.column,n=this.doc.getLine(e),o=n.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,i,1);return r?void this.moveCursorTo(r.end.row,r.end.column):((t=this.session.nonTokenRe.exec(o))&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,o=n.substring(i)),i>=n.length?(this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight())):((t=this.session.tokenRe.exec(o))&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,i)))},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(e,i,-1))return void this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getFoldStringAt(e,i,-1);null==n&&(n=this.doc.getLine(e).substring(0,i));var r,s=o.stringReverse(n);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(r=this.session.nonTokenRe.exec(s))&&(i-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=i?(this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft())):((r=this.session.tokenRe.exec(s))&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,i))},this.$shortWordEndIndex=function(t){var e,i,n=0,o=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,e=this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(i=t[n])&&o.test(i);)n++;if(1>n)for(r.lastIndex=0;(i=t[n])&&!r.test(i);)if(r.lastIndex=0,n++,o.test(i)){if(n>2){n--;break}for(;(i=t[n])&&o.test(i);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,i=this.doc.getLine(t),n=i.substring(e),o=this.session.getFoldAt(t,e,1);if(o)return this.moveCursorTo(o.end.row,o.end.column);if(e==i.length){var r=this.doc.getLength();do t++,n=this.doc.getLine(t);while(r>t&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),e=0}var s=this.$shortWordEndIndex(n);this.moveCursorTo(t,e+s)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,i=this.lead.column;if(t=this.session.getFoldAt(e,i,-1))return this.moveCursorTo(t.start.row,t.start.column);var n=this.session.getLine(e).substring(0,i);if(0===i){do e--,n=this.doc.getLine(e);while(e>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var r=o.stringReverse(n),s=this.$shortWordEndIndex(r);return this.moveCursorTo(e,i-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);var n=this.session.screenToDocumentPosition(i.row+t,i.column);0!==t&&0===e&&n.row===this.lead.row&&n.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[n.row]&&(n.row>0||t>0)&&n.row++,this.moveCursorTo(n.row,n.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,i){var n=this.session.getFoldAt(t,e,1);n&&(t=n.start.row,e=n.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,i){var n=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var i=this.getCursor();return s.fromPoints(e,i)}catch(n){return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(void 0==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var i=s.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(t,e,i){"use strict";var n=t("./config"),o=2e3,r=function(t){this.states=t,this.regExps={},this.matchMappings={};for(var e in this.states){for(var i=this.states[e],n=[],o=0,r=this.matchMappings[e]={defaultToken:"text"},s="g",a=[],h=0;h<i.length;h++){var l=i[h];if(l.defaultToken&&(r.defaultToken=l.defaultToken),l.caseInsensitive&&(s="gi"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var u=l.regex,c=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==c?l.token=l.token[0]:c-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:c-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"!=typeof l.token||l.onMatch||(c>1?l.onMatch=this.$applyToken:l.onMatch=l.token),c>1&&(/\\\d/.test(l.regex)?u=l.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+o+1)}):(c=1,u=this.removeCapturingGroups(l.regex)),l.splitRegex||"string"==typeof l.token||a.push(l)),r[o]=h,o+=c,n.push(u),l.onMatch||(l.onMatch=null)}}n.length||(r[0]=0,n.push("$")),a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)},this),this.regExps[e]=new RegExp("("+n.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){o=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),i=this.token.apply(this,e);if("string"==typeof i)return[{type:i,value:t}];for(var n=[],o=0,r=i.length;r>o;o++)e[o]&&(n[n.length]={type:i[o],value:e[o]});return n},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var i=[],n=this.tokenArray,o=0,r=n.length;r>o;o++)e[o+1]&&(i[i.length]={type:n[o],value:e[o+1]});return i},this.removeCapturingGroups=function(t){var e=t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t});return e},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var i=0,n=!1,o={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,r,s,a,h){return n?n="]"!=a:a?n=!0:s?(i==o.stack&&(o.end=h+1,o.stack=-1),i--):r&&(i++,1!=r.length&&(o.stack=i,o.start=h)),t}),null!=o.end&&/^\)*$/.test(t.substr(o.end))&&(t=t.substring(0,o.start)+t.substr(o.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var i=e.slice(0);e=i[0],"#tmp"===e&&(i.shift(),e=i.shift())}else var i=[];var n=e||"start",r=this.states[n];r||(n="start",r=this.states[n]);var s=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var h,l=[],u=0,c=0,f={type:null,value:""};h=a.exec(t);){var d=s.defaultToken,p=null,g=h[0],m=a.lastIndex;if(m-g.length>u){var v=t.substring(u,m-g.length);f.type==d?f.value+=v:(f.type&&l.push(f),f={type:d,value:v})}for(var y=0;y<h.length-2;y++)if(void 0!==h[y+1]){p=r[s[y]],d=p.onMatch?p.onMatch(g,n,i):p.token,p.next&&(n="string"==typeof p.next?p.next:p.next(n,i),r=this.states[n],r||(this.reportError("state doesn't exist",n),n="start",r=this.states[n]),s=this.matchMappings[n],u=m,a=this.regExps[n],a.lastIndex=m);break}if(g)if("string"==typeof d)p&&p.merge===!1||f.type!==d?(f.type&&l.push(f),f={type:d,value:g}):f.value+=g;else if(d){f.type&&l.push(f),f={type:null,value:""};for(var y=0;y<d.length;y++)l.push(d[y])}if(u==t.length)break;if(u=m,c++>o){for(c>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});u<t.length;)f.type&&l.push(f),f={value:t.substring(u,u+=2e3),type:"overflow"};n="start",i=[];break}}return f.type&&l.push(f),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:l,state:i.length?i:n}},this.reportError=n.reportError}).call(r.prototype),e.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e,i){"use strict";var n=t("../lib/lang"),o=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var i in t){for(var n=t[i],o=0;o<n.length;o++){var r=n[o];(r.next||r.onMatch)&&("string"==typeof r.next&&0!==r.next.indexOf(e)&&(r.next=e+r.next),r.nextState&&0!==r.nextState.indexOf(e)&&(r.nextState=e+r.nextState))}this.$rules[e+i]=n}else for(var i in t)this.$rules[i]=t[i]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,i,o,r){var s="function"==typeof t?(new t).getRules():t;if(o)for(var a=0;a<o.length;a++)o[a]=e+o[a];else{o=[];for(var h in s)o.push(e+h)}if(this.addRules(s,e),i)for(var l=Array.prototype[r?"push":"unshift"],a=0;a<o.length;a++)l.apply(this.$rules[o[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function i(r){var s=o[r];s.processed=!0;for(var a=0;a<s.length;a++){var h=s[a],l=null;Array.isArray(h)&&(l=h,h={}),!h.regex&&h.start&&(h.regex=h.start,h.next||(h.next=[]),h.next.push({defaultToken:h.token},{token:h.token+".end",regex:h.end||h.start,next:"pop"}),h.token=h.token+".start",h.push=!0);var u=h.next||h.push;if(u&&Array.isArray(u)){var c=h.stateName;c||(c=h.token,"string"!=typeof c&&(c=c[0]||""),o[c]&&(c+=n++)),o[c]=u,h.next=c,i(c)}else"pop"==u&&(h.next=e);if(h.push&&(h.nextState=h.next||h.push,h.next=t,delete h.push),h.rules)for(var f in h.rules)o[f]?o[f].push&&o[f].push.apply(o[f],h.rules[f]):o[f]=h.rules[f];var d="string"==typeof h?h:"string"==typeof h.include?h.include:"";if(d&&(l=o[d]),l){var p=[a,1].concat(l);h.noEscape&&(p=p.filter(function(t){return!t.next})),s.splice.apply(s,p),a--}h.keywordMap&&(h.token=this.createKeywordMapper(h.keywordMap,h.defaultToken||"text",h.caseInsensitive),delete h.defaultToken)}}var n=0,o=this.$rules;Object.keys(o).forEach(i,this)},this.createKeywordMapper=function(t,e,i,n){var o=Object.create(null);return Object.keys(t).forEach(function(e){var r=t[e];i&&(r=r.toLowerCase());for(var s=r.split(n||"|"),a=s.length;a--;)o[s[a]]=e}),Object.getPrototypeOf(o)&&(o.__proto__=null),this.$keywordList=Object.keys(o),t=null,i?function(t){return o[t.toLowerCase()]||e}:function(t){return o[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(o.prototype),e.TextHighlightRules=o}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,e,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(t,e,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=i},this.addBehaviours=function(t){for(var e in t)for(var i in t[e])this.add(e,i,t[e][i])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var i=(new t).getBehaviours(e);else var i=t.getBehaviours(e);this.addBehaviours(i)},this.getBehaviours=function(t){if(t){for(var e={},i=0;i<t.length;i++)this.$behaviours[t[i]]&&(e[t[i]]=this.$behaviours[t[i]]);return e}return this.$behaviours}}).call(n.prototype),e.Behaviour=n}),ace.define("ace/unicode",["require","exports","module"],function(t,e,i){"use strict";function n(t){var i=/\w{4}/g;for(var n in t)e.packages[n]=t[n].replace(i,"\\u$&")}e.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(t,e,i){"use strict";var n=function(t,e,i){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var n=t.getTokenAt(e,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var t;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,i=t[e].start;if(void 0!==i)return i;for(i=0;e>0;)e-=1,i+=t[e].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(n.prototype),e.TokenIterator=n}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e,i){"use strict";var n=t("../tokenizer").Tokenizer,o=t("./text_highlight_rules").TextHighlightRules,r=t("./behaviour").Behaviour,s=t("../unicode"),a=t("../lib/lang"),h=t("../token_iterator").TokenIterator,l=t("../range").Range,u=function(){this.HighlightRules=o,this.$behaviour=new r};(function(){this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,i,n){function o(t){for(var e=i;n>=e;e++)t(r.getLine(e),e)}var r=e.doc,s=!0,h=!0,l=1/0,u=e.getTabSize(),c=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var f=this.lineCommentStart.map(a.escapeRegExp).join("|"),d=this.lineCommentStart[0];else var f=a.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart;f=new RegExp("^(\\s*)(?:"+f+") ?"),c=e.getUseSoftTabs();var p=function(t,e){var i=t.match(f);if(i){var n=i[1].length,o=i[0].length;y(t,n,o)||" "!=i[0][o-1]||o--,r.removeInLine(e,n,o)}},g=d+" ",m=function(t,e){(!s||/\S/.test(t))&&(y(t,l,l)?r.insertInLine({row:e,column:l},g):r.insertInLine({row:e,column:l},d))},v=function(t,e){return f.test(t)},y=function(t,e,i){for(var n=0;e--&&" "==t.charAt(e);)n++;if(n%u!=0)return!1;for(var n=0;" "==t.charAt(i++);)n++;return u>2?n%u!=u-1:n%u==0}}else{if(!this.blockComment)return!1;var d=this.blockComment.start,b=this.blockComment.end,f=new RegExp("^(\\s*)(?:"+a.escapeRegExp(d)+")"),w=new RegExp("(?:"+a.escapeRegExp(b)+")\\s*$"),m=function(t,e){v(t,e)||(!s||/\S/.test(t))&&(r.insertInLine({row:e,column:t.length},b),r.insertInLine({row:e,column:l},d))},p=function(t,e){var i;(i=t.match(w))&&r.removeInLine(e,t.length-i[0].length,t.length),(i=t.match(f))&&r.removeInLine(e,i[1].length,i[0].length)},v=function(t,i){if(f.test(t))return!0;for(var n=e.getTokens(i),o=0;o<n.length;o++)if("comment"===n[o].type)return!0}}var x=1/0;o(function(t,e){var i=t.search(/\S/);-1!==i?(l>i&&(l=i),h&&!v(t,e)&&(h=!1)):x>t.length&&(x=t.length)}),l==1/0&&(l=x,s=!1,h=!1),c&&l%u!=0&&(l=Math.floor(l/u)*u),o(h?p:m)},this.toggleBlockComment=function(t,e,i,n){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var r,s,a=new h(e,n.row,n.column),u=a.getCurrentToken(),c=(e.selection,e.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var f,d;u&&/comment/.test(u.type);){var p=u.value.indexOf(o.start);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;f=new l(g,m,g,m+o.start.length);break}u=a.stepBackward()}for(var a=new h(e,n.row,n.column),u=a.getCurrentToken();u&&/comment/.test(u.type);){var p=u.value.indexOf(o.end);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;d=new l(g,m,g,m+o.end.length);break}u=a.stepForward()}d&&e.remove(d),f&&(e.remove(f),r=f.start.row,s=-o.start.length)}else s=o.start.length,r=i.start.row,e.insert(i.end,o.end),e.insert(i.start,o.start);c.start.row==r&&(c.start.column+=s),c.end.row==r&&(c.end.column+=s),e.selection.fromOrientedRange(c)}},this.getNextLineIndent=function(t,e,i){return this.$getIndent(e)},this.checkOutdent=function(t,e,i){return!1},this.autoOutdent=function(t,e,i){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){this.$embeds=[],this.$modes={};for(var e in t)t[e]&&(this.$embeds.push(e),this.$modes[e]=new t[e]);for(var i=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],e=0;e<i.length;e++)!function(t){var n=i[e],o=t[n];t[i[e]]=function(){return this.$delegator(n,arguments,o)}}(this)},this.$delegator=function(t,e,i){var n=e[0];"string"!=typeof n&&(n=n[0]);for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r=n.split(this.$embeds[o]);if(!r[0]&&r[1]){e[0]=r[1];var s=this.$modes[this.$embeds[o]];return s[t].apply(s,e)}}var a=i.apply(this,e);return i?a:void 0},this.transformAction=function(t,e,i,n,o){if(this.$behaviour){var r=this.$behaviour.getBehaviours();for(var s in r)if(r[s][e]){var a=r[s][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,i=[];for(var n in e)for(var o=e[n],r=0,s=o.length;s>r;r++)if("string"==typeof o[r].token)/keyword|support|storage/.test(o[r].token)&&i.push(o[r].regex);else if("object"==typeof o[r].token)for(var a=0,h=o[r].token.length;h>a;a++)if(/keyword|support|storage/.test(o[r].token[a])){var n=o[r].regex.match(/\(.+?\)/g)[a];i.push(n.substr(1,n.length-2))}this.completionKeywords=i}return t?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,i,n){var o=this.$keywordList||this.$createKeywordList();return o.map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),e.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(t,e,i){"use strict";e.applyDelta=function(t,e,i){var n=e.start.row,o=e.start.column,r=t[n]||"";switch(e.action){case"insert":var s=e.lines;if(1===s.length)t[n]=r.substring(0,o)+e.lines[0]+r.substring(o);else{var a=[n,1].concat(e.lines);t.splice.apply(t,a),t[n]=r.substring(0,o)+t[n],t[n+e.lines.length-1]+=r.substring(o)}break;case"remove":var h=e.end.column,l=e.end.row;n===l?t[n]=r.substring(0,o)+r.substring(h):t.splice(n,l-n+1,r.substring(0,o)+t[l].substring(h))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./lib/event_emitter").EventEmitter,r=e.Anchor=function(t,e,i){this.$onChange=this.onChange.bind(this),this.attach(t),"undefined"==typeof i?this.setPosition(e.row,e.column):this.setPosition(e,i)};(function(){function t(t,e,i){var n=i?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&n}function e(e,i,n){var o="insert"==e.action,r=(o?1:-1)*(e.end.row-e.start.row),s=(o?1:-1)*(e.end.column-e.start.column),a=e.start,h=o?a:e.end;return t(i,a,n)?{row:i.row,column:i.column}:t(h,i,!n)?{row:i.row+r,column:i.column+(i.row==h.row?s:0)}:{row:a.row,column:a.column}}n.implement(this,o),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var i=e(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(t,e,i){var n;if(n=i?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=n.row||this.column!=n.column){var o={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:o,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var i={};return t>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):0>t?(i.row=0,i.column=0):(i.row=t,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,e))),0>e&&(i.column=0),i}}).call(r.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./apply_delta").applyDelta,r=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=t("./anchor").Anchor,h=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){n.implement(this,r),this.setValue=function(t){var e=this.getLength()-1;this.remove(new s(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new a(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{e=this.getLines(t.start.row,t.end.row),e[0]=(e[0]||"").substring(t.start.column);var i=e.length-1;t.end.row-t.start.row==i&&(e[i]=e[i].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var i=this.clippedPos(t.row,t.column),n=this.pos(t.row,t.column+e.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[e]},!0),this.clonePos(n)},this.clippedPos=function(t,e){var i=this.getLength();void 0===t?t=i:0>t?t=0:t>=i&&(t=i-1,e=void 0);var n=this.getLine(t);return void 0==e&&(e=n.length),e=Math.min(Math.max(e,0),n.length),{row:t,column:e}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){t=Math.min(Math.max(t,0),this.getLength());var i=0;t<this.getLength()?(e=e.concat([""]),i=0):(e=[""].concat(e),t--,i=this.$lines[t].length),this.insertMergedLines({row:t,column:i},e)},this.insertMergedLines=function(t,e){var i=this.clippedPos(t.row,t.column),n={row:i.row+e.length-1,column:(1==e.length?i.column:0)+e[e.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:e}),this.clonePos(n)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),i=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:i,action:"remove",lines:this.getLinesForRange({start:e,end:i})}),this.clonePos(e)},this.removeInLine=function(t,e,i){var n=this.clippedPos(t,e),o=this.clippedPos(t,i);return this.applyDelta({start:n,end:o,action:"remove",lines:this.getLinesForRange({start:n,end:o})},!0),this.clonePos(n)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1),e=Math.min(Math.max(0,e),this.getLength()-1);var i=e==this.getLength()-1&&t>0,n=e<this.getLength()-1,o=i?t-1:t,r=i?this.getLine(o).length:0,a=n?e+1:e,h=n?0:this.getLine(a).length,l=new s(o,r,a,h),u=this.$lines.slice(t,e+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),u},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){if(t instanceof s||(t=s.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty())return t.start;if(e==this.getTextRange(t))return t.end;this.remove(t);var i;return i=e?this.insert(t.start,e):t.start},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var i="insert"==t.action;(i?t.lines.length<=1&&!t.lines[0]:!s.comparePoints(t.start,t.end))||(i&&t.lines.length>2e4&&this.$splitAndapplyLargeDelta(t,2e4),o(this.$lines,t,e),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,e){for(var i=t.lines,n=i.length,o=t.start.row,r=t.start.column,s=0,a=0;;){s=a,a+=e-1;var h=i.slice(s,a);if(a>n){t.lines=h,t.start.row=o+s,t.start.column=r;break}h.push(""),this.applyDelta({start:this.pos(o+s,r),end:this.pos(o+a,r=0),action:t.action,lines:h},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,o=e||0,r=i.length;r>o;o++)if(t-=i[o].length+n,0>t)return{row:o,column:t+i[o].length+n};return{row:r-1,column:i[r-1].length}},this.positionToIndex=function(t,e){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,o=0,r=Math.min(t.row,i.length),s=e||0;r>s;++s)o+=i[s].length+n;return o+t.column}}).call(h.prototype),e.Document=h}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./lib/event_emitter").EventEmitter,r=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var i=this;this.$worker=function(){if(i.running){for(var t=new Date,e=i.currentLine,n=-1,o=i.doc,r=e;i.lines[e];)e++;var s=o.getLength(),a=0;for(i.running=!1;s>e;){i.$tokenizeRow(e),n=e;do e++;while(i.lines[e]);if(a++,a%5===0&&new Date-t>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=e,n>=r&&i.fireUpdateEvent(r,n)}}};(function(){n.implement(this,o),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var i={first:t,last:e};this._signal("update",{data:i})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,i=t.end.row-e;if(0===i)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,i+1,null),this.states.splice(e,i+1,null);else{var n=Array(i+1);n.unshift(e,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),i=this.states[t-1],n=this.tokenizer.getLineTokens(e,i,t);return this.states[t]+""!=n.state+""?(this.states[t]=n.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=n.tokens}}).call(r.prototype),e.BackgroundTokenizer=r}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,i){"use strict";var n=t("./lib/lang"),o=(t("./lib/oop"),t("./range").Range),r=function(t,e,i){this.setRegexp(t),this.clazz=e,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,i,r){if(this.regExp)for(var s=r.firstRow,a=r.lastRow,h=s;a>=h;h++){var l=this.cache[h];null==l&&(l=n.getMatchOffsets(i.getLine(h),this.regExp),l.length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map(function(t){return new o(h,t.offset,h,t.offset+t.length)}),this.cache[h]=l.length?l:"");for(var u=l.length;u--;)e.drawSingleLineMarker(t,l[u].toScreenRange(i),this.clazz,r)}}}).call(r.prototype),e.SearchHighlight=r}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e,i){"use strict";function n(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var i=e[e.length-1];this.range=new o(e[0].start.row,e[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var o=t("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,i){var n,o,r,s=0,a=this.folds,h=!0;null==e&&(e=this.end.row,i=this.end.column);for(var l=0;l<a.length;l++){if(n=a[l],o=n.range.compareStart(e,i),-1==o)return void t(null,e,i,s,h);if(r=t(null,n.start.row,n.start.column,s,h),r=!r&&t(n.placeholder,n.start.row,n.start.column,s),r||0===o)return;h=!n.sameRow,s=n.end.column}t(null,e,i,s,h)},this.getNextFoldTo=function(t,e){for(var i,n,o=0;o<this.folds.length;o++){if(i=this.folds[o],n=i.range.compareEnd(t,e),-1==n)return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(t,e,i){var n,o,r=this.getNextFoldTo(t,e);if(r)if(n=r.fold,"inside"==r.kind&&n.start.column!=e&&n.start.row!=t)window.console&&window.console.log(t,e,n);else if(n.start.row==t){o=this.folds;var s=o.indexOf(n);for(0===s&&(this.start.column+=i),s;s<o.length;s++){if(n=o[s],n.start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(t,e){var i=this.getNextFoldTo(t,e);if(!i||"inside"==i.kind)return null;var o=i.fold,r=this.folds,s=this.foldData,a=r.indexOf(o),h=r[a-1];this.end.row=h.end.row,this.end.column=h.end.column,r=r.splice(a,r.length-a);var l=new n(s,r);return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(t){
for(var e=t.folds,i=0;i<e.length;i++)this.addFold(e[i]);var n=this.foldData;n.splice(n.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if(t-=n.start.column-e,0>t)return{row:n.start.row,column:n.start.column+t};if(t-=n.placeholder.length,0>t)return n.start;e=n.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(n.prototype),e.FoldLine=n}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,e,i){"use strict";var n=t("./range").Range,o=n.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=o,this.pointIndex=function(t,e,i){for(var n=this.ranges,r=i||0;r<n.length;r++){var s=n[r],a=o(t,s.end);if(!(a>0)){var h=o(t,s.start);return 0===a?e&&0!==h?-r-2:r:h>0||0===h&&!e?r:-r-1}}return-r-1},this.add=function(t){var e=!t.isEmpty(),i=this.pointIndex(t.start,e);0>i&&(i=-i-1);var n=this.pointIndex(t.end,e,i);return 0>n?n=-n-1:n++,this.ranges.splice(i,n-i,t)},this.addList=function(t){for(var e=[],i=t.length;i--;)e.push.apply(e,this.add(t[i]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges.splice(e,1):void 0},this.merge=function(){var t=[],e=this.ranges;e=e.sort(function(t,e){return o(t.start,e.start)});for(var i,n=e[0],r=1;r<e.length;r++){i=n,n=e[r];var s=o(i.end,n.start);0>s||(0!=s||i.isEmpty()||n.isEmpty())&&(o(i.end,n.end)<0&&(i.end.row=n.end.row,i.end.column=n.end.column),e.splice(r,1),t.push(n),n=i,r--)}return this.ranges=e,t},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges[e]:void 0},this.clipRows=function(t,e){var i=this.ranges;if(i[0].start.row>e||i[i.length-1].start.row<t)return[];var n=this.pointIndex({row:t,column:0});0>n&&(n=-n-1);var o=this.pointIndex({row:e,column:0},n);0>o&&(o=-o-1);for(var r=[],s=n;o>s;s++)r.push(i[s]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){if("insert"==t.action)var e=t.start,i=t.end;else var i=t.start,e=t.end;for(var n=e.row,o=i.row,r=o-n,s=-e.column+i.column,a=this.ranges,h=0,l=a.length;l>h;h++){var u=a[h];if(!(u.end.row<n)){if(u.start.row>n)break;if(u.start.row==n&&u.start.column>=e.column&&(u.start.column==e.column&&this.$insertRight||(u.start.column+=s,u.start.row+=r)),u.end.row==n&&u.end.column>=e.column){if(u.end.column==e.column&&this.$insertRight)continue;u.end.column==e.column&&s>0&&l-1>h&&u.end.column>u.start.column&&u.end.column==a[h+1].start.column&&(u.end.column-=s),u.end.column+=s,u.end.row+=r}}}if(0!=r&&l>h)for(;l>h;h++){var u=a[h];u.start.row+=r,u.end.row+=r}}}).call(r.prototype),e.RangeList=r}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(t,e,i){"use strict";function n(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function o(t,e){n(t.start,e),n(t.end,e)}function r(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}function s(t,e){r(t.start,e),r(t.end,e)}var a=(t("../range").Range,t("../range_list").RangeList),h=t("../lib/oop"),l=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};h.inherits(l,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var t=this.range.clone(),e=new l(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);o(t,this.start);for(var e=t.start.row,i=t.start.column,n=0,r=-1;n<this.subFolds.length&&(r=this.subFolds[n].range.compare(e,i),1==r);n++);var s=this.subFolds[n];if(0==r)return s.addSubFold(t);for(var e=t.range.end.row,i=t.range.end.column,a=n,r=-1;a<this.subFolds.length&&(r=this.subFolds[a].range.compare(e,i),1==r);a++);this.subFolds[a];if(0==r)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);this.subFolds.splice(n,a-n,t);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return s(t,this.start)}}.call(l.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e,i){"use strict";function n(){this.getFoldAt=function(t,e,i){var n=this.getFoldLine(t);if(!n)return null;for(var o=n.folds,r=0;r<o.length;r++){var s=o[r];if(s.range.contains(t,e)){if(1==i&&s.range.isEnd(t,e))continue;if(-1==i&&s.range.isStart(t,e))continue;return s}}},this.getFoldsInRange=function(t){var e=t.start,i=t.end,n=this.$foldData,o=[];e.column+=1,i.column-=1;for(var r=0;r<n.length;r++){var s=n[r].range.compareRange(t);if(2!=s){if(-2==s)break;for(var a=n[r].folds,h=0;h<a.length;h++){var l=a[h];if(s=l.range.compareRange(t),-2==s)break;if(2!=s){if(42==s)break;o.push(l)}}}}return e.column-=1,i.column+=1,o},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e=e.concat(this.getFoldsInRange(t))},this)}else var e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,i=0;i<e.length;i++)for(var n=0;n<e[i].folds.length;n++)t.push(e[i].folds[n]);return t},this.getFoldStringAt=function(t,e,i,n){if(n=n||this.getFoldLine(t),!n)return null;for(var o,r,s={end:{column:0}},a=0;a<n.folds.length;a++){r=n.folds[a];var h=r.range.compareEnd(t,e);if(-1==h){o=this.getLine(r.start.row).substring(s.end.column,r.start.column);break}if(0===h)return null;s=r}return o||(o=this.getLine(r.start.row).substring(s.end.column)),-1==i?o.substring(0,e-s.end.column):1==i?o.substring(e-s.end.column):o},this.getFoldLine=function(t,e){var i=this.$foldData,n=0;for(e&&(n=i.indexOf(e)),-1==n&&(n=0),n;n<i.length;n++){var o=i[n];if(o.start.row<=t&&o.end.row>=t)return o;if(o.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var i=this.$foldData,n=0;for(e&&(n=i.indexOf(e)),-1==n&&(n=0),n;n<i.length;n++){var o=i[n];if(o.end.row>=t)return o}return null},this.getFoldedRowCount=function(t,e){for(var i=this.$foldData,n=e-t+1,o=0;o<i.length;o++){var r=i[o],s=r.end.row,a=r.start.row;if(s>=e){e>a&&(a>=t?n-=e-a:n=0);break}s>=t&&(n-=a>=t?s-a:s-t+1)}return n},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var i,n=this.$foldData,o=!1;t instanceof s?i=t:(i=new s(e,t),i.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(i.range);var a=i.start.row,h=i.start.column,l=i.end.row,u=i.end.column;if(!(l>a||a==l&&u-2>=h))throw new Error("The range has to be at least 2 characters width");var c=this.getFoldAt(a,h,1),f=this.getFoldAt(l,u,-1);if(c&&f==c)return c.addSubFold(i);c&&!c.range.isStart(a,h)&&this.removeFold(c),f&&!f.range.isEnd(l,u)&&this.removeFold(f);var d=this.getFoldsInRange(i.range);d.length>0&&(this.removeFolds(d),d.forEach(function(t){i.addSubFold(t)}));for(var p=0;p<n.length;p++){var g=n[p];if(l==g.start.row){g.addFold(i),o=!0;break}if(a==g.end.row){if(g.addFold(i),o=!0,!i.sameRow){var m=n[p+1];if(m&&m.start.row==l){g.merge(m);break}}break}if(l<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,i=e.start.row,n=e.end.row,o=this.$foldData,r=e.folds;if(1==r.length)o.splice(o.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))r.pop(),e.end.row=r[r.length-1].end.row,e.end.column=r[r.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))r.shift(),e.start.row=r[0].start.row,e.start.column=r[0].start.column;else if(t.sameRow)r.splice(r.indexOf(t),1);else{var s=e.split(t.start.row,t.start.column);r=s.folds,r.shift(),s.start.row=r[0].start.row,s.start.column=r[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var i,n;if(null==t?(i=new o(0,0,this.getLength(),0),e=!0):i="number"==typeof t?new o(t,0,t,this.getLine(t).length):"row"in t?o.fromPoints(t,t):t,n=this.getFoldsInRangeList(i),e)this.removeFolds(n);else for(var r=n;r.length;)this.expandFolds(r),r=this.getFoldsInRangeList(i);return n.length?n:void 0},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var i=this.getFoldLine(t,e);return i?i.end.row:t},this.getRowFoldStart=function(t,e){var i=this.getFoldLine(t,e);return i?i.start.row:t},this.getFoldDisplayLine=function(t,e,i,n,o){null==n&&(n=t.start.row),null==o&&(o=0),null==e&&(e=t.end.row),null==i&&(i=this.getLine(e).length);var r=this.doc,s="";return t.walk(function(t,e,i,a){if(!(n>e)){if(e==n){if(o>i)return;a=Math.max(o,a)}s+=null!=t?t:r.getLine(e).substring(a,i)}},e,i),s},this.getDisplayLine=function(t,e,i,n){var o=this.getFoldLine(t);if(o)return this.getFoldDisplayLine(o,t,e,i,n);var r;return r=this.doc.getLine(t),r.substring(n||0,e||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var i=e.folds.map(function(t){return t.clone()});return new r(t,i)})},this.toggleFold=function(t){var e,i,n=this.selection,o=n.getRange();if(o.isEmpty()){var r=o.start;if(e=this.getFoldAt(r.row,r.column))return void this.expandFold(e);(i=this.findMatchingBracket(r))?1==o.comparePoint(i)?o.end=i:(o.start=i,o.start.column++,o.end.column--):(i=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==o.comparePoint(i)?o.end=i:o.start=i,o.start.column++):o=this.getCommentFoldRange(r.row,r.column)||o}else{var s=this.getFoldsInRange(o);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(e=s[0])}if(e||(e=this.getFoldAt(o.start.row,o.start.column)),e&&e.range.toString()==o.toString())return void this.expandFold(e);var a="...";if(!o.isMultiLine()){if(a=this.getTextRange(o),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,o)},this.getCommentFoldRange=function(t,e,i){var n=new a(this,t,e),r=n.getCurrentToken();if(r&&/^comment|string/.test(r.type)){var s=new o,h=new RegExp(r.type.replace(/\..*/,"\\."));if(1!=i){do r=n.stepBackward();while(r&&h.test(r.type));n.stepForward()}if(s.start.row=n.getCurrentTokenRow(),s.start.column=n.getCurrentTokenColumn()+2,n=new a(this,t,e),-1!=i){do r=n.stepForward();while(r&&h.test(r.type));r=n.stepBackward()}else r=n.getCurrentToken();return s.end.row=n.getCurrentTokenRow(),s.end.column=n.getCurrentTokenColumn()+r.value.length-2,s}},this.foldAll=function(t,e,i){void 0==i&&(i=1e5);var n=this.foldWidgets;if(n){e=e||this.getLength(),t=t||0;for(var o=t;e>o;o++)if(null==n[o]&&(n[o]=this.getFoldWidget(o)),"start"==n[o]){var r=this.getFoldWidgetRange(o);if(r&&r.isMultiLine()&&r.end.row<=e&&r.start.row>=t){o=r.end.row;try{var s=this.addFold("...",r);s&&(s.collapseChildren=i)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!t||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(t,e){var i=this.foldWidgets;if(!i||e&&i[t])return{};for(var n,o=t-1;o>=0;){var r=i[o];if(null==r&&(r=i[o]=this.getFoldWidget(o)),"start"==r){var s=this.getFoldWidgetRange(o);if(n||(n=s),s&&s.end.row>=t)break}o--}return{range:-1!==o&&s,firstRange:n}},this.onFoldWidgetClick=function(t,e){e=e.domEvent;var i={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},n=this.$toggleFoldWidget(t,i);if(!n){var o=e.target||e.srcElement;o&&/ace_fold-widget/.test(o.className)&&(o.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var i=this.getFoldWidget(t),n=this.getLine(t),o="end"===i?-1:1,r=this.getFoldAt(t,-1===o?0:n.length,o);if(r)return void(e.children||e.all?this.removeFold(r):this.expandFold(r));var s=this.getFoldWidgetRange(t,!0);if(s&&!s.isMultiLine()&&(r=this.getFoldAt(s.start.row,s.start.column,1),r&&s.isEqual(r.range)))return void this.removeFold(r);if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var h=a.range.start.row+1,l=a.range.end.row;this.foldAll(h,l,e.all?1e4:0)}else e.children?(l=s?s.end.row:this.getLength(),this.foldAll(t+1,l,e.all?1e4:0)):s&&(e.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var i=this.$toggleFoldWidget(e,{});if(!i){var n=this.getParentFoldRangeData(e,!0);if(i=n.range||n.firstRange){e=i.start.row;var o=this.getFoldAt(e,this.getLine(e).length,1);o?this.removeFold(o):this.addFold("...",i)}}},this.updateFoldWidgets=function(t){var e=t.start.row,i=t.end.row-e;if(0===i)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,i+1,null);else{var n=Array(i+1);n.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}var o=t("../range").Range,r=t("./fold_line").FoldLine,s=t("./fold").Fold,a=t("../token_iterator").TokenIterator;e.Folding=n}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e,i){"use strict";function n(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var i=e||this.getLine(t.row).charAt(t.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],t):this.$findOpeningBracket(n[2],t):null},this.getBracketRange=function(t){var e,i=this.getLine(t.row),n=!0,o=i.charAt(t.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=i.charAt(t.column),t={row:t.row,column:t.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),n=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],t);if(!a)return null;e=r.fromPoints(t,a),n||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a=this.$findOpeningBracket(s[2],t);if(!a)return null;e=r.fromPoints(a,t),n||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,i){var n=this.$brackets[t],r=1,s=new o(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var h=e.column-s.getCurrentTokenColumn()-2,l=a.value;;){for(;h>=0;){var u=l.charAt(h);if(u==n){if(r-=1,0==r)return{row:s.getCurrentTokenRow(),column:h+s.getCurrentTokenColumn()}}else u==t&&(r+=1);h-=1}do a=s.stepBackward();while(a&&!i.test(a.type));if(null==a)break;l=a.value,h=l.length-1}return null}},this.$findClosingBracket=function(t,e,i){var n=this.$brackets[t],r=1,s=new o(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var h=e.column-s.getCurrentTokenColumn();;){for(var l=a.value,u=l.length;u>h;){var c=l.charAt(h);if(c==n){if(r-=1,0==r)return{row:s.getCurrentTokenRow(),column:h+s.getCurrentTokenColumn()}}else c==t&&(r+=1);h+=1}do a=s.stepForward();while(a&&!i.test(a.type));if(null==a)break;h=0}return null}}}var o=t("../token_iterator").TokenIterator,r=t("../range").Range;e.BracketMatch=n}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./lib/lang"),r=t("./config"),s=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,h=t("./mode/text").Mode,l=t("./range").Range,u=t("./document").Document,c=t("./background_tokenizer").BackgroundTokenizer,f=t("./search_highlight").SearchHighlight,d=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new u(t)),this.setDocument(t),this.selection=new a(this),r.resetOptions(this),this.setMode(e),r._signal("session",this)};(function(){function t(t){return 4352>t?!1:t>=4352&&4447>=t||t>=4515&&4519>=t||t>=4602&&4607>=t||t>=9001&&9002>=t||t>=11904&&11929>=t||t>=11931&&12019>=t||t>=12032&&12245>=t||t>=12272&&12283>=t||t>=12288&&12350>=t||t>=12353&&12438>=t||t>=12441&&12543>=t||t>=12549&&12589>=t||t>=12593&&12686>=t||t>=12688&&12730>=t||t>=12736&&12771>=t||t>=12784&&12830>=t||t>=12832&&12871>=t||t>=12880&&13054>=t||t>=13056&&19903>=t||t>=19968&&42124>=t||t>=42128&&42182>=t||t>=43360&&43388>=t||t>=44032&&55203>=t||t>=55216&&55238>=t||t>=55243&&55291>=t||t>=63744&&64255>=t||t>=65040&&65049>=t||t>=65072&&65106>=t||t>=65108&&65126>=t||t>=65128&&65131>=t||t>=65281&&65376>=t||t>=65504&&65510>=t}n.implement(this,s),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>i&&(this.$docRowCache.splice(i,e),this.$screenRowCache.splice(i,e))},this.$getRowCacheIndex=function(t,e){for(var i=0,n=t.length-1;n>=i;){var o=i+n>>1,r=t[o];if(e>r)i=o+1;else{if(!(r>e))return o;n=o-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var i,n=this.bgTokenizer.getTokens(t),o=0;if(null==e)r=n.length-1,o=this.getLine(t).length;else for(var r=0;r<n.length&&(o+=n[r].value.length,!(o>=e));r++);return(i=n[r])?(i.index=r,i.start=o-i.value.length,i):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),e.$deltas.length>0&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,i,n){var o=this.$markerId++,r={range:t,type:i||"line",renderer:"function"==typeof i?i:null,clazz:e,inFront:!!n,id:o};return n?(this.$frontMarkers[o]=r,this._signal("changeFrontMarker")):(this.$backMarkers[o]=r,this._signal("changeBackMarker")),o},this.addDynamicMarker=function(t,e){if(t.update){var i=this.$markerId++;return t.id=i,t.inFront=!!e,e?(this.$frontMarkers[i]=t,this._signal("changeFrontMarker")):(this.$backMarkers[i]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var i=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete i[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,i,n){"number"!=typeof e&&(i=e,e=t),i||(i="ace_step");var o=new l(t,0,e,1/0);return o.id=this.addMarker(o,i,"fullLine",n),o},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);e?this.$autoNewLine=e[1]:this.$autoNewLine="\n"},this.getWordRange=function(t,e){var i=this.getLine(t),n=!1;if(e>0&&(n=!!i.charAt(e-1).match(this.tokenRe)),n||(n=!!i.charAt(e).match(this.tokenRe)),n)var o=this.tokenRe;else if(/^\s+$/.test(i.slice(e-1,e+1)))var o=/\s/;else var o=this.nonTokenRe;var r=e;if(r>0){do r--;while(r>=0&&i.charAt(r).match(o));r++}for(var s=e;s<i.length&&i.charAt(s).match(o);)s++;return new l(t,r,t,s)},this.getAWordRange=function(t,e){for(var i=this.getWordRange(t,e),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var i=t,n=i.path}else n=t||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[n]&&!i?(this.$onChangeMode(this.$modes[n]),void(e&&e())):(this.$modeId=n,r.loadModule(["mode",n],function(t){return this.$modeId!==n?e&&e():(this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):t&&t.Mode&&(t=new t.Mode(i),i||(this.$modes[n]=t,t.$id=n),this.$onChangeMode(t)),void(e&&e()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=t.getTokenizer();if(void 0!==i.addEventListener){var n=this.onReloadTokenizer.bind(this);i.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new c(i);var o=this;this.bgTokenizer.addEventListener("update",function(t){o._signal("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){r.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,o=0,r=this.$foldData[o],s=r?r.start.row:1/0,a=e.length,h=0;a>h;h++){if(h>s){if(h=r.end.row+1,h>=a)break;r=this.$foldData[o++],s=r?r.start.row:1/0}null==i[h]&&(i[h]=this.$getStringScreenWidth(e[h])[0]),i[h]>n&&(n=i[h])}this.screenWidth=n}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var i=null,n=t.length-1;-1!=n;n--){var o=t[n];"doc"==o.group?(this.doc.revertDeltas(o.deltas),i=this.$getUndoSelection(o.deltas,!0,i)):o.deltas.forEach(function(t){this.addFolds(t.folds)},this)}return this.$fromUndo=!1,i&&this.$undoSelect&&!e&&this.selection.setSelectionRange(i),i}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var i=null,n=0;n<t.length;n++){var o=t[n];"doc"==o.group&&(this.doc.applyDeltas(o.deltas),i=this.$getUndoSelection(o.deltas,!1,i))}return this.$fromUndo=!1,i&&this.$undoSelect&&!e&&this.selection.setSelectionRange(i),i}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,i){function n(t){return e?"insert"!==t.action:"insert"===t.action}var o,r,s=t[0],a=!1;n(s)?(o=l.fromPoints(s.start,s.end),a=!0):(o=l.fromPoints(s.start,s.start),a=!1);for(var h=1;h<t.length;h++)s=t[h],n(s)?(r=s.start,-1==o.compare(r.row,r.column)&&o.setStart(r),r=s.end,1==o.compare(r.row,r.column)&&o.setEnd(r),a=!0):(r=s.start,-1==o.compare(r.row,r.column)&&(o=l.fromPoints(s.start,s.start)),a=!1);if(null!=i){0===l.comparePoints(i.start,o.start)&&(i.start.column+=o.end.column-o.start.column,i.end.column+=o.end.column-o.start.column);var u=i.compareRange(o);1==u?o.setStart(i.start):-1==u&&o.setEnd(i.end)}return o},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,i){var n=this.getTextRange(t),o=this.getFoldsInRange(t),r=l.fromPoints(e,e);if(!i){this.remove(t);var s=t.start.row-t.end.row,a=s?-t.end.column:t.start.column-t.end.column;a&&(r.start.row==t.end.row&&r.start.column>t.end.column&&(r.start.column+=a),r.end.row==t.end.row&&r.end.column>t.end.column&&(r.end.column+=a)),s&&r.start.row>=t.end.row&&(r.start.row+=s,r.end.row+=s)}if(r.end=this.insert(r.start,n),o.length){var h=t.start,u=r.start,s=u.row-h.row,a=u.column-h.column;this.addFolds(o.map(function(t){return t=t.clone(),t.start.row==h.row&&(t.start.column+=a),t.end.row==h.row&&(t.end.column+=a),t.start.row+=s,t.end.row+=s,t}))}return r},this.indentRows=function(t,e,i){i=i.replace(/\t/g,this.getTabString());for(var n=t;e>=n;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(t){for(var e=t.collapseRows(),i=new l(0,0,0,0),n=this.getTabSize(),o=e.start.row;o<=e.end.row;++o){var r=this.getLine(o);i.start.row=o,i.end.row=o;for(var s=0;n>s&&" "==r.charAt(s);++s);n>s&&"	"==r.charAt(s)?(i.start.column=s,i.end.column=s+1):(i.start.column=0,i.end.column=s),this.remove(i)}},this.$moveLines=function(t,e,i){
if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),0>i){var n=this.getRowFoldStart(t+i);if(0>n)return 0;var o=n-t}else if(i>0){var n=this.getRowFoldEnd(e+i);if(n>this.doc.getLength()-1)return 0;var o=n-e}else{t=this.$clipRowToDocument(t),e=this.$clipRowToDocument(e);var o=e-t+1}var r=new l(t,0,e,Number.MAX_VALUE),s=this.getFoldsInRange(r).map(function(t){return t=t.clone(),t.start.row+=o,t.end.row+=o,t}),a=0==i?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+o,a),s.length&&this.addFolds(s),o},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return 0>e?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),0>t)t=0,e=0;else{var i=this.doc.getLength();t>=i?(t=i-1,e=this.doc.getLine(i-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){(this.$wrapLimitRange.min!==t||this.$wrapLimitRange.max!==e)&&(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var i=this.$wrapLimitRange;i.max<0&&(i={min:e,max:e});var n=this.$constrainWrapLimit(t,i.min,i.max);return n!=this.$wrapLimit&&n>1?(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(t,e,i){return e&&(t=Math.max(e,t)),i&&(t=Math.min(i,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,i=t.action,n=t.start,o=t.end,r=n.row,s=o.row,a=s-r,h=null;if(this.$updating=!0,0!=a)if("remove"===i){this[e?"$wrapData":"$rowLengthCache"].splice(r,a);var l=this.$foldData;h=this.getFoldsInRange(t),this.removeFolds(h);var u=this.getFoldLine(o.row),c=0;if(u){u.addRemoveChars(o.row,o.column,n.column-o.column),u.shiftRow(-a);var f=this.getFoldLine(r);f&&f!==u&&(f.merge(u),u=f),c=l.indexOf(u)+1}for(c;c<l.length;c++){var u=l[c];u.start.row>=o.row&&u.shiftRow(-a)}s=r}else{var d=Array(a);d.unshift(r,0);var p=e?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,d);var l=this.$foldData,u=this.getFoldLine(r),c=0;if(u){var g=u.range.compareInside(n.row,n.column);0==g?(u=u.split(n.row,n.column),u&&(u.shiftRow(a),u.addRemoveChars(s,0,o.column-n.column))):-1==g&&(u.addRemoveChars(r,0,o.column-n.column),u.shiftRow(a)),c=l.indexOf(u)+1}for(c;c<l.length;c++){var u=l[c];u.start.row>=r&&u.shiftRow(a)}}else{a=Math.abs(t.start.column-t.end.column),"remove"===i&&(h=this.getFoldsInRange(t),this.removeFolds(h),a=-a);var u=this.getFoldLine(r);u&&u.addRemoveChars(r,n.column,a)}return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(r,s):this.$updateRowLengthCache(r,s),h},this.$updateRowLengthCache=function(t,e,i){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,e){var i,n,o=this.doc.getAllLines(),r=this.getTabSize(),s=this.$wrapData,h=this.$wrapLimit,l=t;for(e=Math.min(e,o.length-1);e>=l;)n=this.getFoldLine(l,n),n?(i=[],n.walk(function(t,e,n,r){var s;if(null!=t){s=this.$getDisplayTokens(t,i.length),s[0]=a;for(var h=1;h<s.length;h++)s[h]=u}else s=this.$getDisplayTokens(o[e].substring(r,n),i.length);i=i.concat(s)}.bind(this),n.end.row,o[n.end.row].length+1),s[n.start.row]=this.$computeWrapSplits(i,h,r),l=n.end.row+1):(i=this.$getDisplayTokens(o[l]),s[l]=this.$computeWrapSplits(i,h,r),l++)};var e=1,i=2,a=3,u=4,d=9,p=10,g=11,m=12;this.$computeWrapSplits=function(t,e,n){function o(){var e=0;if(0===y)return e;if(v)for(var i=0;i<t.length;i++){var o=t[i];if(o==p)e+=1;else{if(o!=g){if(o==m)continue;break}e+=n}}return f&&v!==!1&&(e+=n),Math.min(e,y)}function r(e){var i=t.slice(l,e),n=i.length;i.join("").replace(/12/g,function(){n-=1}).replace(/2/g,function(){n-=1}),s.length||(b=o(),s.indent=b),c+=n,s.push(c),l=e}if(0==t.length)return[];for(var s=[],h=t.length,l=0,c=0,f=this.$wrapAsCode,v=this.$indentedSoftWrap,y=e<=Math.max(2*n,8)||v===!1?0:Math.floor(e/2),b=0;h-l>e-b;){var w=l+e-b;if(t[w-1]>=p&&t[w]>=p)r(w);else if(t[w]!=a&&t[w]!=u){for(var x=Math.max(w-(e-(e>>2)),l-1);w>x&&t[w]<a;)w--;if(f){for(;w>x&&t[w]<a;)w--;for(;w>x&&t[w]==d;)w--}else for(;w>x&&t[w]<p;)w--;w>x?r(++w):(w=l+e,t[w]==i&&w--,r(w-b))}else{for(w;w!=l-1&&t[w]!=a;w--);if(w>l){r(w);continue}for(w=l+e;w<t.length&&t[w]==u;w++);if(w==t.length)break;r(w)}}return s},this.$getDisplayTokens=function(n,o){var r,s=[];o=o||0;for(var a=0;a<n.length;a++){var h=n.charCodeAt(a);if(9==h){r=this.getScreenTabSize(s.length+o),s.push(g);for(var l=1;r>l;l++)s.push(m)}else 32==h?s.push(p):h>39&&48>h||h>57&&64>h?s.push(d):h>=4352&&t(h)?s.push(e,i):s.push(e)}return s},this.$getStringScreenWidth=function(e,i,n){if(0==i)return[0,0];null==i&&(i=1/0),n=n||0;var o,r;for(r=0;r<e.length&&(o=e.charCodeAt(r),n+=9==o?this.getScreenTabSize(n):o>=4352&&t(o)?2:1,!(n>i));r++);return[n,r]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),i=this.$wrapData[e.row];return i.length&&i[0]<e.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var i=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(t,e){var i=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e){if(0>t)return{row:0,column:0};var i,n,o=0,r=0,s=0,a=0,h=this.$screenRowCache,l=this.$getRowCacheIndex(h,t),u=h.length;if(u&&l>=0)var s=h[l],o=this.$docRowCache[l],c=t>h[u-1];else var c=!u;for(var f=this.getLength()-1,d=this.getNextFoldLine(o),p=d?d.start.row:1/0;t>=s&&(a=this.getRowLength(o),!(s+a>t||o>=f));)s+=a,o++,o>p&&(o=d.end.row+1,d=this.getNextFoldLine(o,d),p=d?d.start.row:1/0),c&&(this.$docRowCache.push(o),this.$screenRowCache.push(s));if(d&&d.start.row<=o)i=this.getFoldDisplayLine(d),o=d.start.row;else{if(t>=s+a||o>f)return{row:f,column:this.getLine(f).length};i=this.getLine(o),d=null}var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){var v=Math.floor(t-s);n=m[v],v>0&&m.length&&(g=m.indent,r=m[v-1]||m[m.length-1],i=i.substring(r))}}return r+=this.$getStringScreenWidth(i,e-g)[1],this.$useWrapMode&&r>=n&&(r=n-1),d?d.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(t,e){if("undefined"==typeof e)var i=this.$clipPositionToDocument(t.row,t.column);else i=this.$clipPositionToDocument(t,e);t=i.row,e=i.column;var n=0,o=null,r=null;r=this.getFoldAt(t,e,1),r&&(t=r.start.row,e=r.start.column);var s,a=0,h=this.$docRowCache,l=this.$getRowCacheIndex(h,t),u=h.length;if(u&&l>=0)var a=h[l],n=this.$screenRowCache[l],c=t>h[u-1];else var c=!u;for(var f=this.getNextFoldLine(a),d=f?f.start.row:1/0;t>a;){if(a>=d){if(s=f.end.row+1,s>t)break;f=this.getNextFoldLine(s,f),d=f?f.start.row:1/0}else s=a+1;n+=this.getRowLength(a),a=s,c&&(this.$docRowCache.push(a),this.$screenRowCache.push(n))}var p="";f&&a>=d?(p=this.getFoldDisplayLine(f,t,e),o=f.start.row):(p=this.getLine(t).substring(0,e),o=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var v=0;p.length>=m[v];)n++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return{row:n,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,o=0,e=this.$foldData[o++],r=e?e.start.row:1/0;i>n;){var s=this.$wrapData[n];t+=s?s.length+1:1,n++,n>r&&(n=e.end.row+1,e=this.$foldData[o++],r=e?e.start.row:1/0)}else{t=this.getLength();for(var a=this.$foldData,o=0;o<a.length;o++)e=a[o],t-=e.end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,i,n){if(0===i)return[0,0];i||(i=1/0),n=n||0;var o,r;for(r=0;r<e.length&&(o=e.charAt(r),n+="	"===o?this.getScreenTabSize(n):t.getCharacterWidth(o),!(n>i));r++);return[n,r]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(d.prototype),t("./edit_session/folding").Folding.call(d.prototype),t("./edit_session/bracket_match").BracketMatch.call(d.prototype),r.defineOptions(d.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){t="auto"==t?"text"!=this.$mode.type:"text"!=t,t!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=d}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,i){"use strict";var n=t("./lib/lang"),o=t("./lib/oop"),r=t("./range").Range,s=function(){this.$options={}};(function(){this.set=function(t){return o.mixin(this.$options,t),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,i=this.$matchIterator(t,e);if(!i)return!1;var n=null;return i.forEach(function(t,i,o){if(t.start)n=t;else{var s=t.offset+(o||0);if(n=new r(i,s,i,s+t.length),!t.length&&e.start&&e.start.start&&0!=e.skipCurrent&&n.isEqual(e.start))return n=null,!1}return!0}),n},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var i=e.range,o=i?t.getLines(i.start.row,i.end.row):t.doc.getAllLines(),s=[],a=e.re;if(e.$isMultiLine){var h,l=a.length,u=o.length-l;t:for(var c=a.offset||0;u>=c;c++){for(var f=0;l>f;f++)if(-1==o[c+f].search(a[f]))continue t;var d=o[c],p=o[c+l-1],g=d.length-d.match(a[0])[0].length,m=p.match(a[l-1])[0].length;h&&h.end.row===c&&h.end.column>g||(s.push(h=new r(c,g,c+l-1,m)),l>2&&(c=c+l-2))}}else for(var v=0;v<o.length;v++)for(var y=n.getMatchOffsets(o[v],a),f=0;f<y.length;f++){var b=y[f];s.push(new r(v,b.offset,v,b.offset+b.length))}if(i){for(var w=i.start.column,x=i.start.column,v=0,f=s.length-1;f>v&&s[v].start.column<w&&s[v].start.row==i.start.row;)v++;for(;f>v&&s[f].end.column>x&&s[f].end.row==i.end.row;)f--;for(s=s.slice(v,f+1),v=0,f=s.length;f>v;v++)s[v].start.row+=i.start.row,s[v].end.row+=i.start.row}return s},this.replace=function(t,e){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return e;if(n){var o=n.exec(t);if(!o||o[0].length!=t.length)return null;if(e=t.replace(n,e),i.preserveCase){e=e.split("");for(var r=Math.min(t.length,t.length);r--;){var s=t[r];s&&s.toLowerCase()!=s?e[r]=e[r].toUpperCase():e[r]=e[r].toLowerCase()}e=e.join("")}return e}},this.$matchIterator=function(t,e){var i=this.$assembleRegExp(e);if(!i)return!1;var o;if(e.$isMultiLine)var s=i.length,a=function(e,n,a){var h=e.search(i[0]);if(-1!=h){for(var l=1;s>l;l++)if(e=t.getLine(n+l),-1==e.search(i[l]))return;var u=e.match(i[s-1])[0].length,c=new r(n,h,n+s-1,u);return 1==i.offset?(c.start.row--,c.start.column=Number.MAX_VALUE):a&&(c.start.column+=a),o(c)?!0:void 0}};else if(e.backwards)var a=function(t,e,r){for(var s=n.getMatchOffsets(t,i),a=s.length-1;a>=0;a--)if(o(s[a],e,r))return!0};else var a=function(t,e,r){for(var s=n.getMatchOffsets(t,i),a=0;a<s.length;a++)if(o(s[a],e,r))return!0};var h=this.$lineIterator(t,e);return{forEach:function(t){o=t,h.forEach(a)}}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var i=t.needle;if(!t.needle)return t.re=!1;t.regExp||(i=n.escapeRegExp(i)),t.wholeWord&&(i="\\b"+i+"\\b");var o=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(i),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(i,o);try{var r=new RegExp(i,o)}catch(s){r=!1}return t.re=r},this.$assembleMultilineRegExp=function(t,e){for(var i=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],o=0;o<i.length;o++)try{n.push(new RegExp(i[o],e))}catch(r){return!1}return""==i[0]?(n.shift(),n.offset=1):n.offset=0,n},this.$lineIterator=function(t,e){var i=1==e.backwards,n=0!=e.skipCurrent,o=e.range,r=e.start;r||(r=o?o[i?"end":"start"]:t.selection.getRange()),r.start&&(r=r[n!=i?"end":"start"]);var s=o?o.start.row:0,a=o?o.end.row:t.getLength()-1,h=i?function(i){var n=r.row,o=t.getLine(n).substring(0,r.column);if(!i(o,n)){for(n--;n>=s;n--)if(i(t.getLine(n),n))return;if(0!=e.wrap)for(n=a,s=r.row;n>=s;n--)if(i(t.getLine(n),n))return}}:function(i){var n=r.row,o=t.getLine(n).substr(r.column);if(!i(o,n,r.column)){for(n+=1;a>=n;n++)if(i(t.getLine(n),n))return;if(0!=e.wrap)for(n=s,a=r.row;a>=n;n++)if(i(t.getLine(n),n))return}};return{forEach:h}}}).call(s.prototype),e.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,i){"use strict";function n(t,e){this.platform=e||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function o(t,e){n.call(this,t,e),this.$singleCommand=!1}var r=t("../lib/keys"),s=t("../lib/useragent"),a=r.KEY_MODS;o.prototype=n.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||0}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var i=t&&("string"==typeof t?t:t.name);t=this.commands[i],e||delete this.commands[i];var n=this.commandKeyBinding;for(var o in n){var r=n[o];if(r==t)delete n[o];else if(Array.isArray(r)){var s=r.indexOf(t);-1!=s&&(r.splice(s,1),1==r.length&&(n[o]=r[0]))}}},this.bindKey=function(t,e,i){return"object"==typeof t&&t&&(void 0==i&&(i=t.position),t=t[this.platform]),t?"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach(function(t){var n="";if(-1!=t.indexOf(" ")){var o=t.split(/\s+/);t=o.pop(),o.forEach(function(t){var e=this.parseKeys(t),i=a[e.hashId]+e.key;n+=(n?" ":"")+i,this._addCommandToBinding(n,"chainKeys")},this),n+=" "}var r=this.parseKeys(t),s=a[r.hashId]+r.key;this._addCommandToBinding(n+s,e,i)},this):void 0},this._addCommandToBinding=function(e,i,n){var o,r=this.commandKeyBinding;if(i)if(!r[e]||this.$singleCommand)r[e]=i;else{Array.isArray(r[e])?-1!=(o=r[e].indexOf(i))&&r[e].splice(o,1):r[e]=[r[e]],"number"!=typeof n&&(n=n||i.isDefault?-100:t(i));var s=r[e];for(o=0;o<s.length;o++){var a=s[o],h=t(a);if(h>n)break}s.splice(o,0,i)}else delete r[e]},this.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var i=t[e];if(i){if("string"==typeof i)return this.bindKey(i,e);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=e),this.addCommand(i))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),i=e.pop(),n=r[i];if(r.FUNCTION_KEYS[n])i=r.FUNCTION_KEYS[n].toLowerCase();else{if(!e.length)return{key:i,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:i.toUpperCase(),hashId:-1}}for(var o=0,s=e.length;s--;){var a=r.KEY_MODS[e[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[s]+" in "+t),!1;o|=a}return{key:i,hashId:o}},this.findKeyCommand=function(t,e){var i=a[t]+e;return this.commandKeyBinding[i]},this.handleKeyboard=function(t,e,i,n){if(!(0>n)){var o=a[e]+i,r=this.commandKeyBinding[o];return t.$keyChain&&(t.$keyChain+=" "+o,r=this.commandKeyBinding[t.$keyChain]||r),!r||"chainKeys"!=r&&"chainKeys"!=r[r.length-1]?(t.$keyChain&&(e&&4!=e||1!=i.length?(-1==e||n>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-o.length-1)),{command:r}):(t.$keyChain=t.$keyChain||o,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(n.prototype),e.HashHandler=n,e.MultiHashHandler=o}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("../lib/oop"),o=t("../keyboard/hash_handler").MultiHashHandler,r=t("../lib/event_emitter").EventEmitter,s=function(t,e){o.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};n.inherits(s,o),function(){n.implement(this,r),this.exec=function(t,e,i){if(Array.isArray(t)){for(var n=t.length;n--;)if(this.exec(t[n],e,i))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;var o={editor:e,command:t,args:i};return o.returnValue=this._emit("exec",o),this._signal("afterExec",o),o.returnValue===!1?!1:!0},this.toggleRecording=function(t){return this.$inReplay?void 0:(t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(s.prototype),e.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,e,i){"use strict";function n(t,e){return{win:t,mac:e}}var o=t("../lib/lang"),r=t("../config"),s=t("../range").Range;e.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(t){r.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","Ctrl-E"),exec:function(t){r.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Ctrl-Shift-E"),exec:function(t){r.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(t){},readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",
scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(t){return t.selection.isEmpty()?void t.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(o.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(t){for(var e=t.selection.isBackwards(),i=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),n=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),r=t.session.doc.getLine(i.row).length,a=t.session.doc.getTextRange(t.selection.getRange()),h=a.replace(/\n\s*/," ").length,l=t.session.doc.getLine(i.row),u=i.row+1;u<=n.row+1;u++){var c=o.stringTrimLeft(o.stringTrimRight(t.session.doc.getLine(u)));0!==c.length&&(c=" "+c),l+=c}n.row+1<t.session.doc.getLength()-1&&(l+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new s(i.row,0,n.row+2,0),l),h>0?(t.selection.moveCursorTo(i.row,i.column),t.selection.selectTo(i.row,i.column+h)):(r=t.session.doc.getLine(i.row).length>r?r+1:r,t.selection.moveCursorTo(i.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(t){var e=t.session.doc.getLength()-1,i=t.session.doc.getLine(e).length,n=t.selection.rangeList.ranges,o=[];n.length<1&&(n=[t.selection.getRange()]);for(var r=0;r<n.length;r++)r==n.length-1&&(n[r].end.row!==e||n[r].end.column!==i)&&o.push(new s(n[r].end.row,n[r].end.column,e,i)),0===r?(0!==n[r].start.row||0!==n[r].start.column)&&o.push(new s(0,0,n[r].start.row,n[r].start.column)):o.push(new s(n[r-1].end.row,n[r-1].end.column,n[r].start.row,n[r].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var r=0;r<o.length;r++)t.selection.addRange(o[r],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(t,e,i){"use strict";t("./lib/fixoldbrowsers");var n=t("./lib/oop"),o=t("./lib/dom"),r=t("./lib/lang"),s=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,h=t("./mouse/mouse_handler").MouseHandler,l=t("./mouse/fold_handler").FoldHandler,u=t("./keyboard/keybinding").KeyBinding,c=t("./edit_session").EditSession,f=t("./search").Search,d=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,g=t("./commands/command_manager").CommandManager,m=t("./commands/default_commands").commands,v=t("./config"),y=t("./token_iterator").TokenIterator,b=function(t,e){var i=t.getContainerElement();this.container=i,this.renderer=t,this.commands=new g(s.isMac?"mac":"win",m),this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new h(this),new l(this),this.$blockScrolling=0,this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||new c("")),v.resetOptions(this),v._signal("editor",this)};(function(){n.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(t){if(this.curOp){if(t&&t.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&this.$blockScrolling>0&&this.$blockScrolling--;var i=e&&e.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),o=this.renderer.layerConfig;(n.start.row>=o.lastRow||n.end.row<=o.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,i=this.$mergeableCommands,n=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var o=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(o)||/\s/.test(e.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t){this.$keybindingId=t;var i=this;v.loadModule(["keybinding",t],function(n){i.$keybindingId==t&&i.keyBinding.setKeyboardHandler(n&&n.handler),e&&e()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout(function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){var i=e.findMatchingBracket(t.getCursorPosition());if(i)var n=new d(i.row,i.column,i.row,i.column+1);else if(e.$mode.getMatching)var n=e.$mode.getMatching(t.session);n&&(e.$bracketHighlight=e.addMarker(n,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout(function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var i=t.getCursorPosition(),n=new y(t.session,i.row,i.column),o=n.getCurrentToken();if(!o||!/\b(?:tag-open|tag-name)/.test(o.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==o.type.indexOf("tag-open")||(o=n.stepForward())){var r=o.value,s=0,a=n.stepBackward();if("<"==a.value){do a=o,o=n.stepForward(),o&&o.value===r&&-1!==o.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(o&&s>=0)}else{do o=a,a=n.stepBackward(),o&&o.value===r&&-1!==o.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&0>=s);n.stepForward()}if(!o)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var h=n.getCurrentTokenRow(),l=n.getCurrentTokenColumn(),u=new d(h,l,h,l+o.value.length);e.$tagHighlight&&0!==u.compareRange(e.$backMarkers[e.$tagHighlight].range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),u&&!e.$tagHighlight&&(e.$tagHighlight=e.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,i=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,i,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var i=new d(t.row,t.column,t.row,1/0);i.id=e.addMarker(i,"ace_active-line","screenLine"),e.$highlightLineMarker=i}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();e.$selectionMarker=e.addMarker(i,"ace_selection",n)}var o=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(o),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var i=e.start.column-1,n=e.end.column+1,o=t.getLine(e.start.row),r=o.length,s=o.substring(Math.max(i,0),Math.min(n,r));if(!(i>=0&&/^[\w\d]/.test(s)||r>=n&&/[\w\d]$/.test(s))&&(s=o.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var i={text:t,event:e};this.commands.exec("paste",this,i)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var i=e.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(i.length>n.length||i.length<2||!i[1])return this.commands.exec("insertstring",this,e);for(var o=n.length;o--;){var r=n[o];r.isEmpty()||this.session.remove(r),this.session.insert(r.start,i[o])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var i=this.session,n=i.getMode(),o=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var r=n.transformAction(i.getState(o.row),"insertion",this,i,t);r&&(t!==r.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=r.text)}if("	"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new d.fromPoints(o,o);s.end.column+=t.length,this.session.remove(s)}}else{var s=this.getSelectionRange();o=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=i.getLine(o.row);if(o.column>a.search(/\S|$/)){var h=a.substr(o.column).search(/\S|$/);i.doc.removeInLine(o.row,o.column,o.column+h)}}this.clearSelection();var l=o.column,u=i.getState(o.row),a=i.getLine(o.row),c=n.checkOutdent(u,a,t);i.insert(o,t);if(r&&r.selection&&(2==r.selection.length?this.selection.setSelectionRange(new d(o.row,l+r.selection[0],o.row,l+r.selection[1])):this.selection.setSelectionRange(new d(o.row+r.selection[0],r.selection[1],o.row+r.selection[2],r.selection[3]))),i.getDocument().isNewLine(t)){var f=n.getNextLineIndent(u,a.slice(0,o.column),i.getTabString());i.insert({row:o.row+1,column:0},f)}c&&n.autoOutdent(u,i,o.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,i){this.keyBinding.onCommandKey(t,e,i)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(e.start.row),o=i.getMode().transformAction(n,"deletion",this,i,e);if(0===e.end.column){var r=i.getTextRange(e);if("\n"==r[r.length-1]){var s=i.getLine(e.end.row);/^\s+$/.test(s)&&(e.end.column=s.length)}}o&&(e=o)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var i,n,o=this.session.getLine(t.row);e<o.length?(i=o.charAt(e)+o.charAt(e-1),n=new d(t.row,e-1,t.row,e+1)):(i=o.charAt(e-1)+o.charAt(e-2),n=new d(t.row,e-2,t.row,e)),this.session.replace(n,i)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),i=this.session.getTextRange(e);this.session.replace(e,i.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),i=this.session.getTextRange(e);this.session.replace(e,i.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(e.start.row<e.end.row){var i=this.$getSelectedRows();return void t.indentRows(i.first,i.last,"	")}if(e.start.column<e.end.column){var n=t.getTextRange(e);if(!/^\s+$/.test(n)){var i=this.$getSelectedRows();return void t.indentRows(i.first,i.last,"	")}}var o=t.getLine(e.start.row),s=e.start,a=t.getTabSize(),h=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var l=a-h%a,u=r.stringRepeat(" ",l);else{for(var l=h%a;" "==o[e.start.column]&&l;)e.start.column--,l--;this.selection.setSelectionRange(e),u="	"}return this.insert(u)},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"	")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){var t=this.$getSelectedRows(),e=this.session,i=[];for(o=t.first;o<=t.last;o++)i.push(e.getLine(o));i.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});for(var n=new d(0,0,0,0),o=t.first;o<=t.last;o++){var r=e.getLine(o);n.start.row=o,n.end.row=o,n.end.column=r.length,e.replace(n,i[o-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,i,t)},this.getNumberAt=function(t,e){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(t);i.lastIndex<e;){var o=i.exec(n);if(o.index<=e&&o.index+o[0].length>=e){var r={value:o[0],start:o.index,end:o.index+o[0].length};return r}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new d(e,i-1,e,i),o=this.session.getTextRange(n);if(!isNaN(parseFloat(o))&&isFinite(o)){var r=this.getNumberAt(e,i);if(r){var s=r.value.indexOf(".")>=0?r.start+r.value.indexOf(".")+1:r.end,a=r.start+r.value.length-s,h=parseFloat(r.value);h*=Math.pow(10,a),t*=s!==r.end&&s>i?Math.pow(10,r.end-i-1):Math.pow(10,r.end-i),h+=t,h/=Math.pow(10,a);var l=h.toFixed(a),u=new d(e,r.start,e,r.end);this.session.replace(u,l),this.moveCursorTo(e,Math.max(r.start+1,i+l.length-r.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,i=t.getRange(),n=t.isBackwards();if(i.isEmpty()){var o=i.start.row;e.duplicateLines(o,o)}else{var r=n?i.start:i.end,s=e.insert(r,e.getTextRange(i),!1);i.start=r,i.end=s,t.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,i){return this.session.moveText(t,e,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var i,n,o=this.selection;if(!o.inMultiSelectMode||this.inVirtualSelectionMode){var r=o.toOrientedRange();i=this.$getSelectedRows(r),n=this.session.$moveLines(i.first,i.last,e?0:t),e&&-1==t&&(n=0),r.moveBy(n,0),o.fromOrientedRange(r)}else{var s=o.rangeList.ranges;o.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,h=0,l=s.length,u=0;l>u;u++){var c=u;s[u].moveBy(a,0),i=this.$getSelectedRows(s[u]);for(var f=i.first,d=i.last;++u<l;){h&&s[u].moveBy(h,0);var p=this.$getSelectedRows(s[u]);if(e&&p.first!=d)break;if(!e&&p.first>d+1)break;d=p.last}for(u--,a=this.session.$moveLines(f,d,e?0:t),e&&-1==t&&(c=u+1);u>=c;)s[c].moveBy(a,0),c++;e||(a=0),h+=a}o.fromOrientedRange(o.ranges[0]),o.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var i=this.renderer,n=this.renderer.layerConfig,o=t*Math.floor(n.height/n.lineHeight);this.$blockScrolling++,e===!0?this.selection.$moveSelection(function(){this.moveCursorBy(o,0)}):e===!1&&(this.selection.moveCursorBy(o,0),this.selection.clearSelection()),this.$blockScrolling--;var r=i.scrollTop;i.scrollBy(0,o*n.lineHeight),null!=e&&i.scrollCursorIntoView(null,.5),i.animateScrolling(r)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,i,n){this.renderer.scrollToLine(t,e,i,n)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var i=this.getCursorPosition(),n=new y(this.session,i.row,i.column),o=n.getCurrentToken(),r=o||n.stepForward();if(r){var s,a,h=!1,l={},u=i.column-r.start,c={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;u<r.value.length&&!h;u++)if(c[r.value[u]])switch(a=c[r.value[u]]+"."+r.type.replace("rparen","lparen"),isNaN(l[a])&&(l[a]=0),r.value[u]){case"(":case"[":case"{":l[a]++;break;case")":case"]":case"}":l[a]--,-1===l[a]&&(s="bracket",h=!0)}}else r&&-1!==r.type.indexOf("tag-name")&&(isNaN(l[r.value])&&(l[r.value]=0),"<"===o.value?l[r.value]++:"</"===o.value&&l[r.value]--,
-1===l[r.value]&&(s="tag",h=!0));h||(o=r,r=n.stepForward(),u=0)}while(r&&!h);if(s){var f,p;if("bracket"===s)f=this.session.getBracketRange(i),f||(f=new d(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+u-1),p=f.start,(e||p.row===i.row&&Math.abs(p.column-i.column)<2)&&(f=this.session.getBracketRange(p)));else if("tag"===s){if(!r||-1===r.type.indexOf("tag-name"))return;var g=r.value;if(f=new d(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2),0===f.compare(i.row,i.column)){h=!1;do r=o,o=n.stepBackward(),o&&(-1!==o.type.indexOf("tag-close")&&f.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),r.value===g&&-1!==r.type.indexOf("tag-name")&&("<"===o.value?l[g]++:"</"===o.value&&l[g]--,0===l[g]&&(h=!0)));while(o&&!h)}r&&r.type.indexOf("tag-name")&&(p=f.start,p.row==i.row&&Math.abs(p.column-i.column)<2&&(p=f.end))}p=f&&f.cursor||p,p&&(t?f&&e?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,i){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,i)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,t)&&(n=1),null!==i&&(this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n):n},this.replaceAll=function(t,e){e&&this.$search.set(e);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;this.$blockScrolling+=1;var o=this.getSelectionRange();this.selection.moveTo(0,0);for(var r=i.length-1;r>=0;--r)this.$tryReplace(i[r],t)&&n++;return this.selection.setSelectionRange(o),this.$blockScrolling-=1,n},this.$tryReplace=function(t,e){var i=this.session.getTextRange(t);return e=this.$search.replace(i,e),null!==e?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,i){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&n.mixin(e,t);var o=this.selection.getRange();null==e.needle&&(t=this.session.getTextRange(o)||this.$search.$options.needle,t||(o=this.session.getWordRange(o.start.row,o.start.column),t=this.session.getTextRange(o)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:o});var r=this.$search.find(this.session);return e.preventScroll?r:r?(this.revealRange(r,i),r):(e.backwards?o.start=o.end:o.end=o.start,void this.selection.setRange(o))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),e!==!1&&this.renderer.animateScrolling(i)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var o=this.$scrollAnchor;o.style.cssText="position:absolute",this.container.insertBefore(o,this.container.firstChild);var r=this.on("changeSelection",function(){n=!0}),s=this.renderer.on("beforeRender",function(){n&&(e=i.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(n&&e&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var t=i.renderer,r=t.$cursorLayer.$pixelPos,s=t.layerConfig,a=r.top-s.offset;n=r.top>=0&&a+e.top<0?!0:r.top<s.height&&r.top+e.top+s.lineHeight>window.innerHeight?!1:null,null!=n&&(o.style.top=a+"px",o.style.left=r.left+"px",o.style.height=s.lineHeight+"px",o.scrollIntoView(n)),n=e=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",r),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,o.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}).call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=b}),ace.define("ace/undomanager",["require","exports","module"],function(t,e,i){"use strict";var n=function(){this.reset()};(function(){function t(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function e(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function i(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++){for(var o=t[n],r={group:o.group,deltas:new Array(o.length)},s=0;s<o.deltas.length;s++){var a=o.deltas[s];r.deltas[s]=e(a)}i[n]=r}return i}this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),i=null;return e&&(i=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),i},this.redo=function(t){var e=this.$redoStack.pop(),i=null;return e&&(i=this.$doc.redoChanges(this.$deserializeDeltas(e),t),this.$undoStack.push(e),this.dirtyCounter++),i},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(e){return i(e,t)},this.$deserializeDeltas=function(t){return i(t,e)}}).call(n.prototype),e.UndoManager=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("../lib/dom"),o=t("../lib/oop"),r=t("../lib/lang"),s=t("../lib/event_emitter").EventEmitter,a=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){o.implement(this,s),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var i=t[e],n=i.row,o=this.$annotations[n];o||(o=this.$annotations[n]={text:[]});var s=i.text;s=s?r.escapeHTML(s):i.html||"",-1===o.text.indexOf(s)&&o.text.push(s);var a=i.type;"error"==a?o.className=" ace_error":"warning"==a&&" ace_error"!=o.className?o.className=" ace_warning":"info"!=a||o.className||(o.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,i=t.end.row-e;if(0===i);else if("remove"==t.action)this.$annotations.splice(e,i+1,null);else{var n=new Array(i+1);n.unshift(e,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(t){for(var e=this.session,i=t.firstRow,o=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1),r=e.getNextFoldLine(i),s=r?r.start.row:1/0,a=this.$showFoldWidgets&&e.foldWidgets,h=e.$breakpoints,l=e.$decorations,u=e.$firstLineNumber,c=0,f=e.gutterRenderer||this.$renderer,d=null,p=-1,g=i;;){if(g>s&&(g=r.end.row+1,r=e.getNextFoldLine(g,r),s=r?r.start.row:1/0),g>o){for(;this.$cells.length>p+1;)d=this.$cells.pop(),this.element.removeChild(d.element);break}d=this.$cells[++p],d||(d={element:null,textNode:null,foldWidget:null},d.element=n.createElement("div"),d.textNode=document.createTextNode(""),d.element.appendChild(d.textNode),this.element.appendChild(d.element),this.$cells[p]=d);var m="ace_gutter-cell ";h[g]&&(m+=h[g]),l[g]&&(m+=l[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),d.element.className!=m&&(d.element.className=m);var v=e.getRowLength(g)*t.lineHeight+"px";if(v!=d.element.style.height&&(d.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=e.getFoldWidget(g))}if(y){d.foldWidget||(d.foldWidget=n.createElement("span"),d.element.appendChild(d.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&g<r.end.row?" ace_closed":" ace_open",d.foldWidget.className!=m&&(d.foldWidget.className=m);var v=t.lineHeight+"px";d.foldWidget.style.height!=v&&(d.foldWidget.style.height=v)}else d.foldWidget&&(d.element.removeChild(d.foldWidget),d.foldWidget=null);var b=c=f?f.getText(e,g):g+u;b!=d.textNode.data&&(d.textNode.data=b),g++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(c=e.getLength()+u);var w=f?f.getWidth(e,c,t):c.toString().length*t.characterWidth,x=this.$padding||this.$computePadding();w+=x.left+x.right,w===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return t.x<e.left+i.left?"markers":this.$showFoldWidgets&&t.x>i.right-e.right?"foldWidgets":void 0}}).call(a.prototype),e.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e,i){"use strict";var n=t("../range").Range,o=t("../lib/dom"),r=function(t){this.element=o.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){function t(t,e,i,n){return(t?1:0)|(e?2:0)|(i?4:0)|(n?8:0)}this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){var t=t||this.config;if(t){this.config=t;var e=[];for(var i in this.markers){var n=this.markers[i];if(n.range){var o=n.range.clipRows(t.firstRow,t.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),n.renderer){var r=this.$getTop(o.start.row,t),s=this.$padding+o.start.column*t.characterWidth;n.renderer(e,o,s,r,t)}else"fullLine"==n.type?this.drawFullLineMarker(e,o,n.clazz,t):"screenLine"==n.type?this.drawScreenLineMarker(e,o,n.clazz,t):o.isMultiLine()?"text"==n.type?this.drawTextMarker(e,o,n.clazz,t):this.drawMultiLineMarker(e,o,n.clazz,t):this.drawSingleLineMarker(e,o,n.clazz+" ace_start ace_br15",t)}else n.update(e,this,this.session,t)}this.element.innerHTML=e.join("")}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(e,i,o,r,s){for(var a=this.session,h=i.start.row,l=i.end.row,u=h,c=0,f=0,d=a.getScreenLastRowColumn(u),p=new n(u,i.start.column,u,f);l>=u;u++)p.start.row=p.end.row=u,p.start.column=u==h?i.start.column:a.getRowWrapIndent(u),p.end.column=d,c=f,f=d,d=l>u+1?a.getScreenLastRowColumn(u+1):u==l?0:i.end.column,this.drawSingleLineMarker(e,p,o+(u==h?" ace_start":"")+" ace_br"+t(u==h||u==h+1&&i.start.column,f>c,f>d,u==l),r,u==l?0:1,s)},this.drawMultiLineMarker=function(t,e,i,n,o){var r=this.$padding,s=n.lineHeight,a=this.$getTop(e.start.row,n),h=r+e.start.column*n.characterWidth;o=o||"",t.push("<div class='",i," ace_br1 ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",h,"px;",o,"'></div>"),a=this.$getTop(e.end.row,n);var l=e.end.column*n.characterWidth;if(t.push("<div class='",i," ace_br12' style='","height:",s,"px;","width:",l,"px;","top:",a,"px;","left:",r,"px;",o,"'></div>"),s=(e.end.row-e.start.row-1)*n.lineHeight,!(0>=s)){a=this.$getTop(e.start.row+1,n);var u=(e.start.column?1:0)|(e.end.column?0:8);t.push("<div class='",i,u?" ace_br"+u:"","' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",r,"px;",o,"'></div>")}},this.drawSingleLineMarker=function(t,e,i,n,o,r){var s=n.lineHeight,a=(e.end.column+(o||0)-e.start.column)*n.characterWidth,h=this.$getTop(e.start.row,n),l=this.$padding+e.start.column*n.characterWidth;t.push("<div class='",i,"' style='","height:",s,"px;","width:",a,"px;","top:",h,"px;","left:",l,"px;",r||"","'></div>")},this.drawFullLineMarker=function(t,e,i,n,o){var r=this.$getTop(e.start.row,n),s=n.lineHeight;e.start.row!=e.end.row&&(s+=this.$getTop(e.end.row,n)-r),t.push("<div class='",i,"' style='","height:",s,"px;","top:",r,"px;","left:0;right:0;",o||"","'></div>")},this.drawScreenLineMarker=function(t,e,i,n,o){var r=this.$getTop(e.start.row,n),s=n.lineHeight;t.push("<div class='",i,"' style='","height:",s,"px;","top:",r,"px;","left:0;right:0;",o||"","'></div>")}}).call(r.prototype),e.Marker=r}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("../lib/oop"),o=t("../lib/dom"),r=t("../lib/lang"),s=(t("../lib/useragent"),t("../lib/event_emitter").EventEmitter),a=function(t){this.element=o.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,s),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=t?(this.EOL_CHAR=t,!0):void 0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles==t?!1:(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides==t?!1:(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],i=1;t+1>i;i++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+r.stringRepeat(this.TAB_CHAR,i)+"</span>"):e.push(r.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",o="",s="";if(this.showInvisibles){n+=" ace_invisible",o=" ace_invisible_space",s=" ace_invisible_tab";var a=r.stringRepeat(this.SPACE_CHAR,this.tabSize),h=r.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=r.stringRepeat(" ",this.tabSize),h=a;this.$tabStrings[" "]="<span class='"+n+o+"'>"+a+"</span>",this.$tabStrings["	"]="<span class='"+n+s+"'>"+h+"</span>"}},this.updateLines=function(t,e,i){(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)&&this.scrollLines(t),this.config=t;for(var n=Math.max(e,t.firstRow),o=Math.min(i,t.lastRow),r=this.element.childNodes,s=0,a=t.firstRow;n>a;a++){var h=this.session.getFoldLine(a);if(h){if(h.containsRow(n)){n=h.start.row;break}a=h.end.row}s++}for(var a=n,h=this.session.getNextFoldLine(a),l=h?h.start.row:1/0;;){if(a>l&&(a=h.end.row+1,h=this.session.getNextFoldLine(a,h),l=h?h.start.row:1/0),a>o)break;var u=r[s++];if(u){var c=[];this.$renderLine(c,a,!this.$useLineGroups(),a==l?h:!1),u.style.height=t.lineHeight*this.session.getRowLength(a)+"px",u.innerHTML=c.join("")}a++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var i=this.element;if(e.firstRow<t.firstRow)for(var n=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);n>0;n--)i.removeChild(i.firstChild);if(e.lastRow>t.lastRow)for(var n=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);n>0;n--)i.removeChild(i.lastChild);if(t.firstRow<e.firstRow){var o=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o)}if(t.lastRow>e.lastRow){var o=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow);i.appendChild(o)}},this.$renderLinesFragment=function(t,e,i){for(var n=this.element.ownerDocument.createDocumentFragment(),r=e,s=this.session.getNextFoldLine(r),a=s?s.start.row:1/0;;){if(r>a&&(r=s.end.row+1,s=this.session.getNextFoldLine(r,s),a=s?s.start.row:1/0),r>i)break;var h=o.createElement("div"),l=[];if(this.$renderLine(l,r,!1,r==a?s:!1),h.innerHTML=l.join(""),this.$useLineGroups())h.className="ace_line_group",n.appendChild(h),h.style.height=t.lineHeight*this.session.getRowLength(r)+"px";else for(;h.firstChild;)n.appendChild(h.firstChild);r++}return n},this.update=function(t){this.config=t;for(var e=[],i=t.firstRow,n=t.lastRow,o=i,r=this.session.getNextFoldLine(o),s=r?r.start.row:1/0;;){if(o>s&&(o=r.end.row+1,r=this.session.getNextFoldLine(o,r),s=r?r.start.row:1/0),o>n)break;this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",t.lineHeight*this.session.getRowLength(o),"px'>"),this.$renderLine(e,o,!1,o==s?r:!1),this.$useLineGroups()&&e.push("</div>"),o++}this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,i,n){var o=this,s=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(t,i,n,s,a){if(i)return o.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+r.stringRepeat(o.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("	"==t){var h=o.session.getScreenTabSize(e+s);return e+=h-1,o.$tabStrings[h]}if(""==t){var l=o.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=o.showInvisibles?o.SPACE_CHAR:"";return e+=1,"<span class='"+l+"' style='width:"+2*o.config.characterWidth+"px'>"+u+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+o.SPACE_CHAR+"</span>":(e+=1,"<span class='ace_cjk' style='width:"+2*o.config.characterWidth+"px'>"+t+"</span>")},h=n.replace(s,a);if(this.$textToken[i.type])t.push(h);else{var l="ace_"+i.type.replace(/\./g," ace_"),u="";"fold"==i.type&&(u=" style='width:"+i.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",l,"'",u,">",h,"</span>")}return e+n.length},this.renderIndentGuide=function(t,e,i){var n=e.search(this.$indentGuideRe);return 0>=n||n>=i?e:" "==e[0]?(n-=n%this.tabSize,t.push(r.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),e.substr(n)):"	"==e[0]?(t.push(r.stringRepeat(this.$tabStrings["	"],n)),e.substr(n)):e},this.$renderWrappedLine=function(t,e,i,n){for(var o=0,s=0,a=i[0],h=0,l=0;l<e.length;l++){var u=e[l],c=u.value;if(0==l&&this.displayIndentGuides){if(o=c.length,c=this.renderIndentGuide(t,c,a),!c)continue;o-=c.length}if(o+c.length<a)h=this.$renderToken(t,h,u,c),o+=c.length;else{for(;o+c.length>=a;)h=this.$renderToken(t,h,u,c.substring(0,a-o)),c=c.substring(a-o),o=a,n||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),t.push(r.stringRepeat("",i.indent)),s++,h=0,a=i[s]||Number.MAX_VALUE;0!=c.length&&(o+=c.length,h=this.$renderToken(t,h,u,c))}}},this.$renderSimpleLine=function(t,e){var i=0,n=e[0],o=n.value;this.displayIndentGuides&&(o=this.renderIndentGuide(t,o)),o&&(i=this.$renderToken(t,i,n,o));for(var r=1;r<e.length;r++)n=e[r],o=n.value,i=this.$renderToken(t,i,n,o)},this.$renderLine=function(t,e,i,n){if(n||0==n||(n=this.session.getFoldLine(e)),n)var o=this.$getFoldLineTokens(e,n);else var o=this.session.getTokens(e);if(i||t.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),o.length){var r=this.session.getRowSplitData(e);r&&r.length?this.$renderWrappedLine(t,o,r,i):this.$renderSimpleLine(t,o)}this.showInvisibles&&(n&&(e=n.end.row),t.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),i||t.push("</div>")},this.$getFoldLineTokens=function(t,e){function i(t,e,i){for(var n=0,r=0;r+t[n].value.length<e;)if(r+=t[n].value.length,n++,n==t.length)return;if(r!=e){var s=t[n].value.substring(e-r);s.length>i-e&&(s=s.substring(0,i-e)),o.push({type:t[n].type,value:s}),r=e+s.length,n+=1}for(;i>r&&n<t.length;){var s=t[n].value;s.length+r>i?o.push({type:t[n].type,value:s.substring(0,i-r)}):o.push(t[n]),r+=s.length,n+=1}}var n=this.session,o=[],r=n.getTokens(t);return e.walk(function(t,e,s,a,h){null!=t?o.push({type:"fold",value:t}):(h&&(r=n.getTokens(e)),r.length&&i(r,a,s))},e.end.row,this.session.getLine(e.end.row).length),o},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),e.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";var n,o=t("../lib/dom"),r=function(t){this.element=o.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),void 0===n&&(n=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),o.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(n?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(t){for(var e=this.cursors,i=e.length;i--;)e[i].style.visibility=t?"":"hidden"},this.$updateOpacity=function(t){for(var e=this.cursors,i=e.length;i--;)e[i].style.opacity=t?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t==this.smoothBlinking||n||(this.smoothBlinking=t,o.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=o.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,o.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,o.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&o.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){o.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(t),n=this.$padding+i.column*this.config.characterWidth,o=(i.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:o}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,i=0,n=0;(void 0===e||0===e.length)&&(e=[{cursor:null}]);for(var i=0,o=e.length;o>i;i++){var r=this.getPixelPosition(e[i].cursor,!0);if(!((r.top>t.height+t.offset||r.top<0)&&i>1)){var s=(this.cursors[n++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,r,t,e[i],this.session):(s.left=r.left+"px",s.top=r.top+"px",s.width=t.characterWidth+"px",s.height=t.lineHeight+"px")}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=r,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?o.addCssClass(this.element,"ace_overwrite-cursors"):o.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),e.Cursor=r}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./lib/dom"),r=t("./lib/event"),s=t("./lib/event_emitter").EventEmitter,a=function(t){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,s),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t}}).call(a.prototype);var h=function(t,e){a.call(this,t),this.scrollTop=0,e.$scrollbarWidth=this.width=o.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(h,a),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=function(t){this.inner.style.height=t+"px"},this.setScrollHeight=function(t){this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=t)}}.call(h.prototype);var l=function(t,e){a.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px";
};n.inherits(l,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(l.prototype),e.ScrollBar=h,e.ScrollBarV=h,e.ScrollBarH=l,e.VScrollBar=h,e.HScrollBar=l}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e,i){"use strict";var n=t("./lib/event"),o=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending&&this.changes){this.pending=!0;var e=this;n.nextFrame(function(){e.pending=!1;for(var t;t=e.changes;)e.changes=0,e.onRender(t)},this.window)}}}).call(o.prototype),e.RenderLoop=o}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,i){var n=t("../lib/oop"),o=t("../lib/dom"),r=t("../lib/lang"),s=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,h=0,l=e.FontMetrics=function(t){this.el=o.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=o.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=o.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),h||this.$testFractionalRect(),this.$measureNode.innerHTML=r.stringRepeat("X",h),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var t=o.createElement("div");this.$setMeasureNodeStyles(t.style),t.style.width="0.2px",document.documentElement.appendChild(t);var e=t.getBoundingClientRect().width;h=e>0&&1>e?50:100,t.parentNode.removeChild(t)},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",s.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval(function(){t.checkForSizeChanges()},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===h){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var i={height:t.height,width:t.width/h}}else var i={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/h};return 0===i.width||0===i.height?null:i},this.$measureCharWidth=function(t){this.$main.innerHTML=r.stringRepeat(t,h);var e=this.$main.getBoundingClientRect();return e.width/h},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(l.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./lib/dom"),r=t("./config"),s=t("./lib/useragent"),a=t("./layer/gutter").Gutter,h=t("./layer/marker").Marker,l=t("./layer/text").Text,u=t("./layer/cursor").Cursor,c=t("./scrollbar").HScrollBar,f=t("./scrollbar").VScrollBar,d=t("./renderloop").RenderLoop,p=t("./layer/font_metrics").FontMetrics,g=t("./lib/event_emitter").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}';o.importCssString(m,"ace_editor.css");var v=function(t,e){var i=this;this.container=t||o.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,o.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=o.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=o.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=o.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new h(this.content);var n=this.$textLayer=new l(this.content);this.canvas=n.element,this.$markerFront=new h(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new f(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(t){i.$scrollAnimation||i.session.setScrollTop(t.data-i.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(t){i.$scrollAnimation||i.session.setScrollLeft(t.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(t){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",t)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,i){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var o=this.container;n||(n=o.clientHeight||o.scrollHeight),i||(i=o.clientWidth||o.scrollWidth);var r=this.$updateCachedSize(t,e,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(r|this.$changes,!0):this.$loop.schedule(r|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,i,n){n-=this.$extraHeight||0;var o=0,r=this.$size,s={width:r.width,height:r.height,scrollerHeight:r.scrollerHeight,scrollerWidth:r.scrollerWidth};return n&&(t||r.height!=n)&&(r.height=n,o|=this.CHANGE_SIZE,r.scrollerHeight=r.height,this.$horizScroll&&(r.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),i&&(t||r.width!=i)&&(o|=this.CHANGE_SIZE,r.width=i,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",r.scrollerWidth=Math.max(0,i-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(o|=this.CHANGE_FULL)),r.$dirty=!i||!n,o&&this._signal("resize",s),o},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var i=this.session.selection.getCursor();i.column=0,t=this.$cursorLayer.getPixelPosition(i,!0),e*=this.session.getRowLength(i.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=o.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=o.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,i=this.$cursorLayer.$pixelPos.left;e-=t.offset;var n=this.textarea.style,o=this.lineHeight;if(0>e||e>t.height-o)return void(n.top=n.left="0");var r=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");r*=this.session.$getStringScreenWidth(s)[0]+2,o+=2}i-=this.scrollLeft,i>this.$size.scrollerWidth-r&&(i=this.$size.scrollerWidth-r),i+=this.gutterWidth,n.height=o+"px",n.width=r+"px",n.left=Math.min(i,this.$size.scrollerWidth-r)+"px",n.top=Math.min(e,this.$size.height-o)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow,i=this.session.documentToScreenRow(e,0)*t.lineHeight;return i-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,i,n){var o=this.scrollMargin;o.top=0|t,o.bottom=0|e,o.right=0|n,o.left=0|i,o.v=o.top+o.bottom,o.h=o.left+o.right,o.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-o.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!t&&!e)return void(this.$changes|=t);if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var i=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}i=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-i.offset+"px",this.content.style.marginTop=-i.offset+"px",this.content.style.width=i.width+2*this.$padding+"px",this.content.style.height=i.minHeight+"px"}return t&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):t&this.CHANGE_SCROLL?(t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(t&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(i),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),void this._signal("afterRender"))},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,i=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=t>e;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var o=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,i=e.height<=2*this.lineHeight,n=this.session.getScreenLength(),o=n*this.lineHeight,r=this.$getLongestLine(),s=!i&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-r-2*this.$padding<0),a=this.$horizScroll!==s;a&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var h=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=this.scrollTop%this.lineHeight,u=e.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;o+=c;var f=this.scrollMargin;this.session.setScrollTop(Math.max(-f.top,Math.min(this.scrollTop,o-e.scrollerHeight+f.bottom))),
this.session.setScrollLeft(Math.max(-f.left,Math.min(this.scrollLeft,r+2*this.$padding-e.scrollerWidth+f.right)));var d=!i&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-o+c<0||this.scrollTop>f.top),p=h!==d;p&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var g,m,v=Math.ceil(u/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),b=y+v,w=this.lineHeight;y=t.screenToDocumentRow(y,0);var x=t.getFoldLine(y);x&&(y=x.start.row),g=t.documentToScreenRow(y,0),m=t.getRowLength(y)*w,b=Math.min(t.screenToDocumentRow(b,0),t.getLength()-1),u=e.scrollerHeight+t.getRowLength(b)*w+m,l=this.scrollTop-g*w;var C=0;return this.layerConfig.width!=r&&(C=this.CHANGE_H_SCROLL),(a||p)&&(C=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),p&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:y,firstRowScreen:g,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:u,maxHeight:o,offset:l,gutterOffset:Math.max(0,Math.ceil((l+e.height-e.scrollerHeight)/w)),height:this.$size.scrollerHeight},C},this.$updateLines=function(){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;return t>i.lastRow+1||e<i.firstRow?void 0:e===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,t,e),!0)},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,i){this.scrollCursorIntoView(t,i),this.scrollCursorIntoView(e,i)},this.scrollCursorIntoView=function(t,e,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(t),o=n.left,r=n.top,s=i&&i.top||0,a=i&&i.bottom||0,h=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;h+s>r?(e&&h+s>r+this.lineHeight&&(r-=e*this.$size.scrollerHeight),0===r&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):h+this.$size.scrollerHeight-a<r+this.lineHeight&&(e&&h+this.$size.scrollerHeight-a<r-this.lineHeight&&(r+=e*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight-this.$size.scrollerHeight));var l=this.scrollLeft;l>o?(o<this.$padding+2*this.layerConfig.characterWidth&&(o=-this.scrollMargin.left),this.session.setScrollLeft(o)):l+this.$size.scrollerWidth<o+this.characterWidth?this.session.setScrollLeft(Math.round(o+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&o-l<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var i=this.$cursorLayer.getPixelPosition(t),n=this.$size.scrollerHeight-this.lineHeight,o=i.top-n*(e||0);return this.session.setScrollTop(o),o},this.STEPS=8,this.$calcSteps=function(t,e){var i=0,n=this.STEPS,o=[],r=function(t,e,i){return i*(Math.pow(t-1,3)+1)+e};for(i=0;n>i;++i)o.push(r(i/this.STEPS,t,e-t));return o},this.scrollToLine=function(t,e,i,n){var o=this.$cursorLayer.getPixelPosition({row:t,column:0}),r=o.top;e&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),i!==!1&&this.animateScrolling(s,n)},this.animateScrolling=function(t,e){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(t!=i){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(t=o[0],t==i))return}var r=n.$calcSteps(t,i);this.$scrollAnimation={from:t,to:i,steps:r},clearInterval(this.$timer),n.session.setScrollTop(r.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){r.length?(n.session.setScrollTop(r.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return 0>e&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>t&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(t,e){var i=this.scroller.getBoundingClientRect(),n=(t+this.scrollLeft-i.left-this.$padding)/this.characterWidth,o=Math.floor((e+this.scrollTop-i.top)/this.lineHeight),r=Math.round(n);return{row:o,column:r,side:n-r>0?1:-1}},this.screenToTextCoordinates=function(t,e){var i=this.scroller.getBoundingClientRect(),n=Math.round((t+this.scrollLeft-i.left-this.$padding)/this.characterWidth),o=(e+this.scrollTop-i.top)/this.lineHeight;return this.session.screenToDocumentPosition(o,Math.max(n,0))},this.textToScreenCoordinates=function(t,e){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(t,e),o=this.$padding+Math.round(n.column*this.characterWidth),r=n.row*this.lineHeight;return{pageX:i.left+o-this.scrollLeft,pageY:i.top+r-this.scrollTop}},this.visualizeFocus=function(){o.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){o.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,o.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(t){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(o.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(t,e){function i(i){if(n.$themeId!=t)return e&&e();if(i.cssClass){o.importCssString(i.cssText,i.cssClass,n.container.ownerDocument),n.theme&&o.removeCssClass(n.container,n.theme.cssClass);var r="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&r!=n.$padding&&n.setPadding(r),n.$theme=i.cssClass,n.theme=i,o.addCssClass(n.container,i.cssClass),o.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),e&&e()}}var n=this;if(this.$themeId=t,n._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)i(t);else{var s=t||this.$options.theme.initialValue;r.loadModule(["theme",s],i)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){o.setCssClass(this.container,t,e!==!1)},this.unsetStyle=function(t){o.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),r.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){o.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=t?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=o.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,e,i){"use strict";var n=t("../lib/oop"),o=t("../lib/net"),r=t("../lib/event_emitter").EventEmitter,s=t("../config"),a=function(e,i,n,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),s.get("packaged")||!t.toUrl)o=o||s.moduleUrl(i,"worker");else{var r=this.$normalizePath;o=o||r(t.toUrl("ace/worker/worker.js",null,"_"));var a={};e.forEach(function(e){a[e]=r(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(o)}catch(h){if(!(h instanceof window.DOMException))throw h;var l=this.$workerBlob(o),u=window.URL||window.webkitURL,c=u.createObjectURL(l);this.$worker=new Worker(c),u.revokeObjectURL(c)}this.$worker.postMessage({init:!0,tlns:a,module:i,classname:n}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,r),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var i=this.callbacks[e.id];i&&(i(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return o.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,e.push(n)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(i){console.error(i.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))},this.$workerBlob=function(t){var e="importScripts('"+o.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(i){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new n;return r.append(e),r.getBlob("application/javascript")}}}).call(a.prototype);var h=function(t,e,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,o=!1,a=Object.create(r),h=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){h.messageBuffer.push(t),n&&(o?setTimeout(l):l())},this.setEmitSync=function(t){o=t};var l=function(){var t=h.messageBuffer.shift();t.command?n[t.command].apply(n,t.args):t.event&&a._signal(t.event,t.data)};a.postMessage=function(t){h.onMessage({data:t})},a.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},a.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},s.loadModule(["worker",e],function(t){for(n=new t[i](a);h.messageBuffer.length;)l()})};h.prototype=a.prototype,e.UIWorkerClient=h,e.WorkerClient=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e,i){"use strict";var n=t("./range").Range,o=t("./lib/event_emitter").EventEmitter,r=t("./lib/oop"),s=function(t,e,i,n,o,r){var s=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=o,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=i;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,o),this.setup=function(){var t=this,e=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var o=this.pos;o.$insertRight=!0,o.detach(),o.markerId=i.addMarker(new n(o.row,o.column,o.row,o.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(i){var n=e.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),t.others.push(n)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),e.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var i="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,o=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,r=e.start.column-this.pos.column;if(this.updateAnchors(t),o&&(this.length+=i),o&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],h={row:a.row,column:a.column+r};this.doc.insertMergedLines(h,t.lines)}else if("remove"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],h={row:a.row,column:a.column+r};this.doc.remove(new n(h.row,h.column,h.row,h.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,i=function(i,o){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),o,null,!1)};i(this.pos,this.mainClass);for(var o=this.others.length;o--;)i(this.others[o],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,i=0;e>i;i++)t.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),e.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,i){function n(t,e){return t.row==e.row&&t.column==e.column}function o(t){var e=t.domEvent,i=e.altKey,o=e.shiftKey,a=e.ctrlKey,h=t.getAccelKey(),l=t.getButton();if(a&&s.isMac&&(l=e.button),t.editor.inMultiSelectMode&&2==l)return void t.editor.textInput.onContextMenu(t.domEvent);if(!a&&!i&&!h)return void(0===l&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode());if(0===l){var u,c=t.editor,f=c.selection,d=c.inMultiSelectMode,p=t.getDocumentPosition(),g=f.getCursor(),m=t.inSelection()||f.isEmpty()&&n(p,g),v=t.x,y=t.y,b=function(t){v=t.clientX,y=t.clientY},w=c.session,x=c.renderer.pixelToScreenCoordinates(v,y),C=x;if(c.$mouseHandler.$enableJumpToDef)a&&i||h&&i?u=o?"block":"add":i&&c.$blockSelectEnabled&&(u="block");else if(h&&!i){if(u="add",!d&&o)return}else i&&c.$blockSelectEnabled&&(u="block");if(u&&s.isMac&&e.ctrlKey&&c.$mouseHandler.cancelContextMenu(),"add"==u){if(!d&&m)return;if(!d){var k=f.toOrientedRange();c.addSelectionMarker(k)}var A=f.rangeList.rangeAtPoint(p);c.$blockScrolling++,c.inVirtualSelectionMode=!0,o&&(A=null,k=f.ranges[0]||k,c.removeSelectionMarker(k)),c.once("mouseup",function(){var t=f.toOrientedRange();A&&t.isEmpty()&&n(A.cursor,t.cursor)?f.substractPoint(t.cursor):(o?f.substractPoint(k.cursor):k&&(c.removeSelectionMarker(k),f.addRange(k)),f.addRange(t)),c.$blockScrolling--,c.inVirtualSelectionMode=!1})}else if("block"==u){t.stop(),c.inVirtualSelectionMode=!0;var S,F=[],E=function(){var t=c.renderer.pixelToScreenCoordinates(v,y),e=w.screenToDocumentPosition(t.row,t.column);n(C,t)&&n(e,f.lead)||(C=t,c.$blockScrolling++,c.selection.moveToPosition(e),c.renderer.scrollCursorIntoView(),c.removeSelectionMarkers(F),F=f.rectangularRangeBlock(C,x),c.$mouseHandler.$clickSelection&&1==F.length&&F[0].isEmpty()&&(F[0]=c.$mouseHandler.$clickSelection.clone()),F.forEach(c.addSelectionMarker,c),c.updateSelectionMarkers(),c.$blockScrolling--)};c.$blockScrolling++,d&&!h?f.toSingleRange():!d&&h&&(S=f.toOrientedRange(),c.addSelectionMarker(S)),o?x=w.documentToScreenPosition(f.lead):f.moveToPosition(p),c.$blockScrolling--,C={row:-1,column:-1};var T=function(t){clearInterval(D),c.removeSelectionMarkers(F),F.length||(F=[f.toOrientedRange()]),c.$blockScrolling++,S&&(c.removeSelectionMarker(S),f.toSingleRange(S));for(var e=0;e<F.length;e++)f.addRange(F[e]);c.inVirtualSelectionMode=!1,c.$mouseHandler.$clickSelection=null,c.$blockScrolling--},M=E;r.capture(c.container,b,T);var D=setInterval(function(){M()},20);return t.preventDefault()}}}var r=t("../lib/event"),s=t("../lib/useragent");e.onMouseDown=o}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e,i){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var n=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new n(e.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e,i){function n(t,e,i){return g.$options.wrap=!0,g.$options.needle=e,g.$options.backwards=-1==i,g.find(t)}function o(t,e){return t.row==e.row&&t.column==e.column}function r(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",u),t.commands.addCommands(d.defaultCommands),s(t))}function s(t){function e(e){n&&(t.renderer.setMouseCursor(""),n=!1)}var i=t.textInput.getElement(),n=!1;c.addListener(i,"keydown",function(i){var o=18==i.keyCode&&!(i.ctrlKey||i.shiftKey||i.metaKey);t.$blockSelectEnabled&&o?n||(t.renderer.setMouseCursor("crosshair"),n=!0):n&&e()}),c.addListener(i,"keyup",e),c.addListener(i,"blur",e)}var a=t("./range_list").RangeList,h=t("./range").Range,l=t("./selection").Selection,u=t("./mouse/multi_select_handler").onMouseDown,c=t("./lib/event"),f=t("./lib/lang"),d=t("./commands/multi_select_commands");e.commands=d.defaultCommands.concat(d.multiSelectCommands);var p=t("./search").Search,g=new p,m=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}t.cursor||(t.cursor=t.end);var n=this.rangeList.add(t);return this.$onAddRange(t),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);return e?(this.$onRemoveRange(e),e[0]):void 0},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var i=t.length;i--;){var n=this.ranges.indexOf(t[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),e=e||this.ranges[0],e&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],i=h.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(i,e.cursor==e.start)}else{var i=this.getRange(),n=this.isBackwards(),o=i.start.row,r=i.end.row;if(o==r){if(n)var s=i.end,a=i.start;else var s=i.start,a=i.end;return this.addRange(h.fromPoints(a,a)),void this.addRange(h.fromPoints(s,s))}var l=[],u=this.getLineRange(o,!0);u.start.column=i.start.column,l.push(u);for(var c=o+1;r>c;c++)l.push(this.getLineRange(c,!0));u=this.getLineRange(r,!0),u.end.column=i.end.column,l.push(u),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],i=h.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(i,e.cursor==e.start)}else{var n=this.session.documentToScreenPosition(this.selectionLead),o=this.session.documentToScreenPosition(this.selectionAnchor),r=this.rectangularRangeBlock(n,o);r.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,i){var n=[],r=t.column<e.column;if(r)var s=t.column,a=e.column;else var s=e.column,a=t.column;var l=t.row<e.row;if(l)var u=t.row,c=e.row;else var u=e.row,c=t.row;0>s&&(s=0),0>u&&(u=0),u==c&&(i=!0);for(var f=u;c>=f;f++){var d=h.fromPoints(this.session.screenToDocumentPosition(f,s),this.session.screenToDocumentPosition(f,a));if(d.isEmpty()){if(p&&o(d.end,p))break;var p=d.end}d.cursor=r?d.start:d.end,n.push(d)}if(l&&n.reverse(),!i){for(var g=n.length-1;n[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;n[m].isEmpty();)m++;for(var v=g;v>=m;v--)n[v].isEmpty()&&n.splice(v,1)}return n}}.call(l.prototype);var v=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,i=t.length;i--;){var n=t[i];if(n.marker){this.session.removeMarker(n.marker);var o=e.indexOf(n);-1!=o&&e.splice(o,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,i=t.editor;if(i.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?n=i.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?n=i.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(i.exitMultiSelectMode(),n=e.exec(i,t.args||{})):n=e.multiSelectAction(i,t.args||{});else{var n=e.exec(i,t.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(t,e,i){if(!this.inVirtualSelectionMode){var n,o=i&&i.keepOrder,r=1==i||i&&i.$byLines,s=this.session,a=this.selection,h=a.rangeList,u=(o?a:h).ranges;if(!u.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var c=a._eventRegistry;a._eventRegistry={};var f=new l(s);this.inVirtualSelectionMode=!0;for(var d=u.length;d--;){if(r)for(;d>0&&u[d].start.row==u[d-1].end.row;)d--;f.fromOrientedRange(u[d]),f.index=d,this.selection=s.selection=f;var p=t.exec?t.exec(this,e||{}):t(this,e||{});n||void 0===p||(n=p),f.toOrientedRange(u[d])}f.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=c,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),
n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,i=[],n=0;n<e.length;n++)i.push(this.session.getTextRange(e[n]));var o=this.session.getDocument().getNewLineCharacter();t=i.join(o),t.length==(i.length-1)*o.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var n=e==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;(n.row!=e.row||this.session.$clipPositionToDocument(n.row,n.column).column!=e.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(t,e,i){if(e=e||{},e.needle=t||e.needle,void 0==e.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(n)}this.$search.set(e);var o=this.$search.findAll(this.session);if(!o.length)return 0;this.$blockScrolling+=1;var r=this.multiSelect;i||r.toSingleRange(o[0]);for(var s=o.length;s--;)r.addRange(o[s],!0);return n&&r.rangeList.rangeAtPoint(n.start)&&r.addRange(n,!0),this.$blockScrolling-=1,o.length},this.selectMoreLines=function(t,e){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,o=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var r=this.session.screenToDocumentPosition(o.row+t,o.column);if(i.isEmpty())var s=r;else var a=this.session.documentToScreenPosition(n?i.end:i.start),s=this.session.screenToDocumentPosition(a.row+t,a.column);if(n){var l=h.fromPoints(r,s);l.cursor=l.start}else{var l=h.fromPoints(s,r);l.cursor=l.end}if(l.desiredColumn=o.column,this.selection.inMultiSelectMode){if(e)var u=i.cursor}else this.selection.addRange(i);this.selection.addRange(l),u&&this.selection.substractPoint(u)},this.transposeSelections=function(t){for(var e=this.session,i=e.multiSelect,n=i.ranges,o=n.length;o--;){var r=n[o];if(r.isEmpty()){var s=e.getWordRange(r.start.row,r.start.column);r.start.row=s.start.row,r.start.column=s.start.column,r.end.row=s.end.row,r.end.column=s.end.column}}i.mergeOverlappingRanges();for(var a=[],o=n.length;o--;){var r=n[o];a.unshift(e.getTextRange(r))}0>t?a.unshift(a.pop()):a.push(a.shift());for(var o=n.length;o--;){var r=n[o],s=r.clone();e.replace(r,a[o]),r.start.row=s.start.row,r.start.column=s.start.column}},this.selectMore=function(t,e,i){var o=this.session,r=o.multiSelect,s=r.toOrientedRange();if(!s.isEmpty()||(s=o.getWordRange(s.start.row,s.start.column),s.cursor=-1==t?s.start:s.end,this.multiSelect.addRange(s),!i)){var a=o.getTextRange(s),h=n(o,a,t);h&&(h.cursor=-1==t?h.start:h.end,this.$blockScrolling+=1,this.session.unfold(h),this.multiSelect.addRange(h),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,i=e.ranges,n=-1,o=i.filter(function(t){return t.cursor.row==n?!0:void(n=t.cursor.row)});if(i.length&&o.length!=i.length-1){o.forEach(function(t){e.substractPoint(t.cursor)});var r=0,s=1/0,a=i.map(function(e){var i=e.cursor,n=t.getLine(i.row),o=n.substr(i.column).search(/\S/g);return-1==o&&(o=0),i.column>r&&(r=i.column),s>o&&(s=o),o});i.forEach(function(e,i){var n=e.cursor,o=r-n.column,l=a[i]-s;o>l?t.insert(n,f.stringRepeat(" ",o-l)):t.remove(new h(n.row,n.column,n.row,n.column-o+l)),e.start.column=e.end.column=r,e.start.row=e.end.row=n.row,e.cursor=e.end}),e.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var l=this.selection.getRange(),u=l.start.row,c=l.end.row,d=u==c;if(d){var p,g=this.session.getLength();do p=this.session.getLine(c);while(/[=:]/.test(p)&&++c<g);do p=this.session.getLine(u);while(/[=:]/.test(p)&&--u>0);0>u&&(u=0),c>=g&&(c=g-1)}var m=this.session.removeFullLines(u,c);m=this.$reAlignText(m,d),this.session.insert({row:u,column:0},m.join("\n")+"\n"),d||(l.start.column=0,l.end.column=m[m.length-1].length),this.selection.setRange(l)}},this.$reAlignText=function(t,e){function i(t){return f.stringRepeat(" ",t)}function n(t){return t[2]?i(s)+t[2]+i(a-t[2].length+h)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function o(t){return t[2]?i(s+a-t[2].length)+t[2]+i(h," ")+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function r(t){return t[2]?i(s)+t[2]+i(h)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}var s,a,h,l=!0,u=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==s?(s=e[1].length,a=e[2].length,h=e[3].length,e):(s+a+h!=e[1].length+e[2].length+e[3].length&&(u=!1),s!=e[1].length&&(l=!1),s>e[1].length&&(s=e[1].length),a<e[2].length&&(a=e[2].length),h>e[3].length&&(h=e[3].length),e):[t]}).map(e?n:l?u?o:n:r)}}).call(v.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var i=t.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=r,t("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(t){r(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e,i){"use strict";var n=t("../../range").Range,o=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,i){var n=t.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(t,e,i){return null},this.indentationBlock=function(t,e,i){var o=/\S/,r=t.getLine(e),s=r.search(o);if(-1!=s){for(var a=i||r.length,h=t.getLength(),l=e,u=e;++e<h;){var c=t.getLine(e).search(o);if(-1!=c){if(s>=c)break;u=e}}if(u>l){var f=t.getLine(u).length;return new n(l,a,u,f)}}},this.openingBracketBlock=function(t,e,i,o,r){var s={row:i,column:o+1},a=t.$findClosingBracket(e,s,r);if(a){var h=t.foldWidgets[a.row];return null==h&&(h=t.getFoldWidget(a.row)),"start"==h&&a.row>s.row&&(a.row--,a.column=t.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(t,e,i,o,r){var s={row:i,column:o},a=t.$findOpeningBracket(e,s);return a?(a.column++,s.column--,n.fromPoints(a,s)):void 0}}).call(o.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e,i){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var n=t("../lib/dom");n.importCssString(e.cssText,e.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(t,e,i){"use strict";function n(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var o=(t("./lib/oop"),t("./lib/dom"));t("./range").Range;(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets?this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0:0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(t,e){var i=e.lineWidgets;if(i&&t.action){for(var n=t.data,o=n.start.row,r=n.end.row,s="add"==t.action,a=o+1;r>a;a++)i[a]&&(i[a].hidden=s);i[r]&&(s?i[o]?i[r].hidden=s:i[o]=i[r]:(i[o]==i[r]&&(i[o]=void 0),i[r].hidden=s))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var i=t.start.row,n=t.end.row-i;if(0===n);else if("remove"==t.action){var o=e.splice(i+1,n);o.forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var r=new Array(n);r.unshift(i,0),e.splice.apply(e,r),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach(function(t,i){if(t)for(e=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget}),e&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t.session=this.session;var i=this.editor.renderer;t.html&&!t.el&&(t.el=o.createElement("div"),t.el.innerHTML=t.html),t.el&&(o.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,i.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),t.pixelHeight||(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/i.layerConfig.lineHeight);var n=this.session.getFoldAt(t.row,0);if(t.$fold=n,n){var r=this.session.lineWidgets;t.row!=n.end.row||r[n.start.row]?t.hidden=!0:r[n.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(e){}if(this.session.lineWidgets){var i=this.session.lineWidgets[t.row];if(i==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;i;){if(i.$oldWidget==t){i.$oldWidget=t.$oldWidget;break}i=i.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,i=e&&e[t],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var i=this.session._changedWidgets,n=e.layerConfig;if(i&&i.length){for(var o=1/0,r=0;r<i.length;r++){var s=i[r];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,e.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/n.characterWidth));var a=s.h/n.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),0>a&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<o&&(o=s.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var i=e.layerConfig,n=this.session.lineWidgets;if(n){for(var o=Math.min(this.firstRow,i.firstRow),r=Math.max(this.lastRow,i.lastRow,n.length);o>0&&!n[o];)o--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,e.$cursorLayer.config=i;for(var s=o;r>=s;s++){var a=n[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var h=e.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(h+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=h-i.offset+"px";var l=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(l-=e.scrollLeft),a.el.style.left=l+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.fixedWidth?a.el.style.right=e.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),e.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,e,i){"use strict";function n(t,e,i){for(var n=0,o=t.length-1;o>=n;){var r=n+o>>1,s=i(e,t[r]);if(s>0)n=r+1;else{if(!(0>s))return r;o=r-1}}return-(n+1)}function o(t,e,i){var o=t.getAnnotations().sort(a.comparePoints);if(o.length){var r=n(o,{row:e,column:-1},a.comparePoints);0>r&&(r=-r-1),r>=o.length?r=i>0?0:o.length-1:0===r&&0>i&&(r=o.length-1);var s=o[r];if(s&&i){if(s.row===e){do s=o[r+=i];while(s&&s.row===e);if(!s)return o.slice()}var h=[];e=s.row;do h[0>i?"unshift":"push"](s),s=o[r+=i];while(s&&s.row==e);return h.length&&h}}}var r=t("../line_widgets").LineWidgets,s=t("../lib/dom"),a=t("../range").Range;e.showErrorMarker=function(t,e){var i=t.session;i.widgetManager||(i.widgetManager=new r(i),i.widgetManager.attach(t));var n=t.getCursorPosition(),a=n.row,h=i.widgetManager.getWidgetsAtRow(a).filter(function(t){return"errorMarker"==t.type})[0];h?h.destroy():a-=e;var l,u=o(i,a,e);if(u){var c=u[0];n.column=(c.pos&&"number"!=typeof c.column?c.pos.sc:c.column)||0,n.row=c.row,l=t.renderer.$gutterLayer.$annotations[n.row]}else{if(h)return;l={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(n.row),t.selection.moveToPosition(n);var f={row:n.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},d=f.el.appendChild(s.createElement("div")),p=f.el.appendChild(s.createElement("div"));p.className="error_widget_arrow "+l.className;var g=t.renderer.$cursorLayer.getPixelPosition(n).left;p.style.left=g+t.renderer.gutterWidth-5+"px",f.el.className="error_widget_wrapper",d.className="error_widget "+l.className,d.innerHTML=l.text.join("<br>"),d.appendChild(s.createElement("div"));var m=function(t,e,i){return 0!==e||"esc"!==i&&"return"!==i?void 0:(f.destroy(),{command:"null"})};f.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),i.widgetManager.removeLineWidget(f),t.off("changeSelection",f.destroy),t.off("changeSession",f.destroy),t.off("mouseup",f.destroy),t.off("change",f.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",f.destroy),t.on("changeSession",f.destroy),t.on("mouseup",f.destroy),t.on("change",f.destroy),t.session.widgetManager.addLineWidget(f),f.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:f.el.offsetHeight})},s.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(t,e,i){"use strict";t("./lib/fixoldbrowsers");var n=t("./lib/dom"),o=t("./lib/event"),r=t("./editor").Editor,s=t("./edit_session").EditSession,a=t("./undomanager").UndoManager,h=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.require=t,e.edit=function(t){if("string"==typeof t){var i=t;if(t=document.getElementById(i),!t)throw new Error("ace.edit can't find div #"+i)}if(t&&t.env&&t.env.editor instanceof r)return t.env.editor;var s="";if(t&&/input|textarea/i.test(t.tagName)){var a=t;s=a.value,t=n.createElement("pre"),a.parentNode.replaceChild(t,a)}else t&&(s=n.getInnerText(t),t.innerHTML="");var l=e.createEditSession(s),u=new r(new h(t));u.setSession(l);var c={document:l,editor:u,onResize:u.resize.bind(u,null)};return a&&(c.textarea=a),o.addListener(window,"resize",c.onResize),u.on("destroy",function(){o.removeListener(window,"resize",c.onResize),c.editor.container.env=null}),u.container.env=u.env=c,u},e.createEditSession=function(t,e){var i=new s(t,e);return i.setUndoManager(new a),i},e.EditSession=s,e.UndoManager=a,e.version="1.2.3"}),function(){ace.require(["ace/ace"],function(t){t&&t.config.init(!0),window.ace||(window.ace=t);for(var e in t)t.hasOwnProperty(e)&&(window.ace[e]=t[e])})}(),define("ace/ace",function(){}),ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(t,e,i){"use strict";var n=t("./lib/oop"),o=t("./lib/event_emitter").EventEmitter,r=t("./lib/lang"),s=t("./range").Range,a=t("./anchor").Anchor,h=t("./keyboard/hash_handler").HashHandler,l=t("./tokenizer").Tokenizer,u=s.comparePoints,c=function(){this.snippetMap={},this.snippetNameMap={}};(function(){n.implement(this,o),this.getTokenizer=function(){function t(t,e,i){return t=t.substr(1),/^\d+$/.test(t)&&!i.inFormatString?[{tabstopId:parseInt(t,10)}]:[{text:t}]}function e(t){return"(?:[^\\\\"+t+"]|\\\\.)"}return c.$tokenizer=new l({start:[{regex:/:/,onMatch:function(t,e,i){return i.length&&i[0].expectIf?(i[0].expectIf=!1,i[0].elseBranch=i[0],[i[0]]):":"}},{regex:/\\./,onMatch:function(t,e,i){var n=t[1];return"}"==n&&i.length?t=n:-1!="`$\\".indexOf(n)?t=n:i.inFormatString&&("n"==n?t="\n":"t"==n?t="\n":-1!="ulULE".indexOf(n)&&(t={changeCase:n,local:n>"a"})),[t]}},{regex:/}/,onMatch:function(t,e,i){return[i.length?i.shift():t]}},{regex:/\$(?:\d+|\w+)/,onMatch:t},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,i,n){var o=t(e.substr(1),i,n);return n.unshift(o[0]),o},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(t,e,i){i[0].choices=t.slice(1,-1).split(",")},next:"start"},{regex:"/("+e("/")+"+)/(?:("+e("/")+"*)/)(\\w*):?",onMatch:function(t,e,i){var n=i[0];return n.fmtString=t,t=this.splitRegex.exec(t),n.guard=t[1],n.fmt=t[2],n.flag=t[3],""},next:"start"},{regex:"`"+e("`")+"*`",onMatch:function(t,e,i){return i[0].code=t.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(t,e,i){i[0]&&(i[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+e("/")+"+)/",token:"regex"},{regex:"",onMatch:function(t,e,i){i.inFormatString=!0},next:"start"}]}),c.prototype.getTokenizer=function(){return c.$tokenizer},c.$tokenizer},this.tokenizeTmSnippet=function(t,e){return this.getTokenizer().getLineTokens(t,e).tokens.map(function(t){return t.value||t})},this.$getDefaultValue=function(t,e){if(/^[A-Z]\d+$/.test(e)){var i=e.substr(1);return(this.variables[e[0]+"__"]||{})[i]}if(/^\d+$/.test(e))return(this.variables.__||{})[e];if(e=e.replace(/^TM_/,""),t){var n=t.session;switch(e){case"CURRENT_WORD":var o=n.getWordRange();case"SELECTION":case"SELECTED_TEXT":return n.getTextRange(o);case"CURRENT_LINE":return n.getLine(t.getCursorPosition().row);case"PREV_LINE":return n.getLine(t.getCursorPosition().row-1);case"LINE_INDEX":return t.getCursorPosition().column;case"LINE_NUMBER":return t.getCursorPosition().row+1;case"SOFT_TABS":return n.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return n.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(t,e){return this.variables.hasOwnProperty(e)?this.variables[e](t,e)||"":this.$getDefaultValue(t,e)||""},this.tmStrFormat=function(t,e,i){var n=e.flag||"",o=e.guard;o=new RegExp(o,n.replace(/[^gi]/,""));var r=this.tokenizeTmSnippet(e.fmt,"formatString"),s=this,a=t.replace(o,function(){s.variables.__=arguments;for(var t=s.resolveVariables(r,i),e="E",n=0;n<t.length;n++){var o=t[n];if("object"==typeof o)if(t[n]="",o.changeCase&&o.local){var a=t[n+1];a&&"string"==typeof a&&("u"==o.changeCase?t[n]=a[0].toUpperCase():t[n]=a[0].toLowerCase(),t[n+1]=a.substr(1))}else o.changeCase&&(e=o.changeCase);else"U"==e?t[n]=o.toUpperCase():"L"==e&&(t[n]=o.toLowerCase())}return t.join("")});return this.variables.__=null,a},this.resolveVariables=function(t,e){function i(e){var i=t.indexOf(e,o+1);-1!=i&&(o=i)}for(var n=[],o=0;o<t.length;o++){var r=t[o];if("string"==typeof r)n.push(r);else{if("object"!=typeof r)continue;if(r.skip)i(r);else{if(r.processed<o)continue;if(r.text){var s=this.getVariableValue(e,r.text);s&&r.fmtString&&(s=this.tmStrFormat(s,r)),r.processed=o,null==r.expectIf?s&&(n.push(s),i(r)):s?r.skip=r.elseBranch:i(r)}else null!=r.tabstopId?n.push(r):null!=r.changeCase&&n.push(r)}}}return n},this.insertSnippetForSelection=function(t,e){function i(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if("object"==typeof n){if(l[n.tabstopId])continue;var o=t.lastIndexOf(n,i-1);n=e[o]||{tabstopId:n.tabstopId}}e[i]=n}return e}var n=t.getCursorPosition(),o=t.session.getLine(n.row),r=t.session.getTabString(),s=o.match(/^\s*/)[0];n.column<s.length&&(s=s.slice(0,n.column));var a=this.tokenizeTmSnippet(e);a=this.resolveVariables(a,t),a=a.map(function(t){return"\n"==t?t+s:"string"==typeof t?t.replace(/\t/g,r):t});var h=[];a.forEach(function(t,e){if("object"==typeof t){var i=t.tabstopId,n=h[i];if(n||(n=h[i]=[],n.index=i,n.value=""),-1===n.indexOf(t)){n.push(t);var o=a.indexOf(t,e+1);if(-1!==o){var r=a.slice(e+1,o),s=r.some(function(t){return"object"==typeof t});s&&!n.value?n.value=r:!r.length||n.value&&"string"==typeof n.value||(n.value=r.join(""))}}}}),h.forEach(function(t){t.length=0});for(var l={},u=0;u<a.length;u++){var c=a[u];if("object"==typeof c){var d=c.tabstopId,p=a.indexOf(c,u+1);if(l[d])l[d]===c&&(l[d]=null);else{var g=h[d],m="string"==typeof g.value?[g.value]:i(g.value);m.unshift(u+1,Math.max(0,p-u)),m.push(c),l[d]=c,a.splice.apply(a,m),-1===g.indexOf(c)&&g.push(c)}}}var v=0,y=0,b="";a.forEach(function(t){"string"==typeof t?("\n"===t[0]?(y=t.length-1,v++):y+=t.length,b+=t):t.start?t.end={row:v,column:y}:t.start={row:v,column:y}});var w=t.getSelectionRange(),x=t.session.replace(w,b),C=new f(t),k=t.inVirtualSelectionMode&&t.selection.index;C.addTabstops(h,w.start,x,k)},this.insertSnippet=function(t,e){var i=this;return t.inVirtualSelectionMode?i.insertSnippetForSelection(t,e):(t.forEachSelection(function(){i.insertSnippetForSelection(t,e)},null,{keepOrder:!0}),void(t.tabstopManager&&t.tabstopManager.tabNext()))},this.$getScope=function(t){var e=t.session.$mode.$id||"";if(e=e.split("/").pop(),"html"===e||"php"===e){"php"!==e||t.session.$mode.inlinePhp||(e="html");var i=t.getCursorPosition(),n=t.session.getState(i.row);"object"==typeof n&&(n=n[0]),n.substring&&("js-"==n.substring(0,3)?e="javascript":"css-"==n.substring(0,4)?e="css":"php-"==n.substring(0,4)&&(e="php"))}return e},this.getActiveScopes=function(t){var e=this.$getScope(t),i=[e],n=this.snippetMap;return n[e]&&n[e].includeScopes&&i.push.apply(i,n[e].includeScopes),i.push("_"),i},this.expandWithTab=function(t,e){var i=this,n=t.forEachSelection(function(){return i.expandSnippetForSelection(t,e)},null,{keepOrder:!0});return n&&t.tabstopManager&&t.tabstopManager.tabNext(),n},this.expandSnippetForSelection=function(t,e){var i,n=t.getCursorPosition(),o=t.session.getLine(n.row),r=o.substring(0,n.column),s=o.substr(n.column),a=this.snippetMap;return this.getActiveScopes(t).some(function(t){var e=a[t];return e&&(i=this.findMatchingSnippet(e,r,s)),!!i},this),i?e&&e.dryRun?!0:(t.session.doc.removeInLine(n.row,n.column-i.replaceBefore.length,n.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(t,i.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(t,e,i){for(var n=t.length;n--;){var o=t[n];if((!o.startRe||o.startRe.test(e))&&(!o.endRe||o.endRe.test(i))&&(o.startRe||o.endRe))return o.matchBefore=o.startRe?o.startRe.exec(e):[""],o.matchAfter=o.endRe?o.endRe.exec(i):[""],o.replaceBefore=o.triggerRe?o.triggerRe.exec(e)[0]:"",o.replaceAfter=o.endTriggerRe?o.endTriggerRe.exec(i)[0]:"",o}},this.snippetMap={},this.snippetNameMap={},this.register=function(t,e){function i(t){return t&&!/^\^?\(.*\)\$?$|^\\b$/.test(t)&&(t="(?:"+t+")"),t||""}function n(t,e,n){return t=i(t),e=i(e),n?(t=e+t,t&&"$"!=t[t.length-1]&&(t+="$")):(t+=e,t&&"^"!=t[0]&&(t="^"+t)),new RegExp(t)}function o(t){t.scope||(t.scope=e||"_"),e=t.scope,s[e]||(s[e]=[],a[e]={});var i=a[e];if(t.name){var o=i[t.name];o&&h.unregister(o),i[t.name]=t}s[e].push(t),t.tabTrigger&&!t.trigger&&(!t.guard&&/^\w/.test(t.tabTrigger)&&(t.guard="\\b"),t.trigger=r.escapeRegExp(t.tabTrigger)),(t.trigger||t.guard||t.endTrigger||t.endGuard)&&(t.startRe=n(t.trigger,t.guard,!0),t.triggerRe=new RegExp(t.trigger,"",!0),t.endRe=n(t.endTrigger,t.endGuard,!0),t.endTriggerRe=new RegExp(t.endTrigger,"",!0))}var s=this.snippetMap,a=this.snippetNameMap,h=this;t||(t=[]),t&&t.content?o(t):Array.isArray(t)&&t.forEach(o),this._signal("registerSnippets",{scope:e})},this.unregister=function(t,e){function i(t){var i=o[t.scope||e];if(i&&i[t.name]){delete i[t.name];var r=n[t.scope||e],s=r&&r.indexOf(t);s>=0&&r.splice(s,1)}}var n=this.snippetMap,o=this.snippetNameMap;t.content?i(t):Array.isArray(t)&&t.forEach(i)},this.parseSnippetFile=function(t){t=t.replace(/\r/g,"");for(var e,i=[],n={},o=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;e=o.exec(t);){if(e[1])try{n=JSON.parse(e[1]),i.push(n)}catch(r){}if(e[4])n.content=e[4].replace(/^\t/gm,""),i.push(n),n={};else{var s=e[2],a=e[3];if("regex"==s){var h=/\/((?:[^\/\\]|\\.)*)|$/g;n.guard=h.exec(a)[1],n.trigger=h.exec(a)[1],n.endTrigger=h.exec(a)[1],n.endGuard=h.exec(a)[1]}else"snippet"==s?(n.tabTrigger=a.match(/^\S*/)[0],n.name||(n.name=a)):n[s]=a}}return i},this.getSnippetByName=function(t,e){var i,n=this.snippetNameMap;return this.getActiveScopes(e).some(function(e){var o=n[e];return o&&(i=o[t]),!!i},this),i}}).call(c.prototype);var f=function(t){return t.tabstopManager?t.tabstopManager:(t.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=r.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),void this.attach(t))};(function(){this.attach=function(t){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=t,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(t){var e="r"==t.action[0],i=t.start,n=t.end,o=i.row,r=n.row,s=r-o,a=n.column-i.column;if(e&&(s=-s,a=-a),!this.$inChange&&e){var h=this.selectedTabstop,l=h&&!h.some(function(t){return u(t.start,i)<=0&&u(t.end,n)>=0});if(l)return this.detach();
}for(var c=this.ranges,f=0;f<c.length;f++){var d=c[f];d.end.row<i.row||(e&&u(i,d.start)<0&&u(n,d.end)>0?(this.removeRange(d),f--):(d.start.row==o&&d.start.column>i.column&&(d.start.column+=a),d.end.row==o&&d.end.column>=i.column&&(d.end.column+=a),d.start.row>=o&&(d.start.row+=s),d.end.row>=o&&(d.end.row+=s),u(d.start,d.end)>0&&this.removeRange(d)))}c.length||this.detach()},this.updateLinkedFields=function(){var t=this.selectedTabstop;if(t&&t.hasLinkedRanges){this.$inChange=!0;for(var i=this.editor.session,n=i.getTextRange(t.firstNonLinked),o=t.length;o--;){var r=t[o];if(r.linked){var s=e.snippetManager.tmStrFormat(n,r.original);i.replace(r,s)}}this.$inChange=!1}},this.onAfterExec=function(t){t.command&&!t.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var t=this.editor.selection.lead,e=this.editor.selection.anchor,i=this.editor.selection.isEmpty(),n=this.ranges.length;n--;)if(!this.ranges[n].linked){var o=this.ranges[n].contains(t.row,t.column),r=i||this.ranges[n].contains(e.row,e.column);if(o&&r)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(t){var e=this.tabstops.length,i=this.index+(t||1);i=Math.min(Math.max(i,1),e),i==e&&(i=0),this.selectTabstop(i),0===i&&this.detach()},this.selectTabstop=function(t){this.$openTabstops=null;var e=this.tabstops[this.index];if(e&&this.addTabstopMarkers(e),this.index=t,e=this.tabstops[this.index],e&&e.length){if(this.selectedTabstop=e,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(e.firstNonLinked);else{var i=this.editor.multiSelect;i.toSingleRange(e.firstNonLinked.clone());for(var n=e.length;n--;)e.hasLinkedRanges&&e[n].linked||i.addRange(e[n].clone(),!0);i.ranges[0]&&i.addRange(i.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(t,e,i){if(this.$openTabstops||(this.$openTabstops=[]),!t[0]){var n=s.fromPoints(i,i);g(n.start,e),g(n.end,e),t[0]=[n],t[0].index=0}var o=this.index,r=[o+1,0],a=this.ranges;t.forEach(function(t,i){for(var n=this.$openTabstops[i]||t,o=t.length;o--;){var h=t[o],l=s.fromPoints(h.start,h.end||h.start);p(l.start,e),p(l.end,e),l.original=h,l.tabstop=n,a.push(l),n!=t?n.unshift(l):n[o]=l,h.fmtString?(l.linked=!0,n.hasLinkedRanges=!0):n.firstNonLinked||(n.firstNonLinked=l)}n.firstNonLinked||(n.hasLinkedRanges=!1),n===t&&(r.push(n),this.$openTabstops[i]=n),this.addTabstopMarkers(n)},this),r.length>2&&(this.tabstops.length&&r.push(r.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,r))},this.addTabstopMarkers=function(t){var e=this.editor.session;t.forEach(function(t){t.markerId||(t.markerId=e.addMarker(t,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(t){var e=this.editor.session;t.forEach(function(t){e.removeMarker(t.markerId),t.markerId=null})},this.removeRange=function(t){var e=t.tabstop.indexOf(t);t.tabstop.splice(e,1),e=this.ranges.indexOf(t),this.ranges.splice(e,1),this.editor.session.removeMarker(t.markerId),t.tabstop.length||(e=this.tabstops.indexOf(t.tabstop),-1!=e&&this.tabstops.splice(e,1),this.tabstops.length||this.detach())},this.keyboardHandler=new h,this.keyboardHandler.bindKeys({Tab:function(t){e.snippetManager&&e.snippetManager.expandWithTab(t)||t.tabstopManager.tabNext(1)},"Shift-Tab":function(t){t.tabstopManager.tabNext(-1)},Esc:function(t){t.tabstopManager.detach()},Return:function(t){return!1}})}).call(f.prototype);var d={};d.onChange=a.prototype.onChange,d.setPosition=function(t,e){this.pos.row=t,this.pos.column=e},d.update=function(t,e,i){this.$insertRight=i,this.pos=t,this.onChange(e)};var p=function(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row},g=function(t,e){t.row==e.row&&(t.column-=e.column),t.row-=e.row};t("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),e.snippetManager=new c;var m=t("./editor").Editor;(function(){this.insertSnippet=function(t,i){return e.snippetManager.insertSnippet(this,t,i)},this.expandSnippet=function(t){return e.snippetManager.expandWithTab(this,t)}}).call(m.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(t,e,i){"use strict";var n=t("../virtual_renderer").VirtualRenderer,o=t("../editor").Editor,r=t("../range").Range,s=t("../lib/event"),a=t("../lib/lang"),h=t("../lib/dom"),l=function(t){var e=new n(t);e.$maxLines=4;var i=new o(e);return i.setHighlightActiveLine(!1),i.setShowPrintMargin(!1),i.renderer.setShowGutter(!1),i.renderer.setHighlightGutterLine(!1),i.$mouseHandler.$focusWaitTimout=0,i.$highlightTagPending=!0,i},u=function(t){var e=h.createElement("div"),i=new l(e);t&&t.appendChild(e),e.style.display="none",i.renderer.content.style.cursor="default",i.renderer.setStyle("ace_autocomplete"),i.setOption("displayIndentGuides",!1),i.setOption("dragDelay",150);var n=function(){};i.focus=n,i.$isFocused=!0,i.renderer.$cursorLayer.restartTimer=n,i.renderer.$cursorLayer.element.style.opacity=0,i.renderer.$maxLines=8,i.renderer.$keepTextAreaAtCursor=!1,i.setHighlightActiveLine(!1),i.session.highlight(""),i.session.$searchHighlight.clazz="ace_highlight-marker",i.on("mousedown",function(t){var e=t.getDocumentPosition();i.selection.moveToPosition(e),c.start.row=c.end.row=e.row,t.stop()});var o,u=new r(-1,0,-1,1/0),c=new r(-1,0,-1,1/0);c.id=i.session.addMarker(c,"ace_active-line","fullLine"),i.setSelectOnHover=function(t){t?u.id&&(i.session.removeMarker(u.id),u.id=null):u.id=i.session.addMarker(u,"ace_line-hover","fullLine")},i.setSelectOnHover(!1),i.on("mousemove",function(t){if(!o)return void(o=t);if(o.x!=t.x||o.y!=t.y){o=t,o.scrollTop=i.renderer.scrollTop;var e=o.getDocumentPosition().row;u.start.row!=e&&(u.id||i.setRow(e),d(e))}}),i.renderer.on("beforeRender",function(){if(o&&-1!=u.start.row){o.$pos=null;var t=o.getDocumentPosition().row;u.id||i.setRow(t),d(t,!0)}}),i.renderer.on("afterRender",function(){var t=i.getRow(),e=i.renderer.$textLayer,n=e.element.childNodes[t-e.config.firstRow];n!=e.selectedNode&&(e.selectedNode&&h.removeCssClass(e.selectedNode,"ace_selected"),e.selectedNode=n,n&&h.addCssClass(n,"ace_selected"))});var f=function(){d(-1)},d=function(t,e){t!==u.start.row&&(u.start.row=u.end.row=t,e||i.session._emit("changeBackMarker"),i._emit("changeHoverMarker"))};i.getHoveredRow=function(){return u.start.row},s.addListener(i.container,"mouseout",f),i.on("hide",f),i.on("changeSelection",f),i.session.doc.getLength=function(){return i.data.length},i.session.doc.getLine=function(t){var e=i.data[t];return"string"==typeof e?e:e&&e.value||""};var p=i.session.bgTokenizer;return p.$tokenizeRow=function(t){var e=i.data[t],n=[];if(!e)return n;"string"==typeof e&&(e={value:e}),e.caption||(e.caption=e.value||e.name);for(var o,r,s=-1,a=0;a<e.caption.length;a++)r=e.caption[a],o=e.matchMask&1<<a?1:0,s!==o?(n.push({type:e.className||""+(o?"completion-highlight":""),value:r}),s=o):n[n.length-1].value+=r;if(e.meta){var h=i.renderer.$size.scrollerWidth/i.renderer.layerConfig.characterWidth,l=e.meta;l.length+e.caption.length>h-2&&(l=l.substr(0,h-e.caption.length-3)+""),n.push({type:"rightAlignedText",value:l})}return n},p.$updateOnChange=n,p.start=n,i.session.$computeWidth=function(){return this.screenWidth=0},i.$blockScrolling=1/0,i.isOpen=!1,i.isTopdown=!1,i.data=[],i.setData=function(t){i.setValue(a.stringRepeat("\n",t.length),-1),i.data=t||[],i.setRow(0)},i.getData=function(t){return i.data[t]},i.getRow=function(){return c.start.row},i.setRow=function(t){t=Math.max(0,Math.min(this.data.length,t)),c.start.row!=t&&(i.selection.clearSelection(),c.start.row=c.end.row=t||0,i.session._emit("changeBackMarker"),i.moveCursorTo(t||0,0),i.isOpen&&i._signal("select"))},i.on("changeSelection",function(){i.isOpen&&i.setRow(i.selection.lead.row),i.renderer.scrollCursorIntoView()}),i.hide=function(){this.container.style.display="none",this._signal("hide"),i.isOpen=!1},i.show=function(t,e,n){var r=this.container,s=window.innerHeight,a=window.innerWidth,h=this.renderer,l=h.$maxLines*e*1.4,u=t.top+this.$borderSize,c=u>s/2&&!n;c&&u+e+l>s?(h.$maxPixelHeight=u-2*this.$borderSize,r.style.top="",r.style.bottom=s-u+"px",i.isTopdown=!1):(u+=e,h.$maxPixelHeight=s-u-.2*e,r.style.top=u+"px",r.style.bottom="",i.isTopdown=!0),r.style.display="",this.renderer.$textLayer.checkForSizeChanges();var f=t.left;f+r.offsetWidth>a&&(f=a-r.offsetWidth),r.style.left=f+"px",this._signal("show"),o=null,i.isOpen=!0},i.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},i.$imageSize=0,i.$borderSize=1,i};h.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),e.AcePopup=u}),ace.define("ace/autocomplete/util",["require","exports","module"],function(t,e,i){"use strict";e.parForEach=function(t,e,i){var n=0,o=t.length;0===o&&i();for(var r=0;o>r;r++)e(t[r],function(t,e){n++,n===o&&i(t,e)})};var n=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;e.retrievePrecedingIdentifier=function(t,e,i){i=i||n;for(var o=[],r=e-1;r>=0&&i.test(t[r]);r--)o.push(t[r]);return o.reverse().join("")},e.retrieveFollowingIdentifier=function(t,e,i){i=i||n;for(var o=[],r=e;r<t.length&&i.test(t[r]);r++)o.push(t[r]);return o},e.getCompletionPrefix=function(t){var e,i=t.getCursorPosition(),n=t.session.getLine(i.row);return t.completers.forEach(function(t){t.identifierRegexps&&t.identifierRegexps.forEach(function(t){!e&&t&&(e=this.retrievePrecedingIdentifier(n,i.column,t))}.bind(this))}.bind(this)),e||this.retrievePrecedingIdentifier(n,i.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(t,e,i){"use strict";var n=t("./keyboard/hash_handler").HashHandler,o=t("./autocomplete/popup").AcePopup,r=t("./autocomplete/util"),s=(t("./lib/event"),t("./lib/lang")),a=t("./lib/dom"),h=t("./snippets").snippetManager,l=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new n,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=s.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new o(document.body||document.documentElement),this.popup.on("click",function(t){this.insertMatch(),t.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(t,e,i){this.popup||this.$init(),this.popup.setData(this.completions.filtered),t.keyBinding.addKeyboardHandler(this.keyboardHandler);var n=t.renderer;if(this.popup.setRow(this.autoSelect?0:-1),i)i&&!e&&this.detach();else{this.popup.setTheme(t.getTheme()),this.popup.setFontSize(t.getFontSize());var o=n.layerConfig.lineHeight,r=n.$cursorLayer.getPixelPosition(this.base,!0);r.left-=this.popup.getTextLeftOffset();var s=t.container.getBoundingClientRect();r.top+=s.top-n.layerConfig.offset,r.left+=s.left-t.renderer.scrollLeft,r.left+=n.gutterWidth,this.popup.show(r,o)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(t){var e=this.editor.selection.lead;(e.row!=this.base.row||e.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(t){var e=document.activeElement,i=this.editor.textInput.getElement(),n=t.relatedTarget&&t.relatedTarget==this.tooltipNode,o=this.popup&&this.popup.container;e==i||e.parentNode==o||n||e==this.tooltipNode||t.relatedTarget==i||this.detach()},this.mousedownListener=function(t){this.detach()},this.mousewheelListener=function(t){this.detach()},this.goTo=function(t){var e=this.popup.getRow(),i=this.popup.session.getLength()-1;switch(t){case"up":e=0>=e?i:e-1;break;case"down":e=e>=i?-1:e+1;break;case"start":e=0;break;case"end":e=i}this.popup.setRow(e)},this.insertMatch=function(t,e){if(t||(t=this.popup.getData(this.popup.getRow())),!t)return!1;if(t.completer&&t.completer.insertMatch)t.completer.insertMatch(this.editor,t);else{if(this.completions.filterText)for(var i,n=this.editor.selection.getAllRanges(),o=0;i=n[o];o++)i.start.column-=this.completions.filterText.length,this.editor.session.remove(i);t.snippet?h.insertSnippet(this.editor,t.snippet):this.editor.execCommand("insertstring",t.value||t)}this.detach()},this.commands={Up:function(t){t.completer.goTo("up")},Down:function(t){t.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(t){t.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(t){t.completer.goTo("end")},Esc:function(t){t.completer.detach()},Return:function(t){return t.completer.insertMatch()},"Shift-Return":function(t){t.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(t){var e=t.completer.insertMatch();return e||t.tabstopManager?e:void t.completer.goTo("down")},PageUp:function(t){t.completer.popup.gotoPageUp()},PageDown:function(t){t.completer.popup.gotoPageDown()}},this.gatherCompletions=function(t,e){var i=t.getSession(),n=t.getCursorPosition(),o=(i.getLine(n.row),r.getCompletionPrefix(t));this.base=i.doc.createAnchor(n.row,n.column-o.length),this.base.$insertRight=!0;var s=[],a=t.completers.length;return t.completers.forEach(function(r,h){r.getCompletions(t,i,n,o,function(n,r){!n&&r&&(s=s.concat(r));var h=t.getCursorPosition();i.getLine(h.row);e(null,{prefix:o,matches:s,finished:0===--a})})}),!0},this.showPopup=function(t){this.editor&&this.detach(),this.activated=!0,this.editor=t,t.completer!=this&&(t.completer&&t.completer.detach(),t.completer=this),t.on("changeSelection",this.changeListener),t.on("blur",this.blurListener),t.on("mousedown",this.mousedownListener),t.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(t){if(t&&this.base&&this.completions){var e=this.editor.getCursorPosition(),i=this.editor.session.getTextRange({start:this.base,end:e});if(i==this.completions.filterText)return;return this.completions.setFilter(i),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=i||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,i,t):this.detach()}var n=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(e,i){var o=function(){return i.finished?this.detach():void 0}.bind(this),r=i.prefix,s=i&&i.matches;if(!s||!s.length)return o();if(0===r.indexOf(i.prefix)&&n==this.gatherCompletionsId){this.completions=new u(s),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(r);var a=this.completions.filtered;return a.length&&(1!=a.length||a[0].value!=r||a[0].snippet)?this.autoInsert&&1==a.length&&i.finished?this.insertMatch(a[0]):void this.openPopup(this.editor,r,t):o()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var t=this.popup,e=t.data,i=e&&(e[t.getHoveredRow()]||e[t.getRow()]),n=null;return i&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(t){return t.getDocTooltip&&(n=t.getDocTooltip(i)),n}),n||(n=i),"string"==typeof n&&(n={docText:n}),n&&(n.docHTML||n.docText)?void this.showDocTooltip(n):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(t){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this));var e=this.tooltipNode;t.docHTML?e.innerHTML=t.docHTML:t.docText&&(e.textContent=t.docText),e.parentNode||document.body.appendChild(e);var i=this.popup,n=i.container.getBoundingClientRect();e.style.top=i.container.style.top,e.style.bottom=i.container.style.bottom,window.innerWidth-n.right<320?(e.style.right=window.innerWidth-n.left+"px",e.style.left=""):(e.style.left=n.right+1+"px",e.style.right=""),e.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var t=this.tooltipNode;this.editor.isFocused()||document.activeElement!=t||this.editor.focus(),this.tooltipNode=null,t.parentNode&&t.parentNode.removeChild(t)}}}).call(l.prototype),l.startCommand={name:"startAutocomplete",exec:function(t){t.completer||(t.completer=new l),t.completer.autoInsert=!1,t.completer.autoSelect=!0,t.completer.showPopup(t),t.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var u=function(t,e){this.all=t,this.filtered=t,this.filterText=e||"",this.exactMatch=!1};(function(){this.setFilter=function(t){if(t.length>this.filterText&&0===t.lastIndexOf(this.filterText,0))var e=this.filtered;else var e=this.all;this.filterText=t,e=this.filterCompletions(e,this.filterText),e=e.sort(function(t,e){return e.exactMatch-t.exactMatch||e.score-t.score});var i=null;e=e.filter(function(t){var e=t.snippet||t.caption||t.value;return e===i?!1:(i=e,!0)}),this.filtered=e},this.filterCompletions=function(t,e){var i=[],n=e.toUpperCase(),o=e.toLowerCase();t:for(var r,s=0;r=t[s];s++){var a=r.value||r.caption||r.snippet;if(a){var h,l,u=-1,c=0,f=0;if(this.exactMatch){if(e!==a.substr(0,e.length))continue t}else for(var d=0;d<e.length;d++){var p=a.indexOf(o[d],u+1),g=a.indexOf(n[d],u+1);if(h=p>=0&&(0>g||g>p)?p:g,0>h)continue t;l=h-u-1,l>0&&(-1===u&&(f+=10),f+=l),c|=1<<h,u=h}r.matchMask=c,r.exactMatch=f?0:1,r.score=(r.score||0)-f,i.push(r)}}return i}}).call(u.prototype),e.Autocomplete=l,e.FilteredList=u}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(t,e,i){function n(t,e){var i=t.getTextRange(r.fromPoints({row:0,column:0},e));return i.split(s).length-1}function o(t,e){var i=n(t,e),o=t.getValue().split(s),r=Object.create(null),a=o[i];return o.forEach(function(t,e){if(t&&t!==a){var n=Math.abs(i-e),s=o.length-n;r[t]?r[t]=Math.max(s,r[t]):r[t]=s}}),r}var r=t("../range").Range,s=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;e.getCompletions=function(t,e,i,n,r){var s=o(e,i,n),a=Object.keys(s);r(null,a.map(function(t){return{caption:t,value:t,score:s[t],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(t,e,i){"use strict";var n=t("../snippets").snippetManager,o=t("../autocomplete").Autocomplete,r=t("../config"),s=t("../lib/lang"),a=t("../autocomplete/util"),h=t("../autocomplete/text_completer"),l={getCompletions:function(t,e,i,n,o){if(e.$mode.completer)return e.$mode.completer.getCompletions(t,e,i,n,o);var r=t.session.getState(i.row),s=e.$mode.getCompletions(r,e,i,n);o(null,s)}},u={getCompletions:function(t,e,i,o,r){var s=n.snippetMap,a=[];n.getActiveScopes(t).forEach(function(t){for(var e=s[t]||[],i=e.length;i--;){var n=e[i],o=n.name||n.tabTrigger;o&&a.push({caption:o,snippet:n.content,meta:n.tabTrigger&&!n.name?n.tabTrigger+" ":"snippet",type:"snippet"})}},this),r(null,a)},getDocTooltip:function(t){"snippet"!=t.type||t.docHTML||(t.docHTML=["<b>",s.escapeHTML(t.caption),"</b>","<hr></hr>",s.escapeHTML(t.snippet)].join(""))}},c=[u,h,l];e.setCompleters=function(t){c.length=0,t&&c.push.apply(c,t)},e.addCompleter=function(t){c.push(t)},e.textCompleter=h,e.keyWordCompleter=l,e.snippetCompleter=u;var f={name:"expandSnippet",exec:function(t){return n.expandWithTab(t)},bindKey:"Tab"},d=function(t,e){p(e.session.$mode)},p=function(t){var e=t.$id;n.files||(n.files={}),g(e),t.modes&&t.modes.forEach(p)},g=function(t){if(t&&!n.files[t]){var e=t.replace("mode","snippets");n.files[t]={},r.loadModule(e,function(e){e&&(n.files[t]=e,!e.snippets&&e.snippetText&&(e.snippets=n.parseSnippetFile(e.snippetText)),n.register(e.snippets||[],e.scope),e.includeScopes&&(n.snippetMap[e.scope].includeScopes=e.includeScopes,e.includeScopes.forEach(function(t){g("ace/mode/"+t)})))})}},m=function(t){var e=t.editor,i=e.completer&&e.completer.activated;if("backspace"===t.command.name)i&&!a.getCompletionPrefix(e)&&e.completer.detach();else if("insertstring"===t.command.name){var n=a.getCompletionPrefix(e);n&&!i&&(e.completer||(e.completer=new o),e.completer.autoInsert=!1,e.completer.showPopup(e))}},v=t("../editor").Editor;t("../config").defineOptions(v.prototype,"editor",{enableBasicAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:c),this.commands.addCommand(o.startCommand)):this.commands.removeCommand(o.startCommand)},value:!1},enableLiveAutocompletion:{set:function(t){t?(this.completers||(this.completers=Array.isArray(t)?t:c),this.commands.on("afterExec",m)):this.commands.removeListener("afterExec",m)},value:!1},enableSnippets:{set:function(t){t?(this.commands.addCommand(f),this.on("changeMode",d),d(null,this)):(this.commands.removeCommand(f),this.off("changeMode",d))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(){})}(),define("ace/ext-language_tools",["./ace"],function(){}),ace.define("ace/theme/default",["require","exports","module","ace/lib/dom"],function(t,e,i){e.isdefault=!0,e.cssClass="ace-default",e.cssText=".ace-default .ace_gutter {background: #435162;color: white}.ace-default .ace_print-margin {width: 1px;background: #555651}.ace-default {background-color: #F4F6FA;color: #515151}.ace-default .ace_cursor {color: #515151}.ace-default .ace_marker-layer .ace_selection {background-color: rgba(142, 190, 252, 0.2)}.ace-default.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #534F59;}.ace-default .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-default .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-default .ace_marker-layer .ace_active-line {background: #cbced3}.ace-default .ace_gutter-active-line {background-color: transparent;}.ace-default .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-default .ace_invisible {color: #52524d}.ace-default .ace_entity.ace_name.ace_tag,.ace-default .ace_keyword,.ace-default .ace_meta.ace_tag,.ace-default .ace_storage {color: #FF5252}.ace-default .ace_punctuation,.ace-default .ace_punctuation.ace_tag {color: #515151}.ace-default .ace_constant.ace_character,.ace-default .ace_constant.ace_language {color: #AE81FF}.ace-default .ace_constant.ace_other {color: #12a9df;}.ace-default .ace_constant.ace_numeric{color: #b12aeb;}.ace-default .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-default .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-default .ace_support.ace_constant,.ace-default .ace_support.ace_function {color: #ffa24d}.ace-default .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-default .ace_storage.ace_type,.ace-default .ace_support.ace_class,.ace-default .ace_support.ace_type {color: #12a9df}.ace-default .ace_entity.ace_name.ace_function,.ace-default .ace_entity.ace_other,.ace-default .ace_entity.ace_other.ace_attribute-name,.ace-default .ace_variable {color: #A6E22E}.ace-default .ace_variable.ace_parameter {color: #FD971F}.ace-default .ace_string {color: #C07E45;}.ace-default .ace_comment {color: #999}.ace-default .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}.ace_gutter-cell {	padding-left: 19px;}.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #8592a4;}.ace_editor.ace_autocomplete .ace_line.ace_selected {    color: white;}.ace_editor.ace_autocomplete {	border: none;}.ace_editor.ace_autocomplete .ace_completion-highlight {    color: #12a9df;    text-shadow: none;}.ace_editor.ace_autocomplete .ace_selected .ace_completion-highlight {  color: #42d3fb;}.ace_editor.ace_autocomplete .ace_line-hover {    border: none;    margin-top: 0;    background: #dfeafa;}.ace_rightAlignedText {    display: none;}.ace_scrollbar.ace_scrollbar-v::-webkit-scrollbar-track {  -webkit-box-shadow: none;  background-color: #DFE1E5;}.ace_scrollbar.ace_scrollbar-v::-webkit-scrollbar {  background-color: #DFE1E5;}.ace_scrollbar.ace_scrollbar-v::-webkit-scrollbar-thumb {  background-color: #BABCBE;}.ace_scrollbar.ace_scrollbar-h::-webkit-scrollbar-track {  -webkit-box-shadow: none;  background-color: #DFE1E5;}.ace_scrollbar.ace_scrollbar-h::-webkit-scrollbar {  background-color: #DFE1E5;}.ace_scrollbar.ace_scrollbar-h::-webkit-scrollbar-thumb {  background-color: #BABCBE;}";var n=t("../lib/dom");n.importCssString(e.cssText,e.cssClass)}),define("ace/theme-default",function(){}),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e,i){var n=t("../lib/oop"),o=t("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},r.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};n.inherits(r,o),r.getTagRule=function(t){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},r.getStartRule=function(t){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:t}},r.getEndRule=function(t){return{token:"comment.doc",regex:"\\*\\/",next:t}},e.DocCommentHighlightRules=r}),ace.define("ace/mode/arduino_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,e,i){var n=t("../lib/oop"),o=t("./doc_comment_highlight_rules").DocCommentHighlightRules,r=t("./text_highlight_rules").TextHighlightRules,s=e.cFunctions="\\b(?:hypot(?:f|l)?|s(?:scanf|ystem|nprintf|ca(?:nf|lb(?:n(?:f|l)?|ln(?:f|l)?))|i(?:n(?:h(?:f|l)?|f|l)?|gn(?:al|bit))|tr(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?)|error|pbrk|ftime|len|rchr|xfrm)|printf|et(?:jmp|vbuf|locale|buf)|qrt(?:f|l)?|w(?:scanf|printf)|rand)|n(?:e(?:arbyint(?:f|l)?|xt(?:toward(?:f|l)?|after(?:f|l)?))|an(?:f|l)?)|c(?:s(?:in(?:h(?:f|l)?|f|l)?|qrt(?:f|l)?)|cos(?:h(?:f)?|f|l)?|imag(?:f|l)?|t(?:ime|an(?:h(?:f|l)?|f|l)?)|o(?:s(?:h(?:f|l)?|f|l)?|nj(?:f|l)?|pysign(?:f|l)?)|p(?:ow(?:f|l)?|roj(?:f|l)?)|e(?:il(?:f|l)?|xp(?:f|l)?)|l(?:o(?:ck|g(?:f|l)?)|earerr)|a(?:sin(?:h(?:f|l)?|f|l)?|cos(?:h(?:f|l)?|f|l)?|tan(?:h(?:f|l)?|f|l)?|lloc|rg(?:f|l)?|bs(?:f|l)?)|real(?:f|l)?|brt(?:f|l)?)|t(?:ime|o(?:upper|lower)|an(?:h(?:f|l)?|f|l)?|runc(?:f|l)?|gamma(?:f|l)?|mp(?:nam|file))|i(?:s(?:space|n(?:ormal|an)|cntrl|inf|digit|u(?:nordered|pper)|p(?:unct|rint)|finite|w(?:space|c(?:ntrl|type)|digit|upper|p(?:unct|rint)|lower|al(?:num|pha)|graph|xdigit|blank)|l(?:ower|ess(?:equal|greater)?)|al(?:num|pha)|gr(?:eater(?:equal)?|aph)|xdigit|blank)|logb(?:f|l)?|max(?:div|abs))|di(?:v|fftime)|_Exit|unget(?:c|wc)|p(?:ow(?:f|l)?|ut(?:s|c(?:har)?|wc(?:har)?)|error|rintf)|e(?:rf(?:c(?:f|l)?|f|l)?|x(?:it|p(?:2(?:f|l)?|f|l|m1(?:f|l)?)?))|v(?:s(?:scanf|nprintf|canf|printf|w(?:scanf|printf))|printf|f(?:scanf|printf|w(?:scanf|printf))|w(?:scanf|printf)|a_(?:start|copy|end|arg))|qsort|f(?:s(?:canf|e(?:tpos|ek))|close|tell|open|dim(?:f|l)?|p(?:classify|ut(?:s|c|w(?:s|c))|rintf)|e(?:holdexcept|set(?:e(?:nv|xceptflag)|round)|clearexcept|testexcept|of|updateenv|r(?:aiseexcept|ror)|get(?:e(?:nv|xceptflag)|round))|flush|w(?:scanf|ide|printf|rite)|loor(?:f|l)?|abs(?:f|l)?|get(?:s|c|pos|w(?:s|c))|re(?:open|e|ad|xp(?:f|l)?)|m(?:in(?:f|l)?|od(?:f|l)?|a(?:f|l|x(?:f|l)?)?))|l(?:d(?:iv|exp(?:f|l)?)|o(?:ngjmp|cal(?:time|econv)|g(?:1(?:p(?:f|l)?|0(?:f|l)?)|2(?:f|l)?|f|l|b(?:f|l)?)?)|abs|l(?:div|abs|r(?:int(?:f|l)?|ound(?:f|l)?))|r(?:int(?:f|l)?|ound(?:f|l)?)|gamma(?:f|l)?)|w(?:scanf|c(?:s(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?|mbs)|pbrk|ftime|len|r(?:chr|tombs)|xfrm)|to(?:b|mb)|rtomb)|printf|mem(?:set|c(?:hr|py|mp)|move))|a(?:s(?:sert|ctime|in(?:h(?:f|l)?|f|l)?)|cos(?:h(?:f|l)?|f|l)?|t(?:o(?:i|f|l(?:l)?)|exit|an(?:h(?:f|l)?|2(?:f|l)?|f|l)?)|b(?:s|ort))|g(?:et(?:s|c(?:har)?|env|wc(?:har)?)|mtime)|r(?:int(?:f|l)?|ound(?:f|l)?|e(?:name|alloc|wind|m(?:ove|quo(?:f|l)?|ainder(?:f|l)?))|a(?:nd|ise))|b(?:search|towc)|m(?:odf(?:f|l)?|em(?:set|c(?:hr|py|mp)|move)|ktime|alloc|b(?:s(?:init|towcs|rtowcs)|towc|len|r(?:towc|len))))\\b",a=function(){var t="pinMode|digitalWrite|digitalRead|analogReference|analogRead|analogWrite|tone|noTone|shiftOut|shiftIn|pulseIn|millis|micros|delay|delayMicroseconds|min|max|constrain|map|pow|exp|ldexp|signbit|square|trunc|degrees|hypot|radians|randomSeed|random|lowByte|highByte|bitRead|bitWrite|bitSet|bitClear|attachInterrupt|detachInterrupt|interrupts|noInterrupts",e="word|bit",i="INPUT|OUTPUT|HIGH|LOW",n="break|case|continue|default|do|else|for|goto|if|_Pragma|return|switch|while|catch|operator|try|throw|using",r="asm|__asm__|auto|bool|_Bool|char|_Complex|double|enum|float|_Imaginary|int|long|short|signed|struct|typedef|union|unsigned|void|class|wchar_t|template|char16_t|char32_t",a="const|extern|register|restrict|static|volatile|inline|private|protected|public|friend|explicit|virtual|export|mutable|typename|constexpr|new|delete|alignas|alignof|decltype|noexcept|thread_local",h="and|and_eq|bitand|bitor|compl|not|not_eq|or|or_eq|typeid|xor|xor_eqconst_cast|dynamic_cast|reinterpret_cast|static_cast|sizeof|namespace",l="NULL|true|false|TRUE|FALSE|nullptr",u=this.$keywords=this.createKeywordMapper({"support.function.arduino":t,"storage.type.arduino":e,"constant.other.arduino":i,"keyword.control":n,"storage.type":r,"storage.modifier":a,"keyword.operator":h,"variable.language":"this","constant.language":l},"identifier"),c=/\\(?:['"?\\abfnrtv]|[0-7]{1,3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}U[a-fA-F\d]{8}|.)/.source;this.$rules={start:[{token:"comment",regex:"//$",next:"start"},{token:"comment",regex:"//",next:"singleLineComment"},o.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:"'(?:"+c+"|.)'"},{token:"string.start",regex:'"',stateName:"qqstring",next:[{token:"string",regex:/\\\s*$/,next:"qqstring"},{token:"constant.language.escape",regex:c},{token:"constant.language.escape",
regex:/%[^'"\\]/},{token:"string.end",regex:'"|$',next:"start"},{defaultToken:"string"}]},{token:"string.start",regex:'R"\\(',stateName:"rawString",next:[{token:"string.end",regex:'\\)"',next:"start"},{defaultToken:"string"}]},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"},{token:"keyword",regex:"#\\s*(?:include|import|pragma|line|define|undef)\\b",next:"directive"},{token:"keyword",regex:"#\\s*(?:endif|if|ifdef|else|elif|ifndef)\\b"},{token:"support.function.C99.c",regex:s},{token:u,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|==|=|!=|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|new|delete|typeof|void)"},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:".*?\\*\\/",next:"start"},{token:"comment",regex:".+"}],singleLineComment:[{token:"comment",regex:/\\$/,next:"singleLineComment"},{token:"comment",regex:/$/,next:"start"},{defaultToken:"comment"}],directive:[{token:"constant.other.multiline",regex:/\\/},{token:"constant.other.multiline",regex:/.*\\/},{token:"constant.other",regex:"\\s*<.+?>",next:"start"},{token:"constant.other",regex:'\\s*["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',next:"start"},{token:"constant.other",regex:"\\s*['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",next:"start"},{token:"constant.other",regex:/[^\\\/]+/,next:"start"}]},this.embedRules(o,"doc-",[o.getEndRule("start")]),this.normalizeRules()};n.inherits(a,r),e.arduinoHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,e,i){var n=t("../range").Range,o=function(){};(function(){this.checkOutdent=function(t,e){return/^\s+$/.test(t)?/^\s*\}/.test(e):!1},this.autoOutdent=function(t,e){var i=t.getLine(e),o=i.match(/^(\s*\})/);if(!o)return 0;var r=o[1].length,s=t.findMatchingBracket({row:e,column:r});if(!s||s.row==e)return 0;var a=this.$getIndent(t.getLine(s.row));t.replace(new n(e,0,e,r-1),a)},this.$getIndent=function(t){return t.match(/^\s*/)[0]}}).call(o.prototype),e.MatchingBraceOutdent=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e,i){var n,o=t("../../lib/oop"),r=t("../behaviour").Behaviour,s=t("../../token_iterator").TokenIterator,a=t("../../lib/lang"),h=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],u={},c=function(t){var e=-1;return t.multiSelect&&(e=t.selection.index,u.rangeCount!=t.multiSelect.rangeCount&&(u={rangeCount:t.multiSelect.rangeCount})),u[e]?n=u[e]:void(n=u[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},f=function(t,e,i,n){var o=t.end.row-t.start.row;return{text:i+e+n,selection:[0,t.start.column+1,o,t.end.column+(o?0:1)]}},d=function(){this.add("braces","insertion",function(t,e,i,o,r){var s=i.getCursorPosition(),h=o.doc.getLine(s.row);if("{"==r){c(i);var l=i.getSelectionRange(),u=o.doc.getTextRange(l);if(""!==u&&"{"!==u&&i.getWrapBehavioursEnabled())return f(l,u,"{","}");if(d.isSaneInsertion(i,o))return/[\]\}\)]/.test(h[s.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,o,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,o,"{"),{text:"{",selection:[1,1]})}else if("}"==r){c(i);var p=h.substring(s.column,s.column+1);if("}"==p){var g=o.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&d.isAutoInsertedClosing(s,h,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==r||"\r\n"==r){c(i);var m="";d.isMaybeInsertedClosing(s,h)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var p=h.substring(s.column,s.column+1);if("}"===p){var v=o.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!v)return null;var y=this.$getIndent(o.getLine(v.row))}else{if(!m)return void d.clearMaybeInsertedClosing();var y=this.$getIndent(h)}var b=y+o.getTabString();return{text:"\n"+b+"\n"+y+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(t,e,i,o,r){var s=o.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){c(i);var a=o.doc.getLine(r.start.row),h=a.substring(r.end.column,r.end.column+1);if("}"==h)return r.end.column++,r;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(t,e,i,n,o){if("("==o){c(i);var r=i.getSelectionRange(),s=n.doc.getTextRange(r);if(""!==s&&i.getWrapBehavioursEnabled())return f(r,s,"(",")");if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==o){c(i);var a=i.getCursorPosition(),h=n.doc.getLine(a.row),l=h.substring(a.column,a.column+1);if(")"==l){var u=n.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,h,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(t,e,i,n,o){var r=n.doc.getTextRange(o);if(!o.isMultiLine()&&"("==r){c(i);var s=n.doc.getLine(o.start.row),a=s.substring(o.start.column+1,o.start.column+2);if(")"==a)return o.end.column++,o}}),this.add("brackets","insertion",function(t,e,i,n,o){if("["==o){c(i);var r=i.getSelectionRange(),s=n.doc.getTextRange(r);if(""!==s&&i.getWrapBehavioursEnabled())return f(r,s,"[","]");if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){c(i);var a=i.getCursorPosition(),h=n.doc.getLine(a.row),l=h.substring(a.column,a.column+1);if("]"==l){var u=n.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,h,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(t,e,i,n,o){var r=n.doc.getTextRange(o);if(!o.isMultiLine()&&"["==r){c(i);var s=n.doc.getLine(o.start.row),a=s.substring(o.start.column+1,o.start.column+2);if("]"==a)return o.end.column++,o}}),this.add("string_dquotes","insertion",function(t,e,i,n,o){if('"'==o||"'"==o){c(i);var r=o,s=i.getSelectionRange(),a=n.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&i.getWrapBehavioursEnabled())return f(s,a,r,r);if(!a){var h=i.getCursorPosition(),l=n.doc.getLine(h.row),u=l.substring(h.column-1,h.column),d=l.substring(h.column,h.column+1),p=n.getTokenAt(h.row,h.column),g=n.getTokenAt(h.row,h.column+1);if("\\"==u&&p&&/escape/.test(p.type))return null;var m,v=p&&/string|escape/.test(p.type),y=!g||/string|escape/.test(g.type);if(d==r)m=v!==y;else{if(v&&!y)return null;if(v&&y)return null;var b=n.$mode.tokenRe;b.lastIndex=0;var w=b.test(u);b.lastIndex=0;var x=b.test(u);if(w||x)return null;if(d&&!/[\s;,.})\]\\]/.test(d))return null;m=!0}return{text:m?r+r:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(t,e,i,n,o){var r=n.doc.getTextRange(o);if(!o.isMultiLine()&&('"'==r||"'"==r)){c(i);var s=n.doc.getLine(o.start.row),a=s.substring(o.start.column+1,o.start.column+2);if(a==r)return o.end.column++,o}})};d.isSaneInsertion=function(t,e){var i=t.getCursorPosition(),n=new s(e,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",h)){var o=new s(e,i.row,i.column+1);if(!this.$matchTokenType(o.getCurrentToken()||"text",h))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",l)},d.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},d.recordAutoInsert=function(t,e,i){var o=t.getCursorPosition(),r=e.doc.getLine(o.row);this.isAutoInsertedClosing(o,r,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=o.row,n.autoInsertedLineEnd=i+r.substr(o.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(t,e,i){var o=t.getCursorPosition(),r=e.doc.getLine(o.row);this.isMaybeInsertedClosing(o,r)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=o.row,n.maybeInsertedLineStart=r.substr(0,o.column)+i,n.maybeInsertedLineEnd=r.substr(o.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(t,e,i){return n.autoInsertedBrackets>0&&t.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&e.substr(t.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(t,e){return n.maybeInsertedBrackets>0&&t.row===n.maybeInsertedRow&&e.substr(t.column)===n.maybeInsertedLineEnd&&e.substr(0,t.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},o.inherits(d,r),e.CstyleBehaviour=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,e,i){var n=t("../../lib/oop"),o=t("../../range").Range,r=t("./fold_mode").FoldMode,s=e.FoldMode=function(t){t&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+t.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+t.end)))};n.inherits(s,r),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(t,e,i){var n=t.getLine(i);if(this.singleLineBlockCommentRe.test(n)&&!this.startRegionRe.test(n)&&!this.tripleStarBlockCommentRe.test(n))return"";var o=this._getFoldWidgetBase(t,e,i);return!o&&this.startRegionRe.test(n)?"start":o},this.getFoldWidgetRange=function(t,e,i,n){var o=t.getLine(i);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(t,o,i);var r=o.match(this.foldingStartMarker);if(r){var s=r.index;if(r[1])return this.openingBracketBlock(t,r[1],i,s);var a=t.getCommentFoldRange(i,s+r[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(t,i):"all"!=e&&(a=null)),a}if("markbegin"!==e){var r=o.match(this.foldingStopMarker);if(r){var s=r.index+r[0].length;return r[1]?this.closingBracketBlock(t,r[1],i,s):t.getCommentFoldRange(i,s,-1)}}},this.getSectionRange=function(t,e){var i=t.getLine(e),n=i.search(/\S/),r=e,s=i.length;e+=1;for(var a=e,h=t.getLength();++e<h;){i=t.getLine(e);var l=i.search(/\S/);if(-1!==l){if(n>l)break;var u=this.getFoldWidgetRange(t,"all",e);if(u){if(u.start.row<=r)break;if(u.isMultiLine())e=u.end.row;else if(n==l)break}a=e}}return new o(r,s,a,t.getLine(a).length)},this.getCommentRegionBlock=function(t,e,i){for(var n=e.search(/\s*$/),r=t.getLength(),s=i,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,h=1;++i<r;){e=t.getLine(i);var l=a.exec(e);if(l&&(l[1]?h--:h++,!h))break}var u=i;return u>s?new o(s,n,u,e.length):void 0}}.call(s.prototype)}),ace.define("ace/mode/arduino",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/arduino_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(t,e,i){var n=t("../lib/oop"),o=t("./text").Mode,r=t("./arduino_highlight_rules").arduinoHighlightRules,s=t("./matching_brace_outdent").MatchingBraceOutdent,a=(t("../range").Range,t("./behaviour/cstyle").CstyleBehaviour),h=t("./folding/cstyle").FoldMode,l=function(){this.HighlightRules=r,this.$outdent=new s,this.$behaviour=new a,this.foldingRules=new h};n.inherits(l,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(t,e,i){var n=this.$getIndent(e),o=this.getTokenizer().getLineTokens(e,t),r=o.tokens,s=o.state;if(r.length&&"comment"==r[r.length-1].type)return n;if("start"==t){var a=e.match(/^.*[\{\(\[]\s*$/);a&&(n+=i)}else if("doc-start"==t){if("start"==s)return"";var a=e.match(/^\s*(\/?)\*/);a&&(a[1]&&(n+=" "),n+="* ")}return n},this.checkOutdent=function(t,e,i){return this.$outdent.checkOutdent(e,i)},this.autoOutdent=function(t,e,i){this.$outdent.autoOutdent(e,i)},this.$id="ace/mode/arduino"}.call(l.prototype),e.Mode=l}),define("ace/mode-arduino",function(){}),ace.define("ace/snippets/text",["require","exports","module"],function(t,e,i){e.snippetText=void 0,e.scope="text"}),define("ace/snippets/text",function(){}),ace.define("ace/snippets/arduino",["require","exports","module"],function(t,e,i){e.snippetText="## STL Collections\n# std::array\nsnippet array\n	std::array<${1:T}, ${2:N}> ${3};${4}\n# std::vector\nsnippet vector\n	std::vector<${1:T}> ${2};${3}\n# std::deque\nsnippet deque\n	std::deque<${1:T}> ${2};${3}\n# std::forward_list\nsnippet flist\n	std::forward_list<${1:T}> ${2};${3}\n# std::list\nsnippet list\n	std::list<${1:T}> ${2};${3}\n# std::set\nsnippet set\n	std::set<${1:T}> ${2};${3}\n# std::map\nsnippet map\n	std::map<${1:Key}, ${2:T}> ${3};${4}\n# std::multiset\nsnippet mset\n	std::multiset<${1:T}> ${2};${3}\n# std::multimap\nsnippet mmap\n	std::multimap<${1:Key}, ${2:T}> ${3};${4}\n# std::unordered_set\nsnippet uset\n	std::unordered_set<${1:T}> ${2};${3}\n# std::unordered_map\nsnippet umap\n	std::unordered_map<${1:Key}, ${2:T}> ${3};${4}\n# std::unordered_multiset\nsnippet umset\n	std::unordered_multiset<${1:T}> ${2};${3}\n# std::unordered_multimap\nsnippet ummap\n	std::unordered_multimap<${1:Key}, ${2:T}> ${3};${4}\n# std::stack\nsnippet stack\n	std::stack<${1:T}> ${2};${3}\n# std::queue\nsnippet queue\n	std::queue<${1:T}> ${2};${3}\n# std::priority_queue\nsnippet pqueue\n	std::priority_queue<${1:T}> ${2};${3}\n##\n## Access Modifiers\n# private\nsnippet pri\n	private\n# protected\nsnippet pro\n	protected\n# public\nsnippet pub\n	public\n# friend\nsnippet fr\n	friend\n# mutable\nsnippet mu\n	mutable\n## \n## Class\n# class\nsnippet cl\n	class ${1:`Filename('$1', 'name')`} \n	{\n	public:\n		$1(${2});\n		~$1();\n\n	private:\n		${3:/* data */}\n	};\n# member function implementation\nsnippet mfun\n	${4:void} ${1:`Filename('$1', 'ClassName')`}::${2:memberFunction}(${3}) {\n		${5:/* code */}\n	}\n# namespace\nsnippet ns\n	namespace ${1:`Filename('', 'my')`} {\n		${2}\n	} /* namespace $1 */\n##\n## Input/Output\n# std::cout\nsnippet cout\n	std::cout << ${1} << std::endl;${2}\n# std::cin\nsnippet cin\n	std::cin >> ${1};${2}\n##\n## Iteration\n# for i \nsnippet fori\n	for (int ${2:i} = 0; $2 < ${1:count}; $2${3:++}) {\n		${4:/* code */}\n	}${5}\n\n# foreach\nsnippet fore\n	for (${1:auto} ${2:i} : ${3:container}) {\n		${4:/* code */}\n	}${5}\n# iterator\nsnippet iter\n	for (${1:std::vector}<${2:type}>::${3:const_iterator} ${4:i} = ${5:container}.begin(); $4 != $5.end(); ++$4) {\n		${6}\n	}${7}\n\n# auto iterator\nsnippet itera\n	for (auto ${1:i} = $1.begin(); $1 != $1.end(); ++$1) {\n		${2:std::cout << *$1 << std::endl;}\n	}${3}\n##\n## Lambdas\n# lamda (one line)\nsnippet ld\n	[${1}](${2}){${3:/* code */}}${4}\n# lambda (multi-line)\nsnippet lld\n	[${1}](${2}){\n		${3:/* code */}\n	}${4}\n",e.scope="arduino"}),define("ace/snippets/arduino",function(){});